<?xml version="1.0" encoding="UTF-8"?>
<blocks>
  <block id="34e1f7eb303c0a150cd440611b3b5e24" category="doc">儲存組態選項</block>
  <block id="51f834b47bcd78a0f4f40fd8ca40446f" category="section-title">全域組態選項</block>
  <block id="054b4f3ea543c990f6b125f41af6ebf7" category="cell">選項</block>
  <block id="b5a7adde1af5c87d7fd797b6245c2a39" category="cell">說明</block>
  <block id="0a52730597fb4ffa01fc117d9e71e3a9" category="cell">範例</block>
  <block id="7877022c956918624cc0373ff564cad4" category="cell">「分度」</block>
  <block id="d41d8cd98f00b204e9800998ecf8427e" category="doc"></block>
  <block id="63b276a6c28274ed5e553d4ce3fe7eb1" category="paragraph">組態檔版本編號</block>
  <block id="868dff7060d78b6417dc8e065eca8374" category="cell">「torageDriverName」</block>
  <block id="ac5eb8fcbd1ed9c85a98d91e10e26a38" category="paragraph">儲存驅動程式名稱</block>
  <block id="c08068da3c5d19547544c4bd424a6b76" category="cell">「toragePrefix」</block>
  <block id="91590ee78f1b4751284f4f9ea80cfe86" category="cell">《限制Volume大小》</block>
  <block id="0863f9e97e159e3ea1ce46bdb49b1254" category="paragraph">您可以使用預設選項、避免在每個建立的Volume上指定這些選項。「最小化」選項適用於所有控制器類型。如ONTAP 需如何設定預設Volume大小的範例、請參閱「功能區組態」一節。</block>
  <block id="a48a8458539e489328f4d6d3fc0ee288" category="cell">《大小》</block>
  <block id="0353522b39b87d54d40d3f09ec668851" category="section-title">組態ONTAP</block>
  <block id="cd536bce1bed61366e8d17a85fe6678a" category="paragraph">除了上述全域組態值之外、使用ONTAP 時還提供下列頂層選項。</block>
  <block id="07c54fe26be1e43601e99cd9d4fbe262" category="cell">《馬納格門達利》</block>
  <block id="464779f3491153dd1e79ddbd8a81e3f0" category="paragraph">IP位址ONTAP ：您可以指定完整網域名稱（FQDN）。</block>
  <block id="bd81db53971fda3e688447b28c747d1a" category="cell">「DataLIF」</block>
  <block id="afc423de2be5ca5ab3a6ae9548bbfcf3" category="cell">《虛擬機器》</block>
  <block id="11053eb2b6ac6e8802c67c054cf55ad9" category="paragraph">要使用的儲存虛擬機器（如果管理LIF是叢集LIF、則為必要）</block>
  <block id="6d77646a2fd9ab65f8e3344d7dce661a" category="cell">《使用者名稱》</block>
  <block id="723a179bbb9fc3c4f12cf296a8841b27" category="paragraph">連線至儲存設備的使用者名稱</block>
  <block id="6aa91a7fbb8c9edcf4aa5f9411aec19c" category="cell">密碼</block>
  <block id="8cf10281cf3b9290d5988c57a7d19693" category="paragraph">連線至儲存設備的密碼</block>
  <block id="7e6d207f2b120c6cc9caa98510aa51c6" category="cell">《Aggregate》</block>
  <block id="12d2394af47293b12d6b5f411f99a6d1" category="cell">「限制Aggregateusage」</block>
  <block id="925060a0c0a15f99ef1bee43f1660ea4" category="paragraph">如果使用率高於此百分比、則可選用、失敗的資源配置</block>
  <block id="2b45af5c768d7b2495ef631c991ecd78" category="cell">「nfsMountOptions」</block>
  <block id="876885770cf58d20ef5672cc5594e85d" category="inline-link">請參閱此處的NFS主機組態資訊</block>
  <block id="3b890f58db76bb3003ada171cd18c4db" category="cell">「igroupName」</block>
  <block id="07f6b23cad3d6da54012935ff972affe" category="cell">"qtreesPerFlexvol"</block>
  <block id="3890063556e337d458019437f027030b" category="paragraph">您可以使用預設選項、避免在您建立的每個Volume上指定這些選項：</block>
  <block id="a6bddf19eed00dbe2199864dee8454ce" category="cell">《保護區》</block>
  <block id="0ec3875cf79264e4689a646be2f704b6" category="cell">「快照原則」</block>
  <block id="7556d5a1b0c5f68b7cb5aedaa3156008" category="cell">「快照保留區」</block>
  <block id="4be01095ce6e500084fc427e5dec61ac" category="cell">「PlitOnClone」</block>
  <block id="68934a3e9455fa72420237eb05902327" category="paragraph">錯</block>
  <block id="b091cbafedf94db98f17823d044434bd" category="cell">加密</block>
  <block id="b326b5062b2f0e69046810717534cb09" category="paragraph">是的</block>
  <block id="ce46e8f3fc6eaddbe03115e0d62090ac" category="cell">「unixPermissions」</block>
  <block id="ce8f82152151ae2aadaec166eca744a9" category="cell">「napshotDir</block>
  <block id="e59001176f4360988f5d774a8405b4b9" category="cell">「匯出政策」</block>
  <block id="a463baaf6666da7178b6fc6a3c8a3fee" category="cell">《生態樣式》</block>
  <block id="3184b1a9846944fabb00496c4b6b613a" category="cell">「fileSystemType」</block>
  <block id="31aa018945eb62580d68d360cba8ba54" category="cell">「分層政策」</block>
  <block id="90adf331b7868c7af46ad6e035e93844" category="section-title">擴充選項</block>
  <block id="b8f30e4086b754ccaf7bd5d01d8df137" category="paragraph">如果您需要的Docker磁碟區數量超過FlexVol 了《支援》的範圍、請選擇「ONTAP - NAS經濟」或「ONTAP - SAN經濟」驅動程式。</block>
  <block id="9d83b6d2e2b099e63bf8e2fc8c870893" category="list-text">需要ONTAP 9.2版或更新版本。</block>
  <block id="e7c74973b26ad51b9db42a9c347a8cd4" category="list-text">截至本文撰寫時、FlexGroups僅支援NFS v3。</block>
  <block id="02a100b04add3b90fddef64499e825a2" category="list-text">建議啟用SVM的64位元NFSv3識別碼。</block>
  <block id="0c0f6724044ed44fb85d2ce3193cb7c3" category="section-title">範例ONTAP ：功能組態檔</block>
  <block id="ffe54c343031d16e77db73e2d950e277" category="section-title">元件軟體組態</block>
  <block id="3afcd136a7bffa20fc39ba6581412cd2" category="paragraph">除了全域組態值之外、使用Element軟體（NetApp HCI / SolidFire）時、也可使用這些選項。</block>
  <block id="06981b2729b4b522b21d903c7738a2ca" category="cell">端點</block>
  <block id="955f5caa2495689258902533d1a6cd44" category="cell">《VIP》</block>
  <block id="c61f15977fe4efa0866eea87fb740cda" category="paragraph">iSCSI IP位址和連接埠</block>
  <block id="6a6b63874c664c103982f6d422c6384e" category="paragraph">10.0.0.7：3260</block>
  <block id="4e25fe4a614b527d9b3d89ee6abe5d35" category="cell">《天王名稱》</block>
  <block id="72deb2676231ab8e068ef60dd89edd4c" category="paragraph">要使用的SolidFireF租戶（如果找不到、請建立）</block>
  <block id="f016e2c01f2bafa45e6b537d49f0f9da" category="cell">《初始器IFACE》</block>
  <block id="d2672389886b173aef703433f7e4b89b" category="paragraph">將iSCSI流量限制為非預設介面時、請指定介面</block>
  <block id="26194deaf50c44db6eb5983237bdaf25" category="cell">《類型》</block>
  <block id="ee1aea1de97320ad8e98436f68b01b4a" category="paragraph">QoS規格</block>
  <block id="5935dcd024929bc7086bb230802bf576" category="paragraph">請參閱以下範例</block>
  <block id="5e9bf55f849ccc5a31a50d1fa784d28c" category="cell">"LegacyNamePrefix（名前置詞）"</block>
  <block id="36f9c7b615268efec7f4c56c387a55bb" category="paragraph">「Poolidfire - san」驅動程式不支援Docker swarm。</block>
  <block id="1059bb8540c48e6b455e802384bad65d" category="section-title">元素軟體組態檔範例</block>
  <block id="6c92285fa6d3e827b198d120ea3ac674" category="inline-link">請按這裡</block>
  <block id="c96383270cbab23de47b4f0961f64929" category="cell">「ProjectNumber」</block>
  <block id="a34d72a685d5e27eb6bc18f54a7bab1d" category="cell">「apiKey」</block>
  <block id="0322003a3502f221fdb74b059dfff46e" category="cell">《服務層級》</block>
  <block id="1631dca111b8c1a922c7f29d48eb7121" category="cell">網路</block>
  <block id="9c64942fe493cb70c474ff447429d8a4" category="cell">「匯出規則」</block>
  <block id="7450cfde7058dc5e1f7909d0280fd7ae" category="inline-link">Azure NetApp Files</block>
  <block id="b12fb354025b3dfa01277964eb72c060" category="inline-link">應用程式註冊</block>
  <block id="f494e4df0fff53e809d6563f8ec1782f" category="inline-link">委派的子網路</block>
  <block id="7a1920d61156abc05a60135aefe8bc67" category="cell">預設</block>
  <block id="40e27006e7b709772172391a3d17b331" category="paragraph">永遠為1</block>
  <block id="f5b55596d3f53b1857a4980dac9db979" category="cell">「後端名稱」</block>
  <block id="665120e71659a6a32f990a3181688d1b" category="cell">《訂閱ID》</block>
  <block id="e07778d10cef90430253876cba7157e4" category="cell">「TenantId」</block>
  <block id="949ba1045db0d48bd189044e672d8097" category="cell">"clientID"</block>
  <block id="56ef18e84ab36c2bdc4546e6a2756673" category="cell">「客戶機密」</block>
  <block id="fc7dd5b65d21ee7272a067c9404a8498" category="cell">位置</block>
  <block id="32ef1af5ccda7c2f6d85e55f5034f105" category="cell">「虛擬化網路」</block>
  <block id="10afd0959cfa4a53bce9c8d395c40c48" category="paragraph">具有委派子網路的虛擬網路名稱</block>
  <block id="ec045173f4df65e5e8951c3ca9579945" category="cell">《Subnet》</block>
  <block id="0b8deda0ecc5080e8c0ed0b475e983ba" category="paragraph">委派給「icrosoft.Netapp/volumes`」的子網路名稱</block>
  <block id="18320b2a705a7bed37a6bc0af4aee093" category="paragraph">如果要求的磁碟區大小高於此值、則資源配置失敗</block>
  <block id="e5ac299cc3b14e1fac29518569ca9bb1" category="paragraph">新磁碟區的預設大小</block>
  <block id="a83f4a534ccef7ac1d209fb0015cd907" category="paragraph">此後端組態可進一步將磁碟區放置範圍縮小至單一子網路、並修改部分Volume資源配置預設值。</block>
  <block id="89bcbd8e4ba49b7310e9fa748e878c4b" category="inline-link-macro">部署的先決條件</block>
  <block id="88f0ab229fa9d759d74fcf6ab7cc17b1" category="section-title">Docker託管外掛程式方法（1.1/17.03版及更新版本）</block>
  <block id="135b308ed83c53f1516b7c754566d1c4" category="admonition-title">開始之前</block>
  <block id="7bf1ee8f4e093050c1cdf1842931af7d" category="list-text">停止所有執行中的執行個體：</block>
  <block id="47b9ec5c8c4439980c63f4188bad5324" category="list-text">重新啟動Docker。</block>
  <block id="5311ac4d72d5c91dcaa39b896d3b8027" category="list-text">請確定您已安裝Docker Engine 17.03（全新1.13）或更新版本。</block>
  <block id="07d6db5e99a0aa19fe76f15efed30ecf" category="inline-link">安裝或更新安裝</block>
  <block id="2c3bc9d0632e0cccc05fdd3c42467df9" category="paragraph">如果您的版本過時、<block ref="ddebe10ca17c0276898872fa2632e8fb" category="inline-link-rx"></block>。</block>
  <block id="f3a29486bed19a90f2da6d007818b427" category="list-title">步驟</block>
  <block id="48afbcf494fc19ee409f5aff48ae32c3" category="list-text">建立組態檔並指定下列選項：</block>
  <block id="9314e9bcd24c80b255fc3e9e697a2ada" category="list-text">「config」：預設檔案名稱為「config.json」、但您可以使用任何名稱、只要在檔案名稱中指定「config」選項即可。組態檔必須位於主機系統的「/etc/netappdvp」目錄中。</block>
  <block id="8798dc2a3b5e61873054923c9f170ac7" category="list-text">記錄層級：指定記錄層級（「debug」、「info」、「warn」、「f誤差」、「fatal」）。預設值為「資訊」。</block>
  <block id="45ed67026a1141006588fcc698646141" category="list-text">「Debug」：指定是否啟用偵錯記錄。預設值為假。如果為true、則會置換記錄層級。</block>
  <block id="3bed6f89999b483af7f55024d9e7c02a" category="list-text">建立組態檔的位置：</block>
  <block id="28156615c51d4bad2ee47d0a9f43f404" category="list-text">建立組態檔：</block>
  <block id="a9c521f25a3bacb94ad1dd4705b3585f" category="list-text">建立名為「firstVolume」的Volume：</block>
  <block id="4fbca4f67cbe96bc7d7a16691d2912c2" category="list-text">在容器啟動時建立預設Volume：</block>
  <block id="b8e88709dbc4f2f80a96f53f83862704" category="list-text">移除Volume「firstVolume」：</block>
  <block id="0e68ac1d84bfedf203365a9fb37db9ed" category="section-title">傳統方法（1.12版或更早版本）</block>
  <block id="2c1107bda4c1ae7904ab1835c35973b7" category="list-text">請確定您擁有Docker 1.10版或更新版本。</block>
  <block id="b6fdfa2eab3e357687eba5ddec2bea0c" category="paragraph">如果您的版本已過時、請更新安裝。</block>
  <block id="45c61654258cfd16ceec15df7df02138" category="inline-link">請依照您的經銷指示進行</block>
  <block id="07dff22faeb910f375341cfcbd4899fd" category="paragraph">或者、<block ref="9ce989a7f7f995616a47f5dd291ed229" category="inline-link-rx"></block>。</block>
  <block id="588d2fe1c60271cde75dbeba32e0b25b" category="list-text">確保已為您的系統設定NFS和/或iSCSI。</block>
  <block id="03fe5b0d58270efa87041677cac72ad7" category="list-text">安裝及設定NetApp Docker Volume外掛程式：</block>
  <block id="f45f5a64dae951d3e37c9bd382201b06" category="list-text">下載並解壓縮應用程式：</block>
  <block id="b255d9e06a4ca8e9f5bc31c9198426ad" category="list-text">移至Bin路徑中的位置：</block>
  <block id="e3dec3f86b9a3b1be209ab63855ce432" category="list-text">建立Volume：</block>
  <block id="5ff2e3e853922fdb84ef21b85ffdac2e" category="list-text">在啟動容器時配置Docker Volume：</block>
  <block id="8f6a91f5f21d0478e3fd89095fc28ab9" category="list-text">移除Docker Volume：</block>
  <block id="5b51496da86e5a2073e0c618390c3d2a" category="list-text">將檔案複製到正確的位置。</block>
  <block id="44103de0a164f687d305ad91e919d8ee" category="paragraph">如果執行多個執行個體、則應使用單元檔案的唯一名稱。</block>
  <block id="3223aadc84a3ccb4a3473ba01c895184" category="list-text">編輯檔案、變更說明（第2行）以符合驅動程式名稱和組態檔案路徑（第9行）、以反映您的環境。</block>
  <block id="1edae3931401a32d7dd7dd6e0a2ad563" category="list-text">重新載入系統d以擷取變更：</block>
  <block id="db38a93e27eba57d507611d002ad612f" category="list-text">啟用服務。</block>
  <block id="c7e0a4deeebe264aa7d5f7f3ca3ef77f" category="paragraph">此名稱會根據您在「/r/lib/systemd/system]目錄中命名的檔案而有所不同。</block>
  <block id="baa04490a79e9e8de7fa4cd44e2c6fbb" category="list-text">啟動服務。</block>
  <block id="93c7574cf83c1f01b04891cf2d826cea" category="list-text">檢視狀態。</block>
  <block id="f4f15418284ae7a01b27fccc1af0463a" category="admonition">每當您修改單元檔案時、請執行「stystemctl daem-reload」命令、以瞭解變更內容。</block>
  <block id="0e9e734e557a02db30a20e5ac259cfb9" category="summary">每個儲存驅動程式都有一組不同的選項、您可以在建立磁碟區時指定、以自訂結果。請參閱下方、以瞭解適用於您所設定儲存系統的選項。</block>
  <block id="11e1b165c1d718d825f4bb9aaf0b884e" category="doc">驅動程式專屬的Volume選項</block>
  <block id="bca0712c590c8d3c228bf1044aed730b" category="paragraph">在磁碟區建立作業期間使用這些選項非常簡單。在CLI操作期間、使用「-o」運算子來提供選項和值。這會覆寫Json組態檔中的任何等效值。</block>
  <block id="6021d91bdededf94b8ae37c30e820118" category="section-title">選購的選購配備ONTAP</block>
  <block id="d3a07c97b6050b305c7dda0aea1657be" category="paragraph">Volume的大小、預設為1 GiB。</block>
  <block id="69e8c7b4f73d39cea9948875813f7ddd" category="paragraph">精簡或完整配置磁碟區、預設為精簡。有效值為「NONE」（精簡配置）和「Volume」（完整配置）。</block>
  <block id="b8a0fde33bd7662b7b9cb4158f04ef52" category="paragraph">這會將快照保留設定為所需的百分比。預設值為無值、表示ONTAP 如果您已選取snapshotPolicy、將選取snapshotReserve（通常為5%）、如果snapshotPolicy為無、則選取0%。您可以在組態檔中為所有ONTAP 的支援項目設定預設的snapshotReserve值、也可以將其用作所有ONTAP 不支援ONTAP-NAS-經濟功能的支援項目、作為所有支援項目的磁碟區建立選項。</block>
  <block id="cdaf246fba737b75127faa65456baa30" category="paragraph">設定要用於磁碟區的分層原則。這會決定資料在非作用中（冷）時是否移至雲端層。</block>
  <block id="1c46d85ab16f6b373409ad15260b1b0a" category="paragraph">下列其他選項適用於NFS * Only *：</block>
  <block id="b145a4acc7a577d843f538580013776b" category="paragraph">這會控制Volume本身的權限設定。依預設、權限會設為「-rwxr-x-x'」、或是以數字表示法0755、而「root」則是擁有者。文字或數字格式皆可運作。</block>
  <block id="700d608597316c75fc869190f51cff49" category="paragraph">設定要用於磁碟區的匯出原則。預設值為「預設」。</block>
  <block id="6b068a846d408b1d9ccd2c7220326b9d" category="paragraph">設定用於存取磁碟區的安全樣式。預設值為「UNIX」。有效值為「UNIX」和「mixed」。</block>
  <block id="842aac52866a44b40a5733ce352cf6df" category="paragraph">下列其他選項僅適用於iSCSI *：</block>
  <block id="56efcdcb9168adcb146b4d86bf55e99d" category="cell">設定用於設定iSCSI磁碟區格式的檔案系統。預設值為「ext4」。有效值包括「ext3」、「ext4」和「xfs」。</block>
  <block id="a0ee23c5b4cbd6a28a4143933891f927" category="cell">"paceAllocate（配置）"</block>
  <block id="ff7c0fcd6a31e735a61c001f75426961" category="section-title">範例</block>
  <block id="9e6d454a094b92b0132e48d2369debf5" category="paragraph">請參閱下列範例：</block>
  <block id="297d0d2fcc555e5037c8d251daf5a620" category="list-text">建立已啟用setuid位元的磁碟區：</block>
  <block id="8c05fd71822bf85c290cef86db959f68" category="list-text">建立沒有快照原則且無快照保留的磁碟區：</block>
  <block id="d15d662af6e4417b0b7c134a84ed577c" category="list-text">建立不含快照原則的磁碟區、以及自訂快照保留10%的磁碟區：</block>
  <block id="52a56a468f11c3298931c8e32c938e15" category="list-text">建立具有快照原則和10%自訂快照保留的磁碟區：</block>
  <block id="f6f813eaaff2b296a27b6bf051485d2b" category="section-title">Element軟體Volume選項</block>
  <block id="a514753df071ac540af065b659d1c65c" category="paragraph">元素軟體選項會顯示與磁碟區相關的服務品質（QoS）原則大小和品質。建立磁碟區時、會使用「-o type =service_level」命名法來指定與其相關的QoS原則。</block>
  <block id="f201e088f13d93e3d12b3c0ef78dece3" category="paragraph">使用元素驅動程式定義QoS服務層級的第一步、是建立至少一種類型、並在組態檔中指定與名稱相關的最小、最大和尖峰IOPS。</block>
  <block id="5cb7e4a4b6a51af0b5b09cb230b83422" category="paragraph">其他元素軟體磁碟區建立選項包括：</block>
  <block id="d52146098b8ecd83b888289a86e26d19" category="cell">「區塊大小」</block>
  <block id="348ef18ccca06aa29547bd9ad87beebe" category="paragraph">使用512或4096、預設為512或組態項目預設BlockSizes。</block>
  <block id="1daf1c12549d6d3ae75c4d8d5f59d532" category="paragraph">請參閱下列QoS定義範例組態檔：</block>
  <block id="7afe0c73e341cee7c90b4d4dda4600d9" category="paragraph">在上述組態中、我們有三種原則定義：銅級、銀級和金級。這些名稱為任意名稱。</block>
  <block id="feabbbf9b5afb31194daf0d8e3ff75dc" category="doc">使用Volume</block>
  <block id="dc88dce8ec264777b2f90ec0af744f43" category="section-title">建立Volume</block>
  <block id="a32b09b1335e0afbb640a9412690680d" category="list-text">使用預設名稱建立具有驅動程式的磁碟區：</block>
  <block id="93da65a9fd0004d9477aeac024e08e15" category="inline-link-macro">選項</block>
  <block id="593e5c95e1adc19e8d81719c16b57bc1" category="admonition">如果您未指定任何 <block ref="3a0a40f90bfa29e0eb23418c553e5ef5" category="inline-link-macro-rx"></block>，將使用驅動程式的預設值。</block>
  <block id="5149eec9d959a54cf392efaa710541d1" category="admonition">Volume大小以包含整數值的字串表示、並提供選用單位（例如：10g、20GB、3TiB）。如果未指定單位、則預設值為G大小單位可以表示為2（B、KiB、mib、GiB、TiB）或10（B、KB、MB、GB、TB）的冪。簡寫單元使用2（G = GiB、T = TiB、…）的權力。</block>
  <block id="9bc129eac7adf7ea5d8ed1c021fab2dc" category="section-title">移除Volume</block>
  <block id="281a0f40363a276c6ec125244c784112" category="list-text">移除Volume就像移除任何其他Docker Volume一樣：</block>
  <block id="7959e3701f7a7fba7713c7530d496324" category="admonition">使用「Poolidfire - san」驅動程式時、上述範例會刪除及清除磁碟區。</block>
  <block id="d50044469c0bf9ab38eff9cf7243fb25" category="section-title">複製磁碟區</block>
  <block id="9374b766b9dd78063440afd69afabf38" category="list-text">檢查磁碟區以列舉快照：</block>
  <block id="2747096689037792fa87de7a0e8440e2" category="list-text">從現有的Volume建立新的Volume。這將會產生新的快照：</block>
  <block id="31d9b5ed201aa44dbeae6d17d38c0c6f" category="list-text">從磁碟區上現有的快照建立新磁碟區。這不會建立新的快照：</block>
  <block id="516b30a46da41c6969cb7249d6567905" category="section-title">存取外部建立的磁碟區</block>
  <block id="f683581d3e75f05f9d9215f9b4696cef" category="section-title">升級</block>
  <block id="ed279061e829314cb0dc7a1708ca5e5b" category="list-text">列出現有的磁碟區：</block>
  <block id="7c256ad076320e18e087b238e9063f3f" category="list-text">停用外掛程式：</block>
  <block id="f4ea3e4191f5bda0b91e08059bf9842a" category="list-text">升級外掛程式：</block>
  <block id="824ba648551a27da6c43705bcd663830" category="list-text">啟用外掛程式：</block>
  <block id="e4c48899ce42f4eb019f54a1a8e66560" category="list-text">確認外掛程式已啟用：</block>
  <block id="c4d884c606b57bb6cb43864e3499d5a2" category="list-text">確認磁碟區可見：</block>
  <block id="558ab0bef1894a7a726109d36632d09d" category="inline-link-macro">已知問題</block>
  <block id="a27dfe771799a09fd55fea73286eb6ab" category="section-title">解除安裝</block>
  <block id="867d93c3d1de0e8e75fa408cfadcbba5" category="list-text">移除外掛程式所建立的任何磁碟區。</block>
  <block id="4a28a108f39c07ac09218644ca6e9bb0" category="list-text">移除外掛程式：</block>
  <block id="782bd8949cb40c80fd3f3126eccab35a" category="doc">部署的先決條件</block>
  <block id="b4851e92b19af0c5c82447fc0937709d" category="inline-link-macro">需求</block>
  <block id="d46ecc35447a8c17ef014ff6daf07bba" category="inline-link">安裝或更新</block>
  <block id="1035fa0ac2c3ed19f6ba56cafe7e121f" category="list-text">確認您安裝的Docker版本受支援。如果您的Docker版本過時、<block ref="0b011811ae105895ca4da9769d7e6f99" category="inline-link-rx"></block>。</block>
  <block id="888a77f5ac0748b6c8001822417df8b6" category="cell">傳輸協定</block>
  <block id="c441ee50c88f6e5e3a7c69fc69dad8b8" category="cell">命令</block>
  <block id="1d1a594959ec615f56516f5d0f5e8ddb" category="cell">NFS</block>
  <block id="e4e1c13bb0b14f6cb7608cbecea948ef" category="cell">iSCSI</block>
  <block id="8cd5b262d8d9950185128d052d55f7c8" category="list-text">安裝下列系統套件：</block>
  <block id="8018f5d6ddc4e67678d1659757828deb" category="list-text">啟用並啟動「iSCSI」：</block>
  <block id="d0b02d407fd5c75d0e7eac549a852191" category="list-text">啟用多重路徑：</block>
  <block id="8bec0eea71974a9138ccfa96983ddcfc" category="list-text">確保運行的是"iscsid"和"multipathd"：</block>
  <block id="4cfa22b281cbd36e1a275d61ec23a9b4" category="summary">您可以收集記錄以協助疑難排解。收集記錄的方法會因執行Docker外掛程式的方式而有所不同。</block>
  <block id="fe1786b49549e8e06a89b9c57d7fc514" category="doc">收集記錄</block>
  <block id="c28722abec5c1daefa02916119bbff91" category="list-text">若要啟用除錯記錄、請安裝已啟用除錯記錄的外掛程式：</block>
  <block id="b142025dd533fb27bf7df1a93c55e311" category="paragraph">或者、當外掛程式已安裝時、請啟用偵錯記錄功能：</block>
  <block id="2aa0797ce5da04d1c6f027c9b3276483" category="section-title">一般疑難排解秘訣</block>
  <block id="94d799ff06bdb0aedb7b64151dac73d7" category="list-text">新使用者最常遇到的問題是組態錯誤、導致外掛程式無法初始化。發生這種情況時、當您嘗試安裝或啟用外掛程式時、可能會看到如下訊息：</block>
  <block id="fe6b4529e706ebc0f7e3668d3230d029" category="paragraph">「精靈的錯誤回應：請撥打UNIX /run / dock/plugins/&lt;id&gt;/NetApp.sock：Connect：沒有這類檔案或目錄」</block>
  <block id="3d924bd43304301ed127cbbd303a4fa6" category="paragraph">這表示外掛程式無法啟動。幸運的是、外掛程式是以全方位的記錄功能打造而成、可協助您診斷大部分可能遇到的問題。</block>
  <block id="79c820c2d64495c47651e58e73f97294" category="list-text">如果將PV掛載到容器時發生問題、請確定已安裝並執行「rpcbind」。使用主機作業系統所需的套件管理程式、檢查「rpcbind」是否正在執行。您可以執行「stystemctl狀態rpcbind」或其等效項目來檢查rpcbind服務的狀態。</block>
  <block id="3a3b7ac2e39541ea05707ccd6eb054d4" category="doc">已知問題與限制</block>
  <block id="8bb35988eac5a841d2af092365f1aa42" category="section-title">從舊版升級Trident Docker Volume外掛程式至20.10及更新版本、會導致升級失敗、且不會發生此類檔案或目錄錯誤。</block>
  <block id="7aebfa1e2291377e040de92d7f7f335f" category="list-title">因應措施</block>
  <block id="f49f11bc5398ac13e500d16eac424e77" category="list-text">停用外掛程式。</block>
  <block id="cc3dae6dd6670606c41c62b10273605e" category="list-text">移除外掛程式。</block>
  <block id="6010901b5c4bb6ad671e6f07fcc038d8" category="list-text">提供額外的「config」參數、重新安裝外掛程式。</block>
  <block id="e527ab8c1c51767e38a3603d51d2d6e5" category="section-title">Volume名稱長度必須至少2個字元。</block>
  <block id="45c9df594d13c8a5e5472503d5f14b01" category="inline-link">請參閱錯誤25773</block>
  <block id="c167efd138e06a8ee59885983c5ddf69" category="admonition">這是Docker用戶端的限制。用戶端會將單一字元名稱解譯為Windows路徑。<block ref="f082f49b923960d888c1d98a1e9f4fcb" category="inline-link-rx"></block>。</block>
  <block id="a7c3ff464b1ef4364de4df03d66bee5e" category="list-text">Docker swarm目前使用Volume名稱、而非Volume ID做為其唯一的Volume識別碼。</block>
  <block id="61ab6f5cff8de89cba95d9e3bbc4ff71" category="list-text">Volume要求會同時傳送至swarm叢集中的每個節點。</block>
  <block id="48cbf13b390ff021b130d5f372147af5" category="paragraph">NetApp已向Docker團隊提供意見回饋、但沒有任何未來追索的跡象。</block>
  <block id="29cff148f43bc689eb14447b333f6f83" category="section-title">如果配置的是某個功能區、則如果第二個功能區的一個或多個集合體與要配置的功能區相同、則不提供第二個功能區。FlexGroup ONTAP FlexGroup FlexGroup FlexGroup</block>
  <block id="8f327f2ceda84404290184a7454160ed" category="paragraph">當您想要同時使用多個儲存組態時、需要多個Trident執行個體。多個執行個體的關鍵是在主機上具現化Trident時、使用容器化外掛程式的「-alias」選項或「-volume驅動程式」選項、為它們指定不同的名稱。</block>
  <block id="52ef1c6ffefaba3249f208369424635d" category="section-title">Docker託管外掛程式（1.3/17.03版或更新版本）的步驟</block>
  <block id="547c4a5f7c863aad85f5265c03ed72ea" category="list-text">啟動第一個指定別名和組態檔的執行個體。</block>
  <block id="991ac134f22efa2bb955362d95827ae5" category="list-text">啟動第二個執行個體、指定不同的別名和組態檔。</block>
  <block id="aa0dc0ac69e69c434317798e1aa9842b" category="list-text">建立磁碟區、將別名指定為驅動程式名稱。</block>
  <block id="5ae25a45ab76de161f87fc41a84f746d" category="paragraph">例如、黃金Volume：</block>
  <block id="6dab7c53f6e3de2eae52e928dfe5b861" category="paragraph">例如、對於銀級Volume：</block>
  <block id="67754cb209925946943e297b3a8be344" category="section-title">傳統的步驟（1.12版或更早版本）</block>
  <block id="cbd128765e82966ed5e454a99b22e688" category="list-text">使用自訂驅動程式ID以NFS組態啟動外掛程式：</block>
  <block id="51c923daa4caf6aea6d24201b73871b6" category="list-text">使用自訂驅動程式ID以iSCSI組態啟動外掛程式：</block>
  <block id="dd72ade865d731ba8f6a6fc4c8ccd86f" category="list-text">為每個驅動程式執行個體配置Docker磁碟區：</block>
  <block id="8e2044cc9d4e8f515ad4809a68d75465" category="paragraph">例如、對於NFS：</block>
  <block id="d39eb6e4299503c5d451d19b9645be42" category="paragraph">例如、對於iSCSI：</block>
  <block id="30d965eef5ba25c6b9998ae38270b43e" category="doc">法律聲明</block>
  <block id="e9c44bbfd795a5d63d74c6a77afee70d" category="paragraph">法律聲明提供版權聲明、商標、專利等存取權限。</block>
  <block id="6016a2b341113bf496b719905398ecd2" category="section-title">版權</block>
  <block id="126a02652da6de02962cf1b654fd6376" category="section-title">商標</block>
  <block id="c4ce4761e466527d26b3e3d5ed1006fd" category="paragraph">NetApp 、 NetApp 標誌及 NetApp 商標頁面上列出的標章均為 NetApp 、 Inc. 的商標。其他公司與產品名稱可能為其各自所有者的商標。</block>
  <block id="be89498d2f8a22ce47c02ba9795fe2af" category="section-title">專利</block>
  <block id="d0b19d36be2c5f16e9aef46c8a452d3d" category="paragraph">如需最新的 NetApp 擁有專利清單、請參閱：</block>
  <block id="56c34c6410dd45c5cec44149ad0ce037" category="section-title">隱私權政策</block>
  <block id="c0227cef6f07a8cd2ac72f2945b031aa" category="section-title">開放原始碼</block>
  <block id="2a778cf7220cdde142651975e1bcd90f" category="paragraph">在虛擬資源池清單之外指定的任何層面、都會對後端進行全域設定、並套用至所有虛擬資源池、而每個虛擬資源池則可個別指定一個或多個層面（覆寫任何後端全域層面）。</block>
  <block id="e1b3ec89ead7f83a9245ed5c9cacfdbf" category="cell">營運者</block>
  <block id="499badcb6f450c7f46c51d873eb84286" category="cell">`='</block>
  <block id="354653142ec321459dfd6d71444e992e" category="cell">效能=優異</block>
  <block id="5a5292b0a0d0379f0f1b12801b09b266" category="cell">！！=</block>
  <block id="eccde6822783bd75209c9b6a2d357f6c" category="cell">效能！=極致</block>
  <block id="ae2bef277194f73d24a36a78009aac1e" category="cell">《in》</block>
  <block id="f8cf8c23afb5459dbf7c24b685caf85b" category="cell">位置（東部、西部）</block>
  <block id="1a031eecbce49366e550273b9321b909" category="cell">《不」</block>
  <block id="b5585f3f9b45f391fee5dd15e6516450" category="cell">效能附註（銀、銅）</block>
  <block id="e9c3828cd06711f9036bb4ce862a32c5" category="doc">Volume快照</block>
  <block id="9dbabbadda024bb7b1d0db43ab31b45f" category="list-text">對於「Poolidfire - san」驅動程式、每個PV對應至NetApp Element 在該軟體/NetApp HCI叢集上建立的LUN。Volume Snapshot以基礎LUN的元素快照來表示。這些快照是時間點複本、只佔用少量系統資源和空間。</block>
  <block id="b4621305109716b02eed0cf25fabab13" category="doc">Volume存取群組</block>
  <block id="33911b1eec54b4b5a7fbc504e6569989" category="inline-link">Volume存取群組</block>
  <block id="89c3bcf0ecc1114f8d19734d9156cb40" category="doc">資源配置</block>
  <block id="48cf24486d9a8e65a142b25682f19949" category="cell">驅動程式</block>
  <block id="1b5e109e8afd1f9b7f5bbf951eea3442" category="cell">Volume模式</block>
  <block id="d5e2d9f8d8f10044e38b71b49e675d2e" category="cell">支援的存取模式</block>
  <block id="15971126972a002fcddb2c507534e371" category="cell">支援的檔案系統</block>
  <block id="00055dac2ba112b87a95a368075b9561" category="cell">「ONTAP-NAS」</block>
  <block id="ac52cf637478f3656a1fdee5c02324fd" category="paragraph">檔案系統</block>
  <block id="cecdaed309330a9e7dea16b2076957ee" category="cell">《ONTAP-NANAS經濟》</block>
  <block id="2b8ac774302bd45e0ad531e434d8cd6d" category="cell">「ONTAP-NAA-flexgroup」</block>
  <block id="cd17e7ed84c40a0ff5ecb8b625b1f186" category="cell">「ONTAP-SAN」</block>
  <block id="e1e4c8c9ccd9fc39c391da4bcd093fb2" category="paragraph">區塊</block>
  <block id="a029cca698cbf05f07897f86c43cf9e8" category="paragraph">《xfs》、《ext3》、《ext4》</block>
  <block id="73b781a615cea2647a87ff2035e296b1" category="cell">《ONTAP-san經濟》</block>
  <block id="4bd05efa612e48dd723de2bdd29f88e2" category="section-title">支援的Kubernetes叢集架構</block>
  <block id="c91cda04d3ac5ae2da327d347d4bbefe" category="cell">Kubernetes叢集架構</block>
  <block id="eaa4dc5078017a5c5bebf383ab6f5124" category="cell">支援</block>
  <block id="c0057eecd4b1a67d11dc801b8992a574" category="cell">預設安裝</block>
  <block id="0c69c79a8788e0e4572d0c4838e69401" category="cell">單一主機、運算</block>
  <block id="93cba07454f06a4a960172bbd6e2a435" category="cell">是的</block>
  <block id="1fc3441370ae575a64d605fcd15a05fd" category="cell">多重主機、運算</block>
  <block id="7cb2eb9488f3532834f7ef233ae894dd" category="cell">Master、「etcd」、運算</block>
  <block id="5e5f49db20e29f6377e57e98932dae57" category="cell">主要、基礎架構、運算</block>
  <block id="d13de4a83d7b44c2e65495def8ef1c7b" category="section-title">以取得更多資訊</block>
  <block id="15b7c7ffe264d7b8c61915ff2a6ef96c" category="section-title">後端組態選項</block>
  <block id="9d370350f8d0178b5dfbec9def10d13a" category="paragraph">如需後端組態選項、請參閱下表：</block>
  <block id="83f499a540b1323009c200d6f8cc9396" category="cell">參數</block>
  <block id="5aae2c40b50d296edbd4ba9cfb462b49" category="cell">儲存驅動程式名稱</block>
  <block id="5afd6479855e8d63f324b6ec2fa787b4" category="cell">自訂名稱或儲存後端</block>
  <block id="a0f3a965c12688befda99da850903dcb" category="cell">「AutoExpportPolicy」</block>
  <block id="b4ad0dff08149092bc3e4b16572af575" category="cell">《AutoExpportCIDR》（自動匯出CTR）</block>
  <block id="567c7f0eca746ed7513764be5ecf6d03" category="cell">""（預設不強制執行）</block>
  <block id="f2f2c7c3c767da610bd95934104674f6" category="cell">「DebugTraceFlags」</block>
  <block id="37a6259cc0c1dae299a7866489dff0bd" category="cell">null</block>
  <block id="eea443d4fcc24d4cd2cab08c2a6c062f" category="cell">《標籤》</block>
  <block id="88dce60232453383ab0d1c3c59cc931d" category="admonition">除非您正在進行疑難排解並需要詳細的記錄傾印、否則請勿使用「debugTraceFlags」。</block>
  <block id="c1a0e97f953c948568aed6c134fc9711" category="cell">要使用的匯出原則</block>
  <block id="31ed61cc3c85d0bb697cd12b77f37fd1" category="cell">保留給快照的磁碟區百分比</block>
  <block id="c07fbc0b2a1a865fe9e3a55c05b4f690" category="cell">"假"</block>
  <block id="84d2c2c768bd1900489bad5fb46b4aac" category="cell">「qosPolicy」</block>
  <block id="9d4568c009d203ab10e33ea9953a0264" category="cell">"</block>
  <block id="3ad256eea0abb551eaab63c84aa3d1f9" category="paragraph">建立後端組態檔之後、請執行下列命令：</block>
  <block id="a61ed3c1ecae587dbee1f2c0ace81e3b" category="paragraph">如果後端建立失敗、表示後端組態有問題。您可以執行下列命令來檢視記錄、以判斷原因：</block>
  <block id="8427b84145b88f048d5caa532324cd11" category="paragraph">識別並修正組態檔的問題之後、您可以再次執行create命令。</block>
  <block id="e8b9c3a9859a62e9a58431c3b61f75d5" category="doc">管理儲存類別</block>
  <block id="14f4c7abe09c4481722f1fa6563f2604" category="section-title">建立儲存類別</block>
  <block id="0fe0aa7b9b7529f66030afb1629507bb" category="section-title">刪除儲存類別</block>
  <block id="4bf50148821c75f616a96daca9255e6f" category="paragraph">若要從Kubernetes刪除儲存類別、請執行下列命令：</block>
  <block id="65494a0b3404ce637afd88bcb7c82998" category="paragraph">「&lt;storage－class&gt;'」應改用您的儲存類別。</block>
  <block id="e606165355271961ba07945766fbf83a" category="section-title">檢視現有的儲存類別</block>
  <block id="7c237bc6c124137d25df2dec1cb3e528" category="list-text">若要檢視現有的Kubernetes儲存類別、請執行下列命令：</block>
  <block id="4aae22fbb9c0d354d0a9c15c6c126d89" category="list-text">若要檢視Kubernetes儲存類別詳細資料、請執行下列命令：</block>
  <block id="ce32eb748bd7452bd6ee6d1d7ad6d3a7" category="section-title">設定預設儲存類別</block>
  <block id="f30a1542c01c3c493f3c01c88dfe5fcd" category="paragraph">Kubernetes 1.6新增了設定預設儲存類別的功能。如果使用者未在「持續磁碟區宣告」（PVc）中指定一個、則此儲存類別將用於配置「持續磁碟區」。</block>
  <block id="7c435ae4763642458286cb691812ea55" category="list-text">在儲存類別定義中、將「shorageclass.Kubernetes.IO/as-default-Class」註釋設為true、以定義預設儲存類別。根據規格、任何其他值或不存在附註都會解譯為假。</block>
  <block id="61fd76f55d29aaceb4a6ee09a318dc45" category="list-text">您可以使用下列命令、將現有的儲存類別設定為預設的儲存類別：</block>
  <block id="800477137444bec636483de85335cbb5" category="list-text">同樣地、您也可以使用下列命令移除預設儲存類別註釋：</block>
  <block id="2d2f31c3012657fd7b38b41312d1a0b8" category="paragraph">Trident安裝程式套件中也有包含此附註的範例。</block>
  <block id="6c36cb9c072dc4cb9e163c44568f6a91" category="section-title">識別儲存類別的後端</block>
  <block id="ef1161058705470bb877fbce688eea9e" category="summary">深入瞭解如何使用ONTAP 支援支援功能的SAN驅動程式來設定支援功能的後端。ONTAP</block>
  <block id="29db8b676d0a02f8179869506102c8ce" category="doc">使用ONTAP 不支援的Cloud Volumes ONTAP SAN驅動程式來設定後端</block>
  <block id="133184f8c608809bdc057abf1397d10d" category="paragraph">深入瞭解如何使用ONTAP 支援功能的功能和功能性SAN驅動程式來設定功能性的後端。ONTAP Cloud Volumes ONTAP</block>
  <block id="ce8828fc10a926c196951c9bdd0d534d" category="section-title">使用者權限</block>
  <block id="2941c38dbb7c39c325787067c0540247" category="summary">瞭解如何使用「kubecll」來執行後端管理作業。</block>
  <block id="bffb766af67c15f14cae35f03dd6f4a9" category="doc">以KECBECVL執行後端管理</block>
  <block id="634b471e6af84767e06324552492b533" category="section-title">刪除後端</block>
  <block id="337d79852891a37d41285c9101c3fff4" category="paragraph">執行下列命令：</block>
  <block id="d694c8966214ec6d0068c0ab2951b65c" category="section-title">檢視現有的後端</block>
  <block id="265ab4809f08d248e5045a8638ac7afa" category="paragraph">您也可以執行「tridentctl Get backend -n trident」或「tridentctl Get backend -o yaml -n trident」、以取得所有後端的清單。這份清單也會包含以「tridentctl」建立的後端。</block>
  <block id="93dbcf0189ff94d39230d2e3726969ab" category="section-title">更新後端</block>
  <block id="93700a3ea9dc6d858638cd66cd2f2bfa" category="paragraph">更新後端可能有多種原因：</block>
  <block id="d38f034e9aa082af3ec19c23caff4b0f" category="paragraph">如果後端更新失敗、後端仍會繼續維持其最後已知的組態。您可以執行「kubecl Get tbc &lt;tbc-name&gt;-o yaml -n trident」或「kubecl描述tbc &lt;tbc-name&gt;-n trident」來檢視記錄以判斷原因。</block>
  <block id="5878b59fb3a8430928026b63b5ca336f" category="paragraph">識別並修正組態檔的問題之後、即可重新執行update命令。</block>
  <block id="28b0abcecaf7a63edb46e4e137337018" category="doc">設定Azure NetApp Files 一個靜態後端</block>
  <block id="07e7004c50a67a3e4e366b4ca1c28e3d" category="paragraph">若要設定及使用<block ref="24a785881ff1cdf191a2239811dc9597" category="inline-link-rx"></block> 後端、您需要下列項目：</block>
  <block id="66d640a9a050b05e6a914cbcd88a1e2e" category="list-text">Azure訂閱提供的「SubscriptionID」Azure NetApp Files （含功能不支援的功能）。</block>
  <block id="3e566c45584d66d2ab94c2108f7c3488" category="cell">「Azure - NetApp-Files」</block>
  <block id="9dd18f393b35bf22098cf53e9c1c7fa6" category="cell">驅動程式名稱+「_」+隨機字元</block>
  <block id="1c65f12b4d30114593cc01384938cb5f" category="cell">其中一種是「標準」、「高級」或「超高」</block>
  <block id="b21b08bb55acd409e40e9b45edd3bb34" category="cell">""（隨機）</block>
  <block id="016a4b469916e37291cfe2f7fab49aaf" category="cell">"來源群組"</block>
  <block id="66d09fbe1165f3d10b368cbe0cc029f4" category="cell">用於篩選已探索資源的資源群組清單</block>
  <block id="36cbcb8a57112362b05d06b9fe037a6e" category="cell">「[]」（無篩選器）</block>
  <block id="d4b4343f054233d7d339bb1501425fd4" category="cell">《netappAccounts》</block>
  <block id="61476ef20a8015760b9cb3c1bd0ea435" category="cell">篩選探索資源的NetApp帳戶清單</block>
  <block id="722c7b4409fa4d1fe6aaa2902ae66473" category="cell">《容量Pools》</block>
  <block id="225abbb59bc0bbaa2a5852ada333b31b" category="cell">用於篩選已探索資源的容量集區清單</block>
  <block id="f2a5b99a63a463017b3e5f5848444d9a" category="cell">「[]」（無篩選器、隨機）</block>
  <block id="b9cc8276829a756e7a22476617204267" category="cell">精細控制NFS掛載選項。</block>
  <block id="2d1474e8b52ef42851337fb3fef4e1a1" category="cell">"nfsves=3"</block>
  <block id="2288620b3dc019c6359bcc7f50b72ab3" category="cell">如果要求的磁碟區大小高於此值、則資源配置失敗</block>
  <block id="91b3c29beb3641dce2fcf3d2382fac4f" category="cell">疑難排解時要使用的偵錯旗標。範例：「\{"API"：假、「方法」：真、「探索」：true｝。除非您正在進行疑難排解並需要詳細的記錄傾印、否則請勿使用此功能。</block>
  <block id="a1fa27779242b4902f7ae3bdd5c6d508" category="cell">類型</block>
  <block id="520d0db389f362bf79ef56ca0af3dcab" category="cell">格式</block>
  <block id="dde92bca1b59f0db813ef42a2688752e" category="cell">資源群組</block>
  <block id="671e72ca3ef632233f4c27dfef1ec109" category="cell">&lt;資源群組&gt;</block>
  <block id="ac252743de820aac9183d9f76d4bed67" category="cell">NetApp帳戶</block>
  <block id="2bf2783c6d0d867a9fe629138b38bd84" category="cell">資源群組//&lt;NetApp帳戶&gt;</block>
  <block id="9eea1c08013c37f1499f428378764a08" category="cell">容量資源池</block>
  <block id="01c656d6b97f45a90022ee307283ae01" category="cell">資源群組//&lt;NetApp帳戶&gt;/&lt;容量資源池&gt;</block>
  <block id="bf76cafc47141522dca89c4d6e25b822" category="cell">虛擬網路</block>
  <block id="8c9309282517a29ad09b10443d825c7c" category="cell">資源群組//&lt;虛擬網路&gt;</block>
  <block id="9770c6469e9d27585d6c0c389ede7bc3" category="cell">子網路</block>
  <block id="7addf9faaab78a084548d05b695cd2e2" category="cell">資源群組//&lt;虛擬網路&gt;/&lt;子網路&gt;</block>
  <block id="1274e36c193ec0ce8b5c49d5e78ffd7b" category="cell">「0.00.0.0/0」</block>
  <block id="08ee53e1d5cefb7967a295e98036598e" category="cell">控制.snapshot目錄的可見度</block>
  <block id="ef81b740be2293b7e3c41047afe98764" category="cell">100公克</block>
  <block id="976a6dc52dbcabb541efa0a91e922604" category="cell">""（預覽功能、訂閱時需要白名單）</block>
  <block id="8f828c7344e7fe65d66237a25193068b" category="summary">瞭解如何準備使用ONTAP 支援不支援的SAN驅動程式來設定支援功能的後端。ONTAP</block>
  <block id="5475028f502d04bc17cdfdf613d28cbf" category="paragraph">請記住、您也可以執行多個驅動程式、並建立指向一個或多個驅動程式的儲存類別。例如、您可以設定使用「ONTAP-SAN」驅動程式的「SAN開發」類別、以及使用「ONTAP-SAN經濟」類別的「SAN預設」類別。</block>
  <block id="c75f7811d70d17dbcd88e9d03752cbed" category="section-title">驗證</block>
  <block id="00cbc0e7ed0014813b07fc8452f60df1" category="list-text">認證型：ONTAP 對具備所需權限的使用者名稱和密碼。建議使用預先定義的安全登入角色、例如「admin」或「vsadmin」、以確保與ONTAP 各種版本的最大相容性。</block>
  <block id="a2f8f419bf420960ef8cca73e1999e09" category="section-title">啟用認證型驗證</block>
  <block id="2312b8f77f99c346269b67308afc3649" category="paragraph">後端定義範例如下所示：</block>
  <block id="2a2ef6dcf08a8789a55301af5f71304c" category="paragraph">請記住、後端定義是唯一以純文字儲存認證的位置。建立後端之後、使用者名稱/密碼會以Base64編碼、並儲存為Kubernetes機密。建立/更新後端是唯一需要知道認證資料的步驟。因此、這是一項純管理員操作、由Kubernetes /儲存管理員執行。</block>
  <block id="052f76b486189a7b01340d5134eb7985" category="section-title">啟用憑證型驗證</block>
  <block id="0778b06c5ea9fded4fd7b586b248dd86" category="paragraph">新的和現有的後端可以使用憑證、並與ONTAP 該後端通訊。後端定義需要三個參數。</block>
  <block id="d5b9c9db262b1927d7914504f3587adb" category="list-text">用戶端憑證：用戶端憑證的Base64編碼值。</block>
  <block id="8f2b750dd6a57864f0e36828c248ddfc" category="list-text">用戶端私密金鑰：關聯私密金鑰的Base64編碼值。</block>
  <block id="200c2d2a44dec6455fa1c947f9c1f534" category="list-text">信任的CACertifate：受信任CA憑證的Base64編碼值。如果使用信任的CA、則必須提供此參數。如果未使用信任的CA、則可忽略此問題。</block>
  <block id="6b634823c19ebc37c9e4fdbf08de1fff" category="paragraph">典型的工作流程包括下列步驟。</block>
  <block id="c92e58d7dd251e6e6cdb16291a6dec90" category="list-text">產生用戶端憑證和金鑰。產生時、請將Common Name（CN）（一般名稱（CN））設定為ONTAP 驗證身分。</block>
  <block id="69b521cddbc52a2d14539e349e2930f0" category="list-text">將信任的CA憑證新增ONTAP 至整個叢集。這可能已由儲存管理員處理。如果未使用信任的CA、請忽略。</block>
  <block id="2f3945695e5ca88abb46af80d87c6972" category="list-text">在ONTAP 支援叢集上安裝用戶端憑證和金鑰（步驟1）。</block>
  <block id="e81810c4035ad015ad3f0d8c4f2c6454" category="list-text">確認ONTAP 支援「cert」驗證方法的支援功能。</block>
  <block id="ea3bf76b270384627e7bcfb197ddb17b" category="list-text">使用產生的憑證測試驗證。以ONTAP Management LIF IP和SVM名稱取代&lt;SfManagement LIF&gt;和&lt;vserver name&gt;。</block>
  <block id="83f2adf143dc8f5fbbb9d924f840c1ce" category="list-text">使用Base64編碼憑證、金鑰和信任的CA憑證。</block>
  <block id="8d36e570f1edac5ae19e6733e3fbb4d5" category="list-text">使用從上一步取得的值建立後端。</block>
  <block id="2ab8ad0fce083cd02635b9126cf4353c" category="section-title">更新驗證方法或旋轉認證資料</block>
  <block id="5e36c3d66bd47ae551071244dc48df17" category="admonition">當您旋轉密碼時、儲存管理員必須先更新ONTAP 使用者的密碼（位於BIOS）。接著是後端更新。在循環憑證時、可將多個憑證新增至使用者。然後更新後端以使用新的憑證、之後可從ONTAP 該叢集刪除舊的憑證。</block>
  <block id="12dd7bfa072b5a1eecf975f6a5a6eaa7" category="admonition">「useCHAP」參數是布林選項、只能設定一次。預設值設為假。將其設為true之後、您就無法將其設為假。</block>
  <block id="bc601528678aeeb582101ed205a054bc" category="paragraph">除了"useCHAP=true"之外、"chapInitiator Secret（chapInitiator機密）、"chaptarketatorSecret（chaptarketusername"）、"chaptarketusername"（chaptargetuseamuse"）和"chapusername"（chamus在建立後端後端之後、可以執行「tridentctl update」來變更機密。</block>
  <block id="29b4db879e4cc96a6b71bc763367624b" category="list-text">在SVM上設定CHAP：</block>
  <block id="13e0c564d5e1fbd33279fb276166653d" category="list-text">設定CHAP啟動器和目標使用者名稱和機密；這些選項必須在後端組態中指定（如上所示）。</block>
  <block id="a7fe005c9f49619f4438aac8932fb361" category="paragraph">您可以更新「backend.json」檔案中的CHAP參數、以更新CHAP認證。這需要更新CHAP機密、並使用「tridentctl update」命令來反映這些變更。</block>
  <block id="4d82a1ec1af02725042c8c785564ee7a" category="inline-link">Amazon FSX for NetApp ONTAP 產品</block>
  <block id="483a5da192f46e3cfe8391d3ef234fc4" category="inline-link-macro">常見問題集</block>
  <block id="b8f98ceeb9b158e8af3527fce91e9e57" category="list-text">「ONTAP-san經濟型」：每個配置的PV都是LUN、每個Amazon FSX for NetApp ONTAP 的LUN數量可設定。</block>
  <block id="94a834f420b7c21f3a1053e6dc705a31" category="list-text">「ONTAP-NAS-EAS'：每個提供的PV都是qtree、每個Amazon FSX的NetApp ONTAP 功能是可設定的配額樹數。</block>
  <block id="e42b07a9f050ef51ea1211004a50f223" category="list-text">「ONTAP-NAS-Flexgroup」：每個提供的PV都是適用於NetApp ONTAP FlexGroup 的完整Amazon FSX。</block>
  <block id="80d13d3dbe137e8fb646193f275eceeb" category="list-text">現有的Amazon EKS叢集或自行管理的Kubernetes叢集、已安裝「kubecll」。</block>
  <block id="fe914214000491758957f04647f8da36" category="inline-link">Amazon機器映像</block>
  <block id="9c83e144e5481ac6766f4055e566594d" category="section-title">如需詳細資訊、請參閱</block>
  <block id="cc788b7e72b2a734dd0985bd1e0e9fe3" category="inline-link">Amazon FSX for NetApp ONTAP 的支援文件</block>
  <block id="fd570b75466e2daca21a032e6fd5981c" category="list-text"><block ref="fd570b75466e2daca21a032e6fd5981c" category="inline-link-rx"></block></block>
  <block id="0ef79cb4bb284d3ca9c3e95489919301" category="inline-link">Amazon FSX for NetApp ONTAP 的部落格文章</block>
  <block id="3b94214fe5975bca8da92b72f8926be2" category="list-text"><block ref="3b94214fe5975bca8da92b72f8926be2" category="inline-link-rx"></block></block>
  <block id="72a5926b7fb086fe87e93771f6620556" category="summary">瞭解如何使用「tridentctl」來執行後端管理作業。</block>
  <block id="748a22b5f1312291ad55429ba4b809a0" category="doc">使用tridentctl執行後端管理</block>
  <block id="aeeb03235358f0f4bf3be628bed08721" category="section-title">建立後端</block>
  <block id="34746f7a1d24170eeebf5510a045d43d" category="inline-link-macro">後端組態檔</block>
  <block id="99b7232073a67a8c82304f979e3dc83f" category="paragraph">建立之後 <block ref="03c0b6ed8698193668e92f56e9be3efa" category="inline-link-macro-rx"></block>，執行下列命令：</block>
  <block id="1cabe44c722167581b1e219de6c58341" category="paragraph">如果後端建立失敗、表示後端組態有問題。您可以執行下列命令來檢視記錄、以判斷原因：</block>
  <block id="b5f9999463782f0c36ecc89573a90a49" category="paragraph">識別並修正組態檔的問題之後、您只需再次執行「create」命令即可。</block>
  <block id="f6816a6570e6b6097177f9adc1f4805b" category="list-text">擷取後端名稱：</block>
  <block id="11f4ccb46eb9afc4b1187c376b53123f" category="list-text">刪除後端：</block>
  <block id="a6345aca446812b9124c47b385b33f43" category="paragraph">若要檢視Trident知道的後端、請執行下列步驟：</block>
  <block id="cb325bc4dded2aa4744b594966262a99" category="list-text">若要取得摘要、請執行下列命令：</block>
  <block id="9f073deeee70a1418443c3b8379c5c02" category="list-text">若要取得所有詳細資料、請執行下列命令：</block>
  <block id="27709162cf6b8ffced7bb1da6dd49df3" category="paragraph">建立新的後端組態檔之後、請執行下列命令：</block>
  <block id="4ca005817e9c882d0ef15d451a97dbf0" category="paragraph">如果後端更新失敗、表示後端組態有問題、或是您嘗試了無效的更新。您可以執行下列命令來檢視記錄、以判斷原因：</block>
  <block id="20b5ebaa2558437206eb6d1d47577805" category="paragraph">識別並修正組態檔的問題之後、您只需再次執行「update」命令即可。</block>
  <block id="d47f84a3cda326babf841866ad2326ab" category="section-title">識別使用後端的儲存類別</block>
  <block id="02fe9d429af25b46c16a1172d735124f" category="paragraph">這是您可以用Json回答的問題類型範例、其中的「tridentctl」會輸出後端物件。這會使用您需要安裝的「jq」公用程式。</block>
  <block id="e00013adda7b5901ea3e44ae300fd73d" category="paragraph">這也適用於使用「TridentBackendConfig」建立的後端。</block>
  <block id="64dbac0ca36d9b1f6a8cf1e8a0123261" category="list-text">檢查後端使用資訊、並瞭解後端上配置的磁碟區數量、以及所耗用的空間量等。</block>
  <block id="7f6516030964b624d9c71fd9ec7f83dd" category="list-text">維護可用後端配置的磁碟區數量對應。</block>
  <block id="eb8bfd69bb88378a6f4d987811890ce6" category="inline-link">容器化Prometheus部署</block>
  <block id="42ae2e91a939ffa9bbda53c10bf5f89f" category="inline-link">原生應用程式</block>
  <block id="050899631250104f17d24b27cc8a12e5" category="list-text">Prometheus執行個體。這可以是<block ref="bd5b9e4bd7b88b90afb221fb760a777c" category="inline-link-rx"></block> 或者、您也可以選擇以執行Prometheus<block ref="3f1d5beaea78c0fd8cb397fbeb1c88bd" category="inline-link-rx"></block>。</block>
  <block id="68276ca40dfbfd36de911402152fa452" category="section-title">步驟1：定義Prometheus目標</block>
  <block id="126ac9f6149081eb0e97c2e939eaad52" category="inline-link">部落格</block>
  <block id="c33638e0de87536b08eeb94264671d0f" category="section-title">步驟2：建立Prometheus ServiceMonitor</block>
  <block id="81a21a88b42cd5c83d149a080a627bad" category="paragraph">若要使用Trident指標、您應該建立Prometheus ServiceMonitor、以監控「Trident - csi」服務、並在「metrics」連接埠上聆聽。ServiceMonitor範例如下所示：</block>
  <block id="1db2022a8a8de5d612eda8e3be0e1065" category="section-title">步驟3：使用PromQL查詢Trident度量</block>
  <block id="f5142e19a3b1edf809fce9d3b6aefc05" category="paragraph">PromQL適用於建立傳回時間序列或表格資料的運算式。</block>
  <block id="8c6fb1be2521fd16337c11c626672678" category="paragraph">以下是一些您可以使用的PromQL查詢：</block>
  <block id="b214fd0009b3929347f097bd843f0bfd" category="section-title">取得Trident健全狀況資訊</block>
  <block id="f160a52d617adf6e6c5d379a9b8bca89" category="list-text">平均Volume大小*</block>
  <block id="eb978bfe01ec0c72ad231f3953e304a2" category="list-text">每個後端配置的Volume空間總計*</block>
  <block id="5f735ae12eafbe476178928f4645475b" category="section-title">取得個別Volume使用量</block>
  <block id="ee0898e9f0caa503f3eaa39c919f4c53" category="admonition">只有同時收集kubelet度量時、才會啟用此功能。</block>
  <block id="0bc301d2423b2ffaa38a5e275e4ec6f9" category="list-text">每個Volume的已用空間百分比*</block>
  <block id="ca0f9a86ca33f1d6baa9051bd7f4ed21" category="inline-link">隱私權政策</block>
  <block id="5224919a4ae5ccf610fb0ee74e4e7a94" category="inline-link">Trident AutoSupport 的</block>
  <block id="53084cad3d11df800502598c11e2d10b" category="inline-link">EULA</block>
  <block id="d2ec86f126f845e79aff07e70bf89472" category="list-text">此資訊將傳送至NetApp的「不只是」端點。AutoSupport AutoSupport如果您使用私有登錄來儲存容器映像、可以使用「-image-registry」旗標。</block>
  <block id="86c5a11fba83815412aec79f67f2d276" category="list-text">您也可以產生安裝Yaml檔案來設定Proxy URL。您可以使用「tridentctl install -generate-custom-yaml」來建立Yaml檔案、並在「trident部署.yaml」中新增「trident -autodupport」容器的「-proxy-URL」引數。</block>
  <block id="8ec47dab227d183e0d3ad0cd529d289b" category="paragraph">要使指標不被報告，您應該生成自定義YAML（使用"-generame-custom-yaml"標誌）並進行編輯，以刪除對"trident－main"容器所調用的"-mication"標誌。</block>
  <block id="4342473e01edd2e1440b8b76076f4c9e" category="doc">在後端管理選項之間切換</block>
  <block id="a7b407f571446f9f4a30f63e8160784a" category="list-text">使用「tridentctl」建立的後端、是否能以「TridentBackendConfig」來管理？</block>
  <block id="3e1fc11d05c13404995af2b9fda64675" category="list-text">使用「TridentBackendConfig」建立的後端、是否可以使用「tridentctl」來管理？</block>
  <block id="d6da18e16f248df47ee8e5139ef0156a" category="paragraph">本節說明透過Kubernetes介面建立「TridentBackendConfig」物件、直接透過「tridentctl」建立的後端管理所需的步驟。</block>
  <block id="bee2ae6068ad50344ddb325737434004" category="paragraph">這將適用於下列案例：</block>
  <block id="8eed1f3ae09f008e2dbfb4280a0c137c" category="list-text">使用「tridentctl」建立的新後端、而其他「TridentBackendConfig」物件則存在。</block>
  <block id="95328f21e7a6deb7bb94acb3866753a6" category="list-text">繼續使用「tridentctl」來管理使用它建立的後端。</block>
  <block id="82c1dd66573aab904c86b63e2d5486ad" category="list-text">將使用「tridentctl」建立的後端連結至新的「TridentBackendConfig」物件。這樣做將意味着後端將使用“kubedl”而不是“tridentctl”來管理。</block>
  <block id="d12d5022b29f44c340ee55411970fe10" category="paragraph">若要使用「kubecll」管理預先存在的後端、您需要建立連結至現有後端的「TridentBackendConfig」。以下是如何運作的總覽：</block>
  <block id="b863de09ccfaf2861ead350dd78a9933" category="list-text">建立「TridentBackendConfig」物件。其中包含有關儲存叢集/服務的詳細資訊、並參考上一步建立的機密。必須謹慎指定相同的組態參數（例如「s.pec.backendName」、「sec.storagePrefix」、「sPEec.storageDriverName」等）。必須將「Pec.backendName」設定為現有後端的名稱。</block>
  <block id="44411eb1f3a70196b442f0ed4bb62820" category="section-title">步驟0：識別後端</block>
  <block id="494cb787cd1c1f78123323c1006f2081" category="section-title">步驟1：建立Kubernetes機密</block>
  <block id="2181a22b3daf7866094f9f0d79da87d0" category="paragraph">建立包含後端認證的秘密、如以下範例所示：</block>
  <block id="276e25c1cf06c603ba2d133ae2e39dde" category="paragraph">下一步是建立一個「TridentBackendConfig」（TridentBackendConfig）CR、它會自動連結至現有的「ONTAP-NAS-backend」（如本範例所示）。確保符合下列要求：</block>
  <block id="0cbfd18f16db9afdef577eeddd6a8bee" category="list-text">相同的後端名稱是在「s.pec.backendName」中定義。</block>
  <block id="f261e4f2fe82344f35f04f9b3813e425" category="list-text">組態參數與原始後端相同。</block>
  <block id="8f50f98a5b56105263e2f7ab18dc0686" category="list-text">認證資料是透過Kubernetes Secret提供、而非以純文字提供。</block>
  <block id="05c8cd2e49ae2ecaee101c9bc5619d49" category="paragraph">在這種情況下、「TridentBackendConfig」將會如下所示：</block>
  <block id="63d6f3ce15066b6232a788bb692bf721" category="paragraph">在建立「TridentBackendConfig」之後、其階段必須是「綁定」。它也應反映與現有後端相同的後端名稱和UUID。</block>
  <block id="d1a75f7c76623350486029378ab164c3" category="paragraph">現在可以使用「tbc-ontap-nas-backend」「TridentBackendConfig」物件來完全管理後端。</block>
  <block id="fcea92f3e948217919ca8b4051c2c61e" category="paragraph">可以使用「tridentctl」來列出使用「TridentBackendConfig」建立的後端。此外、系統管理員也可以刪除「TridentBackendConfig」、並確定「pec.deletionPolicy`」設為「效能」、藉此選擇透過「tridentctl」來完全管理此類後端。</block>
  <block id="ab0c73d8e0377b2df5b783d3a76f2249" category="paragraph">例如、假設使用「TridentBackendConfig」建立下列後端：</block>
  <block id="1ad97e0f65ef91102831baaa31630c76" category="admonition">除非將「刪除原則」設定為「需要」、否則請勿繼續下一步。</block>
  <block id="8313f77478cb0df464604ae4435acce2" category="paragraph">最後一個步驟是刪除「TridentBackendConfig」（TridentBackendConfig）。確認「刪除原則」設為「保留」之後、您可以繼續刪除：</block>
  <block id="3d4635d3cf4f27b0e87f3fe86a84744d" category="doc">使用「csi拓撲」</block>
  <block id="4abea6bac3b0b48d11dd8dcd02a11bf9" category="inline-link">「csi拓撲」功能</block>
  <block id="592af423a2f6a51f57c639ec7f7b245e" category="admonition">深入瞭解「csi拓撲」功能<block ref="ff042e7f24bd2adcec09d78466034177" category="inline-link-rx"></block>。</block>
  <block id="bbdcaf9b704dc7a7cf73e6000101b65a" category="paragraph">Kubernetes提供兩種獨特的Volume繫結模式：</block>
  <block id="5fca24470d51aa51b0fb2d0f27c25c68" category="list-text">將「Volume BindingMode」設為「WaitForFirst消費者」時、會延遲建立和繫結永久磁碟區、直到排程並建立使用永久磁碟的Pod為止。如此一來、就能建立磁碟區、以符合拓撲需求所強制執行的排程限制。</block>
  <block id="3bbc2da928dcf77a048cdd745fe7d208" category="admonition">「等待使用者」繫結模式不需要拓撲標籤。這可獨立於「csi拓撲」功能使用。</block>
  <block id="edff21c44983aaa85506a3dfe467c494" category="paragraph">若要使用「csi拓撲」、您需要下列項目：</block>
  <block id="0bd58c9826639ac2db106c3b277a7e0f" category="section-title">步驟1：建立可感知拓撲的後端</block>
  <block id="217d95247b26701da7fd823884d84723" category="paragraph">您也可以定義每個儲存資源池的「支援拓撲」。請參閱下列範例：</block>
  <block id="c6c80256ac468b3d88d7b62d8753f192" category="paragraph">在此範例中、「REGion」和「Zone」標籤代表儲存資源池的位置。「topology、Kubernetes.io/region」和「topology、Kubernetes.io/Zone」決定儲存資源池的使用來源。</block>
  <block id="54e204e8e05b6eb24d965741eb977e69" category="section-title">步驟2：定義可感知拓撲的StorageClass</block>
  <block id="090f70d385b4a21aa6c8f2a0ca558616" category="paragraph">根據提供給叢集中節點的拓撲標籤、可以定義StorageClass以包含拓撲資訊。這將決定做為所提出之永久虛擬磁碟要求候選的儲存資源池、以及可以使用Trident所提供之磁碟區的節點子集。</block>
  <block id="ecb383148a1bc974cba3ac735a79f4c6" category="paragraph">請參閱下列範例：</block>
  <block id="df340fb31051c975afb3518dfd32e07c" category="section-title">步驟3：建立並使用PVC</block>
  <block id="f98be29d352e7c38a6502e76bbfaf34c" category="paragraph">建立StorageClass並對應至後端後端後端之後、您現在就可以建立PVCS。</block>
  <block id="c4b17c8733f9f36fdc682242d2b64ab2" category="paragraph">請參閱以下「sPEC」範例：</block>
  <block id="427e01a8fca484c85a1e8e3a672b999a" category="paragraph">使用此資訊清單建立永久虛擬環境可能會產生下列結果：</block>
  <block id="e65f170821e3417d48579a28989a9260" category="paragraph">若要Trident建立磁碟區並將其連結至PVc、請在Pod中使用PVc。請參閱下列範例：</block>
  <block id="9b8ff27bceb4601d1f866c4cf39fe449" category="paragraph">此pod化 規範會指示Kubernetes在「us-east1」區域的節點上排程pod、並從「us-east1-a」或「us-east1-b」區域中的任何節點中進行選擇。</block>
  <block id="c93345596f9f82deea04d17ef8c6ca89" category="paragraph">請參閱下列輸出：</block>
  <block id="476950aea923438779c9544953093cb9" category="paragraph">您可以使用「tridentctl後端更新」來更新現有的後端、以納入「最上層拓撲」清單。這不會影響已配置的磁碟區、而且只會用於後續的PVCS。</block>
  <block id="ded10f93b9e4453980b7009035c63418" category="inline-link">管理容器的資源</block>
  <block id="47ea3356a13b3f6644e6c05450e9d5e1" category="list-text"><block ref="47ea3356a13b3f6644e6c05450e9d5e1" category="inline-link-rx"></block></block>
  <block id="6370f866cf64618c026027da41bd248e" category="inline-link">節點選取器</block>
  <block id="2a4ad9fc807789134426a1b2babc5733" category="list-text"><block ref="2a4ad9fc807789134426a1b2babc5733" category="inline-link-rx"></block></block>
  <block id="873bf2b9b61a741ce5b7326a3a053489" category="inline-link">關聯性與反關聯性</block>
  <block id="ec5df0a2adb621359563958138462e34" category="list-text"><block ref="ec5df0a2adb621359563958138462e34" category="inline-link-rx"></block></block>
  <block id="e1e08e40036f927a0e660c22aa837f88" category="inline-link">污染與容許</block>
  <block id="66b1e0aa9cd6e46c0b85fdf56a15154a" category="list-text"><block ref="66b1e0aa9cd6e46c0b85fdf56a15154a" category="inline-link-rx"></block></block>
  <block id="f476273c71e20fc5a845a5345a620117" category="cell">驅動程式名稱+「_」+ API金鑰的一部分</block>
  <block id="4dd7128ceae058946c44bbbb0985ec6f" category="paragraph">每個後端都會在單一Google Cloud區域中配置磁碟區。若要在其他區域建立磁碟區、您可以定義其他後端。</block>
  <block id="51b2015e6da8653f4041b71312ad43fe" category="cell">存取「.snapshot」目錄</block>
  <block id="b42cbc6e68075c106b9faa27e4931091" category="doc">執行Volume作業</block>
  <block id="9e325272e7aed7c7bd6c28ff6fa4a90f" category="list-text"><block ref="9e325272e7aed7c7bd6c28ff6fa4a90f" category="inline-link-macro-rx"></block></block>
  <block id="e5879288a130fbd8d0b8682cfc375c4f" category="inline-link-macro">使用快照</block>
  <block id="c499fa59a1c9a0f6da195782a581f2e3" category="list-text"><block ref="c499fa59a1c9a0f6da195782a581f2e3" category="inline-link-macro-rx"></block></block>
  <block id="2243e252be826d6ec5e767668d9f961d" category="inline-link-macro">展開Volume</block>
  <block id="56661e701892ff873e44b62ffeec85e5" category="list-text"><block ref="56661e701892ff873e44b62ffeec85e5" category="inline-link-macro-rx"></block></block>
  <block id="5f48c343984786005c9830d96c6fca87" category="inline-link-macro">匯入磁碟區</block>
  <block id="c0417f5bbd54c5dc1c3704d6b566fcf3" category="list-text"><block ref="c0417f5bbd54c5dc1c3704d6b566fcf3" category="inline-link-macro-rx"></block></block>
  <block id="87dc0337d3ded2211d9b01c32e22d90d" category="doc">設定後端</block>
  <block id="2acbb5dd492d792d00383b0c76ade4ad" category="list-text"><block ref="2acbb5dd492d792d00383b0c76ade4ad" category="inline-link-macro-rx"></block></block>
  <block id="f2733a323df72dea4b230205225bdc13" category="inline-link-macro">設定NetApp HCI 一個不只是功能的SolidFire 後端</block>
  <block id="b1064b6f7a5906eac23601dc24ba95a8" category="list-text"><block ref="b1064b6f7a5906eac23601dc24ba95a8" category="inline-link-macro-rx"></block></block>
  <block id="a3610578ce54198653d7e0b2cc53c05d" category="inline-link-macro">使用ONTAP 功能不一的Cloud Volumes ONTAP NAS驅動程式來設定後端</block>
  <block id="f4f833852bac4217eff92d53c1bd24dc" category="list-text"><block ref="f4f833852bac4217eff92d53c1bd24dc" category="inline-link-macro-rx"></block></block>
  <block id="df7d9b009cdb0a2623872cb3f905e161" category="list-text"><block ref="df7d9b009cdb0a2623872cb3f905e161" category="inline-link-macro-rx"></block></block>
  <block id="997cff957213b9212a22d7cac2b4275d" category="list-text">使用產生的憑證測試驗證。以ONTAP Management LIF IP和SVM名稱取代&lt;SfManagement LIF&gt;和&lt;vserver name&gt;。您必須確保LIF的服務原則設定為「預設資料管理」。</block>
  <block id="07b434b23f63ca6490df33b213599320" category="section-title">管理NFS匯出原則</block>
  <block id="4603f08ad837f4108ff2fe7665b0b1e3" category="section-title">動態管理匯出原則</block>
  <block id="4975fc485ff51ca8f82c6ea96f927287" category="paragraph">以下是使用上述範例說明此功能的運作方式：</block>
  <block id="4646f167a1fb9819f41f28d5ab11c1fa" category="paragraph">您可以在建立後端後、更新「AutoExpportPolicy」和「AutoExpportCTR」。您可以為自動管理或刪除現有CIDR的後端附加新的CIDR。刪除CIDR時請務必謹慎、以確保不會中斷現有的連線。您也可以選擇停用後端的「autodportPolicy」、然後回到手動建立的匯出原則。這需要在後端組態中設定「exportPolicy」參數。</block>
  <block id="de1d1f6b64a5c5b6890c313888b290b7" category="admonition">刪除具有自動管理匯出原則的後端、將會刪除動態建立的匯出原則。如果重新建立後端、則會將其視為新的後端、並導致建立新的匯出原則。</block>
  <block id="821b0ad941ad2559ef18eb8de56a470e" category="summary">Kubernetes叢集中的所有工作節點都必須能夠掛載您已為Pod配置的磁碟區。如果您使用的是其中一個後端的ONTAP-NAS、ONTAP-NAS-節約、ONTAP-NAS-Flexgroup驅動程式、則您的工作節點需要NFS工具。否則他們需要iSCSI工具。</block>
  <block id="89d83ec6e8ec0c087fbc4aedc555b362" category="doc">準備工作節點</block>
  <block id="b7a66d04a41292979004906785008ca9" category="section-title">NFS磁碟區</block>
  <block id="29ba980a9e9adedc9414ea868c74ebd5" category="section-title">iSCSI磁碟區</block>
  <block id="12fe03bf2457cc4e4e90af10a2f7092f" category="list-text">Kubernetes叢集中的每個節點都必須具有唯一的IQN。*這是必要的先決條件*。</block>
  <block id="1a5157a00ea5806f553766d5b3b114fd" category="list-text">檢查iscsite-initier-utils版本是否為6.6.0.874-2.el7或更新版本：</block>
  <block id="19955b3c2d2c1cfc1c82c2fe0347a065" category="list-text">將掃描設為手動：</block>
  <block id="60c268e00db3206011b54b01705d7211" category="admonition">確保在"default"（錯誤）下"etc/multipath.conf"包含"fappe_multipaths no"。</block>
  <block id="a53508e75911225e5de8b5febc82cf12" category="list-text">檢查開放式iSCSI版本是否為2.0.874-5ubuntu2．10或更新版本（適用於雙聲網路）或2.0.874-7.1ubuntu6.1或更新版本（適用於焦點）：</block>
  <block id="b163c84ad8a4e55a17b51aad8074093e" category="list-text">確保已啟用並執行「open-iscsi」和「多路徑工具」：</block>
  <block id="1b757fe9c8a149de349a32b8d21feb54" category="admonition">對於Ubuntu 18.04、您必須先使用「iscsiadmd」探索目標連接埠、然後再啟動「open-iscsi」、iSCSI精靈才能啟動。您也可以修改「iSCSI」服務、以自動啟動「iscsid」。</block>
  <block id="cf13ba16f33b5f6772614929649be6c2" category="summary">您可以使用「tridentcl匯入」將現有的儲存磁碟區匯入為Kubernetes PV。</block>
  <block id="57ee8ed0b2796ea5f35b10f9ae5d68cd" category="cell">「olidfire - san」</block>
  <block id="e228843381960c06d1035c4219901307" category="cell">《azure-NetApp-fil形》</block>
  <block id="76057e180d7b3edcebaa935c7ccab687" category="paragraph">將註釋新增至PVc和PV、這有兩種用途、表示已匯入磁碟區、以及是否管理了PVc和PV。不應修改或移除此附註。</block>
  <block id="15d79b565b148caa23e6f2b53813413d" category="section-title">展開iSCSI Volume</block>
  <block id="0b981ab19df55a28a02578aa5f326db8" category="paragraph">您可以使用「SCSI資源配置程式」來擴充iSCSI持續磁碟區（PV）。</block>
  <block id="f8f338469c62eb8604f5304af08466ba" category="admonition">iSCSI磁碟區擴充支援「ontap－san」、「ONTAP－san經濟」、「Poolidfire－san」等驅動程式、需要Kubernetes 1.16及更新版本。</block>
  <block id="fe9ee1935ea7894fe4fd2f600993cd7d" category="section-title">步驟1：設定StorageClass以支援Volume擴充</block>
  <block id="c83b8171dcc233263cf7eeaef8da6a4d" category="paragraph">對於已存在的StorageClass、請編輯此類以包含「owalumVolume Expansion」參數。</block>
  <block id="59973fd7be015512b53fe121a13d5580" category="section-title">步驟2：使用您建立的StorageClass建立一個永久虛擬儲存設備</block>
  <block id="8dacc1d7fdb5bfd3f8a4daedf3ccdd88" category="section-title">步驟3：定義一個連接至PVc的Pod</block>
  <block id="85f5dec267aa48cff82ccaf993019e6d" category="paragraph">在此範例中、會建立使用「shan -PVc」的Pod。</block>
  <block id="ebae1958b6002fb43077a474d845284c" category="section-title">步驟4：展開PV</block>
  <block id="63188b171689bcd93b1ca818b3a2ab9c" category="paragraph">若要調整從1Gi建立至2Gi的PV大小、請編輯PVc定義、並將「sec.resumes.requests.storage」更新為2Gi。</block>
  <block id="eabf614ed44fe1c3e78cb2300949eb63" category="section-title">步驟5：驗證擴充</block>
  <block id="75b8249751a8ea5869a0b5a8e465efc1" category="section-title">展開NFS Volume</block>
  <block id="578f10bb7cad2abad1cbbcb9a9a732f9" category="paragraph">若要調整NFS PV的大小、管理員必須先將「ow淺Volume Expansion」欄位設定為「true」、以設定儲存類別以允許磁碟區擴充：</block>
  <block id="27b4a9ed8609e35526601aa8d8be1ab9" category="paragraph">如果您已經建立了沒有此選項的儲存類別、只要使用「kubecl Edit storageclass'」來編輯現有的儲存類別、即可進行磁碟區擴充。</block>
  <block id="3b16cea25bd4a9aaf5a9c3dcc13ea7eb" category="section-title">步驟3：展開PV</block>
  <block id="4a59ce1bc63fd7e6333968fb4bbd9d45" category="section-title">步驟4：驗證擴充</block>
  <block id="19ce3b2e7823907e5153f00fe04f64f7" category="doc">組態選項與範例</block>
  <block id="b5cbbe3dadaab4a036fdb38af67ee936" category="cell">套用到磁碟區的任意JSON-格式化標籤集</block>
  <block id="cbdaf784161be9806a24fe78a8046c01" category="cell">「用戶端憑證」</block>
  <block id="a84cbedc106b973917ae925d04533f97" category="cell">用戶端憑證的Base64編碼值。用於憑證型驗證</block>
  <block id="8545e54eea74cf2579fbe1cb56b11862" category="cell">「clientPrivate Key」</block>
  <block id="4a54228eb2be79492f8f76bb814ddf63" category="cell">用戶端私密金鑰的Base64編碼值。用於憑證型驗證</block>
  <block id="b071cd8105f8f59b777098388b7a3322" category="cell">「可信賴的CACertifcate」</block>
  <block id="ffe4ce29fe1a6176d496c40332e9cb98" category="cell">受信任CA憑證的Base64編碼值。選用。用於憑證型驗證</block>
  <block id="972abf48cbbadbcd573754140d35e19a" category="cell">要使用的儲存虛擬機器</block>
  <block id="ef65dd3301d78701f7cfcf8a01834f2f" category="cell">如果指定SVM "managementLIF"則衍生</block>
  <block id="e3f688f3aa653574b3253640aa98f47c" category="cell">在SVM中配置新磁碟區時所使用的前置碼。設定後無法更新</block>
  <block id="c9a303edbc714d051896c3a678e59a8a" category="cell">《lunsPerFlexvol》</block>
  <block id="79892588cbecd0b88729ea1a55b2a3a4" category="cell">每FlexVol 個LUN的最大LUN數量、範圍必須在[50、200]</block>
  <block id="a13306f726fdf72d2d992a7ebdc63b1b" category="cell">每FlexVol 個邊的最大qtree數、必須在範圍內[50、300]</block>
  <block id="f703d18584e163e18762e4dc13ad96a0" category="cell">《useREST》</block>
  <block id="193a49bcfb561fea878daa5efe72cad9" category="section-title">用於資源配置磁碟區的後端組態選項</block>
  <block id="26161d08a960162cd8633d0e23058aed" category="cell">LUN的空間分配</block>
  <block id="77f69e470b8766d2dc5df4b7f469ed72" category="cell">要使用的Snapshot原則</block>
  <block id="54b94bba5d336f4e3d5fd7e88544fad1" category="cell">要指派給所建立磁碟區的QoS原則群組。選擇每個儲存集區/後端的其中一個qosPolicy或adaptiveQosPolicy</block>
  <block id="952e3a12d35e717bf86a6000b0c08976" category="cell">《adaptiveQosPolicy》</block>
  <block id="6f5c0c94b1a17baffd2c33facaa10db6" category="cell">建立複本時、從其父複本分割複本</block>
  <block id="c005e78d4bd808038335c32dd84cf7da" category="cell">unix權限</block>
  <block id="3e9a232d025270ed6767c385b8291871" category="cell">新磁碟區的模式</block>
  <block id="647ce4e5394e2e595e46b4fc50a628e9" category="cell">匯出原則</block>
  <block id="86ec808b80973d24eadfc617926f534e" category="paragraph">計算方式如下：</block>
  <block id="2f1534ee8d0c6ec998511ed37cfe0da9" category="image-alt">顯示Volume show命令的輸出。</block>
  <block id="2aae2b6accd04335b3eeceb2193b34d6" category="section-title">最低組態範例</block>
  <block id="bca36ce39f61ce2d375cbdb66eab5162" category="paragraph">下列範例顯示基本組態、讓大部分參數保留預設值。這是定義後端最簡單的方法。</block>
  <block id="f35c0fe4b6581c16866c964cef229bfa" category="admonition">如果您在NetApp ONTAP 支援Trident的NetApp支援上使用Amazon FSX、建議您指定lifs的DNS名稱、而非IP位址。</block>
  <block id="f00b69018be0961b32ee24ec54fb56d1" category="section-title">將後端對應至StorageClass</block>
  <block id="a8e174c63ac21920b8405ffddc39214a" category="doc">使用kubecl建立後端</block>
  <block id="b44c2fd5cefc815abed7e31c0fa8c8ac" category="paragraph">建立「TridentBackendConfig」物件之後、會發生下列情況：</block>
  <block id="1efc3a14ca6dc7c90db79e02f3abe7d5" category="paragraph">每個「TridentBackendConfig」都有一對一的對應、並有「TridentBackend」。前者是提供給使用者設計及設定後端的介面、後者是Trident代表實際後端物件的方式。</block>
  <block id="9c3385530cf6e460576e5f6e7cc1b912" category="paragraph">請參閱下列範例、以瞭解「TridentBackendConfig」CR的格式：</block>
  <block id="c84ef67352bb6783ff2881f9f2821c2a" category="inline-link">Trident安裝程式</block>
  <block id="f13a06ff6eab87969a9f96765f31ed9c" category="paragraph">您也可以查看中的範例<block ref="6511e50af21389f9e77db56e03f6dd72" category="inline-link-rx"></block> 所需儲存平台/服務的範例組態目錄。</block>
  <block id="06df669f3ef6f929e9b58c9f47b65310" category="inline-link-macro">儲存驅動程式的後端組態資訊</block>
  <block id="92051c832f01d9070a7ed71d1ce523c5" category="paragraph">在《TridentBackendConfig》（CRR）中新推出的「sPEC」一節也包含「認證」和「刪除原則」欄位：</block>
  <block id="5ab961de690e071f0dc1c0dabac7fd89" category="list-text">「認證資料」：此參數為必填欄位、包含用於驗證儲存系統/服務的認證資料。此設定為使用者建立的Kubernetes Secret。認證資料無法以純文字格式傳遞、因此會產生錯誤。</block>
  <block id="9f11e03722a7b912083c63fc68f4dd7b" category="list-text">「刪除原則」：此欄位可定義刪除「TridentBackendConfig」時應發生的情況。可能需要兩種可能的值之一：</block>
  <block id="d09d50d3f84f9c585492818f491a2497" category="list-text">「刪除」：這會同時刪除「TridentBackendConfig」和相關後端。這是預設值。</block>
  <block id="f0c89ce27bf4c43949ad8f26a4f586bb" category="list-text">「保留」：刪除「TridentBackendConfig」（TridentBackendConfig）CR時、後端定義仍會存在、並可使用「tridentctl」進行管理。將刪除原則設為「保留」可讓使用者降級至較早版本（21.04之前）、並保留建立的後端。此欄位的值可在建立「TridentBackendConfig」之後更新。</block>
  <block id="7f2208582df334d090d35357eb5d6901" category="admonition">後端名稱是使用「sPEC.backendName」來設定。如果未指定、則會將後端名稱設為「TridentBackendConfig」物件（metadata.name）的名稱。建議使用「sPEC.backendName」明確設定後端名稱。</block>
  <block id="625cc9b8ccc34496dc2b3fcffb7e384a" category="section-title">步驟總覽</block>
  <block id="a867c4bbc8d632a517f22b7377b9b8ed" category="paragraph">若要使用「kubecll」建立新的後端、您應該執行下列動作：</block>
  <block id="4db4699aa0126dfb06878d7e07c0abdf" category="inline-link">Kubernetes機密</block>
  <block id="c39d193a9cc4084cc6c7964e1bb5efd8" category="list-text">建立「TridentBackendConfig」物件。其中包含有關儲存叢集/服務的詳細資訊、並參考上一步建立的機密。</block>
  <block id="286b0035cf59742ffe54696b798f2368" category="paragraph">建立後端之後、您可以使用「kubecl Get tbc &lt;tbc-name&gt;-n &lt;trident命名空間&gt;」來觀察其狀態、並收集其他詳細資料。</block>
  <block id="04402bf69acac56c72a55c0e4ac2165c" category="paragraph">下表摘要說明每個儲存平台的機密必須包含的欄位：</block>
  <block id="94cec86c6eef229009007e6d00d54ef1" category="cell">儲存平台機密欄位說明</block>
  <block id="1e6947ac7fb3a9529a9726eb692c8cc5" category="cell">秘密</block>
  <block id="c11257eff6563de2c05e353770c514ca" category="cell">欄位說明</block>
  <block id="93c5bebdea9c94a0740fe6fd9bb250f0" category="paragraph">ClientID</block>
  <block id="012e85295e2f1f744cfb8757f8dd4830" category="paragraph">應用程式註冊的用戶端ID</block>
  <block id="25de05ab7f10e99b499db62e0b89ad33" category="cell">元素（NetApp HCI / SolidFire）</block>
  <block id="2a6ba72e93aa7fa676d07973ed2716bb" category="paragraph">端點</block>
  <block id="41eba2d95ecaf35c8bd3a972c263ffe4" category="paragraph">MVIP、適用於SolidFire 採用租戶認證的不含用戶身分證明的叢集</block>
  <block id="253b40ae359ba25b56231803430c4873" category="cell">ONTAP</block>
  <block id="14c4b06b824ec593239362517f538b29" category="paragraph">使用者名稱</block>
  <block id="6e1b40351708d93ce8c387f6f8ca7533" category="paragraph">連線至叢集/ SVM的使用者名稱。用於認證型驗證</block>
  <block id="5f4dcc3b5aa765d61d8327deb882cf99" category="paragraph">密碼</block>
  <block id="4d3fd9a7ab4c84b857fc26b2633237d0" category="paragraph">連線至叢集/ SVM的密碼。用於認證型驗證</block>
  <block id="19dce7ac7f5290fc8fa218ad0c858df5" category="paragraph">用戶端權限金鑰</block>
  <block id="8c5e8d4f9acf9295e1a96feef0c0b516" category="paragraph">用戶端私密金鑰的Base64編碼值。用於憑證型驗證</block>
  <block id="039e9d80fa53ba861c06b590ba3f9d34" category="paragraph">chap使用 者名稱</block>
  <block id="a7128cd45d4a277fe5c6ed6f6c4238f7" category="paragraph">傳入使用者名稱。如果useCHAP=true則需要。適用於「ONTAP-SAN」和「ONTAP-san經濟」</block>
  <block id="f9d0dc78b203f2c1106dc0c7d58a5397" category="paragraph">chapInitiator機密</block>
  <block id="2f573af61fb37b4f1c5e2def2341b7c4" category="paragraph">CHAP啟動器密碼。如果useCHAP=true則需要。適用於「ONTAP-SAN」和「ONTAP-san經濟」</block>
  <block id="2ebe107bb3bc9551fbb0e5033046931c" category="paragraph">chapTargetUsername</block>
  <block id="e945f079b3e50bd5722f056b72282608" category="paragraph">目標使用者名稱。如果useCHAP=true則需要。適用於「ONTAP-SAN」和「ONTAP-san經濟」</block>
  <block id="4ab84a55744951d967033db9b64f6b27" category="paragraph">chapTargetInitiator機密</block>
  <block id="61b50fba255c10a4a2b5f7cf8276849a" category="paragraph">CHAP目標啟動器機密。如果useCHAP=true則需要。適用於「ONTAP-SAN」和「ONTAP-san經濟」</block>
  <block id="73d583a1445e1497ec3adaa011e2724c" category="paragraph">在此步驟中建立的機密會參照下一步所建立之「TridentBackendConfig」物件的「sapec.ecent」欄位。</block>
  <block id="3394622f88ed2c82c85e92e908879095" category="paragraph">您現在可以建立「TridentBackendConfig」的CR了。在此範例中、使用「ONTAP-SAN」驅動程式的後端是使用「TridentBackendConfig」物件建立、如下所示：</block>
  <block id="967688089cfc07a6c8e893bce5186445" category="paragraph">現在您已經建立了「TridentBackendConfig」（TridentBackendConfig）CR、您就可以驗證其狀態。請參閱下列範例：</block>
  <block id="edc9d2e179d9bd8effd5277699967aff" category="paragraph">已成功建立後端、並連結至「TridentBackendConfig」CR。</block>
  <block id="ecb5320e6f020f2c2dcad7a6268111ed" category="paragraph">階段可以採用下列其中一個值：</block>
  <block id="f2edf590deb30828e48e7290aa78e788" category="list-text">《Unbound》：使用「」表示。「TridentBackendConfig」物件不會繫結至後端。根據預設、所有新建立的「TridentBackendConfig」CRS均處於此階段。階段變更之後、就無法再恢復為Unbound（未綁定）。</block>
  <block id="ffd02eb489e62222a00391567d0bad81" category="list-text">如果後端上有一個或多個PVCS、則會進入刪除狀態。隨後、「TridentBackendConfig」CR也會進入刪除階段。只有刪除所有的PVCS之後、才會刪除後端和「TridentBackendConfig」。</block>
  <block id="39d978e14d4d8c9f19589af0d4e72661" category="list-text">「遺失」：與「TridentBackendConfig」CR相關的後端意外或刻意刪除、而「TridentBackendConfig」CR仍有刪除後端的參考資料。無論「刪除原則」值為何、「TridentBackendConfig」CR仍可刪除。</block>
  <block id="fdf3d4560a801cb64c255cc2790fe9cc" category="inline-link-macro">後端更新和後端刪除</block>
  <block id="57867491a75119ccf33f6ed8a434ff8e" category="paragraph">在此階段、成功建立後端！還有多種作業可以額外處理、例如 <block ref="9f5a7b55f1a44b55d5336cefd3bf688e" category="inline-link-macro-rx"></block>。</block>
  <block id="4dca0b80562cc590644c1acfada17219" category="section-title">（選用）步驟4：取得更多詳細資料</block>
  <block id="22f66c61dd35abb0ae1840a7e38ae1b9" category="paragraph">您可以執行下列命令來取得有關後端的詳細資訊：</block>
  <block id="aab3a73056ee2962dff0130da0538454" category="paragraph">此外、您也可以取得「TridentBackendConfig」的YAML/Json傾印。</block>
  <block id="7b7587593fc7d381339d450faa35dfa9" category="paragraph">您可以執行「kubeclt -n triident描述tbc &lt;tbc-cr-name&gt;」命令、以取得事件記錄的詳細資料。</block>
  <block id="6dc07da7e54d697726bb349fb693fa8b" category="inline-link-macro">請參閱此處</block>
  <block id="c732962a4a01ea5f406ec66e50e98903" category="admonition">您無法使用「tridentctl」來更新或刪除包含相關「TridentBackendConfig」物件的後端。若要瞭解在「tridentctl」和「TridentBackendConfig」之間切換的步驟、 <block ref="8d6bc70a41f48e3f72c3f5ea8752090b" category="inline-link-macro-rx"></block>。</block>
  <block id="24ca391029d6df294c5d5b8f1fe5b4eb" category="summary">瞭解如何使用ONTAP NetApp NAS驅動程式設定功能的功能。ONTAP</block>
  <block id="4d80e2460d711b841338dfbeea2ca8c1" category="paragraph">深入瞭解如何使用ONTAP 功能性和功能性NAS驅動程式來設定功能性的後端。ONTAP Cloud Volumes ONTAP</block>
  <block id="d1d184cecc23825cff20fabf3cdfb862" category="list-text">支援的儲存系統、可執行Element軟體。</block>
  <block id="4055116469942da7f6ed83abcf57d0a4" category="list-text">提供給NetApp HCI / SolidFire叢集管理員或租戶使用者的認證、以管理磁碟區。</block>
  <block id="d5fa5f22855b065d96647dfb0c06d685" category="inline-link-macro">工作節點準備資訊</block>
  <block id="02017e70674a0c740b2b95fbb0cc2aa1" category="paragraph">無檔案系統。原始區塊裝置。</block>
  <block id="b07ca7de83de58a699966c9bc9003020" category="cell">儲存設備（iSCSI）IP位址和連接埠</block>
  <block id="749df53d02481e75dd919dddf42fbbef" category="cell">套用到磁碟區的任意JSON-格式化標籤集。</block>
  <block id="251f1fc42c38ca55f30e5e9d11dac168" category="cell">要使用的租戶名稱（如果找不到、請建立）</block>
  <block id="4381b3c378885de93e2166f240096338" category="cell">將iSCSI流量限制在特定的主機介面</block>
  <block id="5ff567e0863a47346f44f87ed793f508" category="cell">《UseCHAP》</block>
  <block id="32738663b16444872e4e5721c7c37660" category="cell">《存取群組》</block>
  <block id="c4ca01925aae0c37398f0b30a4ce1273" category="cell">要使用的存取群組ID清單</block>
  <block id="3185240fb49cba19667fbdf639f3271e" category="paragraph">此範例顯示使用CHAP驗證的後端檔案、並建立具有特定QoS保證的三種Volume類型模型。您很可能會使用「IOPS」儲存類別參數來定義儲存類別、以使用每個類別。</block>
  <block id="4d0d37d727675761e4c0e324eb57ca2f" category="list-text"><block ref="4d0d37d727675761e4c0e324eb57ca2f" category="inline-link-macro-rx"></block></block>
  <block id="ab4ce1634362493e6de248d103136787" category="cell">《使用CHAP》</block>
  <block id="7c6b65d42434282f1555f13b40e9fd25" category="cell">《chapInitiator機密》</block>
  <block id="c8a7a6136447a56280ecf99e3ed87d65" category="cell">CHAP啟動器密碼。如果是"useCHAP=true"、則為必要項目</block>
  <block id="948938ec6491061ccf17c7ae8eafbd26" category="cell">《chapTargetInitiator機密》</block>
  <block id="48db71efc42dda989b98744160575f4f" category="cell">CHAP目標啟動器機密。如果是"useCHAP=true"、則為必要項目</block>
  <block id="28687fafefb2992ff7856dcfd2c29e1f" category="cell">「chapUsername」</block>
  <block id="e3f84c141fd3f4682dfb31e0d71c7f5f" category="cell">傳入使用者名稱。如果是"useCHAP=true"、則為必要項目</block>
  <block id="62fbbf4cfd0cc0a82f953199d14a61e3" category="cell">《chapTargetUsername》</block>
  <block id="a379a576b788ab047d5e6405ff4f3511" category="cell">目標使用者名稱。如果是"useCHAP=true"、則為必要項目</block>
  <block id="036c0eabd455d8a92d350429f2f5747e" category="cell">要指派給所建立磁碟區的調適性QoS原則群組。選擇每個儲存集區/後端的其中一個qosPolicy或adaptiveQosPolicy</block>
  <block id="e6e049b4753c744e95db32b0eeed8d5c" category="paragraph">目前、只有調整大小、才能將新計算用於現有的Volume。</block>
  <block id="231cf4c70d866b616c21baddaeed0696" category="doc">疑難排解</block>
  <block id="40e41fb2db11266b8f751c0d5c67cba0" category="inline-link">NetApp知識庫（需要登入）</block>
  <block id="163fb9eb00818e2c7109900db1a3cc82" category="section-title">一般疑難排解</block>
  <block id="f504c27d1ad305a988958b64f34468cb" category="list-text">如果Trident pod無法正常啟動（例如、當Trident pod卡在「ContainerCreating」階段、且只有兩個可用的容器）、則執行「kubechtl -n trident描述部署Trident」和「kubectl -n trident描述pod trident -」 提供更多洞見。取得kubelet記錄（例如透過「journalctl -xeu kubelet」）也很有幫助。</block>
  <block id="05d68d1b7214c73141ed12aaed0c2ab5" category="list-text">如果Trident記錄中的資訊不足、您可以根據安裝選項、將「-d」旗標傳給安裝參數、嘗試啟用Trident的偵錯模式。</block>
  <block id="bc6de9cad530a57dba08ff711f4a6b5f" category="paragraph">然後使用「/tridentctl logs -n triident」確認偵錯設定、並在記錄中搜尋「level =偵錯msg」。</block>
  <block id="8e95ae46f32b05cf983c93e608530e36" category="list-text">與營運者一起安裝</block>
  <block id="94912f7fb206038e8527957b44dfbf25" category="paragraph">這會重新啟動所有Trident Pod、可能需要數秒鐘的時間。您可以查看輸出「kubecll Get pod - n triident」中的「年齡」欄位來檢查。</block>
  <block id="79b91d0489c081de6794796638793787" category="list-text">與Helm一起安裝</block>
  <block id="d356d628089d439d75e3f85564372658" category="list-text">安裝試用版</block>
  <block id="7f0ecdfa510b31b01d331c2760643b83" category="list-text">如果將PV掛載到容器時發生問題、請確定已安裝並執行「rpcbind」。使用主機作業系統所需的套件管理程式、檢查「rpcbind」是否正在執行。您可以執行「stystemctl狀態rpcbind」或其等效項目、來檢查「rpcbind」服務的狀態。</block>
  <block id="78aeadc89feb4cf244398a7d35a0d656" category="list-text">如果Trident後端回報雖然曾經工作、但仍處於「失敗」狀態、則可能是因為變更與後端相關的SVM/admin認證資料所致。使用「tridentctl update backend」更新後端資訊、或是退回Trident pod、將可修正此問題。</block>
  <block id="b851cfc28cd6e5cb9aaf87bdb59a68aa" category="list-text">如果在容器執行時間安裝Trident with Docker時遇到權限問題、請嘗試使用「-in cluster =fals'」旗標來安裝Trident。這不會使用安裝程式Pod、也不會因為「Trident安裝程式」使用者而造成權限問題。</block>
  <block id="6f7d49547ff47cfaf1fd93d134b603be" category="list-text">使用「uninstall參數&lt;uninstalling Trident &gt;」來在執行失敗後進行清理。根據預設、指令碼不會移除Trident所建立的客戶需求日、即使在執行中的部署中、也能安全地解除安裝及再次安裝。</block>
  <block id="f1112223b41fddc71fd6a626582dfb78" category="inline-link">Trident版本</block>
  <block id="51748ba3d16ecfd8c45c7ebf2043b738" category="list-text">成功安裝之後、如果某個永久虛擬磁碟卡在「Pending」（擱置）階段、執行「KECBECTL描述永久虛擬磁碟」可提供有關Trident為何無法為此永久虛擬磁碟配置PV的其他資訊。</block>
  <block id="0e89989064bf4afdc37fd5a7be4f607d" category="paragraph">如果您使用運算子來部署Trident、則「TridentOrchestrator」的狀態會從「安裝」變更為「安裝」。如果您看到「失敗」狀態、而且操作員本身無法恢復、您應該執行下列命令來檢查操作員的記錄：</block>
  <block id="df9771dbb13da45493e576499910c0b4" category="paragraph">追蹤Trident運算子容器的記錄可以指出問題所在。例如、其中一個問題可能是無法從無線環境中的上游登錄擷取所需的容器映像。</block>
  <block id="0fd4c6187c561958bc76052df7774593" category="paragraph">若要瞭解Trident安裝失敗的原因、您應該看看「TridentOrchestrator」狀態。</block>
  <block id="1e054f4c292a5388d6318461fe73d749" category="paragraph">此錯誤表示已存在用於安裝Trident的「TridentOrchestrator」。由於每個Kubernetes叢集只能有一個Trident執行個體、因此營運者可確保在任何指定時間只存在一個可建立的作用中「TridentOrchestrator」。</block>
  <block id="568fcf9beb0dbd37c57dff251a3164ed" category="paragraph">此外、觀察Trident Pod的狀態、通常會指出是否有不正確的情況。</block>
  <block id="f89c17ddb9f8bdaf5c95a466d5f6a500" category="paragraph">您可以清楚看到、由於未擷取一或多個容器映像、所以Pod無法完全初始化。</block>
  <block id="d57d1a6de03b2ddf3ee54f680152e2b6" category="paragraph">若要解決此問題、您應該編輯「TridentOrchestrator」。或者、您也可以刪除「TridentOrchestrator」、然後使用修改後的準確定義來建立新定義。</block>
  <block id="021e9ae5361eb14975bf9a30f99770f5" category="paragraph">為了協助您找出問題所在、您可以使用「-d'」引數再次執行安裝程式、這會開啟偵錯模式、並協助您瞭解問題所在：</block>
  <block id="01539f4f1fd20792cbbae6bb0506cc20" category="paragraph">在解決此問題之後、您可以依照下列步驟清理安裝、然後再次執行「tridentctl install」命令：</block>
  <block id="5a2ebfb8baa378cfcfcba58bbb1380c2" category="doc">需求</block>
  <block id="c777be7f669397b0a376fe32ca5cd9c3" category="section-title">支援的前端（協調器）</block>
  <block id="f787cd4b6963b13f12fa53131f58ef6c" category="section-title">支援的後端（儲存）</block>
  <block id="117bdbda976fe8b3212bc3b6327a0a1b" category="list-text">Cloud Volumes ONTAP</block>
  <block id="1d3d126b8a5bad69c46ed03734beed47" category="list-text">NetApp All SAN Array ASA （ESAN）</block>
  <block id="c7c7a6a5641f33e348244f9c43010e16" category="section-title">功能需求</block>
  <block id="21021ea0e52be8e9c599f4dff41e5be0" category="cell">功能</block>
  <block id="80afba45eb055fc9bdc48c90d1debd06" category="cell">Kubernetes版本</block>
  <block id="10f295a61d2a793ac8936a69cf458654" category="cell">需要功能閘道？</block>
  <block id="bafd7322c6e97d25b6299b5d6fe8920b" category="paragraph">否</block>
  <block id="e830b7e4d1fb7f84600876af87cb4381" category="cell">Volume Snapshot</block>
  <block id="ea8ed249117e76cb53766e218fe2b7c7" category="cell">來自Volume Snapshot的PVc</block>
  <block id="28dcded20f550dcad1bd9bb03a5bbe73" category="cell">iSCSI PV調整大小</block>
  <block id="1673543ed032e46f3572ba65bc070693" category="cell">資訊雙向CHAP ONTAP</block>
  <block id="176e16df4faab1a1e06e9585c813d5fe" category="cell">動態匯出原則</block>
  <block id="1f7219b07d5bce7feec002a9f4dc2201" category="cell">Trident運算子</block>
  <block id="443432948b68bb63d707ce7ecc4a021a" category="cell">csi拓撲</block>
  <block id="af7c8216a3289efe1a298a19c00b8b8c" category="section-title">已測試的主機作業系統</block>
  <block id="11ea58814ce429c3e3254a63f8cde7a4" category="paragraph">「tridentctl」公用程式也可在任何這些Linux版本上執行。</block>
  <block id="13d80777c8fd43e555c1f5b1b72d7ef0" category="section-title">主機組態</block>
  <block id="2139fe384d5ae165545994dff01961d9" category="section-title">儲存系統組態</block>
  <block id="923680056b0f0258907f498670b4ead1" category="section-title">Container映像和對應的Kubernetes版本</block>
  <block id="aa92c4c233bc01609d957e469736b699" category="cell">Container映像</block>
  <block id="a60c2f57df655a9ac5fcaa0750886195" category="summary">如果您剛開始使用Kubernetes、請依照指示安裝Kubernetes來試用。這些說明提供了一個裸機、單節點叢集、Trident可與該叢集整合以供示範之用。</block>
  <block id="a67cf6b087ff88dbfacec8375928995c" category="cell">「Debug」</block>
  <block id="2bccac20e55391730a985f9819e1cc41" category="cell">「autosupportImage」</block>
  <block id="84448c234dfdfd2a7367341fd4b56a80" category="cell">遙測的容器影像AutoSupport</block>
  <block id="f4a6821b04b9ce6b90148068341347b6" category="cell">「autosupportProxy」</block>
  <block id="e9f06180af644cfa6e5d20bd67c03bc5" category="cell">解除安裝</block>
  <block id="7610c5cc7910022402c4fbd450d889ce" category="cell">「TridentImage」</block>
  <block id="8088435dc0e1c8b85217d850d3e7a602" category="cell">「影像登錄」</block>
  <block id="e6b96cbb467923e86672bb25db5ecebb" category="cell">《kubeletDir</block>
  <block id="2d30d1348c4d2533a165827a22516caa" category="cell">「imagePullSecrets」</block>
  <block id="b89df534de66f446ec6482f9d7898bb2" category="cell">「controllerPluginNodeSelector」</block>
  <block id="8d414af35aeb82413205fa45551a5545" category="cell">無預設值；選用</block>
  <block id="df1f367efe879ec0030f43610e29c5af" category="cell">「控制器插件」</block>
  <block id="47a441037628a3c0f0edb0daccb33f99" category="cell">「nodePluginNodeSelector」</block>
  <block id="f297db5a937924105908a365d9d4c4ff" category="cell">「nodePluginBolerations」</block>
  <block id="4352a1b4e004cf57ac04661a18de43aa" category="inline-link-macro">將Pod指派給節點</block>
  <block id="e0e3d7f1aacdf4a8196132549709430c" category="doc">使用tridentctl部署</block>
  <block id="4a052772dca278b7be31d54ca9f21831" category="inline-link-macro">基本概念</block>
  <block id="dd3de2609b612d76ef4c71b97b8d6100" category="inline-link">請依照他們的步驟啟用CLI存取</block>
  <block id="c585967fa32d82c5e3c24bd63926c6a0" category="list-text">如果您使用Kubernetes搭配Docker Enterprise、<block ref="57562caf1c76e1a261b7e2f8c3d113f9" category="inline-link-rx"></block>。</block>
  <block id="ea8cda06a0e70ad34c1b9ab1b7135105" category="inline-link-macro">支援的Kubernetes叢集</block>
  <block id="7358b1fd077fa65f88fff87888fd2547" category="inline-link">Trident安裝程式套裝組合</block>
  <block id="02ed10abbc71334918b1acb54df6e3f3" category="list-text">從Kubernetes叢集複製組態檔、然後在遠端機器上設定「KUBECCONFIG」環境變數。</block>
  <block id="da693b77cde91654c6296abe8f901988" category="list-text">啟動「kubectl Get nodes」命令、確認您可以連線至所需的Kubernetes叢集。</block>
  <block id="df65ec31c6f96e95301e3c6ff8863335" category="list-text">使用標準安裝步驟、從遠端機器完成部署。</block>
  <block id="25c11af81bf0b01ce7b0f24ddc9f7136" category="section-title">其他已知組態選項</block>
  <block id="8ded34c5caad3971bb6d0a2b202d7b32" category="list-text">叢集必須支援特殊權限的工作負載。</block>
  <block id="dbe38f4f0d856b41827e6e4531720a5e" category="list-text">「-kubelet-dir」旗標應設定為kubelet目錄的位置。依預設、這是「/var/vcap/data/kubelet」。</block>
  <block id="4dc3529fbf05312075f0aa52f9c0908e" category="paragraph">使用「-kubelet-dir」指定kubelet位置、已知適用於Trident運算子、Helm及「tridentctl」部署。</block>
  <block id="bbe2bfefd5797bb567e3da92f68ce8d1" category="doc">自訂試用部署</block>
  <block id="8355509d170c8a61d236e927a5fcc6e2" category="paragraph">如果您使用Kubernetes的發佈方式、而其中的「kubelet」將資料保留在通常「/var/lib/kubelet」以外的路徑上、您可以使用「-kubelet-dir」來指定替代路徑。</block>
  <block id="47cd697cf3c9dcf916f70a0007956c1d" category="paragraph">如果您需要自訂安裝、而不需要安裝程式的引數允許、也可以自訂部署檔案。使用「-generame-custom-yaml」參數、可在安裝程式的「設置」目錄中建立下列Yaml檔案：</block>
  <block id="0858f0ee003d52951161848adffe1b31" category="list-text">《三叉叢集繫結.yaml》</block>
  <block id="af73689aedfa47bd2a7cf144917b0642" category="list-text">《三叉部署：yaml》</block>
  <block id="1d53fd876245951bb003eb47849ff39d" category="list-text">《三叉怪怪怪怪怪怪怪怪怪怪怪怪怪怪怪怪怪怪怪怪怪怪</block>
  <block id="b17dbe8acaeca82c72d25948de03eefc" category="list-text">《Trident - clusterroy.yaml》</block>
  <block id="ecb2b56a094cc1cbd3ac263b23d91f8b" category="list-text">《三叉魔魔怪、yaml》</block>
  <block id="c5e462ae653234d0ea0e98a000e62a97" category="list-text">《Trident服務：yaml》</block>
  <block id="f1347677de6873f8ddce6d736cba9a63" category="list-text">《Trident命名空間.yaml》</block>
  <block id="2539c7e25ada2a2cdae0eb4c4633b893" category="list-text">「Trident服務帳戶」。yaml</block>
  <block id="385d099ed91e83dbe20ea05fbed68e22" category="paragraph">產生這些檔案之後、您可以根據自己的需求加以修改、然後使用「-use自訂-yaml」來安裝自訂部署。</block>
  <block id="2e1b3f44683eee188be985693c4af5e1" category="list-text">Helm版本3</block>
  <block id="e366a20246a41520da551be510c1d658" category="paragraph">安裝期間有兩種傳遞組態資料的方法：</block>
  <block id="e420b75ec3bc014e3f69c43b2383768b" category="admonition">使用OpenShift時、請在所有範例中使用「oc"而非「kubecll」、然後先執行「ocLogin -u system:admin」或「occ login-u kube-admin」、以*系統：admin*登入。</block>
  <block id="dbbf8c6ec95775d28c3c6da1878bf8c3" category="list-text">營運者本身</block>
  <block id="a770ca95121cc795b602f9af6af024fb" category="admonition">Kubernetes叢集中只應有*一個運算子執行個體*。請勿建立Trident營運者的多個部署。</block>
  <block id="ec53a8c4f07baed5d8825072c89799be" category="cell">狀態</block>
  <block id="2763f33c904a183bd0ef06f9c4fb4403" category="cell">安裝</block>
  <block id="98dd43dfae05b11befe1f140e0ec787a" category="cell">已安裝</block>
  <block id="c2aaea4dacecce78b34302e41fcef75e" category="cell">正在解除安裝</block>
  <block id="b78846123fdd78d5ab62451b855194e3" category="cell">已解除安裝</block>
  <block id="d7c8c85bf79bbe1b7188497c32c3b0ca" category="cell">失敗</block>
  <block id="6909beea5b50605780e3411f879fe916" category="cell">正在更新</block>
  <block id="3201d58137fab497dea740d761a9733b" category="cell">營運者正在更新現有的安裝。</block>
  <block id="902b0d55fddef6f8d651fe1035b7d4bd" category="cell">錯誤</block>
  <block id="efaeca66375c8663b6d1d64f4886f267" category="cell">不使用「TridentOrchestrator」。另一個已經存在。</block>
  <block id="ea355214fd4bc7c57f471bd92918879b" category="doc">部署</block>
  <block id="d89d3b3161292ef0c65342cbe80e883f" category="section-title">部署至專屬命名空間</block>
  <block id="13d28e8dfc702e3456e0767dff9a128a" category="inline-link">命名空間</block>
  <block id="853cf568613b7eec1486421468e18b9b" category="paragraph">此外、存取Trident Pod可能會讓使用者存取儲存系統認證和其他敏感資訊。請務必確保應用程式使用者和管理應用程式無法存取Trident物件定義或Pod本身。</block>
  <block id="2c8e89de5c6bf68b180cff5fea545167" category="section-title">使用配額和範圍限制來控制儲存使用量</block>
  <block id="74444eaf90c31d151645e59dcab0468d" category="inline-link">儲存配額機制</block>
  <block id="1d81c150d54eae0c49d9cfeb8d493b0f" category="inline-link">範圍限制</block>
  <block id="94104e476fe547cf6237480cacae5ed5" category="paragraph">Kubernetes有兩項功能、一旦結合、就能提供強大的機制來限制應用程式的資源使用量。。<block ref="bff513af91e6751aca3d34ef714e3b91" category="inline-link-rx"></block> 可讓系統管理員針對每個命名空間來實作全域和儲存類別的容量和物件數使用限制。此外、請使用<block ref="dbe9770513b0f7245f1fe016d20ebb70" category="inline-link-rx"></block> 確保在將要求轉送至資源配置程式之前、永久虛擬機器要求的最小值和最大值都在內。</block>
  <block id="4f9253eda0573e387f86d7777aafff03" category="inline-link">如何運用配額</block>
  <block id="923169151e05d28a3474b2a033666297" category="paragraph">這些值是以每個命名空間為基礎來定義、這表示每個命名空間都應該定義符合其資源需求的值。如需相關資訊、請參閱此處<block ref="5b289b2ffde01314d8b0d038aabd709b" category="inline-link-rx"></block>。</block>
  <block id="698aa9df4c2c5470599821c3d10620dd" category="summary">Kubernetes叢集通常由兩種類型的節點組成、每種節點負責不同的功能層面。</block>
  <block id="6e8775bd755a8835ce86806d669677ea" category="doc">儲存組態</block>
  <block id="ac5112696fd64ee051846c666ebebebe" category="paragraph">您應該遵循主機作業系統的基礎最佳實務做法、以及您所使用的傳輸協定。或者、您可能想要考慮在可用的情況下、將應用程式最佳實務做法與後端、儲存類別和永久虛擬基礎架構設定整合、以最佳化特定應用程式的儲存。</block>
  <block id="efc9d085ca2f3a152c786357e9359c03" category="section-title">最佳實務做法ONTAP Cloud Volumes ONTAP</block>
  <block id="a3f99d5d44515cf922e6b525de736173" category="paragraph">瞭解設定ONTAP 適用於Cloud Volumes ONTAP Trident的功能性及功能性的最佳實務做法。</block>
  <block id="76d50c7d0f100e6264e0d57727d099f1" category="paragraph">以下建議是設定ONTAP 以容器化工作負載為基礎的功能指南、這些功能會消耗Trident動態配置的磁碟區。每個項目都應考量及評估是否適合您的環境。</block>
  <block id="3fb21976d2729216782dd61ffed84a54" category="section-title">使用Trident專用的SVM</block>
  <block id="fa4e21d3612a3f737c7a4ac7ebf24950" category="paragraph">儲存虛擬機器（SVM）可隔離ONTAP 及管理各個客戶在一個系統上的區隔。將SVM專用於應用程式可委派權限、並可套用最佳實務做法來限制資源使用量。</block>
  <block id="3dc5510a67688b81f0d6d0db440da909" category="paragraph">SVM管理有多種選項可供選擇：</block>
  <block id="fe425a9419fa4d05d42131c26306e4f1" category="list-text">在後端組態中提供叢集管理介面、以及適當的認證、然後指定SVM名稱。</block>
  <block id="e2160df70bcda0ee43cb3c66dc22c719" category="list-text">使用ONTAP 支援功能的支援中心或CLI、為SVM建立專屬的管理介面。</block>
  <block id="2bf2fa2c1c3a6e10095db72759cc9983" category="list-text">與NFS資料介面共用管理角色。</block>
  <block id="5cf4c2e89b362842d77f4e4209c4ef99" category="paragraph">在每種情況下、介面都應該位於DNS中、而且在設定Trident時、應該使用DNS名稱。這有助於推動一些DR案例、例如不使用網路身分保留功能的SVM-DR。</block>
  <block id="6a392b5e005fffe32231c94dc96a1605" category="inline-link">SVM-DR</block>
  <block id="2b4a6ee2db063653d6076884295a3854" category="paragraph">不過、您並不偏好為SVM設定專屬或共享的管理LIF、不過您應該確保網路安全性原則符合您選擇的方法。無論如何、管理LIF都應透過DNS存取、以達到最大的靈活度<block ref="f5e9502989ce78934689806ebb69606a" category="inline-link-rx"></block> 與Trident搭配使用。</block>
  <block id="4a0ee008d3379206a925ade3a9e707dd" category="section-title">限制最大Volume數</block>
  <block id="e5e09031843479ef9ef8cbbd4c2f404c" category="inline-link">NetApp Hardware Universe</block>
  <block id="39da19b7dd55941b6cdabf34befc0b4c" category="paragraph">Trident的「ONTAP-NAS」和「ONTAP-SAN」驅動程式會為每個建立的Kubernetes持續Volume（PV）提供FlexVolume。「ONTAP-NAS-P節約」驅動程式可為每200個PV建立約一個FlexVolume（可設定為50到300個）。「ONTAP-san經濟型」驅動程式可為每100個PV建立約一個FlexVolume（可設定為50到200個）。若要避免Trident佔用儲存系統上的所有可用磁碟區、您應該在SVM上設定限制。您可以從命令列執行此動作：</block>
  <block id="f36680e3d3cb96c74d2f1a54c3c4a0fa" category="paragraph">「最大用量（max volume）的值會根據您環境的幾項特定條件而有所不同：</block>
  <block id="5f6d1abb6889904ee0375b2fc6c8f078" category="list-text">在叢集中現有的Volume數量ONTAP</block>
  <block id="029383c13d9ad2c5ba18a16f8fbe2002" category="list-text">您預期在Trident外部配置其他應用程式的Volume數量</block>
  <block id="02f4ac473b944a63551d51d727b5bb49" category="list-text">Kubernetes應用程式預期會使用的持續磁碟區數量</block>
  <block id="1d3555f20ac0a2897a1596631b5fb27a" category="paragraph">「最大容量」值是ONTAP 指在整個叢集中所有節點上配置的總Volume、而非在個別ONTAP 的節點上配置的總Volume。因此ONTAP 、您可能會遇到一些情況、例如、某個叢集節點的資源配置量可能遠高於或低於其他節點。</block>
  <block id="46710fe77f663864a23e02a880a9ae53" category="inline-link">集合體</block>
  <block id="7ef3217c984ef7f973d389e434be312c" category="section-title">限制Trident所建立的Volume大小上限</block>
  <block id="031b203330c3abb94f6fa406ff721de4" category="paragraph">若要設定Trident可建立的磁碟區大小上限、請在「backend.json」定義中使用「limitVolume Sizes」參數。</block>
  <block id="1c19414de17c9992b25b0a1b02a52715" category="paragraph">除了控制儲存陣列的磁碟區大小、您也應該善用Kubernetes功能。</block>
  <block id="85c0f9773e01224a56713ea4e6d83b86" category="section-title">設定Trident使用雙向CHAP</block>
  <block id="2596e59ce5cd0d1b0066656f191365d0" category="section-title">建立並使用SVM QoS原則</block>
  <block id="560417d4f795b7e1176a40db8e4ccca8" category="inline-link">預防欺凌</block>
  <block id="4870168b0713fe3089cf587858fc3b40" category="paragraph">運用ONTAP 套用至SVM的SVM的SQoS原則、限制Trident佈建磁碟區所耗用的IOPS數量。這對我們有幫助<block ref="1b59d76842e8b78d6111d3e73e9cd404" category="inline-link-rx"></block> 或失控的容器、避免影響Trident SVM以外的工作負載。</block>
  <block id="d6ab867679686745d96bea839929a6de" category="paragraph">您可以在幾個步驟中建立SVM的QoS原則。如ONTAP 需最準確的資訊、請參閱您的版次更新文件。以下範例建立QoS原則、將SVM可用的總IOPS限制為5000。</block>
  <block id="c790de304b7ca0097f2133cf9da4e657" category="paragraph">此外、如果ONTAP 您的版本支援此功能、您可以考慮使用QoS下限來保證容器化工作負載的處理量。調適性QoS與SVM層級原則不相容。</block>
  <block id="38c0b69f6b2ee691e1ba568134513414" category="paragraph">容器化工作負載專用的IOPS數量取決於許多層面。其中包括：</block>
  <block id="ddbd18591c9b7378c6187dbd9179e1f0" category="list-text">使用儲存陣列的其他工作負載。如果有其他工作負載與Kubernetes部署無關、請善用儲存資源、確保這些工作負載不會意外受到不良影響。</block>
  <block id="5da5727b396cee5b024364d989fe253b" category="list-text">預期的工作負載會在容器中執行。如果將在容器中執行高IOPS需求的工作負載、低QoS原則會導致不良體驗。</block>
  <block id="e6f229b5d5d2421c4306920759828212" category="paragraph">請務必記住、在SVM層級指派的QoS原則會導致所有已配置給SVM的磁碟區共用相同的IOPS集區。如果其中一種或少數幾種容器化應用程式的IOPS需求較高、可能會成為其他容器化工作負載的一大功臣。如果是這種情況、您可能需要考慮使用外部自動化來指派每個Volume QoS原則。</block>
  <block id="ac2167b1e02d575eb6ddfe4e58f5cdcf" category="admonition">如果您的版本早於ONTAP 9.8、您應該將QoS原則群組指派給SVM * Only *。</block>
  <block id="9992cae6c17055c750a849c5f6135eb2" category="section-title">為Trident建立QoS原則群組</block>
  <block id="76a3e54f72b3a7224429f111e58f836c" category="inline-link">保證QoS的處理量</block>
  <block id="0394fb1288eac4cd3d40bcd991e079e9" category="paragraph">包含兩種QoS原則群組：傳統和可調適。ONTAP傳統原則群組可在IOPS中提供最大（或最小）的單位處理量（在較新版本中）。調適性QoS會自動將處理量調整至工作負載大小、並隨著工作負載大小變更、維持IOPS與TBs的比率。當您在大型部署中管理數百個或數千個工作負載時、這項優勢就相當顯著。</block>
  <block id="f5acc65a21daed9bb8e91cb5cdd0ae52" category="paragraph">建立QoS原則群組時、請考量下列事項：</block>
  <block id="6d5fcf300cd9e9239c26ce37b0919fca" category="list-text">您應該在後端組態的「故障」區塊中設定「qosPolicy」金鑰。請參閱下列後端組態範例：</block>
  <block id="32160c2368452bf7d86bcffae7f142be" category="list-text">您應該為每個Volume套用原則群組、以便每個Volume都能獲得原則群組指定的整個處理量。不支援共用原則群組。</block>
  <block id="d5d2a5bc92eea85a4dd11a642ed8a170" category="section-title">限制Kubernetes叢集成員存取儲存資源</block>
  <block id="9602ec8691c1a564016f9fd8086139f1" category="paragraph">請務必瞭解命名空間是Kubernetes中資源的邏輯邊界。假設相同命名空間中的資源可以共用、但重要的是、沒有跨命名空間功能。這表示即使PV是全域物件、但只有在同一個命名空間中的Pod才能存取它們。*確保命名空間在適當時用於提供分隔是非常重要的。*</block>
  <block id="1162be0546226cff2cbd973cd2140d33" category="paragraph">大多數組織對於Kubernetes內容中的資料安全性、主要關注的是、容器中的程序可以存取掛載到主機的儲存設備、但不適用於容器。 <block ref="962cfea7b49ca7b2d398d891b4313cb5" category="inline-link-rx"></block> 旨在防止這類入侵。不過、有一個例外：特殊權限容器。</block>
  <block id="7b10e929cc2e0061dfb50042a0203c79" category="inline-link">Pod安全性原則</block>
  <block id="76db1afb772160283f7f86cdd67c35f8" category="paragraph">與正常情況相比、特權容器的執行主機層級權限大幅增加。依預設不會拒絕這些功能、因此請務必使用停用該功能<block ref="e5ab4ede40a4a6a5f5684247585b5fb0" category="inline-link-rx"></block>。</block>
  <block id="5fabba1d91abcfb09b6049897727e91c" category="paragraph">對於需要從Kubernetes和外部主機存取的磁碟區、儲存設備應以傳統方式進行管理、由系統管理員引進PV、而非由Trident管理。這可確保只有在Kubernetes和外部主機中斷連線且不再使用磁碟區時、才會銷毀儲存磁碟區。此外、也可以套用自訂匯出原則、以便從Kubernetes叢集節點和Kubernetes叢集以外的目標伺服器存取。</block>
  <block id="e38f5be5ff6a8a362870a032acdf5d2f" category="section-title">使用專屬的匯出原則</block>
  <block id="28af9e32119f59018dd5d887ad93ccd4" category="paragraph">或者、您也可以手動建立匯出原則、並以一或多個匯出規則填入、以處理每個節點存取要求：</block>
  <block id="4ae1e64986504dce6897746ebc9d2786" category="list-text">使用「vserver匯出原則建立」ONTAP 的flexcli命令來建立匯出原則。</block>
  <block id="cd0a9fca1fb3ba0fcdd98d0e87cb78a9" category="list-text">使用「vserver匯出原則規則create」ONTAP 的CLI命令、將規則新增至匯出原則。</block>
  <block id="bc3a2f6421da1e870583cfb0b9cf4a91" category="paragraph">執行這些命令可讓您限制哪些Kubernetes節點可以存取資料。</block>
  <block id="08f1d9a2f49f56965b640bc15796cd61" category="paragraph">您應該使用SVM層級ONTAP 的CLI命令來停用「show mount」：</block>
  <block id="648e0e1a6a98e76bdfe9780c42dacb6b" category="section-title">最佳實務做法SolidFire</block>
  <block id="89f93e411a40f5c6365a4703e004f15b" category="paragraph">瞭解設定SolidFire Trident之用的功能完善的功能。</block>
  <block id="52f311b56fcd9d4fb074918af9b7c7f9" category="section-title">建立SolidFire 支援帳戶</block>
  <block id="b0dd2707e9f12b5e1fda314748ffa386" category="paragraph">每SolidFire 個驗證帳戶都代表唯一的磁碟區擁有者、並會收到自己的挑戰握手驗證傳輸協定（CHAP）認證資料。您可以使用帳戶名稱和相對CHAP認證、或是透過Volume存取群組、來存取指派給帳戶的磁碟區。帳戶最多可指派2、000個磁碟區、但一個磁碟區只能屬於一個帳戶。</block>
  <block id="eaf4b71058f7db58997dfe694c62a96a" category="section-title">建立QoS原則</block>
  <block id="fd640dfd679c3a7e40aa99c3e08c8294" category="paragraph">如果您想建立並儲存可套用至許多Volume的標準化服務品質設定、請使用SolidFire 「服務品質（QoS）」原則。</block>
  <block id="41be5238fc563c2aac0a0e6ee4cf6e96" category="paragraph">您可以設定每個Volume的QoS參數。設定三個可設定的參數來定義QoS、以確保每個Volume的效能：最小IOPS、最大IOPS和爆發IOPS。</block>
  <block id="48e4bd34fd7a9e1233ea82bc818a3161" category="paragraph">以下是4KB區塊大小的可能最小、最大和尖峰IOPS值。</block>
  <block id="8e4988a1e5f387efce6f20e4f25a8e40" category="cell">IOPS參數</block>
  <block id="0b890b1926b90387673882e6ccae7fdc" category="cell">定義</block>
  <block id="96a22bf638896c990d26e043087fb6b0" category="cell">最小價值</block>
  <block id="31ce3cdcd67850870b616f75b555bbc5" category="cell">預設值</block>
  <block id="c9fb55be94277b8390352c215f32d44c" category="cell">最大價值（4KB）</block>
  <block id="b05f9ccd772b396ac1f5a05345a9d4f8" category="paragraph">最小IOPS</block>
  <block id="2b30c179facf62f8a2bdbd1b09b37b96" category="paragraph">保證磁碟區效能等級。</block>
  <block id="c0c7c76d30bd3dcaefc96f40275bdc0a" category="cell">50</block>
  <block id="3f74a886c7f841699690962c497d4f30" category="paragraph">15000</block>
  <block id="4f5a6f8b41826526724ba294b8e056bd" category="paragraph">最大IOPS</block>
  <block id="4e41c5ccaf1affa697729ea4d1e88554" category="paragraph">效能不會超過此限制。</block>
  <block id="e05695d29cb4a9339534e5a9c273fa14" category="paragraph">20萬</block>
  <block id="affd4aba1c5f696e972368c9eb698c65" category="paragraph">暴增IOPS</block>
  <block id="2734923c054f38d8ca66133414af4469" category="paragraph">在短時間暴增案例中允許的最大IOPS。</block>
  <block id="e2eb05f1ef7720127ac371ceddc6f433" category="admonition">雖然最大IOPS和爆發IOPS可設定為高達20、000、但實際的Volume最大效能卻受到叢集使用量和每節點效能的限制。</block>
  <block id="fa9b1a3006e0ba9ad904c059c0b9add6" category="inline-link">服務品質SolidFire</block>
  <block id="b4657825f74ed622384dddf3a1d7d3b7" category="section-title">驗證SolidFire</block>
  <block id="9d3b5ff1cde828a63203f0465a34a967" category="paragraph">Element支援兩種驗證方法：CHAP和Volume Access Groups（VAG）。CHAP使用CHAP傳輸協定驗證主機到後端的驗證。Volume存取群組可控制對其所配置之Volume的存取。NetApp建議使用CHAP進行驗證、因為它更簡單、而且沒有擴充限制。</block>
  <block id="fc9e812321a3f9b0eab1b702a08bab4e" category="admonition">Trident搭配增強的csi佈置程式、可支援使用CHAP驗證。VAG只能在傳統的非csi操作模式下使用。</block>
  <block id="d23eaa75b7bd1405526da0e18b7290ac" category="paragraph">CHAP驗證（驗證啟動器是否為預定的Volume使用者）僅支援帳戶型存取控制。如果您使用CHAP進行驗證、則有兩個選項可供使用：單向CHAP和雙向CHAP。單向CHAP使用SolidFire 驗證帳戶名稱和啟動器密碼來驗證Volume存取。雙向CHAP選項提供最安全的驗證磁碟區方法、因為磁碟區會透過帳戶名稱和啟動器密碼來驗證主機、然後主機會透過帳戶名稱和目標密碼來驗證磁碟區。</block>
  <block id="42d135bea104c1079cebd1543c89e970" category="paragraph">但是、如果無法啟用CHAP且需要VAG、請建立存取群組、然後將主機啟動器和磁碟區新增至存取群組。您新增至存取群組的每個IQN都可以使用或不使用CHAP驗證來存取群組中的每個磁碟區。如果iSCSI啟動器設定為使用CHAP驗證、則會使用帳戶型存取控制。如果iSCSI啟動器未設定為使用CHAP驗證、則會使用Volume Access Group存取控制。</block>
  <block id="b4931a42b69dbf4e721e7b97873b1ebb" category="section-title">哪裡可以找到更多資訊？</block>
  <block id="2c3a4d5c923121574c10ea22c0474a01" category="inline-link">NetApp資料庫</block>
  <block id="65840df7365892d2abe1280cb6cdb1d2" category="paragraph">以下列出部分最佳實務做法文件。搜尋<block ref="4caccef7312f2c398bfbb419629c1a78" category="inline-link-rx"></block> 適用於最新版本。</block>
  <block id="d911b17f4f4cdcca62a04ad77aa9403d" category="paragraph">*《*》ONTAP</block>
  <block id="f9dd52d280693dc59e53b6e1fb7bd801" category="inline-link">NFS最佳實務與實作指南</block>
  <block id="5ca34d6ffc2a555b689542e3fbeeb7af" category="inline-link">適用於RHEL的iSCSI Express組態</block>
  <block id="36588ac65dcdb9b93916fb0ab708edb3" category="list-text"><block ref="36588ac65dcdb9b93916fb0ab708edb3" category="inline-link-rx"></block></block>
  <block id="ca7ab5ec4cba84fbef55956bb38759ce" category="paragraph">*元件軟體*</block>
  <block id="e809d9f88c2933195c4d2ab379c1b5dc" category="inline-link">設定SolidFire 適用於Linux的功能</block>
  <block id="ce0470e08aa854a8f93fa119434e8422" category="list-text"><block ref="ce0470e08aa854a8f93fa119434e8422" category="inline-link-rx"></block></block>
  <block id="d64280eb12d42bb67976ffba6d268e7b" category="paragraph">*《*》NetApp HCI</block>
  <block id="3bc72bedcc42d144356d4f933c48485d" category="inline-link">部署先決條件NetApp HCI</block>
  <block id="85bfffc1a1f7aaabd6cf58841640c308" category="list-text"><block ref="85bfffc1a1f7aaabd6cf58841640c308" category="inline-link-rx"></block></block>
  <block id="b52e411998b7d3a95ad5bd8a320bf271" category="inline-link">存取NetApp部署引擎</block>
  <block id="9d0da73b02655dd7861121905db229e2" category="list-text"><block ref="9d0da73b02655dd7861121905db229e2" category="inline-link-rx"></block></block>
  <block id="9aaca8cfd79770bc4944ccc477e37141" category="paragraph">*應用程式最佳實務做法資訊*</block>
  <block id="27a5e02bc2fadee43ace94805739a0c8" category="inline-link">MySQL ONTAP 的最佳實務做法</block>
  <block id="17efdd7d210511985714be299d595292" category="inline-link">MySQL SolidFire 的最佳實務做法</block>
  <block id="d03b53d8ec563c37e16ee8c900a75b96" category="list-text"><block ref="d03b53d8ec563c37e16ee8c900a75b96" category="inline-link-rx"></block></block>
  <block id="3aefe1a041af945f1fe8673bf775057b" category="inline-link">NetApp SolidFire 的功能與Cassandra</block>
  <block id="6e580111d3a8c12cdcd9522a4d3484c6" category="inline-link">Oracle SolidFire 的最佳實務做法</block>
  <block id="6448cf37496207be126495e5b05851de" category="inline-link">PostgreSQL SolidFire 的最佳實務做法</block>
  <block id="b062996d6ca590abe798d3db75561f79" category="paragraph">並非所有應用程式都有特定的準則、請務必與您的NetApp團隊合作並使用<block ref="4caccef7312f2c398bfbb419629c1a78" category="inline-link-rx"></block> 以尋找最新的文件。</block>
  <block id="1fdc23c8579638d050b7b219da011f2b" category="section-title">驅動程式選擇與部署</block>
  <block id="815a377da65ae5b66c84438c43416d82" category="paragraph">較高層級的應用程式若有需要共用儲存設備的元件（多個Pod存取相同的PVc）、則以NAS為基礎的驅動程式將是預設選擇、而區塊型iSCSI驅動程式則可滿足非共用儲存設備的需求。根據應用程式的需求、以及儲存設備和基礎架構團隊的舒適度來選擇傳輸協定。一般而言、大多數應用程式的差異不大、因此通常是根據是否需要共用儲存設備（如果有多個Pod需要同時存取）來決定。</block>
  <block id="c2c889ded63fbe94cf7f1d5fe4747b2d" category="list-text">「ONTAP-NAS」：每個提供的PV都是ONTAP 完整的FlexVolume。</block>
  <block id="9418583a1b7e700d24bcc735aa4682b5" category="list-text">「ONTAP-NAS-EAS'：每個已配置的PV都是qtree、每個FlexVolume可設定的qtree數量（預設值為200）。</block>
  <block id="bc8f11db54909209ba09d55ee0b46990" category="list-text">「ONTAP-NAS-flexgroup」：每個PV均以ONTAP FlexGroup 完整的形式配置、並使用指派給SVM的所有集合體。</block>
  <block id="5e587346b7a212ee6429303276a1578b" category="list-text">「ONTAP-san」：每個已配置的PV都是其FlexVolume內的LUN。</block>
  <block id="85f6f5093b037b5bde3201d8136ee585" category="list-text">「ONTAP-san經濟」：每個配置的PV都是LUN、每個FlexVolume有可設定的LUN數量（預設值為100）。</block>
  <block id="f1d8371af632688748db007c98766ded" category="paragraph">在這三種NAS驅動程式之間選擇、會對應用程式可用的功能產生一些影響。</block>
  <block id="6252699c8e049f40eaf187092727a531" category="cell">ASNAS驅動程式ONTAP</block>
  <block id="9147e5e61a7b9260dec09f3a6eb3e5be" category="cell">快照</block>
  <block id="999cc42b236c7aee1157ff02d6f1bcd5" category="cell">複製</block>
  <block id="13bc190bfed9f972b3e33e3656737cdd" category="cell">動態匯出原則</block>
  <block id="ab0c646b4c5e36d9bcf8239d97fd1843" category="cell">多重附加</block>
  <block id="8f2db90dd4a6fbd95ba8f0bc54fd6b27" category="cell">QoS</block>
  <block id="9d723d04c40bfd81835c0766a698cf63" category="cell">調整大小</block>
  <block id="8c340dc334134096f68b880b42a8692c" category="cell">複寫</block>
  <block id="6bfc395e3d384b30d9f43ca45b1eeff7" category="cell">是註腳：5[]</block>
  <block id="7c078cb746c3dd22969c07747fd7f3fc" category="cell">是註腳：1[]</block>
  <block id="f916141465c67326e5d7d980bff2880b" category="cell">支援SAN驅動程式ONTAP</block>
  <block id="4f546cdc5f90f7d264cde89d14c6e015" category="cell">雙向CHAP</block>
  <block id="e78e01b4457814be0584f80618e4659a" category="cell">是註腳：4[]</block>
  <block id="74b4b41be17ac9897921032dfd4e94a8" category="paragraph">非PV精細的功能會套用至整個FlexVolume、而所有PV（即共享FlexVols中的qtree或LUN）都會共用一個共同排程。</block>
  <block id="b483d59c54aea739f0806cf2f30c057e" category="paragraph">如以上表格所示、「ONTAP-NAS」與「ONTAP-NAS經濟」之間的大部分功能都相同。不過、由於「ONTAP - NAS經濟」驅動程式限制了以每個PV精細度控制排程的能力、因此這可能會特別影響您的災難恢復與備份規劃。對於想要在ONTAP 不支援的儲存設備上使用永久虛擬複製功能的開發團隊、只有在使用「ONTAP-NAS」、「ONTAP-SAN」或「ONTAP-SAN經濟」驅動程式時、才有可能做到這一點。</block>
  <block id="45f7f2e55c0930a28d1a9e481e602a09" category="admonition">「Poolidfire - san」驅動程式也能複製PVCS。</block>
  <block id="986d46700a93c1b67573285912b2a857" category="paragraph">支援資料控管功能、並提供企業級的儲存功能、適用於各種使用案例、包括檔案共用、區塊層級儲存設備（NFS、SMB / CIFS及iSCSI）Cloud Volumes ONTAP 。Cloud Volume ONTAP 的相容驅動程式為「ONTAP-NAS」、「ONTAP-NAS經濟」、「ONTAP-SAN」和「ONTAP-SAN經濟」。適用於ONTAP Azure的Cloud Volume供應、適用於ONTAP GCP的Cloud Volume供應。</block>
  <block id="e040ac9827d856d3ad8ae9ac0da92295" category="paragraph">NetApp HCI / SolidFire平台搭配使用的「Poolidfire」驅動程式、可協助管理員根據QoS限制、為Trident設定元素後端。如果您想要設計後端、以便針對Trident提供的磁碟區設定特定的QoS限制、請在後端檔案中使用「type」參數。管理員也可以使用「limitVolume Siz」參數、限制儲存設備上可建立的磁碟區大小。目前、磁碟區大小調整和磁碟區複寫等元素儲存功能不支援使用「Poolidfire - san」驅動程式。這些作業應透過Element Software Web UI手動完成。</block>
  <block id="77e9d6f249e4626d5b5c3aec863459d3" category="cell">驅動程式SolidFire</block>
  <block id="9ef2bbb12ff72558472202561a25058d" category="cell">CHAP</block>
  <block id="0929973a1c9993903f6193add75b3fcf" category="cell">是註腳：2[]</block>
  <block id="4da613089cbda3d7c19cb4b3f67c1f5d" category="cell">驅動程式Azure NetApp Files</block>
  <block id="8098b34f582537833b36b58273c3545b" category="cell">展開</block>
  <block id="3af6198d49c40c18f13c73c5ce15cf34" category="section-title">儲存層級設計</block>
  <block id="388bdf78cbb5b6bf4248ddf5613f7cc3" category="paragraph">需要設定並套用個別的儲存類別、才能建立Kubernetes儲存類別物件。本節將討論如何為應用程式設計儲存類別。</block>
  <block id="a09acd5f665bdf96b6dce47f8d4265e3" category="paragraph">篩選功能可在特定的儲存類別物件內使用、以決定要搭配該特定儲存類別使用的儲存資源池或集區集區集區。儲存類別可設定三組篩選器：「儲存設備」、「其他儲存設備」及/或「排除儲存設備」。</block>
  <block id="74476e892d2681775eb41ec00a11e8da" category="paragraph">「exclude StoragePools」參數是用來明確排除列出的符合屬性的集區集區集區集區。</block>
  <block id="ab807e6bd2f9cb9872eed98161bdd4e1" category="paragraph">如果您想設計儲存類別來模擬服務品質原則、請建立儲存類別、並將「媒體」屬性設定為「HDD」或「SD」。根據儲存類別中提及的「媒體」屬性、Trident會選擇適當的後端、以提供「HDD」或「sd」集合體、以符合媒體屬性、然後將磁碟區的資源配置導向特定的集合體。因此、我們可以建立儲存等級Premium、將「媒體」屬性設為「sd」、可歸類為優質QoS原則。我們可以建立另一個儲存類別標準、將媒體屬性設為「HDD」、並將其歸類為標準QoS原則。我們也可以使用儲存類別中的「IOPS」屬性、將資源配置重新導向至可定義為QoS原則的元素應用裝置。</block>
  <block id="0bc0e72aefbf8f8ec0b28cc0486f98a2" category="paragraph">儲存類別可設計用於將Volume資源配置導向特定後端、啟用精簡與完整資源配置、快照、複製及加密等功能。若要指定要使用的儲存設備、請建立儲存設備類別、以指定啟用所需功能的適當後端。</block>
  <block id="421f7dd5bb37a6401aa6326ad33dae20" category="section-title">會影響儲存資源配置的永久儲存設備特性</block>
  <block id="5ab83f35784f154d55ea7ab58c8e503b" category="section-title">存取模式</block>
  <block id="f3882c83b41b76a9fac2c57407f3ac2b" category="paragraph">透過永久虛擬網路申請儲存時、其中一個必填欄位是存取模式。所需的模式可能會影響所選的後端、以裝載儲存要求。</block>
  <block id="cac415feda213697b27d3b6fce10d33a" category="cell">ReadWriteOnce</block>
  <block id="c24ad3d99a666c95edd149419c958ee0" category="cell">ReadOnlyMany</block>
  <block id="caa8dc1f4bb28d2d11226494cd05a123" category="cell">ReadWriteMany</block>
  <block id="cefb8ccdebef1940174b22e9d0ab530b" category="cell">是（原始區塊）</block>
  <block id="823f2153adc2211a0777560eafdcbad6" category="paragraph">如果要求將ReadWriteMany永久虛擬磁碟提交至Trident部署、但未設定NFS後端、則不會配置任何磁碟區。因此、申請者應使用適合其應用程式的存取模式。</block>
  <block id="5a51acb2538e54805c54d37ebb49c75d" category="section-title">Volume作業</block>
  <block id="26fad327e23b6b08dcc94300bfe1ed04" category="section-title">修改持續磁碟區</block>
  <block id="b1d1874782626fe3f391628ea493e6ef" category="paragraph">PV的連線詳細資料無法在建立後修改。</block>
  <block id="e68591655c8031177206e1e75728853f" category="section-title">建立隨需磁碟區快照</block>
  <block id="f007c56a8eb121e8a696105e69aefa68" category="section-title">從快照建立磁碟區</block>
  <block id="55a3309b0b6646e0ea6b47195bd3d4bd" category="section-title">在叢集中移動磁碟區</block>
  <block id="40a28a40c11a193f8911cf4143a6ae6a" category="section-title">將現有磁碟區匯入Kubernetes</block>
  <block id="3a8b25f50e2dcc298175abc8f6a71f82" category="paragraph">如果部署的容器需要特定匯入的PVc、則會保持擱置狀態、直到PVC/PV配對透過Volume匯入程序繫結為止。在PVC/PV配對繫結之後、如果沒有其他問題、則應啟動容器。</block>
  <block id="6dd8f6c286b8e1a8c96c6309099f0003" category="section-title">登錄服務</block>
  <block id="68ee1c4c0da20bfd1e946df20351d4b9" category="inline-link-macro">NetApp.IO</block>
  <block id="34d357a7f8cc47e860d5fb0a317cf22d" category="paragraph">登錄的儲存設備部署與管理已記錄在中 <block ref="d5e1883ebd095c0eda96c44469e8197d" category="inline-link-macro-rx"></block> 在中 <block ref="ceb73d0582d40281d79011a1e5343e89" category="inline-link-macro-rx"></block>。</block>
  <block id="62ac236856a5a6aefd15133e967514c6" category="section-title">記錄服務</block>
  <block id="2f3052b6a2858bec8355ec56150f6a38" category="paragraph">如同其他OpenShift服務、記錄服務是使用Ansible搭配庫存檔案所提供的組態參數（即k.a.）來部署主機、提供給教戰手冊。其中包括兩種安裝方法：在初始OpenShift安裝期間部署記錄、以及在安裝OpenShift之後部署記錄。</block>
  <block id="57cad4852c9c2e439f61728e0391fe7b" category="paragraph">如果您選擇使用NFS搭配記錄服務、則必須將Ansible變數「openshift_enable _unsupported_configurations」設為「true」、以避免安裝程式失敗。</block>
  <block id="be11c74c1dd7f307bb80183a90dc2067" category="section-title">開始使用</block>
  <block id="16e90b2336fdfec64b19194247422194" category="paragraph">記錄服務可選擇性地同時部署給應用程式、以及OpenShift叢集本身的核心作業。如果您選擇部署作業記錄、將變數「openshift_logging_use」指定為「true」、就會建立兩個服務執行個體。控制作業記錄執行個體的變數包含「ops」、而應用程式執行個體則不包含。</block>
  <block id="02098b11f876fe10c40b6106bd9864da" category="paragraph">下表中的變數會使用提供的詳細資料、產生Ansible教戰手冊、為記錄服務建立PV和PVc。這種方法的彈性遠低於OpenShift安裝後使用元件安裝方針、不過如果您有現有的磁碟區可用、這是一個選項。</block>
  <block id="47c14840d8e15331fa420b9b2f757cd9" category="cell">變動</block>
  <block id="3ec365dd533ddb7ef3d1c111186ce872" category="cell">詳細資料</block>
  <block id="9aa2fd43742cd5ed36b406b3f4b0fd8c" category="cell">"openshift_logging_storage _gin"</block>
  <block id="3260b06ea72e4931f5fb5106001fcc28" category="cell">設定為「NFS」、讓安裝程式為記錄服務建立NFS PV。</block>
  <block id="e95f43173c69a9ca544d4aaef28a4d90" category="cell">"openshift_logging_storage主機"</block>
  <block id="41aae586bb7044d7741fe9412aa81e03" category="cell">"openshift_logging_storage、nfs_directory"</block>
  <block id="bf2d137d8c669b07aae26040c7e5c0e0" category="cell">NFS匯出的掛載路徑。例如、如果磁碟區已連接為「/openshift_logging」、您就會將該路徑用於此變數。</block>
  <block id="88a9f7d18fabb82d63ac43c64ae6e735" category="cell">"openshift_logging_storage磁碟區名稱"</block>
  <block id="6f8782c23f3cb958d0de4fad76dabaed" category="cell">要建立之PV的名稱、例如「PV_ose記錄」。</block>
  <block id="789e0dc4bfc00f5c885a698d6ab34dff" category="cell">"openshift_logging_storage磁碟區大小"</block>
  <block id="b68f05ea52c8c80c07e6a4c0671c75bf" category="cell">NFS匯出的大小、例如「100Gi」。</block>
  <block id="2ab80b6965298dc6a178995bbedebe88" category="paragraph">如果您的OpenShift叢集已在執行中、因此已部署及設定Trident、則安裝程式可以使用動態資源配置來建立磁碟區。需要設定下列變數。</block>
  <block id="c2aecf833d743cbc47969cd85c67101e" category="cell">「openshift_logging_es _PVC_Dynamic」</block>
  <block id="540ad9a52084720ddb7f364fa8b304c6" category="cell">設為true可使用動態資源配置的磁碟區。</block>
  <block id="45a481a75749c5331e7e9fd7d89e473d" category="cell">「openshift_logging_es _PVC_storage _class_name」</block>
  <block id="837ffa1e281409660ed25582c5b1963f" category="cell">將在PVc中使用的儲存類別名稱。</block>
  <block id="cd3daa927272b5624e96d283365d5500" category="cell">「openshift_logging_es _PVC_size」</block>
  <block id="8f80d278a79cbc84b80a091713006022" category="cell">在永久虛擬磁碟中要求的磁碟區大小。</block>
  <block id="1bb0c7eeef4bbbefae080a294fd554b0" category="cell">「openshift_logging_es _PVC_prefix」</block>
  <block id="f870ec92e294a018a17afe7a614fb5bb" category="cell">記錄服務使用的PVCS前置詞。</block>
  <block id="e8c62e1f0f0773ae5ba6a7acad696b2d" category="cell">「openshift_logging_es _ops_PVC_Dynamic」</block>
  <block id="46e65a11ac398c02b8fce45a7cd5cf36" category="cell">設為「true」、以動態配置的磁碟區用於作業記錄執行個體。</block>
  <block id="8792c7234e14325cb68c493d20ab5154" category="cell">「openshift_logging_es _ops_PVC_storage儲存設備類別名稱」</block>
  <block id="d016f79f0ee104f3805d61e6a379fb9b" category="cell">作業記錄執行個體的儲存類別名稱。</block>
  <block id="048e768365962d7d520567f92aea8355" category="cell">「openshift_logging_es _ops_PVC_Size'</block>
  <block id="bc367f89ac597585e52d0eb58a5929ae" category="cell">作業執行個體的Volume要求大小。</block>
  <block id="155871626071d69cb283985a9f36bad2" category="cell">「openshift_logging_es_ops_PVC_prefix」</block>
  <block id="2a8f254749a466654f556c6466051133" category="cell">ops執行個體PVCS的前置詞。</block>
  <block id="e1b2d0d3228c29c069bcd139de306709" category="section-title">部署記錄堆疊</block>
  <block id="0409a0cfdfa4f3b3033503b8309442ff" category="paragraph">如果您將記錄部署為初始OpenShift安裝程序的一部分、則只需遵循標準部署程序即可。Ansible會設定及部署所需的服務和OpenShift物件、以便在可執行的完成後立即提供服務。</block>
  <block id="3dbf527ac3caf41ab150ec99a1737217" category="section-title">度量服務</block>
  <block id="69aa4440020e49c654aeb910f38c6bb9" category="admonition">下表僅包含與度量服務相關的儲存組態相關變數。文件中還有許多其他選項、您應該根據部署情況來檢閱、設定及使用。</block>
  <block id="4f692d78f978a73b157571022c1d1ba7" category="cell">"openshift_imization_storage類型"</block>
  <block id="30da7e263c0cffc34933d24a07fb097a" category="cell">"openshift_imization_storage主機"</block>
  <block id="3bafc264ad2a901d3be052a7f1cf2e44" category="cell">"openshift_imization_storage、nfs_directory"</block>
  <block id="459859e54ba90bc4145c54d1f1deecff" category="cell">NFS匯出的掛載路徑。例如、如果磁碟區已連接為「/openshift_度量」、您就會使用該路徑來處理此變數。</block>
  <block id="ca0f0d82f9c7cbc36df652cddd4b2f35" category="cell">"openshift_imization_storage磁碟區名稱"</block>
  <block id="eb10d02b22b02d7f543f867b8d31e7b0" category="cell">要建立之PV的名稱、例如「PV_ose度量」。</block>
  <block id="a3eeeafe923ac73e75b3bf33cdadb603" category="cell">"openshift_imization_storage磁碟區大小"</block>
  <block id="a56c731cfe96d228c7c0bcc57bc80d3d" category="cell">"openshift_imization_cassandra _PVC_prefix"</block>
  <block id="0da919d4045e4f38d294aaec73f5d57f" category="cell">用於度量PVCS的前置詞。</block>
  <block id="15bb3eef0b42a93e324977c289f2fd85" category="cell">"openshift_imization_cassandra _PVC_Size"</block>
  <block id="75929c9d67f1407282b5618fca4589e7" category="cell">要要求的磁碟區大小。</block>
  <block id="8ebb493e0ffdf7c1e850c67bc22f15c7" category="cell">"openshift_imensits_cassandra儲存設備類型"</block>
  <block id="aab0ec84a4da1dfd2b63896453f1e05d" category="cell">用於度量的儲存類型、必須設定為動態、Ansible才能建立具有適當儲存類別的PVCS。</block>
  <block id="460aaf3805271ec2e5dc35755fe317b1" category="cell">"openshift_imization_cassanda_PVC_storage _class_name"</block>
  <block id="0c55ca33e89539cd67eb0be3796547c5" category="cell">要使用的儲存類別名稱。</block>
  <block id="6c13e62eb53f29e7794d3807369299d2" category="section-title">部署度量服務</block>
  <block id="2fae32629d4ef4fc6341f1751b405e45" category="doc">安全性</block>
  <block id="f40aef657c875e42158050f63dcfbb6f" category="section-title">使用CHAP驗證搭配ONTAP 使用支援SAN的功能</block>
  <block id="d4e0ad8fd8e11d87eb431051692db344" category="section-title">使用CHAP驗證NetApp HCI 搭配不景和SolidFire 不景的後端</block>
  <block id="ba09ee47d11962c1ccd13d7e1f10e6c5" category="doc">較早版本的文件</block>
  <block id="5ff3faebb0ff710340bdbee89a4667ad" category="doc">與營運者一起升級</block>
  <block id="199ed8c975e8bb544d18428ba17adbc3" category="inline-link">GitHub問題詳細資料</block>
  <block id="4ab464bddccdcbc36fab4cea802025f9" category="list-text">從資訊清單建立「TridentOrchestrator」CRD。</block>
  <block id="2a21586f7990f8cb0f8951cd2ef7bc3b" category="doc">使用tridentctl進行升級</block>
  <block id="5ee08ab883e000ce6b739dbb0b6ff376" category="summary">深入瞭解Kubernetes系統的各個部分。</block>
  <block id="607ae6360b32f1bd6e559e915d414fab" category="doc">Kubernetes概念</block>
  <block id="d60f0fff1c23a02458849862f593357e" category="inline-link">Kubernetes系統</block>
  <block id="a7018a5fd7b610274c7786aa5402e64d" category="paragraph">深入瞭解的各個部分<block ref="f01a74527fa0343e793eb393c9d4809a" category="inline-link-rx"></block>。</block>
  <block id="7d4fab76513c90b603a722620cde60fe" category="doc">命令列選項</block>
  <block id="8db7df66ab1d7ab5f1dc947acdb5fae4" category="section-title">記錄</block>
  <block id="30136395f01879792198317c11831ea4" category="section-title">Kubernetes</block>
  <block id="c5fd214cdd0d2b3b4272e73b022ba5c2" category="section-title">Docker</block>
  <block id="50780f47f6839d47d60bc4555ee00c3f" category="section-title">休息</block>
  <block id="433f174b6e54b889696b2efd4ef40dc6" category="admonition">Trident REST介面可設定為偵聽、僅適用於127.0.0.1（適用於IPV4）或[:1]（適用於IPv6）。</block>
  <block id="319c1a7b5479ffa2a028b658ad5b7033" category="inline-link-macro">tridentctl命令和選項</block>
  <block id="8b3c7aa88e751573c842f17535525f19" category="paragraph">API的運作方式如下：</block>
  <block id="5b2f45c3d098b61927afda859c9144f8" category="list-text">如果物件已經存在、行為會有所不同：後端會更新現有物件、而其他所有物件類型都會使作業失敗。</block>
  <block id="afe272beb780ad53d441c342bf1c8c77" category="summary">深入瞭解tridentctl、這是一個命令列公用程式、可讓您輕鬆存取Trident。</block>
  <block id="1c90ba5cf3791b6148c7887a696911ec" category="paragraph">旗標：</block>
  <block id="2af72f100c356273d46284f6fd1dfc08" category="section-title">版本</block>
  <block id="04333ff788951193122a833ecd614950" category="summary">Kubernetes與Trident、Trident與Storage、Kubernetes與儲存設備之間有幾個資源物件、分別是它們之間的關係。其中有些物件是透過Kubernetes進行管理、其他物件則是透過Trident進行管理。</block>
  <block id="da1e63dd673a1932cebb48b6a81bbbb1" category="doc">Kubernetes和Trident物件</block>
  <block id="d107eefb0ce66911b186b03b9e9c337e" category="paragraph">您可以透過讀取和寫入資源物件、使用REST API與Kubernetes和Trident互動。Kubernetes與Trident、Trident與Storage、Kubernetes與儲存設備之間有幾個資源物件、分別是它們之間的關係。其中有些物件是透過Kubernetes進行管理、其他物件則是透過Trident進行管理。</block>
  <block id="62499e0de79c4d07c7915a36f9faa0d8" category="section-title">物件如何彼此互動？</block>
  <block id="b9ea565816618011ca591fc191fe5e63" category="paragraph">瞭解物件、物件的適用範圍及其互動方式、最簡單的方法可能是遵循Kubernetes使用者的單一儲存要求：</block>
  <block id="ec7d6500a82a56ee8f5fff02eafa7af7" category="list-text">使用者會建立一個「PeristentVolume Claim」、要求系統管理員先前設定的Kubernetes「torageClass」中的特定大小的新「PersistentVolume」。</block>
  <block id="6b25cc026b6f29464d3fce0f6ec67805" category="list-text">Kubernetes「torageClass」可將Trident識別為其資源配置程式、並包含可告知Trident如何為所要求的類別資源配置Volume的參數。</block>
  <block id="5b078d6b19593ee6c55f428e2c85faa7" category="list-text">Trident查看自己的「儲存類」、其名稱與用來為類別配置磁碟區的「後端」和「儲存類」相符。</block>
  <block id="ff099186f912c7abb21bcf68690c98d7" category="list-text">Trident會在相符的後端上配置儲存設備、並建立兩個物件：Kubernetes的「PeristentVolume」、告訴Kubernetes如何尋找、掛載及處理Volume、以及Trident中保留「PeristentVolume」與實際儲存設備之間關係的Volume。</block>
  <block id="6d2ae40bc02e88464563ae42ae22d54c" category="list-text">Kubernetes將「PeristentVolume Claim」連結到新的「PeristentVolume」。在執行的任何主機上、包含PeristentVolume的「PeristentVolume Claim」掛載的Pod。</block>
  <block id="490c1b0e3a604c81abb3db1b778ec07b" category="list-text">使用者使用指向Trident的「Volume SnapshotClass」建立現有的永久虛擬磁碟的「Volume Snapshot」。</block>
  <block id="9f4e11d34d158ebd365226367c8b15d9" category="list-text">Trident會識別與該PVc相關聯的磁碟區、並在其後端建立磁碟區快照。它也會建立「Volume SnapshotContent」、指示Kubernetes如何識別快照。</block>
  <block id="c6a606bdd6882cd42de13f2ba3614285" category="list-text">使用者可以使用「Volume Snapshot」作為來源來建立「PeristentVolume Claim」。</block>
  <block id="8ecb92f33c033b00fcf3c18e59c4b177" category="list-text">Trident會識別所需的快照、並執行建立「PeristentVolume」和「Volume」所需的相同步驟。</block>
  <block id="428895404a5e57e01a138a5df672d0fc" category="inline-link">持續磁碟區</block>
  <block id="173423532ed9a565a05f32db2c8f8172" category="admonition">如需進一步瞭解Kubernetes物件、我們強烈建議您閱讀<block ref="92dc8ed82beb7484ab6097a3e91b0deb" category="inline-link-rx"></block> Kubernetes文件的一節。</block>
  <block id="794a32773794ee6c545794c065d1a88b" category="paragraph">Kubernetes「PeristentVolume Claim」物件是Kubernetes叢集使用者所提出的儲存要求。</block>
  <block id="43cf8e1465c61efc8b1b9bf71aa9931c" category="paragraph">除了標準規格之外、Trident還可讓使用者指定下列Volume專屬附註、以覆寫您在後端組態中設定的預設值：</block>
  <block id="55f6611cb342565cf0f5002400f53a95" category="cell">註釋</block>
  <block id="1527fede1d561a899313c8cb3eb1e7bf" category="cell">Volume選項</block>
  <block id="db8a0bbeae97b94338c1b7a61e2a1ec3" category="cell">支援的驅動程式</block>
  <block id="f3780100617165ed98557e3a6d2be72d" category="cell">trident.netapp.io/fileSystem</block>
  <block id="44d4d4eb1f08d8eb29766160086f61dd" category="cell">檔案系統</block>
  <block id="979f70bf9da982ee97ac075df4f048c3" category="cell">trident.netapp.io/cloneFromPVC</block>
  <block id="b4ead50a5ca4f307f7d61da7763ad204" category="cell">cloneSourceVolume</block>
  <block id="46ec89aa5290ead7b514dd5182caa0a7" category="cell">trident.netapp.io/splitOnClone</block>
  <block id="58c1c86186ef8de4f6e12d8f3aed8b64" category="cell">分岔OnClone</block>
  <block id="80f05e749a4f524e8c8a05fa19d5df0e" category="cell">ONTAP-NAS、ONTAP-SAN</block>
  <block id="d6f010e4b4bf9748dcaa34feb70188ce" category="cell">trident.netapp.io/protocol</block>
  <block id="81788ba0d7d02d81c063dbca621ba11b" category="cell">傳輸協定</block>
  <block id="100b8cad7cf2a56f6df78f171f97a1ec" category="cell">任何</block>
  <block id="e9898504ff0569325d48acaee7e9ced9" category="cell">trident.netapp.io/exportPolicy</block>
  <block id="61396290e72fa7d707996351c8815bd6" category="cell">ONTAP-NAS、ONTAP-NAS-經濟型、ONTAP-NAS- Flexgroup</block>
  <block id="2902d12b1fe6d9ef5bd1a3474f2356e9" category="cell">trident.netapp.io/snapshotPolicy</block>
  <block id="0a236e7685e50a59df980d0a30929d6c" category="cell">Snapshot原則</block>
  <block id="7f3bf2672240703dc69740ce11443cf2" category="cell">ONTAP-NAS、ONTAP-NAS-經濟型、ONTAP-NAS-flexgroup、ONTAP-SAN</block>
  <block id="6224177007fc13e9e0d3789985ed165a" category="cell">trident.netapp.io/snapshotReserve</block>
  <block id="bb0d75280f9b683f2f1f0767fd0aff9b" category="cell">Snapshot保留區</block>
  <block id="1cb43054bed661d8c8457ddbb43e1b1b" category="cell">trident.netapp.io/snapshotDirectory</block>
  <block id="1ae33c448502ac3d326593aee304c21f" category="cell">Snapshot目錄</block>
  <block id="ec1739ebad429a70f25efc292c347f8e" category="cell">trident.netapp.io/unixPermissions</block>
  <block id="69d900d222446aab8591b45a7363c9e7" category="cell">trident.netapp.io/blockSize</block>
  <block id="480d1b61a0432d1319f7504a3d7318dd" category="cell">區塊大小</block>
  <block id="c0d2a793e71b152662b3e8cd2da00620" category="cell">solidfire-san</block>
  <block id="fc5f8320f80474f09bdd1e3c3849123e" category="paragraph">如果建立的PV具有「刪除」回收原則、則當PV釋出時（亦即使用者刪除PVc時）、Trident會同時刪除PV和備用Volume。如果刪除動作失敗、Trident會將PV標示為這樣、並定期重試該作業、直到成功或手動刪除PV為止。如果PV使用「+Retain +」原則、Trident會忽略它、並假設系統管理員會從Kubernetes和後端進行清理、以便在移除之前備份或檢查磁碟區。請注意、刪除PV並不會導致Trident刪除背板Volume。您應該使用REST API（「tridentctl」）將其移除。</block>
  <block id="5dad99bb31feaed11fecbe29cf682e51" category="paragraph">Trident支援使用csi規格建立Volume Snapshot：您可以建立Volume Snapshot、並將其作為資料來源來複製現有的PVCS。如此一來、PV的時間點複本就能以快照形式呈現給Kubernetes。快照可用來建立新的PV。請參閱「+隨需磁碟區快照+」、瞭解這項功能的運作方式。</block>
  <block id="96e0288ecc3c91f97de46420e70a4f8f" category="paragraph">以下是一個範例：如果使用者已經有一個名為「mysql"的PVC,則使用者可以使用「trident.netapp.io/cloneFromPVC: mySQL」之類的註解來建立一個名為「mysqlclone」的新PVC.使用此註釋集、Trident會複製對應於mySQL PVc的磁碟區、而非從頭開始配置磁碟區。</block>
  <block id="ff0fa770e22db25a156c5e2d7f017283" category="paragraph">請考量以下幾點：</block>
  <block id="f89d76e06e88814705882a1faad838fb" category="list-text">一個PVc及其複本應位於相同的Kubernetes命名空間中、且具有相同的儲存類別。</block>
  <block id="f769a6b54b1d1476b6628ebd1c4b98c4" category="list-text">有了「ONTAP-NAS」和「ONTAP-SAN」驅動程式、可能需要將「trident.netapp.io/splitOnClone`」標註與「trident.netapp.io/cloneFromPVC`」一起設定。Trident將trident.netapp.io/splitOnClone`設為「true」、將複製的磁碟區從父磁碟區分割出來、因此將複製的磁碟區的生命週期與其父磁碟區完全分離、而犧牲部分儲存效率。如果不將「trident.netapp.io/splitOnClone`」設定為「假」、則會減少後端的空間使用量、而犧牲父磁碟區與複製磁碟區之間的相依性、使父磁碟區無法刪除、除非先刪除複本。分割實體複製是合理的做法、是將空的資料庫磁碟區複製到磁碟區及其實體複製環境、以大幅分散差異、而非ONTAP 受益於由NetApp提供的儲存效率。</block>
  <block id="6cb5412cc2fe8210c4d14d6d6b08ab79" category="paragraph">Kubernetes「PersistentVolume」物件代表Kubernetes叢集可用的儲存設備。它的生命週期與使用它的Pod無關。</block>
  <block id="292289b7334983e53d9fb9bd00d30820" category="admonition">Trident會建立「PeristentVolume」物件、並根據其所配置的磁碟區、自動在Kubernetes叢集上登錄。您不需要自行管理。</block>
  <block id="443f09ca4d0d1cc13b5baa064b90c0b7" category="paragraph">當您建立參照Trident型「TorageClass」的PVc時、Trident會使用對應的儲存類別來配置新的Volume、並針對該Volume登錄新的PV。在設定已配置的Volume和對應的PV時、Trident遵循下列規則：</block>
  <block id="b27c91fe87605abbb0d5240430518a1c" category="list-text">Trident會產生Kubernetes的PV名稱、以及用來配置儲存設備的內部名稱。在這兩種情況下、都是確保名稱在其範圍內是唯一的。</block>
  <block id="9c2f88a5c4297bd88ead0cd6314fe886" category="list-text">磁碟區的大小會盡可能接近在室早中所要求的大小、不過視平台而定、磁碟區可能會四捨五入至最接近的可分配數量。</block>
  <block id="0d35625a483152791f4e2d0b751a09cc" category="paragraph">Kubernetes的「torageClass」物件是以名稱在「PeristentVolume Claims」中指定、以一組內容來配置儲存設備。儲存類別本身會識別要使用的資源配置程式、並根據資源配置程式所瞭解的方式來定義該組內容。</block>
  <block id="f7738d717849274e5992d460fd2c0a75" category="paragraph">這是需要由系統管理員建立及管理的兩個基本物件之一。另一個是Trident後端物件。</block>
  <block id="e51377a773f4713e536b061eaa2d4b04" category="paragraph">使用Trident的Kubernetes「torageClass」物件看起來像這樣：</block>
  <block id="39edc8618b50008d4cb2050414d6921f" category="paragraph">這些參數是Trident專屬的、可告訴Trident如何為類別配置Volume。</block>
  <block id="b16da8ed7f6c8cce3011dc2b6c7bd1a4" category="paragraph">儲存類別參數包括：</block>
  <block id="f2bbdf9f72c085adc4d0404e370f0f4c" category="cell">屬性</block>
  <block id="b651efdb98a5d6bd2b3935d0c3f4a5e2" category="cell">必要</block>
  <block id="736b91750e516139acc13c5eb6564f92" category="cell">屬性</block>
  <block id="59a1e7292a0114529fb1b3401b37bc28" category="cell">map[stric]字串</block>
  <block id="7fa3b767c460b54a2be4d49030b349c7" category="cell">否</block>
  <block id="1b40216e6fe613bd013bf8710182e650" category="cell">請參閱以下「屬性」一節</block>
  <block id="c614017642b6cfd9e6a25c7df122d917" category="cell">storagePools</block>
  <block id="b8f32852327d2ffce86ae3ead4fdfb52" category="cell">map[stringList</block>
  <block id="bdd0ddb870ed9de6f6e7d3a75200e9f7" category="cell">將後端名稱對應至中的儲存資源池清單</block>
  <block id="145d1b89a9f9ed8bdc16d1f7a814cace" category="cell">其他StoragePools</block>
  <block id="6907a73ad9068ddf5f99d022102220bb" category="cell">將後端名稱對應至中的儲存資源池清單</block>
  <block id="7df974d787ead594df017a11672f2f0e" category="cell">排除StoragePools</block>
  <block id="99ba77776c83983f5ecbd2b51f2b43ef" category="cell">將後端名稱對應至中的儲存資源池清單</block>
  <block id="f74d4b2b456fb453c0980710290f66eb" category="paragraph">儲存屬性及其可能值可分類為儲存資源池選擇屬性和Kubernetes屬性。</block>
  <block id="2fdf10f3f64b631cd3a137740de02f8b" category="section-title">儲存資源池選擇屬性</block>
  <block id="1f5912cd581dba393d5eecc43059adf4" category="paragraph">這些參數決定應使用哪些Trident託管儲存資源池來配置特定類型的磁碟區。</block>
  <block id="c82a6100dace2b41087ba6cf99a5976a" category="cell">價值</block>
  <block id="6bb24468956384c482a8b5a901fb6383" category="cell">優惠</block>
  <block id="15c2d85f1fae22a3c3a0594510a1f611" category="cell">申請</block>
  <block id="7aa57840938d59b415c1e10dcd1f7173" category="cell">支援者</block>
  <block id="0e72be2e13bf8a2ff8078d3435e5aa7c" category="cell">媒體1^</block>
  <block id="b45cffe084dd3d20d928bee85e7b0f21" category="cell">字串</block>
  <block id="9ccd7f94313a98beb95801927907a0ab" category="cell">HDD、混合式、SSD</block>
  <block id="9bf3032f6854fb376cd8e3e92e11b077" category="cell">資源池包含此類型的媒體、混合式表示兩者</block>
  <block id="5c79c761bae4c27e96c04e54d1da1e91" category="cell">指定的媒體類型</block>
  <block id="c9cb5e737e2746339fd0b462332c8740" category="cell">ONTAP-NAS、ONTAP-NAS-經濟型、ONTAP-NAS-flexgroup、ONTAP-SAN、solidfire-san</block>
  <block id="b713baf75bcf13859037b5274d27d4b8" category="cell">資源配置類型</block>
  <block id="6026fbd9abd05590949de220154e3262" category="cell">纖薄、厚實</block>
  <block id="3064025fe3541bec9942e14fcaedfab7" category="cell">Pool支援此資源配置方法</block>
  <block id="cf65591e3da90317fc132ea7464105d8" category="cell">指定的資源配置方法</block>
  <block id="55b56fb238360663afa6230ad82e74a0" category="cell">後端類型</block>
  <block id="0e1201d4d96df2d9d03c9c66b90874a1" category="cell">集區屬於此類型的後端</block>
  <block id="c4efe19137f43450149d48fddbab6c28" category="cell">指定後端</block>
  <block id="a04622349b3ede0d4176ca2c2e161763" category="cell">所有驅動程式</block>
  <block id="695633290d050f31cec0c9d4bd4a57fe" category="cell">快照</block>
  <block id="c506ff134babdd6e68ab3e6350e95305" category="cell">布爾</block>
  <block id="ac1ffb15effdc77a86029972670d022f" category="cell">對、錯</block>
  <block id="4ac43bef181074fbd4a1f3620b46f77f" category="cell">集區支援具有快照的磁碟區</block>
  <block id="13410bff9f7871113a6af273e2a1b97f" category="cell">已啟用快照的Volume</block>
  <block id="bc3832c405ec6cb9c831849328240f3b" category="cell">複製</block>
  <block id="609d32aa243917905f282544b543752a" category="cell">資源池支援複製磁碟區</block>
  <block id="bcb81802de31cf9c717de3c1d6c2f610" category="cell">已啟用複本的Volume</block>
  <block id="5bdf74912a51c34815f11e9a3d20b609" category="cell">加密</block>
  <block id="5f2f2cc138a8bc7067c7f61ab4db0f4d" category="cell">資源池支援加密磁碟區</block>
  <block id="0bda31a93b84fd2b45a90df39c4c8049" category="cell">已啟用加密的Volume</block>
  <block id="dcc09b4a72e31323b652676ce4677771" category="cell">ONTAP-NAS、ONTAP-NAS-經濟型、ONTAP-NAS- FlexGroups、ONTAP-SAN</block>
  <block id="79073619fba8242703524f16870ff858" category="cell">IOPS</block>
  <block id="fa7153f7ed1cb6c0fcf2ffb2fac21748" category="cell">內部</block>
  <block id="86e5d65893929e5d38b4bdcb9fb48ecd" category="cell">正整數</block>
  <block id="bf57d1db8292b2855fa998a86562cfa7" category="cell">集區能夠保證此範圍內的IOPS</block>
  <block id="342a7ce5bb7debc6ba84dc2a3bced587" category="cell">Volume保證這些IOPS</block>
  <block id="895f3d78c77292d9761bdabdc3cf0c99" category="paragraph">^1^：ONTAP Select 不受支援</block>
  <block id="5b3c68bde0b3658758a8ebf47ec6abf1" category="paragraph">在大多數情況下、所要求的值會直接影響資源配置、例如、要求完整資源配置會導致資源配置較為密集的Volume。不過、元素儲存資源池會使用其提供的IOPS下限和上限來設定QoS值、而非所要求的值。在此情況下、要求的值僅用於選取儲存資源池。</block>
  <block id="311fa7e17587a62a6fdcb110253feed7" category="paragraph">理想情況下、您可以單獨使用「屬性」來建構儲存設備的品質、以滿足特定類別的需求。Trident會自動探索並選取符合您指定「屬性」的_all_儲存集區。</block>
  <block id="d0c865b74e0c4b4b387506e9e95d22b2" category="paragraph">如果您發現自己無法使用「屬性」來自動選取適合某個類別的資源池、您可以使用「儲存池」和「其他儲存池」參數來進一步精簡資源池、甚至選取特定的資源池集區。</block>
  <block id="06a87a25fa98442cf561762851213f7e" category="paragraph">您可以使用「儲存池」參數、進一步限制符合任何指定「屬性」的集區集區集區。換句話說、Trident會使用由「屬性」和「儲存庫」參數所識別的資源池交會來進行資源配置。您可以單獨使用參數、也可以同時使用兩者。</block>
  <block id="0c66a737e57eb6ac0885d2ba6d87cc12" category="paragraph">您可以使用「addionalStoragePools」參數來擴充Trident用來資源配置的資源池集區集區集區、而不論「attributes」和「scoragePools」參數所選取的任何資源池為何。</block>
  <block id="2ed95c63c6e58641d710e098e7e23154" category="paragraph">您可以使用「排除StoragePools」參數來篩選Trident用於資源配置的資源池集區集區。使用此參數會移除任何相符的集區。</block>
  <block id="9f8bfd75f7eb5b95503bb0abedf83b40" category="paragraph">在「儲存池」和「其他儲存池」參數中、每個項目的格式均為「&lt;backender&gt;:&lt;storagePoollist&gt;'」、其中「&lt;storagePoollist&gt;'」是以逗號分隔的儲存池清單、用於指定的後端。例如、「addionalStoragePools」的值可能會像是「ontapnas_192.168.1.100:solidgr1、aggr2、aggrfire、192.168.1.101：Bronze」。這些清單接受後端值和清單值的regex值。您可以使用「tridentctl Get backend」來取得後端及其資源池的清單。</block>
  <block id="c087dddd46fcf0fbbf390abeff2216c3" category="section-title">Kubernetes屬性</block>
  <block id="d05956159ee82aafaaacfe08d33d3be6" category="paragraph">這些屬性在動態資源配置期間、不會影響Trident選擇儲存資源池/後端。相反地、這些屬性只會提供Kubernetes持續磁碟區所支援的參數。工作節點負責檔案系統建立作業、可能需要檔案系統公用程式、例如xfsprogs。</block>
  <block id="0e6ac0d7fca9c59e6545312a071555b6" category="cell">相關驅動因素</block>
  <block id="ae6b2a160dd2fafdee385c348edee0c1" category="cell">Kubernetes版本</block>
  <block id="7cfbb6f07899c8071ff38e69dca190e2" category="cell">FSType</block>
  <block id="7928a56d4874d982a06a59e3f30f6935" category="cell">區塊磁碟區的檔案系統類型</block>
  <block id="b1c94ca2fbc3e78fc30069c8d0f01680" category="cell">全部</block>
  <block id="6add71a247c8f4513060920be14857bc" category="cell">owVolume擴充</block>
  <block id="84e2c64f38f78ba3ea5c905ab5a2da27" category="cell">布林值</block>
  <block id="675e3f37a9adfd7ab6433906c490fa06" category="cell">啟用或停用對增加PVc大小的支援</block>
  <block id="c791531450eeeb073b30215d9c306a00" category="cell">1.11+</block>
  <block id="086b513e7d83c4cf32a8bd3550679276" category="cell">Volume BindingMode</block>
  <block id="fd656a4f359aa12808a6d0ceb5792342" category="cell">立即、WaitForFirst消費者</block>
  <block id="5e7777e1f9cfa3a93159ee44cf3f1f5a" category="cell">選擇何時進行磁碟區繫結和動態資源配置</block>
  <block id="8264769021597389583b0a7d1fa7e076" category="inline-link-macro">Kubernetes：設定Pod或Container的安全內容</block>
  <block id="6dd29ca7439e52dcf2fbc569066b3d67" category="list-text">「FSType」是在儲存類別中設定的。</block>
  <block id="45d2174daba36b76955e69d2eddf26ca" category="list-text">PVc存取模式為rwo。</block>
  <block id="ba5b62efad4f90a8f4bb806cba4a3ea4" category="paragraph">對於NFS儲存驅動程式、檔案系統已存在做為NFS匯出的一部分。為了使用「fsGroup」、儲存類別仍需指定「FSType」。您可以將其設定為「NFS」或任何非null值。</block>
  <block id="2435c5eb0d842c13f635d4b1d6667a52" category="list-text">Trident安裝程式套裝組合提供多個範例儲存類別定義、可與Trident搭配使用、位於「sham-INPUT /儲存設備類別-*。yaml」。刪除Kubernetes儲存類別也會刪除對應的Trident儲存類別。</block>
  <block id="65d18b5db5d5f35e4ddc5c696687d1bd" category="paragraph">Kubernetes的「Volume SnapshotClass」物件類似於「儲存類別」。它們有助於定義多種儲存類別、並由Volume Snapshot參考、以將快照與所需的Snapshot類別建立關聯。每個Volume Snapshot都與單一Volume Snapshot類別相關聯。</block>
  <block id="031e09713b698739db52cb150ef97605" category="paragraph">系統管理員應定義「Volume SnapshotClass」、以建立快照。建立具有下列定義的Volume Snapshot類別：</block>
  <block id="879cd061c6bf448cd6fc39dd56947611" category="paragraph">對Kubernetes而言、「driver」是指Trident處理「Cig-snapClass」類別的Volume快照要求。「刪除原則」指定必須刪除快照時要採取的動作。當「刪除原則」設定為「刪除」時、刪除快照時、就會移除儲存叢集上的Volume Snapshot物件和基礎Snapshot。或者、將其設為「保留」、表示保留「Volume SnapshotContent」和實體快照。</block>
  <block id="7ba558df52a052235cf288011e5d667c" category="paragraph">Kubernetes「Volume Snapshot」物件是建立磁碟區快照的要求。就像使用者針對磁碟區所提出的要求一樣、磁碟區快照是使用者建立現有虛擬磁碟快照的要求。</block>
  <block id="f67af493d1fd83b472d5f27307b2f3d9" category="paragraph">當磁碟區快照要求出現時、Trident會自動管理後端磁碟區的快照建立、並建立獨特的「Volume SnapshotContent」物件來公開快照。您可以從現有的PVCS建立快照、並在建立新的PVCS時、將快照作為DataSource使用。</block>
  <block id="e562bdcf97dce6973a736651f45eb054" category="paragraph">Kubernetes「Volume SnapshotContent」物件代表從已配置的磁碟區擷取的快照。它類似於「PersistentVolume」、代表儲存叢集上已配置的快照。與「PeristentVolume Claim」和「PeristentVolume」物件類似、建立快照時、「Volume SnapshotContent」物件會維持一對一的對應、以對應「Volume Snapshot」物件、該物件已要求建立快照。</block>
  <block id="af741aec1c66e51c00d35a38f92471de" category="paragraph">「Volume SnapshotContent」物件包含可唯一識別快照的詳細資料、例如「快照資料」。此「快照處理」是PV名稱與「Volume SnapshotContent」物件名稱的獨特組合。</block>
  <block id="b22c73e808eef321ee9941ec2e58b64f" category="paragraph">當快照要求出現時、Trident會在後端建立快照。建立快照之後、Trident會設定「Volume SnapshotContent」物件、並將快照公開給Kubernetes API。</block>
  <block id="7c43d52062b795d2d8e7f33b9dbbf671" category="paragraph">Kubernetes自訂資源是Kubernetes API中由系統管理員定義的端點、用於將類似物件分組。Kubernetes支援建立自訂資源來儲存物件集合。您可以執行「kubecl Get crds」來取得這些資源定義。</block>
  <block id="09d4c17e4e0e002375326eee41d0f77f" category="paragraph">自訂資源定義（CRD）及其相關的物件中繼資料會由Kubernetes儲存在其中繼資料儲存區中。如此一來、您就不需要另外建立Trident的儲存區。</block>
  <block id="9f59afd5e4687b9960361128f049dae4" category="paragraph">CRD是Kubernetes建構。上述資源的物件是由Trident所建立。例如、當使用「tridentctl」建立後端時、Kubernetes會建立一個對應的「tridentbackend」CRD物件供其使用。</block>
  <block id="7cdfd680fe492e028cde251c38475469" category="paragraph">以下是Trident客戶需求日的幾點重點：</block>
  <block id="adecfe476427253e9c680a7c5150a9cc" category="list-text">安裝Trident時、會建立一組客戶需求日、並可像使用任何其他資源類型一樣使用。</block>
  <block id="c4b35352cbf7a52a9444a610687067f8" category="inline-link-macro">解除安裝Trident</block>
  <block id="64cf33bfeab6c6bd8aa626b86fda9cbd" category="admonition">使用Kubernetes、當Kubernetes「torageClass」以Trident做為資源配置程式登錄時、就會自動建立這些物件。</block>
  <block id="51fa0a833f47d8f00ee2677c6fa7b075" category="paragraph">儲存類別包含一組磁碟區需求。Trident會將這些需求與每個儲存資源池中的屬性相符；如果符合、則該儲存資源池是使用該儲存類別來配置磁碟區的有效目標。</block>
  <block id="04d84bba5a5e103ae9c192c03a7ad2f3" category="paragraph">您可以使用REST API建立儲存類別組態、以直接定義儲存類別。不過、在Kubernetes部署中、我們預期在登錄新的Kubernetes「torageClass」物件時、會建立這些物件。</block>
  <block id="3c244b984a2188556c1115a5a27dbe1b" category="paragraph">後端代表儲存供應商、其中Trident會配置磁碟區；單一Trident執行個體可管理任何數量的後端。</block>
  <block id="d71c5fad4769c19422c07158e24510ba" category="admonition">這是您自己建立和管理的兩種物件類型之一。另一個是Kubernetes的「torageClass」物件。</block>
  <block id="4ab1440e71a70a97c4966bcc0095f02b" category="paragraph">與此處的其他物件不同、儲存資源池候選項目一律會自動探索及管理。</block>
  <block id="2e53db54827c8c05b7bfe9cb31f299d9" category="admonition">在Kubernetes中、會自動管理這些物件。您可以檢視這些資源、以查看資源配置的Trident內容。</block>
  <block id="22fcc98910d0241e9835f502b7cb2398" category="admonition">刪除具有相關快照的PV時、對應的Trident Volume會更新為*刪除*狀態。若要刪除Trident磁碟區、您應該移除該磁碟區的快照。</block>
  <block id="05353bc86910df31b2da9c8d3d26aad1" category="paragraph">Volume組態會定義已配置磁碟區應具備的內容。</block>
  <block id="ce9af1e3f0493eb7d5ffdf584ed763ba" category="cell">Trident API版本（「1」）</block>
  <block id="b068931cc450442b63f5b3d276ea4297" category="cell">名稱</block>
  <block id="a6105c0a611b41b08f1209506350279e" category="cell">是的</block>
  <block id="017dbd2b0a2195c3e8052cdff67bad39" category="cell">要建立的Volume名稱</block>
  <block id="78ec9b60245b46a4f05158076962ace9" category="cell">storageClass</block>
  <block id="fa00f346deccdbebef2b3cc0702d41de" category="cell">配置Volume時使用的儲存類別</block>
  <block id="f7bd60b75b29d79b660a2859395c1a24" category="cell">尺寸</block>
  <block id="264c52ca068dfed30f5826bb054839f4" category="cell">要配置的磁碟區大小（以位元組為單位）</block>
  <block id="4f18882934f0472b4bfa32928bf92f14" category="cell">要使用的傳輸協定類型；「檔案」或「區塊」</block>
  <block id="252c6d364cc1a0437939a4f01b0717ae" category="cell">內部名稱</block>
  <block id="2857a43e58983276d059c0e6e2fcb0e9" category="cell">儲存系統上的物件名稱；由Trident產生</block>
  <block id="051fb2c3f62667c87a197ae412a4dbeb" category="cell">Sname（NAS、SAN）&amp; S--*：要複製的磁碟區名稱ONTAP SolidFire</block>
  <block id="e94d46d7c89bcb7e6ac2e2df4d21bafb" category="cell">例（NAS、SAN）：從父實體分割複本ONTAP</block>
  <block id="819549a86d14e849e1d0042c9156d781" category="cell">S--*：快照原則ONTAP</block>
  <block id="e38882545bfedafc7e8ec5973b2e6dd8" category="cell">Sing-*：保留給快照的磁碟區百分比ONTAP</block>
  <block id="fc86db1233bfa77d5143dcaae9842cb1" category="cell">ONTAP-NAS*：要使用的匯出原則</block>
  <block id="48e1d8180a61943f438c259b2b6715f8" category="cell">ONTAP-NAS*：快照目錄是否可見</block>
  <block id="3f7c94eec4bbf43962e1667f5a334469" category="cell">ONTAP-NAS*：初始UNIX權限</block>
  <block id="4b2d5d83aef608a3fb59ec6eda8bea26" category="cell">S--*：區塊/區段大小SolidFire</block>
  <block id="62fe71ae4f6a04a6937feb48ba5dc4f4" category="cell">檔案系統類型</block>
  <block id="c12963ed77d398c8f97e09be58a20fed" category="paragraph">Trident在建立磁碟區時會產生「內部名稱」。這包括兩個步驟。首先、它會將儲存前置詞（預設的「Trident」或後端組態中的前置詞）預先加上磁碟區名稱、以「&lt;prefix&gt;-&lt;volume名稱&gt;」格式命名。然後、它會繼續清理名稱、取代後端不允許的字元。對於後端、它會以底線取代連字號（因此內部名稱會變成「&lt;prefix&gt;_&lt;volume名稱&gt;」）ONTAP 。對於元素後端、它會以連字號取代底線。</block>
  <block id="49539689cebb34166a417b3b666818e5" category="paragraph">您可以使用Volume組態、使用REST API直接配置磁碟區、但在Kubernetes部署中、我們預期大多數使用者都會使用標準的Kubernetes「PeristentVolume Claim」方法。Trident會自動建立此Volume物件、做為資源配置程序的一部分。</block>
  <block id="a1b3787bbd275b7ed5812d022dd36932" category="paragraph">快照是磁碟區的時間點複本、可用來配置新的磁碟區或還原狀態。在Kubernetes中、這些物件會直接對應到「Volume SnapshotContent」物件。每個快照都與一個Volume相關聯、該磁碟區是快照資料的來源。</block>
  <block id="cdf5c8d3dd31e49b82a5b3e2c4a65280" category="paragraph">每個「napshot」物件都包含下列內容：</block>
  <block id="27118326006d3829667a400ad23d5d98" category="cell">字串</block>
  <block id="de73fbae2864dd61c921cf0648a9717a" category="cell">Trident Snapshot物件的名稱</block>
  <block id="8e744456fb3d02d69442038d3e771460" category="cell">儲存系統上Trident Snapshot物件的名稱</block>
  <block id="617a43eb0446f84414df73cce2997fa1" category="cell">Volume名稱</block>
  <block id="b58c8ff1e837af6dafa971bf3d320646" category="cell">為其建立快照的持續Volume名稱</block>
  <block id="2c2aed4b417a0f9c189d7ad6414ae28c" category="cell">Volume內部名稱</block>
  <block id="db1a117103c348ebaec41f9e249554c3" category="cell">儲存系統上相關Trident Volume物件的名稱</block>
  <block id="73f3d5934fdd36989f24cbae94ab423b" category="paragraph">當Kubernetes「Volume Snapshot」物件要求建立時、Trident會在備份儲存系統上建立Snapshot物件。此快照物件的「內部名稱」是將前置詞「sfapshot-」與「Volume Snapshot」物件的「UID」（例如、「sfapshot-e8d8a0ca-9826-11e9-9807-525400f3f660」）結合在一起產生的。「Volume Name」（Volume名稱）和「Volume InternalName」（磁碟區內部名稱）會透過取得備用磁碟區的詳細資料來填入資料。</block>
  <block id="a1582c89f8e85f372306a05848eafb68" category="summary">NetApp儲存產品組合可與Kubernetes叢集的許多不同層面整合、提供進階資料管理功能、強化Kubernetes部署的功能、功能、效能及可用度。</block>
  <block id="cbb7697b4f6f189240d043ff70ca133c" category="admonition">Trident支援上述ONTAP 所有的功能齊全的部署模式。</block>
  <block id="5c04ffbd0c110bf7b37d6b95eb756b75" category="paragraph"><block ref="700b45b9fca207b66f675c8d5dfb073b" category="inline-link-rx"></block> 是一款純軟體的儲存應用裝置、可在ONTAP 雲端上執行功能完善的資料管理軟體。您可以使用Cloud Volumes ONTAP 支援功能來執行正式作業工作負載、災難恢復、DevOps、檔案共享和資料庫管理。它提供儲存效率、高可用度、資料複寫、資料分層和應用程式一致性、將企業儲存設備延伸至雲端。</block>
  <block id="27bb76bfb1e4f9966c31f5042348cd1e" category="section-title">Element軟體</block>
  <block id="231afe47f3f37d3808096b36c28b4ded" category="inline-link">元素</block>
  <block id="1fdf61a8f946268990d8e15dd9069a6d" category="paragraph"><block ref="eca39b018af81e7b5c8e71b5b4aa3790" category="inline-link-rx"></block> 儲存管理員可藉由保證效能、並簡化及簡化儲存設備佔用空間、來整合工作負載。搭配API來實現儲存管理所有層面的自動化、Element可讓儲存管理員以更少的心力完成更多工作。</block>
  <block id="08edd2123939d5309dced149763a50ee" category="section-title">NetApp HCI</block>
  <block id="25f221cc63a7e1fa55b05c29420a72a2" category="paragraph"><block ref="2841e7defe3939e68d83d007d1ad666b" category="inline-link-rx"></block> 將例行工作自動化、讓基礎架構管理員能夠專注於更重要的功能、進而簡化資料中心的管理與規模。</block>
  <block id="be17f8b9c728a6cb61cad5a2609b3888" category="paragraph">Trident完全支援此功能。NetApp HCITrident可直接針對底層NetApp HCI 的資訊儲存平台、為容器化應用程式配置及管理儲存設備。</block>
  <block id="29e7ab00082418141d470583a19c28d3" category="paragraph"><block ref="2384314bcd106c8062815b2ed789c4ad" category="inline-link-rx"></block> 是採用NetApp技術的企業級Azure檔案共享服務。您可以在Azure原生環境中執行最嚴苛的檔案型工作負載、並享有NetApp所提供的效能與豐富資料管理功能。</block>
  <block id="60aaf44d4b562252c04db7f98497e9aa" category="cell">連接埠</block>
  <block id="261addf78c7b2c961032b3dd08ba0b1f" category="cell">目的</block>
  <block id="7e6b20d014d1c659e4eaf20dc2dcd7eb" category="cell">8443.</block>
  <block id="69bbf3571db03f0487c04a8254d15c75" category="cell">後端通道HTTPS</block>
  <block id="bc3c4a6331a8a9950945a1aa8c95ab8a" category="cell">8001</block>
  <block id="e5a4c481cc6f5935efb2c9d381f2e342" category="cell">Prometheus指標端點</block>
  <block id="67ff32d40fb51f1a2fd2c4f1b1019785" category="cell">8000</block>
  <block id="10f5b805a46ea829cc3b9d8560a224ae" category="cell">Trident REST伺服器</block>
  <block id="35cf0f704286108deb76366a16415140" category="cell">17546</block>
  <block id="fb1396f82d0096741ea1b06f8cee2340" category="cell">Trident取消安裝套件所使用的活動/整備度探針連接埠</block>
  <block id="af2a4d2810d86aa0169c117f82682f9a" category="doc">常見問題集</block>
  <block id="96ab491ef73d5db0cd15f55e1552cc22" category="section-title">一般問題</block>
  <block id="92d1656d06303733c5e1398fb273a17e" category="section-title">疑難排解與支援</block>
  <block id="a3d907947129a58ee6f9e23074840c8f" category="section-title">如何提出支援案例？</block>
  <block id="0265687df6c09d532b03477776c6d075" category="paragraph">若要提出支援案例、請執行下列其中一項：</block>
  <block id="5dab8cca21a0ff4e72d4e2a1ee5156ea" category="list-text">請聯絡您的支援客戶經理、以取得索取機票的協助。</block>
  <block id="09ea0908fbfc4cde85bf416e35dc55c8" category="inline-link">NetApp支援</block>
  <block id="a13956d424374973d31e5883b8bf8b6a" category="list-text">請聯絡以提出支援案例<block ref="116f7ad90a3c7441981f82d8f8fba4d5" category="inline-link-rx"></block>。</block>
  <block id="3e77e87e5ee8fb4f6f910f4cf0594fc2" category="section-title">如何產生支援記錄套裝組合？</block>
  <block id="7938aed248d09a5120eaf414e6c1d574" category="paragraph">您可以執行「tridentctl logs -A」來建立支援服務組合。除了在套裝組合中擷取的記錄之外、請擷取kubelet記錄、以診斷Kubernetes端的掛載問題。取得Kubernetet記錄的指示會根據Kubernetes的安裝方式而有所不同。</block>
  <block id="2c3543f339dc749a508ed5e5e5aaae23" category="section-title">如果我需要提出新功能的要求、該怎麼辦？</block>
  <block id="0aa1d7a95d75c0faa8302a803356b7b7" category="section-title">我該在哪裡提出瑕疵？</block>
  <block id="bcd549c9f0199c5b8d0b55f782bff9e8" category="section-title">如果Trident Pod毀損、我會遺失資料嗎？</block>
  <block id="3de05f78e401869f4630ec8cabf339df" category="section-title">我可以直接從舊版本升級至新版本（跳過幾個版本）嗎？</block>
  <block id="0399b9e6348e554937a4d65efc97a1b8" category="section-title">是否能將Trident降級至先前的版本？</block>
  <block id="ba9c59aa9d07b25e124dcf6ca88d689a" category="section-title">管理後端和磁碟區</block>
  <block id="4c0e813a0bfed033d75bbfd8b18f556c" category="section-title">是否能在後端更新管理LIF？</block>
  <block id="66d8fee83a94421ca416a2bdb33703b4" category="paragraph">可以、您可以使用「tridentctl update backend」命令來更新後端管理LIF。</block>
  <block id="c6e9fbb586ad55ddf4bbda9814c6adc9" category="paragraph">如果後端屬性無法用於自動選擇某個類的正確池，則可使用"scoragePools"和"additionalStoragePools"參數來選擇特定的池集區集區集區集區。</block>
  <block id="b127099c71415d532da3a26ed73eb041" category="paragraph">是的。</block>
  <block id="abbdd4298bb3e525fd172b2bbe5a451c" category="section-title">我要如何為ONTAP 以NAS配置的Volume設定Unix權限？</block>
  <block id="094ef47e6456d60b656401b0f2bbfcbd" category="section-title">如何在ONTAP 配置Volume時、設定一組明確的靜態NFS掛載選項？</block>
  <block id="ae6bc3659bb0be0a7d9f98a63775b7c2" category="section-title">如何將已配置的磁碟區設定為特定的匯出原則？</block>
  <block id="700a2008fea63d02c24b85f2f75d357e" category="paragraph">若要允許適當的主機存取磁碟區、請使用後端定義檔中設定的「exportPolicy」參數。</block>
  <block id="f412d672b51ea3c57812ebf3be0ddccb" category="paragraph">使用「儲存類」來實作ONTAP QoS以利實現。</block>
  <block id="0d97afe7a571dc39db1c810013844332" category="paragraph">支援精簡或密集資源配置的支援。ONTAP此功能預設為精簡配置。ONTAP如果需要完整資源配置、您應該設定後端定義檔或「儲存類別」。如果兩者都已設定、則「儲存類別」優先。設定ONTAP 下列項目以供參考：</block>
  <block id="2d0384de8b72e53c3476a478a5d4ec53" category="list-text">在「儲存類別」上、將「資源配置類型」屬性設為「完整」。</block>
  <block id="3764067c4b14276efb241c511c8b0cc2" category="list-text">在後端定義檔中、將「backend spaceReserve參數」設為Volume、以啟用厚磁碟區。</block>
  <block id="d4391b26a81fead46afc74243c4029aa" category="section-title">如何確保即使意外刪除了PVC,也不會刪除使用中的磁碟區？</block>
  <block id="e58a684cd1a44d4879defbb2ec06b9a4" category="paragraph">Kubernetes從1.10版開始自動啟用PVc保護。</block>
  <block id="3319194e0ba07a6aa327aefa1ab1e41f" category="section-title">我可以在磁碟區處於SnapMirror資料保護（DP）或離線模式時匯入該磁碟區嗎？</block>
  <block id="0b10afe39923054016a71caf423fdec6" category="paragraph">如果外部磁碟區處於DP模式或離線、則磁碟區匯入會失敗。您會收到下列錯誤訊息：</block>
  <block id="eed67b2d196c61d9c6cf4a50878ba446" category="section-title">資源配額如何轉譯至NetApp叢集？</block>
  <block id="0bdcd128fab544a7df404bc496a4126e" category="paragraph">這可在「ONTAP-NAS」、「ONTAP-SAN」及「ONTAP-NAA-flexgroup」等驅動程式上使用。您也可以針對FlexVol 「ontap-san經濟」驅動程式指定「快照原則」、以利執行此作業。</block>
  <block id="6b0d34d8a0749198a6b80eec69479c86" category="section-title">我可以直接存取Volume Snapshot目錄並複製檔案嗎？</block>
  <block id="eb3a2d1eb3c4022269f4c6837332311a" category="paragraph">是的、您可以在後端定義檔中設定「shapshotDir'參數、以存取Trident所佈建之磁碟區上的Snapshot目錄。</block>
  <block id="64dd4ea74b402889a9c341da491f4933" category="paragraph">目前、SnapMirror必須使用ONTAP CLI或OnCommand 《系統管理程式》從外部設定。</block>
  <block id="e321bf6d54ded18df56a41ea51223a2a" category="section-title">如何將持續磁碟區還原至特定ONTAP 的不還原快照？</block>
  <block id="5325f5d2cf63aaaa6610f09e8aa4dc35" category="paragraph">若要將磁碟區還原ONTAP 成一個無法修復的快照、請執行下列步驟：</block>
  <block id="4e789db936072df2058e9f271a9b8db8" category="list-text">靜止使用持續磁碟區的應用程式Pod。</block>
  <block id="b34baa75f4f799a23b19de9b94e86868" category="list-text">透過ONTAP NetApp CLI或OnCommand 《系統管理程式》回復至所需的快照。</block>
  <block id="08754f2800804f1fe3673c858b4b56e0" category="list-text">重新啟動應用程式Pod。</block>
  <block id="0d3ef54a4cc337b5d907b6639e51c6d4" category="section-title">如何區分每位客戶/租戶的儲存類別使用量？</block>
  <block id="fda1b35892cb6f61447f0e49415937d9" category="paragraph">Kubernetes不允許命名空間中的儲存類別。不過、您可以使用Kubernetes來限制每個命名空間的特定儲存類別使用量、方法是使用儲存資源配額（每個命名空間）。若要拒絕特定儲存設備的特定命名空間存取、請將該儲存類別的資源配額設為0。</block>
  <block id="e4c4d344a524d21b898e4d04b6539aa7" category="admonition">安裝程式壓縮檔中提供的Linux試用版（tridentctl）二進位檔是經過測試且受支援的版本。請注意、不會測試或支援壓縮檔中「/Extras」部分提供的「macos」二進位檔。</block>
  <block id="7072ec708b0ea7e3243747d8b79c0d20" category="admonition">如果您要從任何先前的Trident版本升級並使用Azure NetApp Files 更新版本、則「位置」組態參數現在是必填的單一欄位。</block>
  <block id="41cf959adc98386b54829d71a6ed5d37" category="section-title">修正</block>
  <block id="c1748037d10cffabb8e95e4ccf77c613" category="section-title">增強功能</block>
  <block id="723b30bcece2d0d47914a6eaf0c550cc" category="list-text">Trident現在將HSTC標頭新增至其安全端點的回應。</block>
  <block id="621b9733ee07089711b96dd6b0b7861a" category="list-text">Trident現在會自動嘗試啟用Azure NetApp Files 「UNIX權限」功能。</block>
  <block id="3f39a3207529d5f8129199a33e60ef87" category="section-title">移除</block>
  <block id="3d0d8392962843a02a6fa979f76b5a91" category="paragraph">E系列驅動程式（自20.07起停用）已移除。</block>
  <block id="72387bfdb0acfd8a27877f000a3abeac" category="section-title">22.01.1中的變更</block>
  <block id="a98b2ebbcbb381d3abc81e2ecfb2054c" category="inline-link-macro">GitHub問題#691</block>
  <block id="61465c1d4383dd4afdf168925e15e767" category="list-text">已修正在刪除節點上解除發佈磁碟區的問題。（<block ref="5fee6ab43e8008edba54375694a29266" category="inline-link-macro-rx"></block>）</block>
  <block id="e50f1057ba4b67b255c98fa09c5ba6f8" category="list-text">存取零欄位以取得ONTAP 靜止API回應中的集合空間時、會出現固定的恐慌。</block>
  <block id="135c438d01a49275c458e22005e39c6e" category="section-title">22.01.0版的變更</block>
  <block id="3c72f47eeb46270dd13a77b32ec10dd3" category="list-text">* Kubernetes：*增加大型叢集的節點登錄回退重試時間。</block>
  <block id="0ef48234390855900384d0bc8a0a8a24" category="list-text">已解決以下問題：azure-NetApp-Files驅動程式可能會被同名的多個資源混淆。</block>
  <block id="404cef2e43cb97ccef52692419ad6f6b" category="inline-link-macro">GitHub問題#489</block>
  <block id="7213ed07f5b718aa66cfac350f023a77" category="list-text">修正嘗試匯入已匯入磁碟區傳回EOF、使PVc處於擱置狀態的問題。（<block ref="b9a2290d6389b9a605883cda4e717749" category="inline-link-macro-rx"></block>）</block>
  <block id="d0aaca968285d0d47ea0c5a0f7b9bab5" category="list-text">在建立SSL憑證時、以SHA-256取代SHA-1。</block>
  <block id="851679bec9b3e6c8e6284128fb750b1e" category="list-text">Kubernetes增強功能：</block>
  <block id="2767b461b2b49786f390c9e0509d2d12" category="list-text">新增對Kubernetes 1.23的支援。</block>
  <block id="7f10502f6f15537f180f07f0c89d2642" category="inline-link-macro">GitHub問題#65</block>
  <block id="2ff7a365e7c341f8f381cd7c2a4e15f6" category="list-text">透過Trident運算子或Helm安裝Trident Pod時、請新增排程選項。（<block ref="15fbe6dcd60762941b28bc5990803bde" category="inline-link-macro-rx"></block>）</block>
  <block id="90fdd892e78b26eb18a250c9c1bc19ff" category="inline-link-macro">GitHub問題#633</block>
  <block id="3ff8e54aa1f3735deb64771c4c65c420" category="list-text">允許GCP驅動程式中的跨區域磁碟區。（<block ref="efd445659801b6abfdba2997e23e5f4f" category="inline-link-macro-rx"></block>）</block>
  <block id="fef8c75d6cd00955b0f1c84d40af01aa" category="inline-link-macro">GitHub問題#6666</block>
  <block id="a4233200da50a08b295311036bb03ac1" category="section-title">棄用</block>
  <block id="de6284c149d2e011da3909f1ef2af627" category="paragraph">Trident REST介面只能以127.0.0.1或[:1]位址接聽和使用</block>
  <block id="58a2e8c17107cc1ca9cb1317cd0c1ee9" category="section-title">210.1的變更</block>
  <block id="cdb544a92bee555749f43046d53ef34e" category="admonition">v21.10.0版本發生問題、可在移除節點後將Trident控制器重新新增回Kubernetes叢集時、將其置於CrashLooper BackOff狀態。此問題已在版本210.1中修正（GitHub問題669）。</block>
  <block id="cd1bf2431d703fd3c62a278b9c812d56" category="list-text">修正在GCP CVS後端匯入磁碟區時可能發生的競爭狀況、導致無法匯入。</block>
  <block id="8e1e1dad95de3dc781f25f58483acdf3" category="list-text">修正刪除節點後、將Trident控制器重新加入Kubernetes叢集（GitHub問題669）時、使Trident控制器進入CrashLooper BackOff狀態的問題。</block>
  <block id="d7c32cb5ff2be4aaff3a8eaea9d18e0d" category="list-text">修正未指定SVM名稱時不再探索SVM的問題（GitHub問題612）。</block>
  <block id="43e92857220d1a7ea1da88250ea5e2e3" category="section-title">21.0</block>
  <block id="a6e7aa999ba654c6844672ae59f5137a" category="list-text">修正XFS磁碟區的複本無法與來源磁碟區掛載在同一個節點上的問題（GitHub問題514）。</block>
  <block id="852acc81ea6fa7363b73c5313002de83" category="list-text">Kubernetes相關修正：</block>
  <block id="f94cc5159119c43751041256941deb2c" category="list-text">使用「ONTAP-NAS」和「ONTAP-NAS-flexgroup」驅動程式建立快照時、傳回磁碟區的已用空間作為最小重新設定大小（GitHub問題645）。</block>
  <block id="742ce2e3c9c8496323bd1176af2838a4" category="list-text">修正磁碟區調整大小後記錄「無法擴充檔案系統」錯誤的問題（GitHub問題560）。</block>
  <block id="9a445ecbad9af70a94bd7558ba95e059" category="list-text">已解決Pod可能陷入「終止」狀態的問題（GitHub問題572）。</block>
  <block id="4f81c320a621b8c9d81c7334f2cffc71" category="list-text">修正「ONTAP-san經濟」FlexVol 的情況、即快照LUN可能已滿（GitHub問題533）。</block>
  <block id="169c3be63dd22b315ed7884e246338de" category="list-text">修正不同映像的自訂Yaml安裝程式問題（GitHub問題613）。</block>
  <block id="1077a1a91a96498c2f56bc630e632eee" category="list-text">修正快照大小計算（GitHub問題611）。</block>
  <block id="27b76ffa775f907a1fd51f21a669551b" category="list-text">修正Trident運算子、在Kubernetes API伺服器無法連線時停止協調（GitHub問題599）。</block>
  <block id="1f9e922b6eff6cb06fca1ed9137eed38" category="list-text">新增了對GCP-CVS Performance Volume的「unixPermissions」選項支援。</block>
  <block id="294b850a76a040c20913e76c2fe6589a" category="list-text">在GCP中新增對大規模最佳化的CVS磁碟區的支援、範圍介於600 GiB到1 TiB之間。</block>
  <block id="0333eb54465646b87754facff75fdb5f" category="list-text">Kubernetes相關增強功能：</block>
  <block id="c32aa411caa1ffd0e30a271f5be834d9" category="list-text">新增對Kubernetes 1.22的支援。</block>
  <block id="fa1fd8841173fa7ccde5059fb7c2f903" category="list-text">讓Trident運算子和Helm圖表能與Kubernetes 1.22搭配使用（GitHub問題628）。</block>
  <block id="dbaa551f190105e514f7816811f4b397" category="list-text">將操作員映像新增至「tridentctl」映像命令（GitHub Issue 570）。</block>
  <block id="be575f1ff204f2800114965a5c0d8575" category="section-title">實驗性增強功能</block>
  <block id="29ddf941d9825cc9283521ee90468595" category="list-text">在「ONTAP-san」驅動程式中新增了對Volume複寫的支援。</block>
  <block id="e2f2b85987da5e2397c1e342a6fd9e28" category="list-text">新增*技術預覽* REST支援功能、支援「ONTAP-NAA-flexgroup」、「ONTAP-SAN」和「ONTAP-NAS-P節約」驅動程式。</block>
  <block id="95dc0391ce7b396d7dd5622284e8fc3e" category="section-title">已知問題</block>
  <block id="64a8f71bee95a6635e88bce00f1a2d3c" category="paragraph">已知問題可識別可能導致您無法成功使用產品的問題。</block>
  <block id="6d791d3b45515fd8619e489b938f39e8" category="inline-link">掛載選項</block>
  <block id="0821431aba133adbfa7fa0ca1781eedd" category="list-text">除非集合體是每個資源配置要求的唯一集合體、否則無法同時配置多個支援區。ONTAP FlexGroup</block>
  <block id="db5eb84117d06047c97c9a0191b5fffe" category="doc">支援</block>
  <block id="7d0ee6fed10d3d4e5c9ee496729ab519" category="sidebar">版本資訊</block>
  <block id="93168a8084b3e838d2932c4734bd234e" category="sidebar">舊版</block>
  <block id="312b0dc38b01ff32c1b2f5f81ee1ab2d" category="sidebar">與Trident營運者一起部署</block>
  <block id="386307d41b3f4169a1e6e046a727cdd2" category="sidebar">與Trident營運者一起升級</block>
  <block id="81a123ccab93cd947289b672b0e50348" category="sidebar">示範教學課程</block>
  <block id="813011e2103649bb71f124adedcc10ea" category="sidebar">部落格社群</block>
  <block id="874d8a5301794a9ca2aba132ac2460f3" category="sidebar">Kubernetes Hub</block>
  <block id="d59c00abbeaf33a9a094b3a69c563405" category="sidebar">NetApp.IO</block>
  <block id="e08bfc79c5202517b3814efd6e82fb2c" category="sidebar">升級或解除安裝Trident</block>
  <block id="0460583622f03a52d7693094d6fa2452" category="sidebar">概念</block>
  <block id="58eaebf972358f1cf03d386a4ade1a0f" category="sidebar">接下來呢？</block>
  <block id="a20f982d79c3dd66d244ffe0f7d940ee" category="sidebar">最佳實務做法與建議</block>
  <block id="63d5049791d9d79d86e9a108b0a999ca" category="sidebar">參考資料</block>
  <block id="9c87569b835a8f66b7490390d350d9a4" category="paragraph">如果您的Kubernetes發佈版本未包含快照控制器和客戶需求日、您可以依照下列方式進行部署。</block>
  <block id="469f7ca16938508b5dcb777767828b70" category="list-text">建立Volume Snapshot客戶需求日。</block>
  <block id="5a333b18a215ecfd4457ba0e1732654b" category="section-title">是否能在已設定負載共享鏡射的SVM上、對磁碟區進行Trident資源配置？</block>
  <block id="0e7629426b9d7596800cd5d72f558a7f" category="paragraph">您可以為透過NFS提供資料的SVM根磁碟區建立負載共享鏡像。針對Trident所建立的磁碟區、自動更新負載共享鏡像。ONTAP這可能會導致掛載磁碟區延遲。使用Trident建立多個磁碟區時、資源配置磁碟區會仰賴ONTAP 於更新負載共享鏡像。</block>
  <block id="7d3f46589c43a64fd040e4f0e0691a86" category="inline-link-macro">掌舵表</block>
  <block id="1ea1b160621872df5909653ebde1bf7f" category="paragraph">您可以更新現有的後端、以便在認證型和憑證型方法之間移動。不過、一次只支援一種驗證方法。若要切換至不同的驗證方法、您必須從後端組態中移除現有方法。</block>
  <block id="7335992f174c029a990442aca68aacbd" category="admonition">如果您嘗試同時提供*認證與認證*、後端建立將會失敗、並在組態檔中提供多種驗證方法。</block>
  <block id="d1914bc190cdc3bc9eee6db0c81021bc" category="section-title">節點服務探索</block>
  <block id="2b6ab5193160f5eaca51526b15f27e3a" category="admonition">節點服務探索可識別探索到的服務、但無法保證服務已正確設定。相反地、沒有探索到的服務並不保證磁碟區掛載會失敗。</block>
  <block id="412427d9207c4cc4b01539aff3c50e7c" category="cell">《網路功能》</block>
  <block id="6adbf3424e5de1b4e2baad3b4d632c4a" category="paragraph">您可以更新現有的後端、以使用不同的驗證方法或旋轉其認證資料。這兩種方法都可行：使用使用者名稱/密碼的後端可更新以使用憑證；使用憑證的後端可更新為使用者名稱/密碼。若要這麼做、您必須移除現有的驗證方法、然後新增驗證方法。然後使用更新的backend.json檔案、其中包含執行「tridentctl後端更新」所需的參數。</block>
  <block id="a7cfd917113a9ee9c1e789887d1d809f" category="inline-link-macro">不和通路</block>
  <block id="bc3c69459955aa51e6720ee4098db2c2" category="doc">Pod安全標準（PSS）與安全內容限制（SCC）</block>
  <block id="80af9ab2cf8f28973d329b09a2aa3bf3" category="inline-link-macro">Kubernetes：安全性</block>
  <block id="92699490afddc06ebad285ff002fc80d" category="section-title">必要的Kubernetes安全內容和相關欄位</block>
  <block id="ed5dea09095f671b801bee34ea28a319" category="cell">權限</block>
  <block id="b315e1c68490baab38c1a28e00fe0f5a" category="cell">權限</block>
  <block id="62868c5d24fd89e2fd8046454e18b6c4" category="inline-link-macro">Kubernetes：掛載傳播</block>
  <block id="92a5c8ffa6bee2a9377f18499950da23" category="cell">主機網路</block>
  <block id="154cdce0e5451a5578085caa8a7e7a3e" category="cell">iSCSI精靈所需。「iscsiadm'管理iSCSI掛載、並使用主機網路來與iSCSI精靈通訊。</block>
  <block id="2ff982b19c53a275ae05f015dafe166d" category="cell">主機iPC</block>
  <block id="eac6730a7bdbb0156f167d1a073b4a7c" category="cell">NFS使用程序間通訊（IPC）與nfsd通訊。</block>
  <block id="b25a60a6190808e0d6e849ca6325b91c" category="cell">主機PID</block>
  <block id="82ec2cd6fda87713f588da75c3b1d0ed" category="cell">功能</block>
  <block id="4aeb7a1484240b8d479aee0a012de3a4" category="cell">「SYS-ADMIN」功能是專為特殊權限容器提供的預設功能之一。例如、Docker為特殊權限容器設定了這些功能：「CapPrm：0000003fffffffff'、「CapEff: 0000003fffffff'」</block>
  <block id="b2dbe899d8bf9b4c25f337efe8b1ce7c" category="cell">Seccomp</block>
  <block id="1a3d8802d280d4ec910f54042cd62998" category="cell">SELinux</block>
  <block id="52a8b954485e8bf8ebe32865d17563a6" category="cell">DAC</block>
  <block id="6ddc0f1aebd745677bb51e725f080883" category="cell">權限容器必須以root身分執行。非權限容器會以root身分執行、以存取csi所需的UNIX通訊端。</block>
  <block id="479f0a2e760ff0014bb53fcbe4b5dfbf" category="section-title">Pod安全標準（PSS）</block>
  <block id="b021df6aac4654c454f46c77646e745f" category="cell">標籤</block>
  <block id="ede4d9142f78c8313ce1ea912023214a" category="cell">"pod安全性.Kubernetes.io/enforce（pod安全性）。Kubernetes.io/enforce版本</block>
  <block id="0ccd226f7ad098ef19857dcf15eed611" category="cell">允許Trident控制器和節點進入安裝命名空間。請勿變更命名空間標籤。</block>
  <block id="0634b3cd8d233df0b38fe73154f03a86" category="cell">「enforce：特權」的「enforce version：&lt;目前叢集的版本或通過測試的最高版本的PSS&gt;.」</block>
  <block id="830d087702172a8173337c2f014f24b3" category="admonition">變更命名空間標籤可能會導致無法排程Pod、「建立錯誤：...」或「警告：Trident：Cig-...」。如果發生這種情況、請檢查「特殊權限」的命名空間標籤是否已變更。如果是、請重新安裝Trident。</block>
  <block id="a2e4b41e2525b6345ec43bbfe91c66fb" category="section-title">Pod安全原則（PSP）</block>
  <block id="6f16a5f8ff5d75ab84c018adacdfcbb7" category="cell">欄位</block>
  <block id="0c3c80a8b192c50af55549addaec04e9" category="cell">「允許升級」</block>
  <block id="13d1281eff2b6a57e6fe877e0379a8f0" category="cell">特殊權限容器必須允許權限提高。</block>
  <block id="22cfef4d87bd251ba39dd92d08a6b0bb" category="cell">"真的"</block>
  <block id="f3acfbe4d2b93ab163024b31a31b1a6e" category="cell">《分配CSIDriver》</block>
  <block id="e4938c724a08c7ba91677f8cb5e069f0" category="cell">Trident不使用即時的csi暫時性磁碟區。</block>
  <block id="ce2c8aed9c2fa0cfbed56cbda4d8bf07" category="cell">空白</block>
  <block id="2eb7a988516ab2e49fd1dd1d0f505ba4" category="cell">《分配能力》</block>
  <block id="7f18f0f8e3ec21ef031ae007e78292f1" category="cell">非權限Trident容器不需要比預設集更多的功能、而且會將所有可能的功能授予權限容器。</block>
  <block id="577f713a1a3fd5fe6851754c1e780b62" category="cell">《分配FlexVolumes》</block>
  <block id="5a40ff04e0748fc5c56343bfccb1bf43" category="inline-link-macro">FlexVolume驅動程式</block>
  <block id="117394bda9c12e1ab1e0ddefda7340f6" category="cell">Trident並未使用 <block ref="5cf2fb2d9c4de828b06e030ea5b9ff75" category="inline-link-macro-rx"></block>因此，它們不會包含在允許的磁碟區清單中。</block>
  <block id="e26fd3e84b999df4093d0b9f1cf8bbdb" category="cell">《主機路徑》</block>
  <block id="87c065485525cde8c75f60bd233a546b" category="cell">Trident節點Pod會掛載節點的根檔案系統、因此設定此清單沒有任何好處。</block>
  <block id="88e5e12dbdeac08e751e562ed902d6af" category="cell">《處理器類型》</block>
  <block id="b989e7796e7fe01d9a48795f499ee3e8" category="cell">Trident不使用任何「ProctMountTypes」。</block>
  <block id="6784c364453355e4499a625166f9d76e" category="cell">Trident不需要任何不安全的「縮圖」。</block>
  <block id="43dbe35647dc1ec91f9ab70bb9c67eb7" category="cell">'資料錯誤附加功能'</block>
  <block id="21b6f9c280cf0efb8619e386208ee181" category="cell">不需要將任何功能新增至權限容器。</block>
  <block id="782434a33bb3747f8aa86293dc2ae86c" category="cell">「DefaultAllowPrivilegeEscalation」</block>
  <block id="4e1db4d4f52542bf76625bb1724050ca" category="cell">每個Trident Pod都會處理允許權限提高的問題。</block>
  <block id="249091efa412cf5e332461c484b979d0" category="cell">「假」</block>
  <block id="7b18008579516cbef313996f0c7a3f5e" category="cell">《ForbiddenSysctls》</block>
  <block id="1507e7ba036aa98fd30589e618a7a4eb" category="cell">不允許使用"sysctls"。</block>
  <block id="042337cb48219589a279b3bf0ba9107a" category="cell">「fsGroup」</block>
  <block id="07556f620d0b827238e3ef0142c49b78" category="cell">Trident容器以root執行。</block>
  <block id="ac0f2e366ea63da20af91efebbac6563" category="cell">《RunAsAny》</block>
  <block id="0041ceee5434032966a8b03eae8738ac" category="cell">《hostipc》</block>
  <block id="41c30833eb5d5997e9b7a31ee0c66616" category="cell">掛載NFS磁碟區需要主機iPC與"nfsd"通訊</block>
  <block id="9bffb5bb38918d1a1d3ae47e97dfc0c4" category="cell">「主機網路」</block>
  <block id="42a138ad382896646a09fac2eb0167c6" category="cell">iscsiadm要求主機網路與iSCSI精靈進行通訊。</block>
  <block id="13135fc0519a6dd0521fa0c0e2445184" category="cell">"hostPID"</block>
  <block id="608c4a2fdcf8e14356058df9005ae8ad" category="cell">需要主機PID來檢查節點上是否正在執行「rps-statd」。</block>
  <block id="7d820b24ee2bfd41495fba608bfe1fb0" category="cell">"hostPortes"</block>
  <block id="7afcaaf2763ecc0e6dee9f0b63026a58" category="cell">Trident不使用任何主機連接埠。</block>
  <block id="cb8c6f5ff29df99724d3704d1af54bbd" category="cell">"特權"</block>
  <block id="aadb34687d099e9a40c9ad3bbaca9b52" category="cell">Trident節點Pod必須執行特殊權限容器、才能掛載磁碟區。</block>
  <block id="cd8e4b4bb856b53433b1d0369136d7c3" category="cell">《ReadOnlyRootFilesystem》</block>
  <block id="7621dbe4e923ccb1331f44e5fc326954" category="cell">Trident節點Pod必須寫入節點檔案系統。</block>
  <block id="7214fd778499c002452dfa1de7a63694" category="cell">《requireddropCapabilities》</block>
  <block id="0a687403dd751d7bcf9d36eb39b73187" category="cell">Trident節點Pod執行特殊權限容器、無法丟棄功能。</block>
  <block id="56d058c51fcd79545706c62569ba5a19" category="cell">無</block>
  <block id="e0cfa7f1a22bfc61e3c23d9b472cb229" category="cell">《RunAsGroup》（《RunAsGroup》）</block>
  <block id="72a9e1b9b252e5cf0980f359420147d4" category="cell">「RunAsUser」</block>
  <block id="0be043db3067cfba9e355c71f0d47963" category="cell">「RunAsAny」</block>
  <block id="2b13c797fbca116e0445fe9ed04aa753" category="cell">《RuntimeClass》</block>
  <block id="90eaf8074aef1d40fdd4ebb096ba3445" category="cell">Trident不使用「RuntimeClass」。</block>
  <block id="af697e6f277a737b01025e1b3ac8fd44" category="cell">「eLinux」</block>
  <block id="b2fe00f20eadde0a1ed6fcbd7f899a41" category="cell">Trident並未設定「最新Linux選項」、因為目前容器執行時間與Kubernetes發行版本處理SELinux的方式有所不同。</block>
  <block id="07b8b968ede124e1134951b502139223" category="cell">《支援團體》</block>
  <block id="707325d27093188691659cc218115f02" category="cell">《Volume》（Volume）</block>
  <block id="fd284b15eb12231bdce65744e6704677" category="cell">Trident Pod需要這些Volume外掛程式。</block>
  <block id="c28fb07c7c2463112f74e84cdea6df77" category="cell">《hostPath》、《Project預計》、《empityDir.》</block>
  <block id="12ed56c889a6b18b5fce1be5bd30b1c8" category="section-title">安全內容限制（SCC）</block>
  <block id="3ad6cb6100190c8f81e99fd52debf7ef" category="cell">標籤</block>
  <block id="244a3eb95cc1438e96d275b17eaa5bca" category="cell">"owHostDirVolume Plugin"</block>
  <block id="bdf1cf802b14a9ec8b930e1603663b2a" category="cell">Trident節點Pod會掛載節點的根檔案系統。</block>
  <block id="bb46f3196a53f2e3664f53addee28df1" category="cell">"owhostipc"</block>
  <block id="040a3e4977d39efd21138ca276545e91" category="cell">掛載NFS磁碟區需要主機iPC與"nfsd"通訊。</block>
  <block id="75a4305006cbe99edf6e6ec43424a3f9" category="cell">「允許主機網路」</block>
  <block id="3dc9b606cf3a7a8fc44c8489687131d1" category="cell">"owhostpID"</block>
  <block id="31773567f0268170ecfa4c74f91c5b74" category="cell">"allowHostPort"</block>
  <block id="606a5f1c705c363af0a1f97e60feaddc" category="cell">《允許使用容器》</block>
  <block id="2cc90cbcd409b90ed2d4270b587b4611" category="cell">《非安全性系統》</block>
  <block id="5be47a456f397efee757d8dd4e0c8726" category="cell">《團體》</block>
  <block id="c2ca437ef2abb914a8fc2ebb1b926ef6" category="cell">此SCC僅適用於Trident、並與其使用者有關。</block>
  <block id="fae56626a2743154c04411ee3d701833" category="cell">「Linux轉換」</block>
  <block id="5987c8a1437c5254a436c29c94220b55" category="cell">「eccompProfiles」</block>
  <block id="2c8f9f1b9abdfa728b8f5d50686e4da0" category="cell">特殊權限容器永遠都會執行「未限制」。</block>
  <block id="f94a437fb7858e092079378f93ef2c71" category="cell">《使用者》</block>
  <block id="402b7d2d5aea5e79576f9a964df89a32" category="cell">提供一個項目來將此SCC繫結至Trident命名空間中的Trident使用者。</block>
  <block id="274b68192b056e268f128ff63bfcd4a4" category="cell">不適用</block>
  <block id="50af2a553c2117ddd78da33865c6e35b" category="cell">《hostPath、DownwardAPI、Project預計、empyDir'》</block>
  <block id="6386b0f17b85463db72887bca8ae2bb7" category="inline-link-macro">設定後端</block>
  <block id="253c5669d0ddb02485528df359bfb37d" category="paragraph">如果您需要對預設資源配額和優先順序類別的更多控制權、可以產生「custustry.yaml」、或使用Helm圖表來設定「資源配額」物件。</block>
  <block id="b6ba871f235b09a3d76844b7b5901586" category="paragraph">以下是「資源配額」物件優先處理Trident的範例。</block>
  <block id="4f4b1cca8d1c78f8ba309694d46d80f2" category="inline-link-macro">Kubernetes：資源配額</block>
  <block id="222924a66611c61f2a2192a2bab92ecf" category="inline-link-macro">正在解除安裝</block>
  <block id="dbcf7f603282c175a634104f7dbd55f2" category="paragraph">在極少數情況下、如果在建立「資源配額」物件之後安裝失敗、請先嘗試 <block ref="3bd802fb95da78515b3c3d98916ee73c" category="inline-link-macro-rx"></block> 然後重新安裝。</block>
  <block id="c4af59b1638f70f51816423f72df4dba" category="paragraph">如果這不管用、請手動移除「資源配額」物件。</block>
  <block id="c217b0ac2dd5504f79ba78b220a9c358" category="summary">NetApp以多種方式支援Trident。全年無休提供廣泛的免費自助支援選項、例如不和通路。</block>
  <block id="6b51834314ece904405eb0ce1a6e6bd8" category="list-text">NetApp HCI / Element軟體11或更新版本</block>
  <block id="05759468b045fc55d22e8e6881dca01f" category="paragraph">** Kubernetes*</block>
  <block id="a885c202ff7951e3ed11491edbe869b2" category="inline-link-macro">GitHub問題#700</block>
  <block id="b649490c5687c23484f5e4043e17b9c5" category="list-text">修正使用Helm或Trident運算子設定Trident時、處理節點選取器的布林值和數字值的問題。（<block ref="4be853b49b0a07556a73959d38037d90" category="inline-link-macro-rx"></block>）</block>
  <block id="0ae28ee1c5edfd4bee3e296a8261ed8b" category="inline-link-macro">GitHub問題#736</block>
  <block id="69ce5488c3078e15fc6e51116d1d17ba" category="list-text">修正非CHAP路徑處理錯誤的問題、以便Kubelet在失敗時重試。 <block ref="a21b5d75e3a2341288a5ed769d7d4ca2" category="inline-link-macro-rx"></block>）</block>
  <block id="701ba87ab75dde70f4604769defc7d00" category="list-text">將k8s.gcr.IO轉換為登錄.k8s.IO、做為SCSI映像的預設登錄</block>
  <block id="90e3cd7cff1c9f6f4b8d2a509b127d44" category="list-text">隨附資源配額與Trident安裝、可確保在優先級類別使用量預設受限時、排定Trident示範集。</block>
  <block id="838a6d7e89b7c366cfc25d3b2115b901" category="inline-link-macro">GitHub問題#717</block>
  <block id="cab6f6f91105d87aa3f65650df43c553" category="inline-link-macro">GitHub問題#228</block>
  <block id="00ea108f36897d9ed3523b970b09e6ea" category="list-text">新增技術預覽功能可自動MetroCluster 切換偵測ONTAP 到不完整的驅動程式。（<block ref="0c9c84232975bfb33d3481050e5ef924" category="inline-link-macro-rx"></block>）</block>
  <block id="0b4fe975279063a2d1790cd061a8b8d1" category="list-text">** Kubernetes：*將支援的Kubernetes最低更新為1.19。</block>
  <block id="108e9d089b04380952a04c1021cdad80" category="list-text">後端組態不再允許在單一組態中使用多種驗證類型。</block>
  <block id="de278730ee66ed696db3f71d20aa30a5" category="list-text">AWS CVS驅動程式（自22.04年起已過時）已移除。</block>
  <block id="16cbbf51150ac75556b3850ff4a5a013" category="list-text">已從節點Pod移除不必要的SYS_ADMIN功能。</block>
  <block id="9f0be62f4bbebd42af8782e0151af649" category="list-text">將節點準備工作減至簡單的主機資訊和主動服務探索、以盡力確認工作節點上是否有NFS/iSCSI服務可用。</block>
  <block id="5b6cf869265c13af8566f192b4ab3d2a" category="section-title">文件</block>
  <block id="d3889fc650fa47326b5f1d0c56f50970" category="inline-link-macro">Pod安全標準</block>
  <block id="278dc4a29aa2b881b9dc4b45a82929c5" category="section-title">22.04年的變化</block>
  <block id="cb60f101c87f3def78d0fef168389244" category="inline-link-macro">GitHub問題#681</block>
  <block id="2901fba3b85d37ea6000d90e72366ba6" category="list-text">改善iSCSI啟動器名稱的剖析。（<block ref="3947f141b94c1867221790f45a6ee173" category="inline-link-macro-rx"></block>）</block>
  <block id="8804e61e26be921d78a1632ad8607a4c" category="inline-link-macro">GitHub問題#598</block>
  <block id="d0aad022e470a22fe71fa5616ce002f8" category="list-text">修正不允許使用csi儲存類別參數的問題。（<block ref="032ea6b8f2fceffcd025bdcae99652ae" category="inline-link-macro-rx"></block>）</block>
  <block id="34fb36c5e51f4530848bc5114cf29aa7" category="inline-link-macro">GitHub問題#671</block>
  <block id="951995417edc5c2968955384b925b27e" category="list-text">修復Trident CRD中的重複金鑰宣告。（<block ref="6e73ffca3c5d1dc68cd639612845812c" category="inline-link-macro-rx"></block>）</block>
  <block id="55cd7443e4a1278a57f612df28b8eee3" category="inline-link-macro">GitHub問題#629</block>
  <block id="ec74c645b7b5f9d3051f68de156927d9" category="list-text">修正不正確的「csi Snapshot記錄」。（<block ref="9b20149e8d36c115b9349e728abebd54" category="inline-link-macro-rx"></block>）</block>
  <block id="28341d7630f486a1b72b5b97d39ce589" category="list-text">已修正在刪除節點上解除發佈磁碟區的問題。（<block ref="439c8b5253b3b0fa8d2ddb79f44cd784" category="inline-link-macro-rx"></block>）</block>
  <block id="fbb82269f3871bc5751dda6ade9cd9ea" category="inline-link-macro">GitHub問題#656</block>
  <block id="e02171b3da303c0d6b9bd3102650bb07" category="list-text">新增區塊裝置上檔案系統不一致的處理方式。（<block ref="b6c419ed0f79d6957e3796ca0e0742cb" category="inline-link-macro-rx"></block>）</block>
  <block id="1bae87f1c9d9a094dce218672331de02" category="inline-link-macro">GitHub問題#715</block>
  <block id="4aeb6a7748e689a0ce92c16344bb6285" category="list-text">修正在安裝期間設定「imageRegistry（影像登錄）」旗標時拉出自動支援映像的問題。（<block ref="5f789d3f3d58c42cfbeb0b6394bac993" category="inline-link-macro-rx"></block>）</block>
  <block id="70703300e76c51632e4ea22ce53c74af" category="inline-link-macro">GitHub問題#698</block>
  <block id="99df1eeec5b67fac5a47fb610c720712" category="list-text">若要連入Trident的安全端點、現在至少需要TLS 1.3。（<block ref="5ab4d3faf45db0d93ac1a5f7438f1c62" category="inline-link-macro-rx"></block>）</block>
  <block id="3786cba0bc294f586b13783c69b08371" category="inline-link-macro">GitHub問題#694</block>
  <block id="c0f60be70f5b8a5bc6c7c8071f4481fb" category="list-text">* Kubernetes*：Trident取消程式集現在以系統節點關鍵優先順序類別執行。（<block ref="b04869f92878b510e393bc41361c825d" category="inline-link-macro-rx"></block>）</block>
  <block id="8f5cc6430613f1c12f36965050bb7197" category="sidebar">不和</block>
  <block id="a1142049a82a11e90102d655bb7e234d" category="inline-link-macro">GitHub的_Assets區段</block>
  <block id="756909f99bc1a720d318a5f5b94eb094" category="section-title">收集記錄以進行疑難排解</block>
  <block id="3d945423f8e9496c429a5d8c65b4604f" category="paragraph">Ubuntu</block>
  <block id="134bf17c90c90b5aeed99dde262bf14d" category="admonition">如果您已經為Trident建立命名空間、則「-cree-namespacre」參數不會建立其他命名空間。</block>
  <block id="c638f77e97a62d0d11f775816222d62a" category="inline-link-macro">設定NetApp Volume Encryption總覽</block>
  <block id="b65b10bf779c45e4940c255ecf83bdc3" category="paragraph">NetApp ONTAP 支援閒置資料加密、可在磁碟遭竊、退回或重新使用時、保護敏感資料。如需詳細資訊、請參閱 <block ref="e0b51490e5d435c82abc702d0a4ca15c" category="inline-link-macro-rx"></block>。</block>
  <block id="1bb1c0791a9e9cff8de216ed44b1de31" category="list-text">您可以在Trident後端組態中將NVE加密旗標設為「true」、以覆寫NAE加密、並以每個磁碟區為基礎使用特定的加密金鑰。</block>
  <block id="b6c7fef7b7bcf035a4f4ad02ff8808c2" category="paragraph">如需後端組態選項的詳細資訊、請參閱：</block>
  <block id="06c4db929b729ddf158ceb5cc15b122b" category="inline-link-macro">支援SAN組態選項ONTAP</block>
  <block id="911675212835161abe9bce3f33c70af0" category="paragraph">在新磁碟區上啟用NetApp Volume Encryption（NVE）；預設為「假」。必須在叢集上授權並啟用NVE、才能使用此選項。</block>
  <block id="2bc97a247278d92f5552529c55ab7f0d" category="paragraph">在新磁碟區上啟用NetApp Volume Encryption（NVE）；預設為「假」。必須在叢集上授權並啟用NVE、才能使用此選項。</block>
  <block id="ee3d8ea22d8bf88f2f7fcd6d6dbf26d2" category="paragraph">度量服務可針對OpenShift叢集的狀態、資源使用率及可用度、提供寶貴的資訊給系統管理員。此外、也需要Pod自動擴充功能、許多組織會使用指標服務的資料來支付費用和/或顯示應用程式。</block>
  <block id="676ad90ce2543d29917d8a5a6fc02e01" category="inline-link-macro">ASNAS組態選項ONTAP</block>
  <block id="a44b6b00e5eebd7494e1fd00658685e2" category="inline-link-macro">NIST</block>
  <block id="83188252104d97bbc732f23aa3b26ae2" category="inline-link-macro">Gitlab：密碼設定</block>
  <block id="0520b57116af979714f913239aa512a5" category="inline-link-macro">Intel：進階加密標準指令（AES-NI）</block>
  <block id="64e4c9865ee7451edfc34d72da12ee7d" category="paragraph">如果沒有歸還任何內容、您的處理器就不支援AES-NI。如需AES-NI的詳細資訊、請造訪： <block ref="e77f47a78a9c4677daf14d5366b503b4" category="inline-link-macro-rx"></block>。</block>
  <block id="227eef96675ec0e7595951c060437608" category="list-text">使用<block ref="bed471c4a88e25ac9a7e4a7b980700a8" prefix=" " category="inline-code"></block> 使用LUKS加密定義儲存資源池。例如：</block>
  <block id="e646e16bee8b32e6ea29e30d01970a6c" category="section-title">限制</block>
  <block id="7b9eed191ce5e7cc8c8d1cb8cfe2d8c8" category="paragraph">使用非多重路徑組態或使用<block ref="a3a1d5b95e345a3db24a5a30e349f699" prefix=" " category="inline-code"></block> 或<block ref="e82e6d155396541f07f7347c984444ea" prefix=" " category="inline-code"></block> 多重路徑.conf檔案中的值會導致掛載失敗。Trident建議使用<block ref="db729c5c8df447087e5a84b961df14f6" prefix=" " category="inline-code"></block> 自21.07版本以來。</block>
  <block id="84ec6afbbe3e33afb3eba2b0375718b1" category="inline-link-macro">問題#759</block>
  <block id="e07bc583b0f70b05fdbb1008303e8f85" category="list-text">已修正ONTAP 特定於使用建立的靜止後端的問題<block ref="d3ed68f7315b7e72b8d886b2278fcac3" prefix=" " category="inline-code"></block> 在22.07.0升級期間、現場無法上線（..<block ref="294e408500bc8358b70c680986c23bdb" category="inline-link-macro-rx"></block>）。</block>
  <block id="958424a347179b6856de7610a2b99b8d" category="inline-link-macro">問題#548</block>
  <block id="9663034bca37c0603d813726d885503d" category="inline-link-macro">問題#760</block>
  <block id="26d08c0516dec92a4420f06d4da4fcf1" category="list-text">修正導致Docker Volume外掛程式無法在某些環境中啟動的問題（<block ref="78b7b57a86c570439562f2c638103de5" category="inline-link-macro-rx"></block> 和 <block ref="968dd574470c019c42c32878b5799fe9" category="inline-link-macro-rx"></block>）。</block>
  <block id="8f9d66f5cbbd4fc027dbd00d46032c8e" category="list-text">修正連接磁碟區時發生不必要的iSCSI LUN掃描的效能問題。</block>
  <block id="08e9e62a917aaf944b6ff85929a9f1dd" category="list-text">修正當對應的多重路徑裝置已排清時、在排清iSCSI裝置時傳回錯誤的問題。</block>
  <block id="bc5611c731b034c5f323419d0258aa44" category="list-text">Kubernetes：</block>
  <block id="98f7f8fbd26f9272ad6a29f2fb6c930b" category="list-text">針對Trident部署和示範集新增了另一個ServiceAccount、ClusterRO容 和ClusterROlexBinding功能、以允許未來的權限增強功能。</block>
  <block id="609df46dff884c3eec4386eb8db4e358" category="inline-link-macro">跨命名空間磁碟區共用</block>
  <block id="09065204259df86d4fe38c35ea23f5af" category="list-text">所有Trident<block ref="aa44e980d222d5134b5e0d8a062e1543" prefix=" " category="inline-code"></block> 儲存驅動程式現在可搭配ONTAP 使用靜態API。</block>
  <block id="8485ea08789af7b6b7b44e024b526f9b" category="list-text">新增運算子yaml <block ref="5a02ebff4889c2de0379a0fb10bed282" prefix="(" category="inline-code"></block>）沒有<block ref="316707d12484dd3afede08839dee49bc" prefix=" " category="inline-code"></block> 支援Kubernetes 1.25。</block>
  <block id="26e871bef43095263845143b043aee4f" category="inline-link-macro">支援LUKS加密磁碟區</block>
  <block id="30b044636a9c63ab4b202192eec30c1c" category="list-text">新增對Windows Server 2019節點的支援。</block>
  <block id="38b9dc57f44121e6d970b34eede9ad0d" category="inline-link-macro">支援Windows節點上的SMB Volume</block>
  <block id="af8a9d07c7391207db96957ab59cb459" category="list-text">** Kubernetes：*將支援的Kubernetes最低更新為1.20。</block>
  <block id="d667cfc8e8d6ec0c2352fe97b0f09e40" category="list-text">移除Astra Data Store（廣告）驅動程式。</block>
  <block id="9b363ea2db99fe0dc5e9b43f47a37f20" category="list-text">已移除的支援<block ref="a6105c0a611b41b08f1209506350279e" prefix=" " category="inline-code"></block> 和<block ref="8c319f28d81d1527a9428e9a5c2195f5" prefix=" " category="inline-code"></block> 選項<block ref="19b30dc119e514235b739e076be9b3cc" prefix=" " category="inline-code"></block> 在設定iSCSI的工作節點多重路徑時。</block>
  <block id="1407cfeeb5e3916e1435ddea0f1c0a28" category="section-title">22.07年的變動</block>
  <block id="071d9becf308917b53d70c09e7da51b6" category="list-text">存取支援的NetApp儲存系統。</block>
  <block id="19eb712f406fc64109f96d9cf4055cb9" category="list-text">能夠從所有Kubernetes工作節點掛載磁碟區。</block>
  <block id="5f35b91e200cda68bf700d65b89c2c73" category="list-text">Linux主機<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block> （或<block ref="fb024832e51eb5f6da9113a745f1eb59" prefix=" " category="inline-code"></block>（如果您使用OpenShift）已安裝並設定為管理您要使用的Kubernetes叢集。</block>
  <block id="50f33d14f129e4548c1c270fd6725a78" category="section-title">組態選項</block>
  <block id="05f901da7fdacb9ca59e3d7e2d40f98d" category="cell"><block ref="0f4137ed1502b5045d6083aa258b5c42" prefix="" category="inline-code"></block></block>
  <block id="a3ff66cf5848a34d56915c8e879a5d52" category="section-title">組態範例</block>
  <block id="5f82f4ab2783617b6e62bdd43d4a4e49" category="doc">準備使用ONTAP 支援的SAN驅動程式來設定後端</block>
  <block id="19eb1a22d8687def5fb4904d3402728a" category="doc">跨命名空間共用NFS磁碟區</block>
  <block id="6b456f0abe4c4d2f0beb62e5985136cf" category="list-text">多層存取控制、確保安全性</block>
  <block id="6e5d93bf8e8aaaa4795a50f012bc8fea" category="list-text">可搭配所有Trident NFS Volume驅動程式使用</block>
  <block id="0ece56dd58b5aabac15e0d0a30553bc0" category="list-text">不依賴tridentctl或任何其他非原生Kubernetes功能</block>
  <block id="b6fcfcfd30bda2a77ebc74f23270f581" category="paragraph">此圖說明兩個Kubernetes命名空間之間的NFS Volume共用。</block>
  <block id="45208a2cac11f33c3e6af84d444ac7c5" category="image-alt">跨命名空間共用的概念性圖表。</block>
  <block id="06ad314b340900d226b1196e1fe289e9" category="section-title">快速入門</block>
  <block id="f5b36cc36c8381e7577788dd4db2019d" category="paragraph">您只需幾個步驟就能設定NFS Volume共享。</block>
  <block id="88b05b42d60719619c24f6101bcd381a" category="paragraph">來源命名空間擁有者授予存取來源PVc中資料的權限。</block>
  <block id="7037976663710169f00563675ffd3f91" category="paragraph">叢集管理員授予目的地命名空間擁有者建立TridentVolume Reference CR的權限。</block>
  <block id="46374486db0641fa4a3fc8e9c73766ed" category="paragraph">目的地命名空間的擁有者會建立TridentVolume Reference CR來參照來源PVC。</block>
  <block id="33fefc8d535df49d886c4bc78a08e3e5" category="paragraph">目的地命名空間的擁有者會建立從屬的PVc、以使用來源PVc的資料來源。</block>
  <block id="7238deab481379c03df561ea7c9b0e2e" category="section-title">設定來源和目的地命名空間</block>
  <block id="b23d212300860aa39d44f8fad02636a1" category="paragraph">為了確保安全性、跨命名空間共用需要來源命名空間擁有者、叢集管理員和目的地命名空間擁有者的協同作業與行動。使用者角色會在每個步驟中指定。</block>
  <block id="aae019fccb9b3ffee1ee77e9e5f2377a" category="list-text">*來源命名空間擁有者：*建立PVC <block ref="30520f4f96804df83914260b79f55962" prefix="(" category="inline-code"></block>） <block ref="6fde1ba4470caca933058264dbfdea2e" prefix="(" category="inline-code"></block>）使用<block ref="287f26e3328f9ac0f3f4da2cdaddd3e2" prefix=" " category="inline-code"></block> 註釋：</block>
  <block id="365b452a5b5d2d01e1f193fc8bd9bf2c" category="list-text">您可以使用以逗號分隔的清單、將永久虛擬儲存設備共用至多個命名空間。例如、<block ref="6b31015528f67fe4ce10b7c81957f601" prefix=" " category="inline-code"></block>。</block>
  <block id="fefd0d1f7e80bb8a4657265696b66694" category="list-text">您可以使用共用至所有命名空間<block ref="3389dae361af79b04c9c8e7057f60cc6" prefix=" " category="inline-code"></block>。例如、<block ref="e06421e15aa316addc52dd6c697027b7" prefix=" " category="inline-code"></block></block>
  <block id="bac5e1b9773b73b6702dfe25c8a61a05" category="list-text">您可以更新PVC,以納入<block ref="287f26e3328f9ac0f3f4da2cdaddd3e2" prefix=" " category="inline-code"></block> 隨時註釋。</block>
  <block id="5f560764a361bf1159f8a6c8cbd15dad" category="list-text">*目的地命名空間擁有者：*在參照來源命名空間的目的地命名空間中建立TridentVolume Reference CR<block ref="30520f4f96804df83914260b79f55962" prefix=" " category="inline-code"></block>。</block>
  <block id="d9bb6497cda089fc4a386c685a97cffa" category="list-text">*目的地命名空間擁有者：*建立一個PVC <block ref="3f6857fc20ae2372499a71869ac3fe7e" prefix="(" category="inline-code"></block>） <block ref="6fde1ba4470caca933058264dbfdea2e" prefix="(" category="inline-code"></block>）使用<block ref="57c54cbee1c6ed3d5902aa1d8cd1e55a" prefix=" " category="inline-code"></block> 註釋以指定來源PVc。</block>
  <block id="e22f320aefbf1cdb3ccd68c26b050060" category="admonition">目的地PVc的大小必須小於或等於來源PVc。</block>
  <block id="a5ddf1dcee266e65795efb120a45d2cb" category="section-title">刪除共享Volume</block>
  <block id="9f2f83b0c97d84774c1d61107283bb68" category="paragraph">使用<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> 公用程式、您可以執行<block ref="b5eda0a74558a342cf659187f06f746f" prefix=" " category="inline-code"></block> 取得從屬磁碟區的命令。如需詳細資訊、請參閱連結：../ Trident參考/ tridentctl.html<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix="[" category="inline-code"></block> 命令與選項]。</block>
  <block id="b1cc54ad6906d5f41516543bae01e46f" category="list-text"><block ref="490aa9b616d8535386ddf1c7037f79a0" prefix="" category="inline-code"></block>：Volume的說明。</block>
  <block id="20668f390d13376c8d13ab4b20a53b5d" category="list-text"><block ref="e3bbbed29599d3e6e29ae22829ad7f13" prefix="" category="inline-code"></block>：將查詢限制在從屬來源Volume。</block>
  <block id="92c22bb3853554f94f513a2d2f36e8ef" category="list-text"><block ref="aed2a4a749284f757648f1057abf44cd" prefix="" category="inline-code"></block>：將查詢限制在Volume的下屬。</block>
  <block id="3908892c437778f8b161a2ca006782cd" category="list-text">在從屬磁碟區上無法執行快照、複製和鏡射。</block>
  <block id="aec47cf6a0cb83824b504b756eb4b71c" category="doc">準備設定Azure NetApp Files 一個功能完善的後端</block>
  <block id="97d64245613ba751b698ce77fd51779a" category="inline-link">Azure：設定Azure NetApp Files 功能以建立NFS Volume</block>
  <block id="caa7dc98c21b44b17c214508b9b0fa3c" category="list-text"><block ref="bc54592d6183695b841c6d1880ec0bf8" prefix="" category="inline-code"></block>、<block ref="93c5bebdea9c94a0740fe6fd9bb250f0" prefix=" " category="inline-code"></block>和<block ref="2b53761249254ce6b502f521e5cc0683" prefix=" " category="inline-code"></block> 從 <block ref="63405c89f422580946169fa59c41e7ae" category="inline-link-macro-rx"></block> 在Azure Active Directory中、具備Azure NetApp Files 充分的權限執行此功能。應用程式登錄應使用下列其中一項：</block>
  <block id="ee495045d2c4c5131217a0248a404b4d" category="inline-link-macro">由Azure預先定義</block>
  <block id="2fbc632d5939633cc9c3b254d116080f" category="inline-link-macro">自訂貢獻者角色</block>
  <block id="b0ee19cc46a4fb3df97c1c676c0a5d57" category="inline-link-macro">使用Azure入口網站指派角色</block>
  <block id="77a4a369d552f7d3be163bda86f9113f" category="section-title">SMB磁碟區的其他需求</block>
  <block id="7595de66780a622cdd37b4823afebc07" category="inline-link-macro">GitHub：csi Proxy</block>
  <block id="c680a0c023a6d45186b9752a07e9938c" category="inline-link-macro">GitHub：適用於Windows的SCSI Proxy</block>
  <block id="2d6b406e65ac91f2af09f4228e3efe4f" category="list-text">設定為Windows服務的SCSI Proxy。若要設定<block ref="0f8126c17871ed45f2a848f15d96a1bb" prefix=" " category="inline-code"></block>、請參閱 <block ref="3ca23c6eadaac7aa23a492aef5e5d012" category="inline-link-macro-rx"></block> 或 <block ref="0b56a9ad79a8fef177779e7d3d856994" category="inline-link-macro-rx"></block> 適用於Windows上執行的Kubernetes節點。</block>
  <block id="eb89f16d07a93fa10a31ec6309045fe9" category="doc">SAN組態選項與範例ONTAP</block>
  <block id="b8ae61dc50cf8e8b79e68bc4a8d36393" category="cell"><block ref="0f179ba2bc32ab5d8f60692f5b800c86" prefix="" category="inline-code"></block></block>
  <block id="a56dcba8eacdac67fb510e1434d560d8" category="inline-link-macro">使用Linux統一金鑰設定（LUKS）</block>
  <block id="fd05c90de484dbc1cb963df796886af4" category="doc">準備使用ONTAP 不含NAS的驅動程式來設定後端</block>
  <block id="17a48ec106d5505e674ccdf56fce1058" category="doc">列舉後端組態選項與範例Azure NetApp Files</block>
  <block id="55eaeeb515ba1b8a42eb736b0e58f41f" category="cell">Volume的vnet功能集可能是<block ref="972e73b7a882d0802a4e3a16946a2f94" prefix=" " category="inline-code"></block> 或<block ref="eb6d8ae6f20283755b339c0dc273988b" prefix=" " category="inline-code"></block>。並非所有地區都提供網路功能、可能必須在訂閱中啟用。指定 <block ref="b0fdc9c7b96e4249152c61b506703142" prefix=" " category="inline-code"></block> 如果未啟用此功能、則會導致磁碟區資源配置失敗。</block>
  <block id="cc3d42de123c784e8d8e3c8404b943be" category="cell">精細控制NFS掛載選項。SMB磁碟區已忽略。若要使用NFS 4.1版掛載磁碟區、請包含 <block ref="c72da907ddca73ee114d92e5e098ce0e" prefix=" " category="inline-code"></block> 在以逗號分隔的掛載選項清單中、選擇NFS v4.1。儲存類別定義中設定的掛載選項會覆寫在後端組態中設定的掛載選項。</block>
  <block id="f0873081464f48da27a1068215270c60" category="cell"><block ref="296026821ada2ab8aebcf13547a63df5" prefix="" category="inline-code"></block></block>
  <block id="c0a4a0396978d1ad8816d2e358a2f05e" category="cell">設定NFS或SMB磁碟區建立。選項包括<block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix=" " category="inline-code"></block>、<block ref="79e0f325804dafbdaef73b3b17c0fd8d" prefix=" " category="inline-code"></block> 或null。NFS磁碟區的預設值設為null。</block>
  <block id="71e598dd105d32592243532b55392c55" category="cell"><block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix="" category="inline-code"></block></block>
  <block id="8cacf42dcc11f9e7779267100d4fd305" category="inline-link-macro">設定Azure NetApp Files 適用於某個聲音量的網路功能</block>
  <block id="4ace77649689419cf09eed38ddf4e74c" category="admonition">如需網路功能的詳細資訊、請參閱 <block ref="d4c16e3034c39d54544a2d5f2b2953d9" category="inline-link-macro-rx"></block>。</block>
  <block id="d37198994935307f0e4a95505678642e" category="section-title">必要的權限與資源</block>
  <block id="1860dce26ad531b08f4b17950bbda6a7" category="paragraph">的值<block ref="6a3560738716ddd805d769d4460ca7aa" prefix=" " category="inline-code"></block>、<block ref="87d26f327b9deeb6141721bda7f8ca65" prefix=" " category="inline-code"></block>、<block ref="338b00a62e6d8d3234c056bf48b711d0" prefix=" " category="inline-code"></block>、<block ref="a88edbe6cce8d8f180d87bef83408312" prefix=" " category="inline-code"></block>和<block ref="4f556606ab1f7cb51dd23811407facbd" prefix=" " category="inline-code"></block> 可以使用簡短或完整名稱來指定。在大多數情況下、建議使用完整名稱、因為短名稱可以符合多個名稱相同的資源。</block>
  <block id="8771cfaef1f991e1642d0a1ece8dcfa3" category="paragraph">。<block ref="6a3560738716ddd805d769d4460ca7aa" prefix=" " category="inline-code"></block>、<block ref="87d26f327b9deeb6141721bda7f8ca65" prefix=" " category="inline-code"></block>和<block ref="338b00a62e6d8d3234c056bf48b711d0" prefix=" " category="inline-code"></block> 值是篩選器、可將探索到的資源集合限制在此儲存後端可用的資源、並可任意組合指定。完整名稱格式如下：</block>
  <block id="be1b9ef68f31ecee991e2282c1f24f0f" category="section-title">Volume資源配置</block>
  <block id="6154de53659ccfe0ba0733effdb2da13" category="paragraph">您可以在組態檔的特殊區段中指定下列選項、以控制預設的Volume資源配置。請參閱 <block ref="c850cc933797a5d4472ae11f15a5ef5e" category="inline-xref-macro-rx"></block> 以取得詳細資料。</block>
  <block id="ea221277b2f168f5e17d112765f4a1c0" category="cell">匯出新磁碟區的規則。<block ref="c72971f17465d2a32345bc872af62a34" prefix=" " category="inline-code"></block> 必須是以逗號分隔的清單、以CIDR表示法列出所有的IPv4位址或IPv4子網路組合。SMB磁碟區已忽略。</block>
  <block id="21590b83460bd480131384ef53bdccc4" category="cell">新磁碟區的UNIX權限（4個八進位數字）。SMB磁碟區已忽略。</block>
  <block id="10c0eb6973453da95b4ef937f19ddb6c" category="section-title">組態範例</block>
  <block id="cad675ae3fb846705512fe460e615ac3" category="paragraph">以下內容<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> 定義請參閱上述儲存資源池。</block>
  <block id="1abbfd87ab307af55b755fd27ce60191" category="paragraph">使用<block ref="4d859186a09b1da3597e5901157d9400" prefix=" " category="inline-code"></block> 您可以為每個項目指定<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> 用於裝載磁碟區的虛擬集區。該磁碟區會在所選的資源池中定義各個層面。</block>
  <block id="4b7db799aa8307d15835ff36beb1b97c" category="section-title">SMB磁碟區的定義範例</block>
  <block id="82b60bb483328d8efe9240dc8aa4a600" category="paragraph">使用<block ref="296026821ada2ab8aebcf13547a63df5" prefix=" " category="inline-code"></block>、<block ref="e12fdd044232e643620eed06bf33c7af" prefix=" " category="inline-code"></block>和 <block ref="1ad68a6a046942b7c1666aed825df70a" prefix=" " category="inline-code"></block>、您可以指定SMB磁碟區、並提供所需的Active Directory認證資料。</block>
  <block id="c51cc3b801a879870aea846bdde1c7a3" category="section-title">建立後端</block>
  <block id="7d8058d93ec1d95c673d83bf303326ff" category="doc">列舉NAS組態選項與範例ONTAP</block>
  <block id="ea61e2c2ff507048203824add1eb7c21" category="section-title">考量</block>
  <block id="d041a310ba7cc2599250e64801594107" category="list-text">新增支援 <block ref="ca184a2eda203b6d98158bdf24e5cf7d" category="inline-link-macro-rx"></block>。</block>
  <block id="adbfe36f6399f2846983b2901604a962" category="list-text">新增 <block ref="40be42d37bc6014716dcd0a1d368ffb5" category="inline-link-macro-rx"></block> 透過<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block> 儲存驅動程式：</block>
  <block id="f18a50f02f48551895d57b81dd288142" category="sidebar">跨命名空間共用NFS磁碟區</block>
  <block id="66f2c42a4ca561f5472459301bc7d096" category="list-text">目前市面上已普遍提供適用於整個過程的自動功能、例如針對不適用的驅動程式進行交換偵測。MetroCluster ONTAP</block>
  <block id="e87ded5ef8bc8adbc3c135528636f4f2" category="list-text"><block ref="e87ded5ef8bc8adbc3c135528636f4f2" category="inline-link-macro-rx"></block></block>
  <block id="fce586d9f649fb529d0a1846495ba259" category="list-text"><block ref="fce586d9f649fb529d0a1846495ba259" category="inline-link-macro-rx"></block></block>
  <block id="ecd7650a65b79124ad23fb7eed8faa7e" category="paragraph">NetApp產品組合中的每個儲存平台都有獨特的功能、無論應用程式是否為容器化的應用程式帶來好處。</block>
  <block id="e6dc22cf3c59dda6e09524b2b133f336" category="section-title">平台總覽</block>
  <block id="050fb8b0306d7532dbf8c15b8cba9745" category="paragraph">Trident可搭配ONTAP 使用沒有一個平台比其他平台更適合所有應用程式和案例、不過在選擇平台時、應考慮應用程式和管理裝置團隊的需求。</block>
  <block id="31b1d21fc5180ec9a5b3d9d7d5ce3295" category="paragraph">\https://&lt;login&gt;:&lt;password&gt;@&lt;mvip&gt;/json-rpc/&lt;element-version&gt;</block>
  <block id="8eadd25d5b4b5d0637cc13cd7349ce5d" category="paragraph">\https://admin:admin@192.168.160.3/json-rpc/8.0</block>
  <block id="88825f48aa3e053d7df66897e8b63e38" category="section-title">驗證需求</block>
  <block id="6bee7851f8606d588c9122b234c202e3" category="list-text">確認您的部署符合所有的 <block ref="6fc1811f5f9a8ae54793544600e2dff7" category="inline-link-macro-rx"></block>。</block>
  <block id="0dabff490bbf6c7e308950959cc5a024" category="section-title">深入瞭解安裝程式</block>
  <block id="99c850b82f45e568828f2a8c5ab8f94d" category="section-title">深入瞭解Volume存取群組</block>
  <block id="7c14ddfe8f627e4786f4da7cd4cea9ba" category="section-title">儲存類別關聯</block>
  <block id="ab4589eca69db942d79a0dbbd9ec8399" category="section-title">Volume建立</block>
  <block id="3b878279a04dc47d60932cb294d96259" category="section-title">總覽</block>
  <block id="a6fbed601c3d014f6d8342990aeee0b5" category="section-title">深入瞭解Volume Snapshot建立</block>
  <block id="7a72a102c2990b674624e8b6ec834e4d" category="section-title">何時使用REST API</block>
  <block id="eee97547fb40d9c4df018377ac6478bb" category="section-title">使用REST API</block>
  <block id="ee656aff7dc78e280efdea39a682afbb" category="section-title">升級前的考量</block>
  <block id="4e9ac50b8f51023570ef0b0a0a827912" category="inline-link-macro">支援的Kubernetes版本</block>
  <block id="c27e444dab3a08bf8ec59794897c1a27" category="inline-link-macro">支援的Kubernetes版本</block>
  <block id="4f0e7dc30ffb3e25e75331c9afb2243a" category="cell">Volume模式</block>
  <block id="28c142639a9bbdd526b8eb986c13907d" category="paragraph">無檔案系統；原始區塊裝置</block>
  <block id="98f770b0af18ca763421bac22b4b6805" category="section-title">功能</block>
  <block id="8ff961668c6784e84b25c265cbb629d7" category="paragraph">若要深入瞭解跨命名空間Volume存取：</block>
  <block id="f1cfea5f1444de607dfa549b3aa57010" category="inline-link-macro">在命名空間之間共用磁碟區：歡迎使用跨命名空間磁碟區存取</block>
  <block id="2780f690b7670efc296ac19ef3029d0c" category="list-text">請造訪 <block ref="b0d29f1b2abb2cc552e4cc47177582ef" category="inline-link-macro-rx"></block>。</block>
  <block id="96e1384807331548bf745acde0fe1b73" category="inline-link-macro">NetAppTV</block>
  <block id="bd2cc8575fe69c7f775292759380c838" category="inline-link-macro">bunder_pre_1_25.yaml</block>
  <block id="5a02ebff4889c2de0379a0fb10bed282" category="inline-link-macro">bunder_POST_1_25.yaml</block>
  <block id="d59db7846bd10b6d60d21543df9faa9e" category="paragraph-title">您需要的產品</block>
  <block id="6c6e605e09d47da14693d106977b6eb0" category="section-title">管理<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> 後端使用<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block></block>
  <block id="78fb4311dea625690d7fb6274025625a" category="section-title">步驟2：建立<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR</block>
  <block id="d6f4b4bedc693acd49ad08c1cf0cdad5" category="section-title">步驟3：確認的狀態<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR</block>
  <block id="a035fed1dd97545349b5fffbd9e3e88f" category="section-title">管理<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> 後端使用<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block></block>
  <block id="0901a332c26ed210204bad23d45c8b6d" category="section-title">步驟1：確認<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block> 設為<block ref="16d79ff80feadcf2f52096f073f2b94a" prefix=" " category="inline-code"></block></block>
  <block id="2f1beb23541bc11eb53ca6b33485d4f8" category="section-title">步驟2：刪除<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR</block>
  <block id="06c2cea18679d64399783748fa367bdd" category="inline-image-macro">一</block>
  <block id="32ec9b4824220f8ae03a723da009cd54" category="paragraph-title"><block ref="58f667aaf05f87159670e12bd9bc076b" category="inline-image-macro-rx" type="image"></block> 設定來源PVc以共用磁碟區</block>
  <block id="aada29daee1d64ed0fe907043855cb7e" category="inline-image-macro">二</block>
  <block id="82a9b6c32a91a1f4a714d648f5d3260f" category="paragraph-title"><block ref="54f425ce8d89f4ed6b8a546561af5d60" category="inline-image-macro-rx" type="image"></block> 授予在目的地命名空間中建立CR的權限</block>
  <block id="ca8a2087e5557e317599344687a57391" category="inline-image-macro">三</block>
  <block id="311a877e773f97b1e237db665a868dd9" category="paragraph-title"><block ref="05b2444faffd66d76e88602ea7dd353f" category="inline-image-macro-rx" type="image"></block> 在目的地命名空間中建立TridentVolume Reference</block>
  <block id="981b8fcee42e1e726a67a2b9a98ea6e9" category="inline-image-macro">四</block>
  <block id="fb16fc9d34d26a8e74ba1a7180766513" category="paragraph-title"><block ref="beadfa85a2fdca06b91edc1131c603e6" category="inline-image-macro-rx" type="image"></block> 在目的地命名空間中建立從屬的PVc</block>
  <block id="fd69c5cf902969e6fb71d043085ddee6" category="paragraph-title">結果</block>
  <block id="3f8e335666124e3b7f5db07f03fef0b1" category="section-title">使用<block ref="fed7609223e8cae53e079facb24f3426" prefix=" " category="inline-code"></block> 查詢從屬Volume</block>
  <block id="260817022a7340fc89eae3e7dbed8f6a" category="section-title">使用的範例定義<block ref="4d859186a09b1da3597e5901157d9400" prefix=" " category="inline-code"></block> 欄位</block>
  <block id="19ef07597f79648211dbed100709836b" category="section-title">更新後端以納入<block ref="1f2a94e142bf020b1f7c6297ec12413f" prefix=" " category="inline-code"></block></block>
  <block id="891d26d5e7410db6c0a971245c6025c0" category="section-title">範例1：的後端組態<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> 三種磁碟區類型的驅動程式</block>
  <block id="454631312fab234fc91bb2f85a751fac" category="section-title"><block ref="913a4b06671d1e04e6582a85afe3abbe" prefix="" category="inline-code"></block></block>
  <block id="e892fda55ead7e15eed753e850d35f12" category="section-title">步驟2：建立<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR</block>
  <block id="74257eabdceb63f8522f7c68b103da3a" category="section-title">停用<block ref="d51321f13693d09d4a9cbb2758b42d12" prefix=" " category="inline-code"></block> 適用於應用程式SVM</block>
  <block id="e49cf31f5ed35f0eb694c7714e8c3234" category="section-title"><block ref="76ea0bebb3c22822b4f0dd9c9fd021c5" prefix="" category="inline-code"></block></block>
  <block id="3649b15e31d22a1e2210f014d843b9fa" category="section-title"><block ref="099af53f601532dbd31e0ea99ffdeb64" prefix="" category="inline-code"></block></block>
  <block id="a4027ed0f56ae6ac2cbb7605a519932b" category="section-title"><block ref="b5eda0a74558a342cf659187f06f746f" prefix="" category="inline-code"></block></block>
  <block id="7920cf9e1a990d156e390321c1d5efeb" category="section-title"><block ref="59b514174bffe4ae402b3d63aad79fe0" prefix="" category="inline-code"></block></block>
  <block id="cc27cfd3259c2299d8dece590d5f6985" category="section-title"><block ref="19ad89bc3e3c9d7ef68b89523eff1987" prefix="" category="inline-code"></block></block>
  <block id="2acfb4ba14a6f33d7e82e8d1dda6542f" category="section-title"><block ref="2165e4fa5bddb65a31f6a0c495c2fa37" prefix="" category="inline-code"></block></block>
  <block id="9ce837bc2492d4ed390bc5d1ea9d1437" category="section-title"><block ref="2541d938b0a58946090d7abdde0d3890" prefix="" category="inline-code"></block></block>
  <block id="30cf71e674825d319eb0406032c1a80b" category="section-title"><block ref="3ac340832f29c11538fbe2d6f75e8bcc" prefix="" category="inline-code"></block></block>
  <block id="c4e2f712f33e39883cdadc27311ff798" category="section-title">Kubernetes<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block> 物件</block>
  <block id="40f23ed795a1a88d4da7ac2ef847ff7f" category="section-title">Kubernetes<block ref="858e55ea2e6429120a862313c50a9f5f" prefix=" " category="inline-code"></block> 物件</block>
  <block id="7df5b64daec466033329296995f05735" category="section-title">Kubernetes<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> 物件</block>
  <block id="db36743614e87531d560fe8ae0bc6c7d" category="section-title">Kubernetes<block ref="19476662cd814e0aa085eca121de89b8" prefix=" " category="inline-code"></block> 物件</block>
  <block id="63f2f0978770be469911c5f1722d82ca" category="section-title">Kubernetes<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block> 物件</block>
  <block id="1ca312948dba5b1321da24bc362f4148" category="section-title">Kubernetes<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block> 物件</block>
  <block id="4171707fb2a131f0fae96196310c5e3b" category="section-title">Kubernetes<block ref="99bc4b850e05bafd67cf5f5f49344c1e" prefix=" " category="inline-code"></block> 物件</block>
  <block id="4f89992961c018acecad7b373dcce336" category="section-title">清理<block ref="0b79951d94d2a7fc1f7ba55091959bda" prefix=" " category="inline-code"></block> 如果安裝失敗</block>
  <block id="b9984d1eca39b86eb39cedf7db8f8c62" category="section-title">移除<block ref="0b79951d94d2a7fc1f7ba55091959bda" prefix=" " category="inline-code"></block></block>
  <block id="a3edb76d25dfeb8d67e4711eafd2b5ca" category="paragraph">為您的儲存系統選取並部署後端驅動程式。</block>
  <block id="a57628924f909d4edd5cb81ee4f10896" category="section-title">背後驅動程式ONTAP</block>
  <block id="4ea57c8a88545a4fc2039131bc6fd74d" category="paragraph">以使用的傳輸協定和儲存系統上的磁碟區配置方式來區分後端驅動程式ONTAP 。因此、在決定要部署的驅動程式時、請謹慎考量。</block>
  <block id="642b59503457da90c85cbb7a35e02089" category="paragraph">可用ONTAP 的支援功能包括：</block>
  <block id="e44e590e4645ab9ef08fb84f61cede17" category="section-title">背後驅動程式Cloud Volumes ONTAP</block>
  <block id="fdde450e1a16aa1461e62c6fa5ac621f" category="section-title">Amazon FSXfor ONTAP Sendbackend驅動程式</block>
  <block id="d079959bb7c738f4e1704de5ff69b897" category="section-title">NetApp HCI / SolidFire後端驅動程式</block>
  <block id="64648abd6d020446c9c8d556a1584d71" category="section-title">背後驅動程式Azure NetApp Files</block>
  <block id="0dceb918cb4a4d7dcbe5af26d08e7657" category="section-title">特定後端使用率</block>
  <block id="ebaf90f7386ae95e7960a2fc0084116e" category="section-title">模擬QoS原則</block>
  <block id="125ad0610423d53866d257eb097320e4" category="section-title">根據特定功能使用後端</block>
  <block id="b6e026d8066036cf2628237905a58384" category="section-title">模擬不同的服務層級/QoS</block>
  <block id="628fd4af2a4e2fce014efbf03b84bb71" category="section-title">指派特定的層面組合</block>
  <block id="a599393b295f7ad56a8c7f1d327290de" category="paragraph">此範例會建立現有PVc的快照。</block>
  <block id="f6bd0d7447ff66cc6b859603a88fbde9" category="section-title">相關連結</block>
  <block id="35aa4a2a819e526c2e930e487df8d423" category="list-text"><block ref="35aa4a2a819e526c2e930e487df8d423" category="inline-link-macro-rx"></block></block>
  <block id="19476662cd814e0aa085eca121de89b8" category="inline-link-macro">Volume SnapshotClass</block>
  <block id="d63cadc96caf4b05f8fa532b08e889da" category="list-text"><block ref="d63cadc96caf4b05f8fa532b08e889da" category="inline-link-macro-rx"></block></block>
  <block id="3b64653c97a388d828849314b6a1b383" category="cell">集區的標籤值必須：</block>
  <block id="6da89265a9a8b0b28eb4946bb2ec0c6d" category="cell">相符</block>
  <block id="ecf92052d55345fee4602d9eb8c22063" category="cell">不相符</block>
  <block id="c6c1caf73b0f83d807abe5a717014ab7" category="cell">加入一組值</block>
  <block id="8daf6b016f4033d59900c23f162c0f73" category="cell">不在一組值中</block>
  <block id="c6bfba38b789fec8271d1d1496a9ee59" category="cell"><block ref="42538adbdb6240b2b083a000a615d5bd" prefix="" category="inline-code"></block></block>
  <block id="152f5dc0f7ac734f8e8ee17d4a482462" category="cell">保護</block>
  <block id="7b532e697a35209f3df3956577cc3d9c" category="cell">存在於任何值</block>
  <block id="eb0254f1d0a82e646c239d4d2e2f83ac" category="cell"><block ref="f65e5ff2a1bb1af969dccabe7dcd5cdd" prefix="" category="inline-code"></block></block>
  <block id="67a3b723b2d9024808eb2c6e686d00a0" category="cell">!保護</block>
  <block id="1fde97909b90bb329db2062f7744bd45" category="cell">不存在</block>
  <block id="5eb07a7cb7d445ef6bbb17270c65cf52" category="list-text">若搭配使用RMCOS 4.5或更新版本、或其他與RHEL相容的Linux套裝作業系統<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> 驅動程式和元素OS 12.5或更早版本、請確定CHAP驗證演算法已在中設定為MD5<block ref="104f48adc29dc1e1d7c9bbe7b5dd3f8d" prefix=" " category="inline-code"></block>。元素12.7提供安全的FIPS相容CHAP演算法SHA1、SHA-256和SHA3-256。</block>
  <block id="18c20e5d2e368f36f420dd39019d460f" category="list-text">如果使用<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> 使用OpenShift 4.5的驅動程式、請確保基礎工作者節點使用MD5做為CHAP驗證演算法。元素12.7提供安全的FIPS相容CHAP演算法SHA1、SHA-256和SHA3-256。</block>
  <block id="5896cc977dd7b9854957e18a2a5bf072" category="cell">要指派給所建立磁碟區的調適性QoS原則群組。選擇每個儲存集區/後端的其中一個qosPolicy或adaptiveQosPolicy。不受ONTAP-NAS-經濟支援。</block>
  <block id="19ab49765cdd2c8ab592eb40eeff08cf" category="cell">ONTAP-SAN、solidfire-san、ONTAP-san經濟型</block>
  <block id="054b5072368dea4f8748909c16c7de98" category="cell">厚：全ONTAP 是邊、薄：全ONTAP 是邊、邊、邊、邊、邊、邊、邊、邊、邊、邊、邊</block>
  <block id="f888aa18c19e41f8c1263fa99ca8b94c" category="cell">solidfire-san、ontap、nap、nap、nas經濟、ontap、nas、flexgroup、ontap、san、ONTAP-san經濟型</block>
  <block id="05a2712653dfbf7d695c18242d9848e6" category="paragraph">RHEL 8以上</block>
  <block id="bba4e1b8d8614fe9da2d67e2dcef4b52" category="paragraph"><block ref="8321592ce24c8a122ecf26a63cfca407" prefix="" category="inline-code"></block>、<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>、<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>、<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>、<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block></block>
  <block id="c95cada2a569592345ebc18e5ef4c7aa" category="paragraph">傳輸協定LIF的IP位址。</block>
  <block id="25edde63e4922bb316018c25888e64a6" category="inline-link-macro">可選擇的LUN對應ONTAP</block>
  <block id="0350980c728940d67af063bb5d711f0f" category="paragraph">如需系統型系統的單元檔案範例、請參閱<block ref="50a97f9b0dec64cc53ca48406c60fe4d" prefix=" " category="inline-code"></block> 在Git repo中。若要搭配RHEL使用檔案、請執行下列步驟：</block>
  <block id="2f6c694f9d016c7193ece4853c402d96" category="doc">自訂Trident操作員安裝</block>
  <block id="79445b5dba623a55ad4d974712853c2f" category="cell"><block ref="2b8b5018006a800ae06485c3aacfa08d" prefix="" category="inline-code"></block></block>
  <block id="cbea7dc9eb2c3c926a86130b0be6368f" category="cell">設定Trident運算子的影像提取原則。有效值包括：<block ref="68eec46437c384d8dad18d5464ebc35c" prefix=" " category="inline-code"></block> 永遠拉出映像。<block ref="7803982c6b845094275e8e83f0fad3a6" prefix=" " category="inline-code"></block> 僅當節點上尚未存在映像時才提取映像。<block ref="6e7b34fa59e1bd229b207892956dc41c" prefix=" " category="inline-code"></block> 永遠不要拉動映像。</block>
  <block id="ac7c98af4f51cc4b20acafb785a53284" category="cell"><block ref="7803982c6b845094275e8e83f0fad3a6" prefix="" category="inline-code"></block></block>
  <block id="2f74d18d1c9959832fc00b898fa2417e" category="doc">使用Helm部署Trident運算子（標準模式）</block>
  <block id="6852076d7b753ee3ea825ae4af1375ac" category="inline-link-macro">離線部署程序</block>
  <block id="2f5480efe7a0a4b0cffbf110abec11c2" category="paragraph">使用Trident <block ref="cdacb2b0d49176a3c0d8cc9d693de833" category="inline-link-macro-rx"></block> 您可以部署Trident運算子、並在單一步驟中安裝Trident。</block>
  <block id="3342f1a2f74c6062a39d3076c35c5a5b" category="inline-link-macro">安裝總覽</block>
  <block id="6657de3ab3deaeef939684c50d5310e3" category="paragraph">檢閱 <block ref="17128a3e349370ba21c9ca13ca0bc297" category="inline-link-macro-rx"></block> 為了確保您符合安裝先決條件、並為您的環境選擇正確的安裝選項。</block>
  <block id="8f3958d59b8da100a4663b1cace112b7" category="inline-link-macro">部署先決條件</block>
  <block id="64d2af40480a5cebf7e64939f6253bf3" category="paragraph">此外 <block ref="c7282b7e52e27c635b613335e59bf436" category="inline-link-macro-rx"></block> 您的需求 <block ref="fc0cdbd8defe0c7175199dd05a0f8e76" category="inline-link-macro-rx"></block>。</block>
  <block id="d75fdc8e85ddcd7e9dc9f367168dec11" category="paragraph">您可以使用<block ref="cd4140d3de30b520500459331d08d2bf" prefix=" " category="inline-code"></block> 若要檢閱安裝詳細資料、例如名稱、命名空間、圖表、狀態、應用程式版本、和修訂編號。</block>
  <block id="4c5ab57df808d08e9978671e7e81bb2a" category="section-title">在安裝期間傳遞組態資料</block>
  <block id="c2bae6a1b11b371647052979113c2b7c" category="cell"><block ref="2c1d18b300e96c797f390483b0c6acdb" prefix="" category="inline-code"></block> （或<block ref="5338b151154663bac9980b0f044518f2" prefix=" " category="inline-code"></block>）</block>
  <block id="0bfab21a3b7a34a60173df3f165eda9c" category="paragraph">指定具有覆寫的Yaml檔案。這可以多次指定、最右邊的檔案會優先。</block>
  <block id="ef136231fb37749162723573d36b19c9" category="cell"><block ref="8b5806248570dbb13e7d3bc5e6c0ee37" prefix="" category="inline-code"></block></block>
  <block id="7595b6387dfaf9307f563edc4d951a0d" category="paragraph">在命令列上指定置換。</block>
  <block id="ef911ad0da9f5477ca7ec7af0ba4181a" category="paragraph">無論安裝路徑為何、您都必須具備：</block>
  <block id="3f2851ece89063ca1615062ac2117a4e" category="list-text">對執行支援版本Kubernetes及啟用功能需求的Kubernetes叢集擁有完整權限。檢閱 <block ref="3675fd04b78685cacd6e23511ab11d10" category="inline-link-macro-rx"></block> 以取得詳細資料。</block>
  <block id="f6f19569d16b2b36f137e3df3e315626" category="list-text">。<block ref="39e7fa5a13dbc25a4aa8c4b323cd657c" prefix=" " category="inline-code"></block> 環境變數設定為指向Kubernetes叢集組態。</block>
  <block id="a24b4ef46f44c1b54b99e62f49bef9af" category="section-title">選擇您的安裝方法</block>
  <block id="dcb987a2d08ee1a9198d1183b1a63a96" category="inline-link-macro">在方法之間移動</block>
  <block id="e11c9248bc5d43c6663f67955adbc53b" category="paragraph">選取最適合您的安裝方法。您也應該檢閱的考量事項 <block ref="e6ce874bf5f421a383109cc222a74763" category="inline-link-macro-rx"></block> 做出決定之前。</block>
  <block id="bd1cc9ebdb33ed22a54815219f97af08" category="section-title">使用Trident運算子</block>
  <block id="b2ad529645b5bea51c4bcd516a5c5c8f" category="inline-link-macro">自訂您的Trident營運者部署</block>
  <block id="9d2c1d92b0ecb606394b40e3553d07d2" category="paragraph">使用Trident營運者的好處包括：</block>
  <block id="9bb09894435f05fa667865ab4c45ace7" category="paragraph">Trident運算子會自動為Kubernetes版本建立下列物件。</block>
  <block id="839be275cd4b0f32a2c3e0278ce6d568" category="list-text">營運者服務帳戶</block>
  <block id="f330ead337ce41659c5526de118cdac3" category="list-text">叢集角色和叢集角色繫結至服務帳戶</block>
  <block id="02c7e9dd319d7284e2200c673387dfdc" category="list-text">專屬的PodSecurity原則（適用於Kubernetes 1.25及更早版本）</block>
  <block id="504dabdcc3051fc4c1b7a92eb22fad82" category="example-title">還原功能的功能&lt;/strong&gt; &lt;strong&gt;</block>
  <block id="0bfe7abd2878a67d5ff26746df309f8c" category="example-title">更新至現有安裝的更新功能&lt;/strong&gt; &lt;strong&gt;</block>
  <block id="cbbeebc91e4ea4f1960f7a74b5b14c23" category="paragraph">您可以輕鬆地與營運者一起更新現有的部署。您只需要編輯<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> 以更新安裝。</block>
  <block id="f72ba1a3a498489a96fd8774bfa9ea9d" category="example-title">支援升級功能的不一樣之處&lt;/strong&gt; &lt;strong&gt;</block>
  <block id="4c24a3b9facf2ea9fc7ed2ca52dab45d" category="inline-link-macro">客製化安裝功能&lt;block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category='inline-code'/&gt;</block>
  <block id="84721e18f913ae71c91ded91f5eb0ccc" category="section-title">選擇安裝模式</block>
  <block id="ecafb217c7f4e740b9f654a4f2d90d83" category="paragraph">根據組織所需的安裝模式_（標準、離線或遠端）來判斷您的部署程序。</block>
  <block id="e0090e5eeb1da23a2924e8a8913a9bf8" category="open-title">標準安裝</block>
  <block id="ca02732ace7c24d10b82abb835861fa8" category="list-text">透過網際網路擷取容器映像</block>
  <block id="6c09f957f6dd5f1b3287dacfabe8711a" category="open-title">離線安裝</block>
  <block id="559e73031b36e6693dcd5724b5ec9488" category="paragraph">在無線或安全的位置可能需要離線安裝模式。在此案例中、您可以建立單一私有、鏡射的登錄或兩個鏡射登錄、以儲存所需的Trident和csi映像。</block>
  <block id="37f28a5a50507d5cf12665008632572f" category="admonition">無論您的登錄組態為何、都必須將csi映像存放在單一登錄中。</block>
  <block id="8e9a94c9655a1b4aac478f836ff8dde6" category="open-title">遠端安裝</block>
  <block id="3937570b6000a2f24b3066af230f4546" category="paragraph">以下是遠端安裝程序的高階概觀：</block>
  <block id="8be61d7ba452354892142828445281d0" category="section-title">根據您的方法和模式選取程序</block>
  <block id="667af34faf4c2e74b377bbe7608ca481" category="paragraph">做出決策後、請選擇適當的程序。</block>
  <block id="4c3880bb027f159e801041b1021e88e8" category="cell">方法</block>
  <block id="f8a17e31b9d98082aa01aa0b41f63a01" category="cell">安裝模式</block>
  <block id="e633d636fff46ea0b0998da525b2fba2" category="cell">Trident運算子（手動）</block>
  <block id="8f923c676fa6a52b7729476fc0d5f245" category="paragraph"><block ref="8f923c676fa6a52b7729476fc0d5f245" category="inline-link-macro-rx"></block></block>
  <block id="d295bad40364c9511c0d7b6a18e9557b" category="paragraph"><block ref="d295bad40364c9511c0d7b6a18e9557b" category="inline-link-macro-rx"></block></block>
  <block id="b9267203f04d91a5fcda0041ad2b3b64" category="cell">Trident運算子（Helm）</block>
  <block id="c197c2a4864a9d7a8190b1988d1e5885" category="paragraph"><block ref="c197c2a4864a9d7a8190b1988d1e5885" category="inline-link-macro-rx"></block></block>
  <block id="8dc52e4e0ca84a69e954b9b7a21c2bfc" category="paragraph"><block ref="8dc52e4e0ca84a69e954b9b7a21c2bfc" category="inline-link-macro-rx"></block></block>
  <block id="0b9d702360fb60f9b8b477339ca03a7b" category="cell"><block ref="c67fd1b99934afa248dfeb285a9a4191" prefix="" category="inline-code"></block></block>
  <block id="be686de0390e44f3981b994e059dfcb7" category="inline-link-macro">標準或離線安裝</block>
  <block id="9e244fc5020d1137289c0c34c2944ac4" category="paragraph"><block ref="9e244fc5020d1137289c0c34c2944ac4" category="inline-link-macro-rx"></block></block>
  <block id="dd341f866eaefb939dc86608773c909d" category="section-title">在安裝方法之間移動</block>
  <block id="84dfae02381a00cf11d01c571e3e3e0f" category="paragraph">您可以決定變更安裝方法。在執行此操作之前、請先考慮下列事項：</block>
  <block id="f36d25716a4b2c466ddcb8065bef3ae6" category="paragraph"><block ref="f36d25716a4b2c466ddcb8065bef3ae6" category="inline-link-macro-rx"></block></block>
  <block id="50823ee9226376c44bfb71c334ee2f3f" category="paragraph"><block ref="50823ee9226376c44bfb71c334ee2f3f" category="inline-link-macro-rx"></block></block>
  <block id="44e21d73aa8bd7200fceac6671723524" category="doc">手動部署Trident運算子（離線模式）</block>
  <block id="11ad6eeb0e6095efdbf4599d71303b0e" category="inline-link-macro">標準部署程序</block>
  <block id="8ff1bc8a7ac69f081f871e9e2a8c0d0f" category="section-title">手動部署Trident運算子並安裝Trident</block>
  <block id="bcc71769dd00af93bb067088094d9b0b" category="paragraph">登入Linux主機、驗證其是否正在管理正常運作的和 <block ref="ac355729d1ddc95a290738ca862fed08" category="inline-link-macro-rx"></block> 而且您擁有必要的權限。</block>
  <block id="92e83bca2bb40324de35154f8c95083d" category="list-text">驗證Kubernetes版本：</block>
  <block id="b17eef151a74252395aad7db4b148b57" category="list-text">驗證叢集管理員權限：</block>
  <block id="987c560d773c81bc59f0fa11370626f5" category="list-text">確認您可以啟動使用Docker Hub映像的Pod、並透過Pod網路連線至儲存系統：</block>
  <block id="d868f4f0026c532dcfdb417dde3174c2" category="section-title">步驟1：下載Trident安裝程式套件</block>
  <block id="e0755e6cf0a80c2d8535ac3b7eae0b4b" category="section-title">步驟2：建立<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> 客戶需求日</block>
  <block id="ad9aaefb573cd08d43c2b039449b1f0e" category="section-title">步驟3：更新操作員中的登錄位置</block>
  <block id="7e1c8354fb2b2ecb65abfa6a63e08970" category="section-title">步驟3：部署Trident運算子</block>
  <block id="05cb480f9344b60f5eeaed25c5e230d1" category="list-text">建立資源並部署營運者：</block>
  <block id="78f538d1739cfd8c70698ec72269da17" category="inline-link-macro">自訂您的Trident安裝</block>
  <block id="9c0f95d6de9186b24cce94c1c19ad0bb" category="section-title">驗證安裝</block>
  <block id="f33407040f00668c9fe98aa95119654b" category="paragraph">驗證安裝的方法有多種。</block>
  <block id="1ee1b78e8a634a10be54657432d990c0" category="section-title">使用<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> 狀態</block>
  <block id="59331c774767b9695025c001ca75a1f6" category="inline-link-macro">檢查記錄</block>
  <block id="4b3e10870e70ff689f8c7d5c4470bb56" category="paragraph">狀態<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> 指出安裝是否成功、並顯示安裝的Trident版本。安裝期間的狀態<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> 變更來源<block ref="2763f33c904a183bd0ef06f9c4fb4403" prefix=" " category="inline-code"></block> 至<block ref="98dd43dfae05b11befe1f140e0ec787a" prefix=" " category="inline-code"></block>。如果您觀察到<block ref="d7c8c85bf79bbe1b7188497c32c3b0ca" prefix=" " category="inline-code"></block> 狀態、而且營運者無法自行恢復、 <block ref="b02c5b645df4a829ba2f9c98296d4b15" category="inline-link-macro-rx"></block>。</block>
  <block id="474d9cf1b4e7f826154b0e1f35c59f5a" category="section-title">使用Pod建立狀態</block>
  <block id="8492a795a07bc459d58808ef0ab73c36" category="section-title">使用<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block></block>
  <block id="3c70f31b6cfd2fccfef3e715c4c4cabb" category="doc">自訂tridentctl安裝</block>
  <block id="3e8935de45b1559e2ec2b01c1bbb06c2" category="doc">使用Helm部署Trident運算子（離線模式）</block>
  <block id="3d289dfc040026f9fd5fd0d307821b6c" category="doc">使用tridentctl安裝</block>
  <block id="953aeeea088f5f969f2eba121ae81f15" category="paragraph">在開始安裝之前、請先登入Linux主機、然後確認它正在管理正常運作的 <block ref="ac355729d1ddc95a290738ca862fed08" category="inline-link-macro-rx"></block> 而且您擁有必要的權限。</block>
  <block id="53c512e9599c71e1a585d636a5229820" category="open-title">標準模式</block>
  <block id="ca5380881d4e3b38f359d5d05acd6163" category="paragraph">您的安裝狀態應該類似這樣。</block>
  <block id="c5e8fc3926c956e64487a70aa036ec8c" category="paragraph">您可以使用Pod建立狀態或來驗證安裝<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。</block>
  <block id="5ba19178fb1b2111306714e923b35945" category="inline-link-macro">開啟偵錯模式</block>
  <block id="43e7d51a6323aabe7af3d192e157f5ed" category="admonition">如果安裝程式未成功完成或<block ref="ce3abad3e11d6a43c5178e20a0c7d64b" prefix=" " category="inline-code"></block> <block ref="2903817a25b5de1e17a06122d71c5cf9" prefix="(" category="inline-code"></block> 在23.01之前的版本中）沒有*執行中*的狀態、表示平台尚未安裝。使用<block ref="9b017020b9d48d433ec90c548e6b5c70" prefix=" " category="inline-code"></block> 至 <block ref="82f062b46969132d4baf9d002395a676" category="inline-link-macro-rx"></block> 並疑難排解問題。</block>
  <block id="5d8f25140dde9344f1318b1319929306" category="doc">手動部署Trident運算子（標準模式）</block>
  <block id="c35c65e4cd4cef23559781ed63709eb0" category="section-title">步驟4：建立<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> 並安裝Trident</block>
  <block id="a24e915be64ce870d285c6e28a6df3f5" category="list-text"><block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix="" category="inline-code"></block> 和<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block> 適用於不支援NAS的後端ONTAP 。</block>
  <block id="fb250da700173f245f4c10d2970cfba8" category="list-text"><block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix="" category="inline-code"></block> 適用於SAN後端ONTAP 。您無法指定<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block> 在SAN後端ONTAP 。</block>
  <block id="741970ef3d523752ab543427956bb1b8" category="cell">1.19 - 1.26</block>
  <block id="2a531c1a1d290bb0e5f5a511bb48ad45" category="admonition">您可以在安裝期間使用變更活動力/整備度探針連接埠<block ref="d2090696319f15a4c659a414db8cd2cd" prefix=" " category="inline-code"></block> 旗標。請務必確認工作節點上的其他程序並未使用此連接埠。</block>
  <block id="1a87abd79c966e67f73bbe738ffa4e59" category="inline-link-macro">問題#783、#794</block>
  <block id="3e45ffbc961fc6c429b6e91f16331ee5" category="list-text">Kubernetes：新增選項以排除建立Pod安全性原則、以修正透過Helm（<block ref="f91cf268a0811064670bc9d51a6e2016" category="inline-link-macro-rx"></block>）。</block>
  <block id="a47f012619aa18f9e2c0fbb53d5878d9" category="list-text">新增對Kubernetes 1.26的支援。</block>
  <block id="d87b63603588c1795f58658ee14e505f" category="inline-link-macro">問題#757</block>
  <block id="8e3bb4ae68afca021f39502f7954a450" category="list-text">改善整體Trident RBAC資源使用率（<block ref="92a5fe29b2be509e7db5f2091f236ee0" category="inline-link-macro-rx"></block>）。</block>
  <block id="2508a7d2b2da760ab909b40a284aff9f" category="list-text">新增自動化功能、可偵測並修正主機節點上的中斷或過時iSCSI工作階段。</block>
  <block id="80a9d5ab26eec41d6d6967415e991c91" category="list-text">新增對擴充LUKS加密磁碟區的支援。</block>
  <block id="1e209dc1ac5964d0a9b1f9c2e9f2fc83" category="list-text">Kubernetes：新增了對LUKS加密磁碟區的認證旋轉支援。</block>
  <block id="8ce5e316405255bac435287fc5b61f0e" category="list-text">新增使用SMB磁碟區時對NTFS權限的支援。</block>
  <block id="e67f9f12d1f7c510d94da478c87b7d19" category="list-text">新增對採用CVS服務層級之GCP磁碟區的儲存資源池支援。</block>
  <block id="493569102442ea9186ac1061bb527388" category="list-text">新增對使用ONTAP-NAS-Flexgroup儲存驅動程式建立FlexGroups時、FlexGroupAggregateList的選用使用支援。</block>
  <block id="c26c6c796afe3b5c10e0c830715daf3a" category="list-text">已啟用所有ONTAP 的支援不支援NAS儲存驅動程式的資料LIF更新。</block>
  <block id="56f71deb4744b8ffc7a92bde36d3f4d4" category="list-text">更新Trident部署和示範設定命名慣例、以反映主機節點作業系統。</block>
  <block id="6ea33f83a7d973b1fa7de807364662d4" category="list-text">Kubernetes：將支援的Kubernetes最低更新為1.21。</block>
  <block id="562840ed450b90bfe87c70479237a8da" category="section-title">22.10的變更</block>
  <block id="816cf1fb2aa5f808ab09b4740f8ec199" category="list-text">新增 <block ref="d387032e9d71b36f3d6219f60f33a659" category="inline-link-macro-rx"></block> 適用於<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> 和<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> 儲存驅動程式：</block>
  <block id="74652b96889938fdef1037f82abf39b0" category="inline-link-macro">在安裝方法之間移動</block>
  <block id="441b9a0ce7113f17c0021f9922b1c865" category="inline-link-macro">使用Trident營運者進行升級</block>
  <block id="bdae3121e140e5325fd05919c86dd97f" category="list-text">如果您使用自訂初始安裝<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> 屬性、您可以編輯<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> 物件以修改安裝參數。這可能包括針對離線模式指定鏡射Trident和csi映像登錄、啟用偵錯記錄或指定映像提取機密所做的變更。</block>
  <block id="3d0107bfa0874592e9dc04f9869b604b" category="list-text">執行<block ref="cd4140d3de30b520500459331d08d2bf" prefix=" " category="inline-code"></block> 以確認圖表和應用程式版本均已升級。執行<block ref="3e725291d4b17065fdcd321172fcfae3" prefix=" " category="inline-code"></block> 以檢閱任何偵錯訊息。</block>
  <block id="aa3a2f2908114304b0a2fa7847f52c52" category="section-title">虛擬資源池</block>
  <block id="46eefe0a9f18e4edef4d602d3868ad26" category="section-title">虛擬資源池設計</block>
  <block id="e531eef4bc68547759b647c917ac2567" category="admonition">定義虛擬資源池時、建議您不要嘗試重新排列後端定義中現有虛擬資源池的順序。此外、建議您不要編輯/修改現有虛擬資源池的屬性、改為定義新的虛擬資源池。</block>
  <block id="f274bdd304a8c3825a2766a1f8ff8fa7" category="paragraph">可從單一儲存後端設計多個具有特定層面的虛擬集區。若要這麼做、請使用多個標籤來設定後端、並在每個標籤下設定所需的層面。現在、請使用建立不同的Kubernetes儲存類別<block ref="bed471c4a88e25ac9a7e4a7b980700a8" prefix=" " category="inline-code"></block> 對應至不同虛擬資源池的欄位。在後端上進行資源配置的磁碟區、將會在所選的虛擬資源池中定義各個層面。</block>
  <block id="b6969fa89b54a37ee3628194aebbbea3" category="doc">Linux統一化金鑰設定（LUKS）</block>
  <block id="525588be7f6bc2cf7b3b257ced2b19c7" category="list-text">工作者節點必須安裝密碼設定2.1或更高版本（但低於3.0）。如需詳細資訊、請造訪 <block ref="39c06d5570d5dfd5c63abe15a0d8d2fb" category="inline-link-macro-rx"></block>。</block>
  <block id="83f59a8c99f92feae93c90d4f7bd0d68" category="section-title">啟用LUKS加密</block>
  <block id="b9a97083b1f9ee5d9d6fd1ec4025a836" category="paragraph">您可以使用Linux Unified Key Setup（LUKS）來啟用每個Volume、主機端的加密功能、以利ONTAP 執行SAN和ONTAP 支援SAN經濟效益的磁碟區。</block>
  <block id="d197aff07a41df5dbefcace33058435c" category="list-text">在後端組態中定義LUKS加密屬性。如需ONTAP 有關支援不支援SAN的後端組態選項的詳細資訊、請參閱 <block ref="e87ded5ef8bc8adbc3c135528636f4f2" category="inline-link-macro-rx"></block>。</block>
  <block id="a99f022d7515cf14d9d2e49a72198c5c" category="list-text">建立包含LUKS通關密碼的秘密。例如：</block>
  <block id="6d8e596656bc0dc6684415f94bee7e6a" category="paragraph">LUKS加密磁碟區無法利用ONTAP 重複資料刪除技術與壓縮技術。</block>
  <block id="f9d3cd939395358ac0f0bd3a1043656c" category="section-title">旋轉LUKS複雜密碼</block>
  <block id="5173c14a913aecabc2aa4a398abfd3a1" category="paragraph">您可以旋轉LUKS複雜密碼並確認輪調。</block>
  <block id="870809044094847738d2e3b2d3490240" category="admonition">請勿忘記密碼、除非您已驗證它不再被任何磁碟區、快照或機密所引用。如果參考的通關密碼遺失、您可能無法掛載磁碟區、而且資料將保持加密且無法存取。</block>
  <block id="bbe48fb854ea022537208eeeff822f91" category="paragraph-title">關於這項工作</block>
  <block id="a09edd6ec72e24ea93fe0643001ce09b" category="list-text">如果磁碟區上的通關密碼與機密中的作用中通關密碼不相符、就會發生輪調。</block>
  <block id="85341a765feac19c14ddb5733a16bb0f" category="list-text">如果磁碟區上的通關密碼與機密中的作用中通關密碼相符<block ref="4146f2b31b5baccc1599d6209e20b87f" prefix=" " category="inline-code"></block> 參數被忽略。</block>
  <block id="e11fe3d05d72f7812c946ac80ae339ed" category="list-text">新增<block ref="c774c2255b7e3b1f75cd200c366d4148" prefix=" " category="inline-code"></block> 和<block ref="59ab79bfd6177f0b40d74d58d4a94d89" prefix=" " category="inline-code"></block> StorageClass參數。例如：</block>
  <block id="7fe288bcd08368971a3839f1de636c7c" category="list-text">識別磁碟區或快照上的現有密碼。</block>
  <block id="bd7a9717d29c5ddcab1bc175eda1e298" category="listing-title">Volume</block>
  <block id="d4e2713d1b1725a1592f9268589f990d" category="listing-title">Snapshot</block>
  <block id="c0526adc9b28d758d8fab9d4a5b998ef" category="list-text">更新磁碟區的LUKS機密、以指定新的和先前的密碼。確保 <block ref="119d124de86f53dbdf015ff1809c10e1" prefix=" " category="inline-code"></block> 和<block ref="4146f2b31b5baccc1599d6209e20b87f" prefix=" " category="inline-code"></block> 請與先前的通關密碼相符。</block>
  <block id="4f8a79fea6c3cc09f49769b8473808f7" category="list-text">建立新的Pod以掛載Volume。這是啟動旋轉所需的。</block>
  <block id="bcf837455c951c49bd9138ead166c489" category="list-text">確認複雜密碼已旋轉。</block>
  <block id="0c7eac961f50eef2d0c82d382fdd18b3" category="paragraph">只有在磁碟區和快照上傳回新的通關密碼時、才會旋轉通關密碼。</block>
  <block id="6ff457ceee4568584dc3fd66c1ae658a" category="admonition">例如、如果傳回兩個複雜密碼<block ref="b5b0f81d5dbb45d3dd031f1b02af8bf3" prefix=" " category="inline-code"></block>、旋轉不完整。您可以觸發新的Pod以嘗試完成旋轉。</block>
  <block id="b3f9d5f1e12f2ba5ecd2ece1e9084f3f" category="section-title">啟用Volume擴充</block>
  <block id="e5307495a3aec6528b42d3f3e835a761" category="paragraph">您可以在LUKS加密的Volume上啟用Volume擴充。</block>
  <block id="aeec1a5a7dc7624995570096ce8156ef" category="inline-link-macro">Kubernetes 1.25：使用Secrets進行節點導向的SCSI Volume擴充</block>
  <block id="1282398415278cc77bc47970640d4188" category="list-text">啟用<block ref="b0e105de2a2f0820528649fee8d2e331" prefix=" " category="inline-code"></block> 功能閘道（beta 1.25 +）。請參閱 <block ref="35e3bd84b2522e04fd4ead86130c9227" category="inline-link-macro-rx"></block> 以取得詳細資料。</block>
  <block id="e4de718025be845e2dec22064bb4eece" category="list-text">新增<block ref="91985ce21cd787a6ab2a13cc97f58968" prefix=" " category="inline-code"></block> 和<block ref="641c8d6753dd78e60ebb61a20e6a2742" prefix=" " category="inline-code"></block> StorageClass參數。例如：</block>
  <block id="e718558948d1441cf3873df6fb7b10c3" category="paragraph">當您啟動線上儲存擴充時、kubelet會將適當的認證資料傳遞給驅動程式。</block>
  <block id="8a6112da5167fe6f44136715f1d86c36" category="paragraph">對於具有專用基礎架構節點（例如OpenShift）或其他節點無法排程使用者應用程式的部署、應使用個別的匯出原則、進一步限制對儲存資源的存取。這包括為部署至這些基礎架構節點的服務（例如OpenShift Metrics和記錄服務）、以及部署至非基礎架構節點的標準應用程式建立匯出原則。</block>
  <block id="c395d1a6e14d73fb73663b1198b0b134" category="section-title">瞭解虛擬資源池</block>
  <block id="6293784c303cb134632b85dc06f372df" category="image-alt">顯示虛擬集區的概念性圖表。</block>
  <block id="e26346b2afab61526141ea7275a77ba3" category="list-text">定義虛擬資源池時、請勿嘗試重新排列後端定義中現有虛擬資源池的順序。</block>
  <block id="92aa2031bb642a0c5c916142f725400d" category="list-text">我們建議您不要修改現有虛擬資源池的屬性。您應該定義新的虛擬資源池以進行變更。</block>
  <block id="43d41b472d09879b85f78a3b8e487fd1" category="paragraph">大部分方面都是以後端特定的詞彙來指定。最重要的是、在後端驅動程式之外、不會顯示高寬比值、也無法在中進行比對<block ref="f652904c3bfb48fb25a0a75f485f0ff6" prefix=" " category="inline-code"></block>。而是由系統管理員為每個虛擬資源池定義一或多個標籤。每個標籤都是「金鑰：值配對」、而且標籤可能在獨特的後端之間通用。如同個別層面、標籤可依資源池指定、也可全域指定至後端。不同於具有預先定義名稱和值的各個層面、系統管理員有充分的判斷權、可視需要定義標籤金鑰和值。為了方便起見、儲存管理員可以針對每個虛擬資源池定義標籤、並依標籤將磁碟區分組。</block>
  <block id="e084f7ea866c7ad616e67a911925c850" category="paragraph">答<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> 透過參照選取元參數中的標籤來識別要使用的虛擬資源池。虛擬資源池選取器支援下列運算子：</block>
  <block id="0b62778604e11f72525f5a82bbd26c6a" category="paragraph"><block ref="6a2736fcbb5755dd03d114a5153506eb" category="inline-link-rx"></block> 是完全託管的AWS服務、可讓客戶啟動及執行採用NetApp ONTAP 資訊儲存作業系統的檔案系統。FSX for ONTAP VMware可讓您運用熟悉的NetApp功能、效能和管理功能、同時充分發揮儲存AWS資料的簡易性、敏捷度、安全性和擴充性。FSX for ONTAP Sfor支援ONTAP Isf供 檔案系統功能和管理API。</block>
  <block id="9b85b10750f4b0e98b7853ee468d8bd5" category="list-text">SMB Volume：</block>
  <block id="cf201a9e802aa6e35997590206919b1a" category="list-text">使用支援SMB磁碟區<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> 僅限驅動程式。</block>
  <block id="994eaa47aad78cae857818e1655e2800" category="paragraph">如需啟用驗證的詳細資訊、請參閱您的驅動程式類型驗證：</block>
  <block id="57e00ef3eabad47fc79d0ef1319f989c" category="inline-link-macro">ASNAS驗證ONTAP</block>
  <block id="840db27e4fe9967e908b8b101ca72198" category="list-text"><block ref="840db27e4fe9967e908b8b101ca72198" category="inline-link-macro-rx"></block></block>
  <block id="562276ffa617658595d5e6df35ef971c" category="inline-link-macro">支援SAN驗證ONTAP</block>
  <block id="4a5e4254b1862ddbff7f81ed84e87125" category="list-text"><block ref="4a5e4254b1862ddbff7f81ed84e87125" category="inline-link-macro-rx"></block></block>
  <block id="d2aae26c4b1e25027872b1df4cee2081" category="paragraph">在您設定Azure NetApp Files 完後端功能之前、您必須確保符合下列要求。</block>
  <block id="5782f9a9357b5678058d6d3ceed21988" category="cell"><block ref="c614017642b6cfd9e6a25c7df122d917" prefix="" category="inline-code"></block></block>
  <block id="4149383e1cf45a36b373c5bded2ff6ba" category="cell">Google Cloud帳戶專案編號。此值可在Google Cloud入口網站首頁找到。</block>
  <block id="4d9239a7fce916964ba8529021ab535f" category="cell">如果要求的磁碟區大小高於此值、則資源配置失敗。</block>
  <block id="eb60cd2c0cff094ad0ecbe9d6fededcf" category="section-title">Volume資源配置選項</block>
  <block id="afe8445a326424c54dfec7cc20994e8f" category="paragraph">您可以在中控制預設的Volume資源配置<block ref="a4a918a45181164207929d52aec36aec" prefix=" " category="inline-code"></block> 組態檔的一節。</block>
  <block id="857fa84eb2e850753da87c8599addab3" category="section-title">儲存類別定義</block>
  <block id="288b1cbb87d08c32abf3084c28636e5c" category="inline-link-macro">NFS或iSCSI</block>
  <block id="d7481875afa061fb651628b2597d52ec" category="list-text">已準備好的工作節點 <block ref="966ed3bab2d39ae1014ad2eb34527e0f" category="inline-link-macro-rx"></block>。</block>
  <block id="d0341760d873a30f82a310a6eab0ba9c" category="admonition">請務必遵循Amazon Linux和Ubuntu所需的節點準備步驟<block ref="70013ee128d5437b3d9579d66ece4066" category="inline-link-rx"></block> （AMis）、視您的EKS AMI類型而定。</block>
  <block id="9303b8f40cf82f5e37702c7a6387e725" category="section-title">整合SAN和NAS驅動程式ONTAP</block>
  <block id="fc4e16be02eac62a40d8ba5714cbeda1" category="section-title">準備配置SMB磁碟區</block>
  <block id="d98f239eeb5789a80cb4b247e5be144d" category="inline-link-macro">Microsoft管理主控台</block>
  <block id="c9e9c2bb32e43693c4687ec082488811" category="list-text">如有必要、請建立共用的目錄路徑結構。</block>
  <block id="8a19300a396203718795b4620552b59c" category="paragraph">。<block ref="293a1aaca0a542f4f1b1dc1a3ad95728" prefix=" " category="inline-code"></block> 命令會在共用建立期間檢查-path選項中指定的路徑。如果指定的路徑不存在、則命令會失敗。</block>
  <block id="a968d0620b250ca44da661cadac02e42" category="list-text">建立與指定SVM相關的SMB共用區：</block>
  <block id="e172e0c83051eb537305571585af294a" category="list-text">確認共用區已建立：</block>
  <block id="a6e62ff657f01a7df2d91d1ea0d3e76c" category="inline-link-macro">建立SMB共用區</block>
  <block id="39026ea2687a8de2a318f8245aceb992" category="admonition">請參閱 <block ref="2b8c6fb4597e9bb000d4d88db3769c9a" category="inline-link-macro-rx"></block> 以取得完整詳細資料。</block>
  <block id="e4f84f59067aa8e22119bf499379385a" category="inline-link-macro">FSX提供ONTAP 各種組態選項和範例</block>
  <block id="ca088cbb36bbab4b23e57d63d95a628c" category="list-text">建立後端時、您必須設定下列項目以指定SMB Volume。如需ONTAP 所有的FSXfor Sendbackend組態選項、請參閱 <block ref="dd05fa371cf4b2c8377b8b4b261a8edd" category="inline-link-macro-rx"></block>。</block>
  <block id="7bb910e3cf11d0b34ca215aa399d3f23" category="cell"><block ref="5910159ef86741f119f7574a9064b5b0" prefix="" category="inline-code"></block></block>
  <block id="3b84c7b88317953423192c633a83db9f" category="cell">*必須設定為<block ref="79e0f325804dafbdaef73b3b17c0fd8d" prefix=" " category="inline-code"></block>.*如果為null、則預設為<block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix=" " category="inline-code"></block>。</block>
  <block id="1928bae58ae496b53ef1a163c3dbeeb4" category="cell">新磁碟區的模式。SMB磁碟區*必須保留為空白。*</block>
  <block id="3418e818bbbe397a49b7096a5ed87929" category="cell">源自SVM</block>
  <block id="2da9f60cc5b99a5987580c38e6db0842" category="cell">受信任CA憑證的Base64編碼值。選用。用於憑證型驗證。</block>
  <block id="a0de2cc0c77c388210e1f48423eea29c" category="cell">在SVM中配置新磁碟區時所使用的前置碼。稍後無法修改。若要更新此參數、您需要建立新的後端。</block>
  <block id="c59183b2f668b355e81e7bb1256f92b3" category="paragraph">您可以使用中的這些選項來控制預設資源配置<block ref="a4a918a45181164207929d52aec36aec" prefix=" " category="inline-code"></block> 組態區段。如需範例、請參閱下列組態範例。</block>
  <block id="e62f5d0a5a95571e25197caafe78cd98" category="section-title">Volume資源配置範例</block>
  <block id="1b9ef354b22d8a8b125247fd538da4b2" category="section-title">虛擬集區的後端範例</block>
  <block id="615c9f89b360c50cfba2b2de02584387" category="paragraph">下列StorageClass定義是指上述虛擬資源池。使用<block ref="bed471c4a88e25ac9a7e4a7b980700a8" prefix=" " category="inline-code"></block> 欄位中、每個StorageClass會呼叫哪些虛擬資源池可用於裝載Volume。磁碟區將會在所選的虛擬資源池中定義各個層面。</block>
  <block id="c632eed28bf53466df8b8a33aedab3af" category="list-text">虛擬資源池（若有）必須維持與原始後端相同的順序。</block>
  <block id="87a522ecb9df14bf978f6f1da8a654a8" category="list-text">您無法藉由移除來撤銷對來源PVc的存取權<block ref="287f26e3328f9ac0f3f4da2cdaddd3e2" prefix=" " category="inline-code"></block> 或<block ref="11650d25d20af47978d85fd6e19c89aa" prefix=" " category="inline-code"></block> 註釋或刪除<block ref="d6995f631b22fb3f8e94aad1b40d1280" prefix=" " category="inline-code"></block> CR.若要撤銷存取權、您必須刪除從屬的PVc。</block>
  <block id="ae8df8316f5c485b7db4e7141e899701" category="cell">指定位址或從SVM衍生（若未指定）（不建議使用）</block>
  <block id="0275de02c3bba722f4540469d23cc535" category="paragraph">此範例顯示<block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix=" " category="inline-code"></block> 使用IPv6位址。</block>
  <block id="0bd54df5242a2a2e9eca045fc695b41f" category="section-title">更新<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block> 初始組態之後</block>
  <block id="76b4586b7207f884c66397194b773e14" category="summary">深入瞭解Amazon FSX for ONTAP Sfor Sf。本節提供後端組態範例。</block>
  <block id="b8c7e19ba614c29878588409008e29c6" category="cell">連線至叢集或SVM的使用者名稱。用於認證型驗證。例如、vsadmin。</block>
  <block id="9a2486a943ad2a4c99f2797d6984f3d0" category="cell">連線至叢集或SVM的密碼。用於認證型驗證。</block>
  <block id="6018b4c39d938c6589decae81b54c6f0" category="cell">指定SVM管理LIF時衍生。</block>
  <block id="4cba35e041b22828be7c835295ee9102" category="cell">在SVM中配置新磁碟區時所使用的前置碼。無法在建立後修改。若要更新此參數、您需要建立新的後端。</block>
  <block id="86f4c9647fe8f4c500055c772753cc6f" category="cell">請勿使用。</block>
  <block id="bd4c4a75acd87c86694e9aca1e4050e2" category="cell">每FlexVol 個LUN的最大LUN數量、範圍必須為[50、200]。僅限SAN。</block>
  <block id="e939be085c2babe4ff0f08e09d0cdfd2" category="cell">設定NFS或SMB磁碟區建立。選項包括<block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix=" " category="inline-code"></block>、<block ref="79e0f325804dafbdaef73b3b17c0fd8d" prefix=" " category="inline-code"></block>或null。*必須設定為<block ref="79e0f325804dafbdaef73b3b17c0fd8d" prefix=" " category="inline-code"></block> 對於SMB Volume。*設定為null、預設為NFS Volume。</block>
  <block id="a8fe789c9febc6b76736fb83c90df2b7" category="cell">要指派給所建立磁碟區的調適性QoS原則群組。選擇每個儲存集區或後端的其中一個qosPolicy或adaptiveQosPolicy。不受ONTAP-NAS-經濟支援。</block>
  <block id="8336fb38c3b943161d5d6e73af8f4a12" category="cell">啟用LUKS加密。請參閱 <block ref="3646c7a69a11bdd94c010bf856bda313" category="inline-link-macro-rx"></block>。僅限SAN。</block>
  <block id="8ba802b52dc84f4e82bfbbf2e2d4a807" category="cell">新磁碟區的模式。*如果是SMB磁碟區、請保留空白。*</block>
  <block id="88b0b88c998957f004af42563d5e5b40" category="paragraph">使用<block ref="296026821ada2ab8aebcf13547a63df5" prefix=" " category="inline-code"></block>、<block ref="e12fdd044232e643620eed06bf33c7af" prefix=" " category="inline-code"></block>和<block ref="1ad68a6a046942b7c1666aed825df70a" prefix=" " category="inline-code"></block>、您可以指定SMB磁碟區、並提供所需的Active Directory認證資料。使用支援SMB磁碟區<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> 僅限驅動程式。</block>
  <block id="262309361fe5b6dcda3a2eae08a48c2d" category="section-title">選擇適當的工具</block>
  <block id="2cb4ed05fbad97efb755e294c572862d" category="paragraph-title">NFS工具</block>
  <block id="0172151d0fbf6ae973feaaaf8a2c1b3a" category="paragraph-title">iSCSI工具</block>
  <block id="6a9c3f120f628091afbdc5343cbbe0e1" category="paragraph-title">檢閱事件</block>
  <block id="70db3e5b82bc8c7ce4389fe8a025df28" category="paragraph-title">檢閱探索到的服務</block>
  <block id="eeacf148d8ecc80cfae337218dd81f43" category="paragraph">使用作業系統的命令來安裝NFS工具。確保NFS服務在開機期間啟動。</block>
  <block id="7b05c6f5db7b1690970d79c209e667fc" category="admonition">安裝NFS工具之後、請重新啟動工作節點、以避免將磁碟區附加至容器時發生故障。</block>
  <block id="e81b5ef34c686914f0cc58204241cace" category="section-title">iSCSI自我修復功能</block>
  <block id="432fa9215202553559f7b2d4d10ef5ee" category="list-text">*識別*所需的iSCSI工作階段狀態和目前的iSCSI工作階段狀態。</block>
  <block id="587fcf25ecbc5ff7cf19f7b1a159b5e9" category="list-text">*執行必要的修復*、以將目前的iSCSI工作階段狀態恢復至所需的iSCSI工作階段狀態。</block>
  <block id="39460cb84da78b4a87c2014972b2f901" category="admonition">例如、如果在儲存控制器上旋轉CHAP機密、而網路失去連線、則舊的（_stal__）CHAP機密可能會持續存在。自我修復可辨識此情況、並自動重新建立工作階段、以套用更新的CHAP機密。</block>
  <block id="9e9d382760025434fdf113f91e894cf4" category="list-text">遺失iSCSI工作階段</block>
  <block id="3f7bf0ef305a15c68efdc95a50750bd0" category="list-text">遺失LUN</block>
  <block id="15ffa30c3d1ab6322e5ff52935a86a50" category="section-title">安裝iSCSI工具</block>
  <block id="10ff9e1b33974d06317ff739498154ce" category="paragraph">使用適用於您作業系統的命令來安裝iSCSI工具。</block>
  <block id="baca3a42ff523348689308c7bd411b38" category="paragraph">此後端組態可在單一檔案中定義多個儲存集區。當您有多個容量集區支援不同的服務層級、而且想要在Kubernetes中建立代表這些層級的儲存類別時、這很有用。虛擬資源池標籤是用來區分資源池的依據<block ref="c05f6c233521207f6fe311afef550c3c" prefix=" " category="inline-code"></block>。</block>
  <block id="bfd7bf04b3d28a42267e8d1b30a05f01" category="section-title">範例2：的後端與儲存類別組態<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> 驅動程式與虛擬資源池</block>
  <block id="418ff75ccabac38370cc8570721746a3" category="paragraph">此範例顯示使用虛擬資源池設定的後端定義檔、以及參照這些資源池的StorageClass。</block>
  <block id="7ac6994e44af62a9075fd956e72ee6fb" category="paragraph">請記住、後端定義是唯一以純文字儲存認證的位置。建立後端之後、使用者名稱/密碼會以Base64編碼、並儲存為Kubernetes機密。建立或更新後端是唯一需要具備認證知識的步驟。因此、這是一項純管理員操作、由Kubernetes /儲存管理員執行。</block>
  <block id="46921a75e8534ad7d1c379a9e3aec033" category="sidebar">安裝總覽</block>
  <block id="3183dc3907c0b67930b221a316c94cb2" category="sidebar">使用Trident操作員安裝</block>
  <block id="ca19905e19a036badc8a33897130382d" category="sidebar">手動部署Trident運算子（標準）</block>
  <block id="ef39c7f15f2671234f3264999cce5679" category="sidebar">手動部署Trident運算子（離線）</block>
  <block id="0f441bb0252fa34f85fc82a08f2db0c7" category="sidebar">使用Trident Helm圖表（標準）</block>
  <block id="70eb578fbddf25c465d8f4886be750b7" category="sidebar">使用Trident Helm圖表（離線）</block>
  <block id="71f5771dab663d80ba4dad1627e3386a" category="sidebar">升級總覽</block>
  <block id="301ebdf8067a213d5a55c65fbb488290" category="sidebar">安全性建議</block>
  <block id="58834b137fd6fa7a9ca23468a5c91fd6" category="sidebar">準備進行設定</block>
  <block id="6fc0b7515ecca271c88eae4a685da613" category="sidebar">不含SolidFire NetApp HCI</block>
  <block id="df7dec428425115b59101028bbebe58c" category="list-text">請勿使用<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> 如果您預期需要資料保護、災難恢復或行動性、</block>
  <block id="f5d176b3de4662ca3603a69ab08bc166" category="paragraph">NAS選項、可存取已配置的NFS Volume。</block>
  <block id="053b422d907cb55ac105c173adde1080" category="paragraph">NFS支援<block ref="1d770934d44de09b0d24f04fd01708ba" prefix=" " category="inline-code"></block> 和<block ref="4913a9178621eadcdf191db17915fbcb" prefix=" " category="inline-code"></block> 安全樣式：預設值為<block ref="4913a9178621eadcdf191db17915fbcb" prefix=" " category="inline-code"></block>。</block>
  <block id="69f25314e2d927ebcaa0f19c9f2a57da" category="paragraph"><block ref="4913a9178621eadcdf191db17915fbcb" prefix="" category="inline-code"></block></block>
  <block id="2bd69c3354973375e1abed3c9beb1eff" category="cell"><block ref="f777ab485270937cd9b9efc63021484f" prefix="" category="inline-code"></block></block>
  <block id="767b06b78582b463da02281e05c82e45" category="cell"><block ref="79e0f325804dafbdaef73b3b17c0fd8d" prefix="" category="inline-code"></block></block>
  <block id="11d7f0efe30199fc66cbc43c427e147d" category="cell">新磁碟區的安全樣式。*必須設定為<block ref="68e98b83f5bd746f1468dff89f529d1b" prefix=" " category="inline-code"></block> 或<block ref="1d770934d44de09b0d24f04fd01708ba" prefix=" " category="inline-code"></block> 適用於SMB磁碟區。*</block>
  <block id="e76ea7f2be658dc914f9c95fe8d14fcf" category="cell"><block ref="68e98b83f5bd746f1468dff89f529d1b" prefix="" category="inline-code"></block> 或<block ref="1d770934d44de09b0d24f04fd01708ba" prefix=" " category="inline-code"></block> 適用於SMB磁碟區</block>
  <block id="375aa0b790f300787cdecf0f896b97f5" category="cell">新磁碟區的安全樣式。NFS支援<block ref="1d770934d44de09b0d24f04fd01708ba" prefix=" " category="inline-code"></block> 和<block ref="4913a9178621eadcdf191db17915fbcb" prefix=" " category="inline-code"></block> 安全樣式：SMB支援<block ref="1d770934d44de09b0d24f04fd01708ba" prefix=" " category="inline-code"></block> 和<block ref="68e98b83f5bd746f1468dff89f529d1b" prefix=" " category="inline-code"></block> 安全樣式：</block>
  <block id="4a359bdcdb3ce547581bdea3ce6c5bd7" category="cell">NFS預設為<block ref="4913a9178621eadcdf191db17915fbcb" prefix=" " category="inline-code"></block>。SMB預設為<block ref="68e98b83f5bd746f1468dff89f529d1b" prefix=" " category="inline-code"></block>。</block>
  <block id="b3735f022036728c24121c449da97183" category="inline-link-macro">Trident和csi影像</block>
  <block id="c4ffea098f78924a9b9331b8f5e9c8b4" category="open-title">一個登錄中的映像</block>
  <block id="4847c552b2ff9251806e41c8fa907e19" category="open-title">不同登錄中的映像</block>
  <block id="7a79f435dcaa0ca2322cde1d80c13868" category="section-title">步驟4：部署Trident運算子</block>
  <block id="579b44412770c0d6b65bc3fd9bf7c61c" category="section-title">步驟5：更新中的映像登錄位置<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block></block>
  <block id="d0ebde94f92d8c1bae0c6660a5847bba" category="paragraph">您的 <block ref="57de9a35aeedde82408b1e047030d221" category="inline-link-macro-rx"></block> 可以位於一個登錄或不同的登錄中、但所有的SCSI映像都必須位於同一個登錄中。更新<block ref="7b4b81fb05ca7f2a09fe73526ac95482" prefix=" " category="inline-code"></block> 根據登錄組態新增額外的位置規格。</block>
  <block id="5295ac8fb520b71deb8a1b57857b2562" category="section-title">步驟6：建立<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> 並安裝Trident</block>
  <block id="43e6c0a141c1737a96917c56c7e22a73" category="inline-link-macro">安裝&lt;block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category='inline-code'/&gt; 功能</block>
  <block id="19466ff921af5aa01da62b42cdaaf617" category="list-text">固定Trident運算子在SPEC中指定安裝時使用IPv6 localhost。</block>
  <block id="5b313836498a7a26e99e4f084ee1baec" category="inline-link-macro">問題#799</block>
  <block id="b2fc842cefdc715af09b8d184e09db56" category="list-text">固定的Trident運算子叢集角色權限、可與套件組合權限同步 <block ref="25d51e363866fb30c759c73e05114b0d" category="inline-link-macro-rx"></block>。</block>
  <block id="97848233b9fe6ae43be1728a4e603020" category="list-text">新增修正程式、允許外部程序執行至完成。</block>
  <block id="3a35c66b59df0fa02e2490983b964261" category="list-text">已解決在rwx模式下、在多個節點上附加原始區塊Volume的問題。</block>
  <block id="21b2b5bca26be7b23af4468b85c68b34" category="list-text">針對FlexGroup SMB Volume提供固定的實體複製支援和Volume匯入。</block>
  <block id="190a9f9a8311c8a23bff1fd7a5693342" category="section-title">23.01年的變更</block>
  <block id="a5199cf0d9f113491f9efa18f3bee2e1" category="section-title">瞭解控制器 Pod 和節點 Pod</block>
  <block id="30735a308956ec6de6caa328d0d5b43b" category="inline-link-macro">節點選取器</block>
  <block id="1db653cf6745dd1e6aa8d6e843ea5e96" category="inline-link-macro">容忍和污染</block>
  <block id="0897b2b75e3d0217c2f6994605a2cae7" category="paragraph">Kubernetes <block ref="219288b06ade6fd51c16efe605941441" category="inline-link-macro-rx"></block> 和 <block ref="9466cd429d8630101055a8fd14904bd9" category="inline-link-macro-rx"></block> 用於限制 Pod 在特定或偏好的節點上執行。使用「 ControllerPlugin' 」和<block ref="96687552cc4dff10038a1b07a8bf3bd3" prefix=" " category="inline-code"></block>，您可以指定限制和置換。</block>
  <block id="e3826c3aea0bf8502f2ba8ff27eeef19" category="list-text">控制器外掛程式可處理磁碟區資源配置與管理、例如快照和調整大小。</block>
  <block id="361d997e700d422835e56b644784bb7e" category="list-text">節點外掛程式會處理將儲存設備附加至節點的問題。</block>
  <block id="a739aa7f082abebdf65f4b114dd3ad7d" category="paragraph">本表詳細說明<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> 屬性。</block>
  <block id="d90582d42d65d5af05c3d40ad0eb4987" category="admonition">如果您是第一次使用 Azure NetApp Files 、或是在新位置使用、則必須先進行一些初始設定、才能設定 Azure NetApp Files 並建立 NFS Volume 。請參閱<block ref="b6e93c3bfc36cf835c63e42e55586d97" category="inline-link-rx"></block>。</block>
  <block id="84444089b52eed627a838de74ae8d652" category="section-title">NFS 和 SMB 磁碟區的必要條件</block>
  <block id="99c7065ab76131a7b7763287bb5b6735" category="inline-link-macro">Microsoft ：為 Azure NetApp Files 建立容量集區</block>
  <block id="ee59ecaa79882c8dc8f7f897c113094a" category="list-text">容量集區。請參閱 <block ref="96caced282b604468ab13f86483cd9f6" category="inline-link-macro-rx"></block>。</block>
  <block id="7ed0731ff411d37210b51a78b95c1fc3" category="inline-link-macro">Microsoft ：將子網路委派給 Azure NetApp Files</block>
  <block id="c896cfae248dc2b000cc04c39d8a8de6" category="list-text">委派給 Azure NetApp Files 的子網路。請參閱 <block ref="795b5e8f62d2267a0996a3b260968048" category="inline-link-macro-rx"></block>。</block>
  <block id="856955b6cbc3fe2168b2dcd43fb0a5dd" category="list-text">擁有者或貢獻者角色 <block ref="76b3209c91e1786a477c35a6e91cf55f" category="inline-link-macro-rx"></block>。</block>
  <block id="227e516e7258b6dcab3e7bcb4148f7f1" category="paragraph">若要建立 SMB Volume 、您必須具備：</block>
  <block id="d8c74c31c4550aed073521ba0fb8984a" category="inline-link-macro">Microsoft ：建立及管理 Azure NetApp Files 的 Active Directory 連線</block>
  <block id="6bb7e9dc5268dcbdde1a91b151d9a94b" category="list-text">Active Directory 已設定並連線至 Azure NetApp Files 。請參閱 <block ref="2f3bcda54aaf4e8e45316bb04708293f" category="inline-link-macro-rx"></block>。</block>
  <block id="d924b4945b9cee37e07a2c601d1081be" category="paragraph">此表格和<block ref="ba05023d0f1b5d4b64b6cad4cf9a7ecd" prefix=" " category="inline-code"></block> 檔案是 Helm 圖表的一部分、提供按鍵清單及其預設值。</block>
  <block id="e0e228e32d97e1461cf4492bd5366550" category="cell"><block ref="6370f866cf64618c026027da41bd248e" prefix="" category="inline-code"></block></block>
  <block id="f54139bbd014c510ee9fa277241d4666" category="cell">Pod 指派的節點標籤</block>
  <block id="b7f663c63859fec6f7d2f1ecd891de73" category="cell"><block ref="6e0bd2b3fba01f3f74634cfc6fcc31d6" prefix="" category="inline-code"></block></block>
  <block id="6b164b6efa957c912428e089b86ecd45" category="cell">Pod 註釋</block>
  <block id="4e3c35024b2d124aa9ab33a254e2545c" category="cell"><block ref="7c73e8c8cba054b3164d0b641ef36a41" prefix="" category="inline-code"></block></block>
  <block id="1a6308fa062d92acbff3b1304615d1db" category="cell">部署註釋</block>
  <block id="716c09bbd59aa99d3932f73b7f517b2c" category="cell"><block ref="d6c26478ca41a23cc9741a4e92576269" prefix="" category="inline-code"></block></block>
  <block id="1147c70db6b1e5ac87df9b1ef26ea59a" category="cell">Pod 指派的容錯功能</block>
  <block id="ed550d998ef1de0c69744fb5f7f7173c" category="cell"><block ref="1474047fb00b2d8d95646f7436837ed0" prefix="" category="inline-code"></block></block>
  <block id="064fd06fa9edd7a1e29b4da6fd9a1688" category="cell">Pod 指派的關聯性</block>
  <block id="b81e781314c37667d0eae6eeba5f0468" category="cell"><block ref="d525dcbea000b0429493d47a891b5ad9" prefix="" category="inline-code"></block></block>
  <block id="85e06bb6e03e71b7708d9d4b6f4967ea" category="cell">用於 Pod 的其他節點選取器。請參閱 <block ref="662636849823c896b8f86e3f7d6afa9b" category="inline-xref-macro-rx"></block> 以取得詳細資料。</block>
  <block id="0ccd4d74122ec81d149bc2bb132524d6" category="cell"><block ref="e8c1183eadfdb38078a7bd66bfa038ac" prefix="" category="inline-code"></block></block>
  <block id="74f3be1a07b1f65cef69ac77defaff4b" category="cell">覆寫 Pod 的 Kubernetes 公差。請參閱 <block ref="662636849823c896b8f86e3f7d6afa9b" category="inline-xref-macro-rx"></block> 以取得詳細資料。</block>
  <block id="c5387f0fc94f27d79519bb1299916e0f" category="cell"><block ref="bc0951b6e57a04c942fe6054649bb323" prefix="" category="inline-code"></block></block>
  <block id="7923027736f9cc9bbc6f6914e020e8a2" category="cell"><block ref="85dec10eb608a93a9febb24b39f5dae5" prefix="" category="inline-code"></block></block>
  <block id="7211a1f37ce0f92a2727e11de77a5256" category="cell">設定的映像拉出原則<block ref="c39d2745402b5d2987cfdd8df3bda0e1" prefix=" " category="inline-code"></block>。</block>
  <block id="f19aec010e48d5133114e8de96e071cd" category="cell">設定的影像拉出秘密<block ref="c39d2745402b5d2987cfdd8df3bda0e1" prefix=" " category="inline-code"></block>、<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block>和其他影像。</block>
  <block id="b8ef31ad215c14ea7ac3aa4744f3b42f" category="cell">允許覆寫 kubelet 內部狀態的主機位置。</block>
  <block id="5e2907912eaee9094910d428b8f01073" category="cell"><block ref="2d9583aa0b2422324be870c86f92540f" prefix="" category="inline-code"></block></block>
  <block id="a580f5edb0407fe7fc07e03adb88d2be" category="cell">允許 Trident 運算子的記錄層級設定為：<block ref="04a75036e9d520bb983c5ed03b8d0182" prefix=" " category="inline-code"></block>、<block ref="ad42f6697b035b7580e4fef93be20b4d" prefix=" " category="inline-code"></block>、<block ref="caf9b6b99962bf5c2264824231d7a40c" prefix=" " category="inline-code"></block>、<block ref="1ea4c3ab05ee0c6d4de30740443769cb" prefix=" " category="inline-code"></block>、<block ref="cb5e100e5a9a3e7f6d1fd97512215282" prefix=" " category="inline-code"></block>或<block ref="df6402fd9ecc60f5a2159fdf45711cd4" prefix=" " category="inline-code"></block>。</block>
  <block id="17b455f4f77262089207347508d91156" category="cell"><block ref="94b4515f09a2cc099780cd762366bc78" prefix="" category="inline-code"></block></block>
  <block id="0b401c459e3ff134b1e0ef7924967db5" category="cell"><block ref="844aa3cc935c46477e308955f84504e9" prefix="" category="inline-code"></block></block>
  <block id="0d1fd401e197635acbe814b44cbbe0f0" category="cell">允許將 Trident 運算子的記錄層級設為偵錯。</block>
  <block id="e6e859881d25cceaf35be98ff2b495e5" category="cell"><block ref="225eb420f27fc1614025e3e94f1dbcd4" prefix="" category="inline-code"></block></block>
  <block id="3e23960e7162cfc391ab62ee009d09b5" category="cell">允許完全置換的映像<block ref="c39d2745402b5d2987cfdd8df3bda0e1" prefix=" " category="inline-code"></block>。</block>
  <block id="586d412183efcbc76c2b206c73911009" category="cell"><block ref="5a50bd404d515b199254e69f83732c55" prefix="" category="inline-code"></block></block>
  <block id="87a9d5d1548b0e39b7cfe5115c686d2d" category="cell">允許覆寫的標記<block ref="c39d2745402b5d2987cfdd8df3bda0e1" prefix=" " category="inline-code"></block> 映像。</block>
  <block id="ba6229139ac12ca183160040964cdaae" category="cell"><block ref="c185b55e62d1fe703eb97b2a31b6c2a3" prefix="" category="inline-code"></block></block>
  <block id="aacf685d031cae06a5c158144296d071" category="cell"><block ref="b958a6de9ca123713491252f2ab02f59" prefix="" category="inline-code"></block></block>
  <block id="f8d2c273db74b394820e68a59b18bfff" category="cell">覆寫大部分 Kubernetes API 作業的預設 30 秒逾時（如果非零、則以秒為單位）。</block>
  <block id="2911e600bbad981e24b3e2a2b3a03f82" category="cell"><block ref="cfcd208495d565ef66e7dff9f98764da" prefix="" category="inline-code"></block></block>
  <block id="fbf0a4141bdac5821d271a6c1de1f483" category="cell"><block ref="70b0324e2a65a29bea1b014606caba39" prefix="" category="inline-code"></block></block>
  <block id="d74c6fe1792f46d6c929a448fd8b99cd" category="cell">以取代 HTTP 要求的預設 90 秒逾時<block ref="bb61fa2850d04f4e5e34449de13febe4" prefix=" " category="inline-code"></block> 是超時的無限持續時間。不允許使用負值。</block>
  <block id="ab7c61393023df91a4271d09e26bda15" category="cell"><block ref="558c8a41e3e5c9a0f109be6e60efce8d" prefix="" category="inline-code"></block></block>
  <block id="b2ffdfaa5c81870c0fb113956a7244aa" category="cell"><block ref="141d9fad9dd7e4fec852d6e55f414373" prefix="" category="inline-code"></block></block>
  <block id="22ca6470a16bcd1b3a0fd7b7dc456b4c" category="cell"><block ref="9626ee86c83efe1de7c3f5e2669b4a04" prefix="" category="inline-code"></block></block>
  <block id="dfdc01cf8fa557986d9b3e8702b6ff1b" category="cell"><block ref="3d689bd3819ead35ed794427bd12f459" prefix="" category="inline-code"></block></block>
  <block id="8639f9efa7d4198eba06690d4a1f0d16" category="cell"><block ref="c370bb44f26914bb0c965f35a89a42f7" prefix="" category="inline-code"></block></block>
  <block id="b081a6c6ed5931a2b55e31e706aae502" category="cell"><block ref="5836094432fed0c547c18869122bbf9a" prefix="" category="inline-code"></block></block>
  <block id="db8e1facb8efde48ce50388e2dc9cfcc" category="cell"><block ref="20cd815523e5806aec29a57282b0d49f" prefix="" category="inline-code"></block></block>
  <block id="4d165b964c1ea4708882da42c3ef5194" category="cell"><block ref="0be533d5261bfa202a27dd6f4a2ff4da" prefix="" category="inline-code"></block></block>
  <block id="c7bc9c0edf4b3f771388feb15b8ad592" category="cell"><block ref="cd4906de65bd0389fcc62105f05b77d6" prefix="" category="inline-code"></block></block>
  <block id="c97f5436c3ba56768a7996ac0a152830" category="cell"><block ref="efc1e9e3a120c20b12e892ce2f230ff8" prefix="" category="inline-code"></block></block>
  <block id="3e52a0855ea502bd31c48eb02424ee67" category="cell"><block ref="aaeab2a659f3d6ac5063b6d8a4e7c24a" prefix="" category="inline-code"></block></block>
  <block id="66468bda18a84578afccd8255efa1845" category="cell"><block ref="d5c1386f335f8df3cd920142f8ee23b7" prefix="" category="inline-code"></block></block>
  <block id="a74941f6c96a1995cbfb438419467c32" category="cell"><block ref="fdd0820bbfc488d6a2ccba8ba0f74e73" prefix="" category="inline-code"></block></block>
  <block id="50c1c44df91bb9f35aaa04b0157d6136" category="cell"><block ref="60c65b849dbb837618645b7860aa608e" prefix="" category="inline-code"></block></block>
  <block id="74b30241e61b88d42e066d77a638a568" category="cell">允許覆寫 Kubernetes 活性 / 整備性探查所使用的預設連接埠。</block>
  <block id="b4f36de9fda080c1fd1d9edb1e60e36b" category="cell"><block ref="badc795d88a7db6cc65d56bc758b3ea4" prefix="" category="inline-code"></block></block>
  <block id="0a08ed3de9d17e8644d3e57dc374c3ea" category="cell">允許啟用強制分離功能。</block>
  <block id="632a46acdaa26f30f25b11d5c83eaa58" category="cell"><block ref="94ef2a130a825358ab3002442d6e5145" prefix="" category="inline-code"></block></block>
  <block id="ad77b466842808c8dce5116073a3e52b" category="cell">不建立營運商 Pod 安全性原則。</block>
  <block id="31aae55e68bb5034f8f948ec526b9ff3" category="paragraph">您可以更新現有的後端、以使用不同的驗證方法或旋轉其認證資料。這兩種方法都可行：使用使用者名稱/密碼的後端可更新以使用憑證；使用憑證的後端可更新為使用者名稱/密碼。若要這麼做、您必須移除現有的驗證方法、然後新增驗證方法。然後使用更新的backend.json檔案、其中包含要執行的必要參數<block ref="defd1e55f93269ac9278afc086951ba8" prefix=" " category="inline-code"></block>。</block>
  <block id="bd4b2f0d545a83fd434f5ba1f17dd087" category="paragraph">以下是後端定義範例：</block>
  <block id="9463f87bbed1fcdacfb8d40e185ca2bc" category="open-title">YAML</block>
  <block id="0ecd11c1d7a287401d148a23bbd7a2f8" category="open-title">JSON</block>
  <block id="4bf283d1d1c781fbb7e90b237dc80ac4" category="paragraph">以建立<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> 若要連結至現有的後端、您必須取得後端組態。在此範例中、假設使用下列Json定義建立後端：</block>
  <block id="2043559d67ba802541907de326b5ecdd" category="paragraph">以下是定義預設值的範例：</block>
  <block id="2fc042d3545f5ad7df1999c9e5486176" category="paragraph"><block ref="c4ca4238a0b923820dcc509a6f75849b" prefix="" category="inline-code"></block></block>
  <block id="7ff5348ddee6132fe7c166b8b7917cc0" category="paragraph">Volume名稱的選用首碼。預設：<block ref="689ee6510c7f9ef9df1c263a08823d96" prefix=" " category="inline-code"></block>。</block>
  <block id="81998bdb6c3f52ba69dbecf0ec513180" category="paragraph"><block ref="46fa46eed970046d03e2dedc95cdc83b" prefix="" category="inline-code"></block></block>
  <block id="5d8040f7ca409e3993359a877f675e59" category="paragraph"><block ref="75da9d6de91e782eca4fa00341367135" prefix="" category="inline-code"></block></block>
  <block id="9548d4d33e26f6bbe564b4eb47a52e4b" category="paragraph">新磁碟區的選用預設大小。預設：<block ref="7d0f45b4b1cf6603762c74ca39c833dd" prefix=" " category="inline-code"></block></block>
  <block id="dfda6aac7ee732ec79153da76a0e963a" category="paragraph"><block ref="08aa1584c9a5791fb64b0f7f1453f9eb" prefix="" category="inline-code"></block></block>
  <block id="b6d628512c1127da9adb6c459c9f7c95" category="paragraph"><block ref="190dafab69706a67221c1226360de7dc" prefix="" category="inline-code"></block></block>
  <block id="251296d0166ace97771b155156985b38" category="paragraph"><block ref="98a2cd7efa1ba950d42e42af495c4248" prefix="" category="inline-code"></block></block>
  <block id="9fcbfb18564773bb1604cf400912944c" category="paragraph"><block ref="b26399fddd6473c150b4e7528fb04fdc" prefix="" category="inline-code"></block></block>
  <block id="8131d179a4284fbb0ed410bbbbcf1eb6" category="paragraph"><block ref="6173aa5206484b5224450952747c7148" prefix="" category="inline-code"></block></block>
  <block id="c4dc9cb5606cc8c0597a5c8f1f77b005" category="paragraph"><block ref="5ebe2294ecd0e0f08eab7690d2a6ee69" prefix="" category="inline-code"></block></block>
  <block id="fc3424ba1777889d0d49ea7f5a675c9e" category="paragraph"><block ref="70d2c7701d2837552c0a38c02a326592" prefix="" category="inline-code"></block></block>
  <block id="e84b7103384d0a3393c0847330716669" category="paragraph"><block ref="f819de81247be4a5428dc0e169de28b8" prefix="" category="inline-code"></block></block>
  <block id="7dd39afeb1c0b05aac5f4bf6fbd94990" category="paragraph"><block ref="301c869c551e12d862ab0291837102a0" prefix="" category="inline-code"></block></block>
  <block id="98ce75f2128e52057c9dbf00a9eb2736" category="paragraph"><block ref="f07e606cfe25ac6fb07d9c4af941d9a2" prefix="" category="inline-code"></block></block>
  <block id="1ae6e291c93a6d5962af8004aecd9c4c" category="paragraph"><block ref="94f6d7e04a4d452035300f18b984988c" prefix="" category="inline-code"></block></block>
  <block id="af2bffb136dd0c22342ad9cb06187197" category="paragraph">空間保留模式；<block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block> （精簡配置）或<block ref="210ab9e731c9c36c2c38db15c28a8d1c" prefix=" " category="inline-code"></block> （粗）</block>
  <block id="7f0d015762fc8e2b44f0ad1cd5429af5" category="paragraph">要使用的 Snapshot 原則、預設為<block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block></block>
  <block id="11663b17d5bcea48dbfb36b13965663b" category="paragraph"><block ref="d3d9446802a44259755d38e6d163e820" prefix="" category="inline-code"></block></block>
  <block id="871c12a80dbc519da4b71b3ea166cdc4" category="paragraph">建立複本時、將其父複本分割成預設值<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block></block>
  <block id="290cc6c07ae2ba0a638720a38f1356ed" category="paragraph">NAS 選項適用於已佈建的 NFS 磁碟區、預設為<block ref="f1c1592588411002af340cbaedd6fc33" prefix=" " category="inline-code"></block></block>
  <block id="8dfb6d491cffb51a17396f993c195d8b" category="paragraph"><block ref="f1c1592588411002af340cbaedd6fc33" prefix="" category="inline-code"></block></block>
  <block id="1667ea9b715250d5f295353e97cde10e" category="paragraph">NFS 匯出原則使用的 NAS 選項、預設為<block ref="c21f969b5f03d33d43e04f8f136e7682" prefix=" " category="inline-code"></block></block>
  <block id="980ef1c1aa7d1456ee087df02119341e" category="paragraph"><block ref="c21f969b5f03d33d43e04f8f136e7682" prefix="" category="inline-code"></block></block>
  <block id="19d28ffef37322622a55f9d7f1f9fa59" category="paragraph">SAN 選項可選擇檔案系統類型、預設為<block ref="40d1d2ce03569076bd0dc1e0ff90aa4c" prefix=" " category="inline-code"></block></block>
  <block id="c90caaafbe0da0287b6a84f0894fa40b" category="paragraph"><block ref="310201b6353c5f38bc039e0e51b079d3" prefix="" category="inline-code"></block></block>
  <block id="c1fd85851a162222ab0690383666bd47" category="paragraph"><block ref="05b6053c41a2130afd6fc3b158bda4e6" prefix="" category="inline-code"></block></block>
  <block id="bf0a8b77dbb95465376fb2cfec90b422" category="paragraph"><block ref="76bb7251da6a3c88e629c03a402b9d15" prefix="" category="inline-code"></block></block>
  <block id="1dedbfd605df8b562acc8f759a8e9acc" category="list-text">執行的Kubernetes叢集 <block ref="229e1052bb9ecd8cf2680d6f44691174" category="inline-link-macro-rx"></block></block>
  <block id="17c5eeb01739643b5aef94fe18b6c849" category="paragraph">您可以使用版本選取器、在最新版本與前四個版本之間瀏覽、或使用下列連結。</block>
  <block id="2122a8acb599837078e6b76436e892c4" category="list-text">Kubernetes 1.27 現在支援 Trident 。升級Kubernetes之前先升級Trident。</block>
  <block id="38a0b9f59e6fe23e1617dc0e78498afe" category="section-title">強制分離的詳細資料</block>
  <block id="20c0c9efee2da2645ec0eefaf3c75d8c" category="inline-link-macro">Kubernetes ：非正常節點關機</block>
  <block id="8f57f52b7233aecf56728bcd48d3a51c" category="list-text">識別並清除節點上過時的已發佈路徑。</block>
  <block id="beee3e754bb36e7321f32ad13d4ac60a" category="paragraph">您所有的Kubernetes工作節點都必須安裝適當的iSCSI工具。請參閱 <block ref="9e8cf70fcb465bf1907b585f74e9e1a6" category="inline-link-macro-rx"></block> 以取得詳細資料。</block>
  <block id="37225474f75e9da42c0f924ba87b113a" category="cell"><block ref="8321592ce24c8a122ecf26a63cfca407" prefix="" category="inline-code"></block>、<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>、<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>、<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>、<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block></block>
  <block id="56d1e7863190cbf5e7689e2821d0959e" category="cell"><block ref="47cb44be55a0dffa15dfc900a4c687be" prefix="" category="inline-code"></block></block>
  <block id="3bc2d9079510db6d0570883494bc5984" category="cell"><block ref="f899139df5e1059396431415e770c6dd" prefix="" category="inline-code"></block></block>
  <block id="06daeb0fdb584c4694891d290310e1ed" category="cell"><block ref="3644a684f98ea8fe223c713b77189a77" prefix="" category="inline-code"></block></block>
  <block id="58c09f2c9581bc7c58c32116266b6d8f" category="cell">要使用的分層原則<block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block></block>
  <block id="6792aad2d8c086a9d25f5ad8ec090f35" category="paragraph">在建立元素後端之前、您需要下列項目。</block>
  <block id="690b3c7311638da5eef87f5e07aa1258" category="section-title">管理磁碟區</block>
  <block id="51e6d748c5af856ade589011dc2c7e85" category="cell"><block ref="37a6259cc0c1dae299a7866489dff0bd" prefix="" category="inline-code"></block></block>
  <block id="ddbd2735bfb88c5da807f77f6fe5f6c8" category="doc">ONTAP NAS 驅動程式概述</block>
  <block id="5cc1e28c0d7b6c40ca94aacb554b31ca" category="doc">ONTAP SAN 驅動程式概觀</block>
  <block id="4ba6a75e6aacbc3737630ba55916cd27" category="section-title">管理後端的選項</block>
  <block id="798f4548a52b3c91b25609a82ff6a12e" category="paragraph">隨之推出<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>管理員現在有兩種獨特的後端管理方法。這會提出下列問題：</block>
  <block id="0ee19d4be17e297cfb39c398cb268b5e" category="paragraph">此值不可變更或省略。</block>
  <block id="07d41595da50d0c332f22902db2f76d8" category="paragraph">*僅適用於<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> 驅動程式 * 。</block>
  <block id="684a16b15a51568bcdd546607176bd57" category="paragraph"><block ref="e77a1bd34ff5793aca292b38d23bc2c9" prefix="" category="inline-code"></block></block>
  <block id="ab946346d7b6ebd4a84d96bb78dcd833" category="section-title">用於匯入 LUKS Volume 的後端組態</block>
  <block id="490414e0366b091220802d406e52c076" category="doc">新功能</block>
  <block id="3317f97754f7308b6a0e2a12c0241d39" category="admonition">僅當 Kubernetes 版本啟用非正常節點關機功能閘道時、才支援 ONTAP - SAN* 磁碟區的強制磁碟區分離。必須在安裝時使用啟用強制分離<block ref="d75e90115a6343745df96039920422fc" prefix=" " category="inline-code"></block> Trident 安裝程式旗標。</block>
  <block id="8743cc1328bba53ea356fd3e593a3f9c" category="list-text">固定的 Trident 運算子叢集角色權限、可與套件權限（<block ref="25d51e363866fb30c759c73e05114b0d" category="inline-link-macro-rx"></block>）。</block>
  <block id="c16e7ed05955f3a772cc5e37988626a6" category="inline-link-macro">問題 #811.</block>
  <block id="c8b742414af3be73bd16e0c1ed978ae5" category="list-text">修正 Trident 控制器無法立即關機的問題（<block ref="6916c682464f601a812aa726b7255568" category="inline-link-macro-rx"></block>）。</block>
  <block id="e82b00f6dda8d75f6267522d6e8e21b3" category="list-text">新增修正程式、列出與指定 LUN 相關的所有 igroup 名稱、並以 ontap － san 驅動程式進行佈建。</block>
  <block id="3f32e3199847516d3773942171a3320e" category="inline-link-macro">問題 #537</block>
  <block id="8ac5248178b612abfaaec81ca7b06c94" category="list-text">修正 s390 架構的編譯錯誤（<block ref="a2e3737cce03fa6e94f8357a427b1da2" category="inline-link-macro-rx"></block>）。</block>
  <block id="70d039054d2873e8b0f28587cb19086a" category="inline-link-macro">問題 781</block>
  <block id="48b91d8b8b87d6d8c95cbc34bbae12e7" category="list-text">修正磁碟區裝載作業期間的記錄層級不正確（<block ref="8bb65f034421623db4038f879681c20b" category="inline-link-macro-rx"></block>）。</block>
  <block id="6c85ef6d99d7dc6999989d8228ad56d9" category="inline-link-macro">問題 #802</block>
  <block id="6edadfcf2d991f369cdf934677bb161a" category="list-text">修正潛在類型聲明錯誤（<block ref="e6bc1d779eb6c87e7246c3841e50b482" category="inline-link-macro-rx"></block>）。</block>
  <block id="afcf8fa41398f15ad38c5874372e9b4c" category="list-text">增加了對 Kubernetes 1.27 的支援。</block>
  <block id="67db0e94c8905c93eda71f86cb532e07" category="list-text">新增匯入 LUKS Volume 的支援。</block>
  <block id="6de845032edacfacdf7599428fce6ce3" category="list-text">新增支援 ReadWriteOncePod PVC 存取模式。</block>
  <block id="9297bb6ec4e523b7875643c53cc9f528" category="list-text">新增在非正常節點關機案例中強制卸除 ONTAP SAN* 磁碟區的支援。</block>
  <block id="bf75c88234d165d6aa37891adda4465a" category="inline-link-macro">問題 758</block>
  <block id="8ba74f6fd31160a630f1dc4eeb7d2e20" category="list-text">所有 ONTAP SAN * 磁碟區現在都會使用每個節點的 igroup 。LUN 只會對應到 igroup 、而會主動發佈到這些節點、以改善我們的安全狀態。當 Trident 判斷在不影響作用中工作負載的情況下、現有磁碟區將會切換至新的 igroup 配置（<block ref="9c63b965233843690f19867523ba780c" category="inline-link-macro-rx"></block>）。</block>
  <block id="79e79d7d8fe825308bd0e601daaa1131" category="list-text">透過清理 ONTAP SAN* 後端未使用的 Trident 管理的 igroup 、改善 Trident 的安全性。</block>
  <block id="18596399dedf47a387f514e9c9862876" category="list-text">將 Amazon FSX 對 SMB Volume 的支援新增至 ONTAP NAS 經濟型和 ONTAP NAS Flexgroup 儲存驅動程式。</block>
  <block id="42bbebea36c49138518f54240583f571" category="list-text">新增了 ONTAP NAS 、 ONTAP NAS 經濟型和 ONTAP NAS Flexgroup 儲存驅動程式的 SMB 共享支援。</block>
  <block id="4332590e7a6bcbdc2a06dc0e18c0731b" category="inline-link-macro">問題 #732</block>
  <block id="5a8fc8277a0f6ed003c225aa1e7c48b6" category="list-text">新增對 arm64 節點的支援（<block ref="c2778c70230759cdeecc0357ca334a05" category="inline-link-macro-rx"></block>）。</block>
  <block id="69ef45b431e1a60332ee3ce7e1a67645" category="list-text">透過先停用 API 伺服器來改善 Trident 關機程序（<block ref="6916c682464f601a812aa726b7255568" category="inline-link-macro-rx"></block>）。</block>
  <block id="be70537c794b0fc1d909e1bf6ffbbc59" category="list-text">新增 Windows 和 arm64 主機的跨平台建置支援至 Makefile ；請參閱 build .md 。</block>
  <block id="6f03549bdf867b6dbabec83da444ffcf" category="paragraph">**Kubernetes:** 設定 ONTAP - SAN 和 ONTAP - SAN 經濟型驅動程式時、將不再建立後端範圍的 igroup （<block ref="9c63b965233843690f19867523ba780c" category="inline-link-macro-rx"></block>）。</block>
  <block id="7558c614baceb6010756b848dd26325e" category="section-title">23.01.1 的變更</block>
  <block id="33871b6190a8d5adbe8b15282054766c" category="sidebar">新增功能</block>
  <block id="ffd4000c9e43a23d97e231d47f99dcd4" category="list-text">您可以執行多個驅動程式、並建立指向其中一個或另一個的儲存類別。例如、您可以設定使用的Gold類別<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> 驅動程式和銅級、使用<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> 一、</block>
  <block id="a571dbb3887a364b4b4dcb82a5fa6ec9" category="list-text">建立Snapshot控制器。</block>
  <block id="ae3ba2e438847d5fb2abc16b3c73ccab" category="admonition">如有必要、請開啟<block ref="31a2c725707ce238c3eb4dd82c7e3af9" prefix=" " category="inline-code"></block> 和更新<block ref="89801e9e98979062e84647433a8ed3e9" prefix=" " category="inline-code"></block> 到您的命名空間。</block>
  <block id="c48edc45b9266a1f0d1869ac35615605" category="section-title">使用快照恢復 Volume 資料</block>
  <block id="4714f3cf4c41291cc2dae88a7150cbe5" category="paragraph">快照目錄預設為隱藏、以協助使用進行資源配置的磁碟區達到最大相容性<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> 和<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> 驅動程式：啟用<block ref="a15da8cecb1f1192c4d913b8ba676121" prefix=" " category="inline-code"></block> 直接從快照恢復資料的目錄。</block>
  <block id="8f580d002ee0bbc67930846839d50dbe" category="paragraph">使用 Volume Snapshot Restore ONTAP CLI 將磁碟區還原至先前快照中記錄的狀態。</block>
  <block id="f84dc17e0595ca9097097e70b9b927e1" category="admonition">當您還原快照複本時、會覆寫現有的 Volume 組態。建立快照複本之後對 Volume 資料所做的變更將會遺失。</block>
  <block id="03c39d763ca15978d9ef16c2ba5fe98a" category="doc">資料保護與災難恢復</block>
  <block id="082510018437a15b6d42065dfe5a5384" category="inline-link-macro">Kubernetes ：備份 etcd 叢集</block>
  <block id="ec3558916e2679d1a4b592e0ade35471" category="list-text">使用備份 Kubernetes 叢集 etcd  <block ref="901b02918d705c0966dae4033c132965" category="inline-link-macro-rx"></block>。</block>
  <block id="b30057689f3e745e5feeb142585ff30b" category="list-text">從目的地 SVM 、將包含 Kubernetes etcd 資料檔案和憑證的磁碟區掛載到將設定為主要節點的主機上。</block>
  <block id="5fefcae3a4602913a273a904829295ce" category="list-text">複製下 Kubernetes 叢集的所有必要憑證<block ref="890b0e4d98741eac800c616b757217cb" prefix=" " category="inline-code"></block> 以及下的 etcd 成員檔案<block ref="3fa01691da932f6c45bf424027ffabb8" prefix=" " category="inline-code"></block>。</block>
  <block id="51fa31507539ecf10c55d8cc513269d0" category="inline-link-macro">Kubernetes ：還原 etcd 叢集</block>
  <block id="3167e8459c0d46545dc7978a60ef4978" category="list-text">使用從 etcd 備份還原 Kubernetes 叢集 <block ref="c87a91d2cf6358248ae560cfa802edf4" category="inline-link-macro-rx"></block>。</block>
  <block id="54d0429fea223af0d32d9f061ed733c9" category="list-text">執行<block ref="1ec8e1992e296a9bdb691f1931d391fe" prefix=" " category="inline-code"></block> 若要驗證所有 Trident 自訂資源都已出現、請擷取 Trident 物件、以驗證所有資料是否可用。</block>
  <block id="c87c1a25aa5e2ef1af216bc50d1fd391" category="section-title">SVM 複寫與還原</block>
  <block id="0d3b37ff5855bf299f3c4a154373c1e2" category="inline-link">ONTAP SnapMirror</block>
  <block id="9299ebdcbaefed4a9ea27b355bb0f75e" category="paragraph">發生災難時、您可以啟動SnapMirror目的地SVM、開始提供資料服務。系統還原時、您可以切換回主要系統。</block>
  <block id="1de93d4bf941bc79aec631023559b9e7" category="paragraph">使用 SnapMirror SVM 複寫功能時、請考量下列事項：</block>
  <block id="1868906f3a3fbcf756260737545805d6" category="list-text">您應該為每個啟用 SVM-DR 的 SVM 建立不同的後端。</block>
  <block id="f9f808f1692cabf1bf803e07da9adbe7" category="list-text">設定儲存類別、僅在需要時才選取複寫的後端、以避免將不需要複寫的磁碟區佈建到支援 SVM-DR 的後端。</block>
  <block id="6fa2f5991a9e2ee7d4668899f94e78e4" category="list-text">應用程式管理員應瞭解複寫的額外成本與複雜度、並在開始此程序之前仔細考慮其還原計畫。</block>
  <block id="2b5ffe73affd6d09b3b5e160e117e5c9" category="section-title">SVM 複寫</block>
  <block id="9f4b9999b69320b559438c600d724ff9" category="inline-link-macro">ONTAP ： SnapMirror SVM 複寫</block>
  <block id="d628a099db3505c9d0435e12076d8a61" category="paragraph">您可以使用 <block ref="89150b9d328c8330200fceb39b37760e" category="inline-link-macro-rx"></block> 建立 SVM 複寫關係。</block>
  <block id="524218dc9ff1ef52c9a0404971525b21" category="inline-link-macro">-identity 保留為真</block>
  <block id="8dc4e22513bbb97acc41295bfe46d5fe" category="list-text"><block ref="c758ffe020dc40d00c9a9c46ecbdd824" category="inline-link-macro-rx"></block> 複寫整個 SVM 組態。</block>
  <block id="d18f05a5c35a5a7d999263600f0356bf" category="inline-link-macro">-discard 配置網路</block>
  <block id="97c20c3eb8c7569982dc9f84e7f31ba3" category="list-text"><block ref="afa9da8af32f091c8328b13559d456b1" category="inline-link-macro-rx"></block> 不包括生命和相關的網路設定。</block>
  <block id="224ea277d21a44b59b0fa43747b4f6a6" category="inline-link-macro">-identity 保留錯誤</block>
  <block id="471621652d0597dca59f266effb8f90f" category="list-text"><block ref="1faf7e0b3f51b53ae01a4f860a9ed344" category="inline-link-macro-rx"></block> 僅複寫磁碟區和安全組態。</block>
  <block id="da29de46c3a7d3e66fc701b2781fcbce" category="list-text">取消已排程和持續的 SnapMirror 傳輸、中斷複寫關係、停止來源 SVM 、然後啟動 SnapMirror 目的地 SVM 。</block>
  <block id="98bdea55e26fba2494cc5f163b6f8076" category="list-text">如果您指定<block ref="224ea277d21a44b59b0fa43747b4f6a6" prefix=" " category="inline-code"></block> 或<block ref="e932330dd004e680ebd1a75db84b73ce" prefix=" " category="inline-code"></block> 設定 SVM 複寫時、請更新<block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix=" " category="inline-code"></block> 和<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block> 在 Trident 後端定義檔案中。</block>
  <block id="6141984e8f91176bd3a76175b02c1a09" category="list-text">確認<block ref="ed66bef2b107983b6e4066fddf8c45c3" prefix=" " category="inline-code"></block> 存在於 Trident 後端定義檔案中。此參數無法變更。省略<block ref="ed66bef2b107983b6e4066fddf8c45c3" prefix=" " category="inline-code"></block> 將導致後端更新失敗。</block>
  <block id="51589b18e320f20306c944a08241dac1" category="list-text">更新所有必要的後端、以反映新的目的地 SVM 名稱、使用：</block>
  <block id="d980e1fdfa951088567e6d057ba7dc9c" category="list-text">如果您指定<block ref="224ea277d21a44b59b0fa43747b4f6a6" prefix=" " category="inline-code"></block> 或<block ref="89680afd09991bc3d4db985c40c861c1" prefix=" " category="inline-code"></block>、您必須退回所有應用程式 Pod 。</block>
  <block id="cceb49886fed38f241928d51abab95a2" category="section-title">Volume 複寫與還原</block>
  <block id="815f28e53ebfb423dfe835a845095bf6" category="inline-link-macro">ONTAP SnapMirror 複寫與還原</block>
  <block id="c3c343b5a84229bd5095fd09f2afc5f5" category="inline-link-macro">tridentctl Volume 匯入</block>
  <block id="d8d9dfeae772da34290b750d0f848a26" category="admonition">匯入不受支援<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>、 <block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>或<block ref="70d5dbddc55e3700ddbc8d21f0de22a3" prefix=" " category="inline-code"></block> 驅動程式：</block>
  <block id="b489b293d6cbe8b86835d3cac8c315fb" category="section-title">Snapshot 資料保護</block>
  <block id="f332d72a4b78e34e31131f3a98c98053" category="paragraph">您可以使用下列項目來保護及還原資料：</block>
  <block id="97fb495fd3b6672c40bb0092ca102eca" category="list-text">外部快照控制器和 CRD 、用於建立持續磁碟區（ PV ）的 Kubernetes Volume 快照。</block>
  <block id="83cd672b9742ba621e93a8b69c4ab2d4" category="list-text">ONTAP 快照可還原磁碟區的全部內容、或是還原個別檔案或 LUN 。</block>
  <block id="ad336d1fccea3e918d07055edac855a3" category="inline-link-macro">ONTAP 快照</block>
  <block id="0cb949d1baa06577db93328185a8f24d" category="paragraph"><block ref="0cb949d1baa06577db93328185a8f24d" category="inline-link-macro-rx"></block></block>
  <block id="2e77d5277311f3a9232a73cdbbcd754b" category="section-title">總覽與考量</block>
  <block id="88541191ec5fe50ba0d21b4300401b85" category="list-text">將應用程式容器化、並重新使用其現有的資料集</block>
  <block id="77d782125cafbbf0fe1c5c95755d143f" category="list-text">針對臨時應用程式使用資料集的複本</block>
  <block id="d265b515faaf05e2c32727d8b9742a78" category="list-text">重建故障的 Kubernetes 叢集</block>
  <block id="6766ef9d5b11abf03ee72b55c5745f4b" category="list-text">在災難恢復期間移轉應用程式資料</block>
  <block id="4c321a56c9c030449cd3315863de525b" category="paragraph">匯入 Volume 之前、請先檢閱下列考量事項。</block>
  <block id="e47be4dcc849b534107f57afd92f801f" category="list-text">我們建議您在沒有作用中連線的情況下匯入磁碟區。若要匯入使用中的 Volume 、請複製該 Volume 、然後執行匯入。</block>
  <block id="e4618ea9b1ae23e5ed30f6f19e6a77e8" category="admonition">這對區塊磁碟區特別重要、因為 Kubernetes 不會知道先前的連線、而且很容易將作用中的磁碟區附加到 Pod 。這可能導致資料毀損。</block>
  <block id="a31db9efd829f01dd21fdc97db2d29e4" category="list-text">現有的 Volume 大小是在 PVC 中決定和設定的。儲存驅動程式匯入磁碟區之後、PV會以PVc的ClaimRef建立。</block>
  <block id="604eea1f3df98285b6887ff059258827" category="list-text">回收原則一開始設定為<block ref="16d79ff80feadcf2f52096f073f2b94a" prefix=" " category="inline-code"></block> 在PV中。Kubernetes成功繫結了PVc和PV之後、系統會更新回收原則以符合儲存類別的回收原則。</block>
  <block id="5d24684cf5054f53b1e945be75b37f69" category="list-text">如果儲存類別的回收原則為<block ref="099af53f601532dbd31e0ea99ffdeb64" prefix=" " category="inline-code"></block>、儲存磁碟區會在PV刪除時刪除。</block>
  <block id="db31dcd83fd57b294fb0340ea975015f" category="section-title">匯入 Volume</block>
  <block id="61a1adebea5e6a017b4bd4b405ae4f52" category="paragraph">您可以使用<block ref="a768f5449e3a83ac56f2fb8ab4562339" prefix=" " category="inline-code"></block> 匯入 Volume 。</block>
  <block id="8feb5f647cb423db7fa8a957ae4ef075" category="list-text">建立持續 Volume Claim （ PVC ）檔案（例如、<block ref="88bf8ee4d993e535425148da6a64c1c2" prefix=" " category="inline-code"></block>）用於建立 PVC 。PVC 檔案應包含在內<block ref="b068931cc450442b63f5b3d276ea4297" prefix=" " category="inline-code"></block>、<block ref="89801e9e98979062e84647433a8ed3e9" prefix=" " category="inline-code"></block>、<block ref="1963d17f24888bdf1f22d7ea7f72f607" prefix=" " category="inline-code"></block>和<block ref="ee822781a3bd0ae0f8f6331dc4865d9c" prefix=" " category="inline-code"></block>。您也可以指定<block ref="c005e78d4bd808038335c32dd84cf7da" prefix=" " category="inline-code"></block> 在您的 PVC 定義中。</block>
  <block id="7f745c89a2e8fd59353bab523e12eb77" category="paragraph">以下是最低規格的範例：</block>
  <block id="a9e31569460a0b133fdd97c5f482c04e" category="admonition">請勿包含其他參數、例如 PV 名稱或 Volume 大小。這可能會導致匯入命令失敗。</block>
  <block id="37c0e0081d2fa3ebdf688df7e37ecd7a" category="paragraph">請參閱下列 Volume 匯入範例、瞭解支援的驅動程式。</block>
  <block id="b8cd11aae04b2508e6cf401f43cdb4f9" category="section-title">ONTAP NAS 和 ONTAP NAS FlexGroup</block>
  <block id="15f21f5d1f84f4b986a4db037c57333d" category="list-text">。<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> 和<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> 驅動程式不允許重複的磁碟區名稱。</block>
  <block id="3fa3bc64b029b88f42b842bb7dc4e52d" category="paragraph-title">ONTAP NAS 範例</block>
  <block id="77fe25c67ee05760d58e91a98e3ff055" category="paragraph">以下是託管 Volume 和非託管 Volume 匯入的範例。</block>
  <block id="865c1a701e3847de9fbff4a375ac7177" category="open-title">託管 Volume</block>
  <block id="9baac1fff2f93c6aa6f2205921fe6b32" category="paragraph">以下範例會匯入名為的 Volume<block ref="b61fdc0d7fc5d08e674f3891a91d3116" prefix=" " category="inline-code"></block> 在名為的後端上<block ref="b0253ee501e433d48faea12f8e40ef28" prefix=" " category="inline-code"></block>：</block>
  <block id="ed12f17a6dc2e65dfdf289eb64d258ae" category="open-title">非託管 Volume</block>
  <block id="30690ec57cb4844d007f7d2e2c9393a2" category="paragraph">以下範例匯入<block ref="60d9e6d88af815fe67aed90572f53184" prefix=" " category="inline-code"></block> 在上<block ref="b0253ee501e433d48faea12f8e40ef28" prefix=" " category="inline-code"></block> 後端：</block>
  <block id="548fedaf4074fe2826e3c53dfd92a19e" category="section-title">SAN ONTAP</block>
  <block id="854d516b7e1eddbead5cbea0b17dac88" category="paragraph-title">ONTAP SAN 範例</block>
  <block id="d172829ee06c1c52828b60f0544b2f06" category="paragraph">以下範例匯入<block ref="a5c0fa75ec8cf92d22eadab558660dda" prefix=" " category="inline-code"></block> 在上<block ref="2dec4fe0d108047546d031f48f4073f7" prefix=" " category="inline-code"></block> 後端：</block>
  <block id="58f7692a8b6ce5b3fa31b6daec3259fe" category="paragraph">如果您將 LUN 對應至與 Kubernetes 節點 IQN 共用 IQN 的 igroup 、如下列範例所示、您將會收到錯誤訊息：<block ref="4524d417d10c9cf90c4a674da76c4964" prefix=" " category="inline-code"></block>。您需要移除啟動器或取消對應 LUN 、才能匯入磁碟區。</block>
  <block id="5ccef908ed30c9dac1afd0a7f3dc5e7f" category="inline-image-macro">對應至 iqn 和叢集 iqn 的 LUN 影像。</block>
  <block id="81238a539b4fc11fb20c6d27db1e5d33" category="paragraph"><block ref="81238a539b4fc11fb20c6d27db1e5d33" category="inline-image-macro-rx" type="image"></block></block>
  <block id="d12ef9e4a047861afd11513bde147f35" category="paragraph-title">元素範例</block>
  <block id="e91134286ebcca5f894ca859ce6e6527" category="paragraph">下列範例會匯入<block ref="ce9d6be888db333d9f15ad3ca22aab5c" prefix=" " category="inline-code"></block> 後端上的 Volume<block ref="54034d50b7e92e0dd9d45b9be754d7bd" prefix=" " category="inline-code"></block>。</block>
  <block id="7501988e9549daa8c2fcd13e55b9fc78" category="admonition">若要匯入 Azure NetApp Files Volume 、請依磁碟區路徑識別該磁碟區。Volume 路徑是之後 Volume 匯出路徑的一部分<block ref="fb256b96ee496724e4579987e5a6e4da" prefix=" " category="inline-code"></block>。例如、如果掛載路徑為<block ref="a88065dde27cea3a008a18172c5a9c9e" prefix=" " category="inline-code"></block>、磁碟區路徑為<block ref="062b749476713f7b5bbc675159e90bad" prefix=" " category="inline-code"></block>。</block>
  <block id="1cfd9b4e20d41cdca62f758d3b0cb58b" category="paragraph-title">Azure NetApp Files 範例</block>
  <block id="bd46b0a8c2c4c89a60ee85052ad2dd0e" category="paragraph">下列範例會匯入<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block> 後端上的 Volume<block ref="d8dd89ab9d39f5487714722f9becb468" prefix=" " category="inline-code"></block> 磁碟區路徑<block ref="062b749476713f7b5bbc675159e90bad" prefix=" " category="inline-code"></block>。</block>
  <block id="0b8ca2be5f4fe564fb8e843cbc53703d" category="admonition">如果在 GKE 環境中建立隨需磁碟區快照、請勿建立快照控制器。GKE使用內建的隱藏式快照控制器。</block>
  <block id="ad90b7d29d0d8a9c746868fe1f38ca90" category="paragraph">Rwo 、 ROX 、 rwx 、 RWOP</block>
  <block id="33966eba1ed0cde6afda5a97ffaffb09" category="inline-link">安全性內容</block>
  <block id="326aae224b3bbcf4b9eb8fc0a262fc24" category="list-text">這是強制實施的一項**要求<block ref="cafe4c6014d8c45aaac70e49318f1a2a" category="inline-link-rx"></block> 適用於SAN磁碟區。</block>
  <block id="87459c33b1692755deb4b22c7eaa864c" category="section-title">步驟 1 ：選取版本</block>
  <block id="6d2d3a9fb621ba23b0f8ec56dc8b0a24" category="section-title">步驟 2 ：確定原始安裝方法</block>
  <block id="dccfb2ce978b2c73d6a7308a124d0043" category="section-title">步驟 3 ：選擇升級方法</block>
  <block id="d6b7a42c6c41b071d2c80b3e4c2a7edf" category="inline-link-macro">選擇升級方法</block>
  <block id="ab639a35db468f671d4a76735e801015" category="paragraph">檢閱 <block ref="5cffa5fbe758cc3901f0e33c78b29d1b" category="inline-link-macro-rx"></block> 使用升級之前<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。</block>
  <block id="1d2d1200e759d67b259f843be2270f71" category="admonition">請勿中斷升級程序。確保安裝程式執行完成。</block>
  <block id="053bfc722ec4b4805e32c307458f8ea5" category="paragraph">確保您使用的是執行中的 Kubernetes 叢集 <block ref="d502dc64864e79085bee32826e6fe213" category="inline-link-macro-rx"></block>。</block>
  <block id="71530aef1814290453dc7add3bdae349" category="list-text">在同一個命名空間中部署叢集範圍的運算子。</block>
  <block id="8d23be098d49e797284393a4c1479c53" category="list-text">確認 Trident 已升級至所需版本。</block>
  <block id="e4941fda44f66f353885d1a37ca63e2b" category="list-text">對於執行 Kubernetes 1.25 或更新版本的叢集、請使用<block ref="5a02ebff4889c2de0379a0fb10bed282" prefix=" " category="inline-code"></block>。</block>
  <block id="dacbfb309aa16cb942510c02c224fdbc" category="example-title">憑證型驗證範例</block>
  <block id="60eac39d4383fedcc1df436a2d0e856d" category="paragraph">在此基本組態範例中<block ref="79fffaff4013c1e8c508e76646eca77b" prefix=" " category="inline-code"></block>、<block ref="19dce7ac7f5290fc8fa218ad0c858df5" prefix=" " category="inline-code"></block>和<block ref="8468461bca00a47ab5ddba2afc45f52c" prefix=" " category="inline-code"></block> （選用、如果使用信任的CA）會填入<block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block> 並分別取得用戶端憑證、私密金鑰及信任CA憑證的基礎64編碼值。</block>
  <block id="71b79981e733eabd769324fa40c8fa6d" category="paragraph">在下面顯示的後端定義檔案範例中、會針對所有儲存池設定特定的預設值、例如<block ref="cae77b049bf504af7afc43b99b6c5213" prefix=" " category="inline-code"></block> 無、<block ref="45922ba6ba8428764f22ed06f814c762" prefix=" " category="inline-code"></block> 假、和<block ref="5bdf74912a51c34815f11e9a3d20b609" prefix=" " category="inline-code"></block> 錯。虛擬資源池是在儲存區段中定義的。</block>
  <block id="71fcdf20b31ca43f6ef64c06530f313d" category="paragraph">在這些範例中、有些儲存池是自行設定的<block ref="cae77b049bf504af7afc43b99b6c5213" prefix=" " category="inline-code"></block>、<block ref="45922ba6ba8428764f22ed06f814c762" prefix=" " category="inline-code"></block>和<block ref="5bdf74912a51c34815f11e9a3d20b609" prefix=" " category="inline-code"></block> 值、而某些資源池會覆寫預設值。</block>
  <block id="574e53d92fdeaac37ba2d879a9b88f12" category="example-title">ONTAP NAS 範例</block>
  <block id="bdb252122df8a6e68a54782628d1944f" category="example-title">ONTAP NAS FlexGroup 範例</block>
  <block id="9561077d9ef091b88a253b8593eb8bfb" category="example-title">ONTAP NAS 經濟效益範例</block>
  <block id="eb2e955f1a984e2be0e3fa8cdbe6667c" category="paragraph">請參閱下列 StorageClass 定義 <block ref="d690aebda44a37b8ae9c2c6f1918cb30" category="inline-xref-macro-rx"></block>。使用<block ref="bed471c4a88e25ac9a7e4a7b980700a8" prefix=" " category="inline-code"></block> 欄位中、每個 StorageClass 都會呼叫哪些虛擬集區可用於主控磁碟區。磁碟區將會在所選的虛擬資源池中定義各個層面。</block>
  <block id="01eacb47d802acac83a7e60311768055" category="list-text">。<block ref="63f9100803e1f67a5e33cbd5da9dbb33" prefix=" " category="inline-code"></block> StorageClass 會對應至中的第一個和第二個虛擬集區<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> 後端：這是唯一提供金級保護的資源池。</block>
  <block id="6b35cdd98b7f7e55e698a6d0628e18e0" category="list-text">。<block ref="afbfe298fa275e5fff1aca9b2f213d9a" prefix=" " category="inline-code"></block> StorageClass 會對應至中的第三和第四個虛擬集區<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> 後端：這是唯一提供金級以外保護層級的資源池。</block>
  <block id="535efa214445261dfda5d5edc613e56b" category="list-text">。<block ref="65846755494383158592c748f74421ec" prefix=" " category="inline-code"></block> StorageClass 會對應至中的第四個虛擬集區<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> 後端：這是唯一為 mysqldb 類型應用程式提供儲存池組態的集區。</block>
  <block id="d0c5a28c77fc4e37f7271d37f7372724" category="list-text">t<block ref="2e63b2ff91d4aeb88b54db5c90b71443" prefix=" " category="inline-code"></block> StorageClass 會對應至中的第三個虛擬集區<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> 後端：這是唯一提供銀級保護和 20000 個信用點數的資源池。</block>
  <block id="0191eea3640b05213a7522d6581a2fd5" category="list-text">。<block ref="a96bee9dd30f3ea0af93b4c64ca1e4a4" prefix=" " category="inline-code"></block> StorageClass 會對應至中的第三個虛擬集區<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> 後端和中的第二個虛擬集區<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> 後端：這是唯一擁有 5000 個信用點數的集區方案。</block>
  <block id="cd5dd52b9f0bba70b1336e13afe05818" category="paragraph">這是使用的基本組態<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> 驅動程式：</block>
  <block id="31089bb4131b18ca65c3d384cdd49644" category="example-title">雙向 CHAP 範例</block>
  <block id="17baa03e9287aee400bc2e606d247156" category="paragraph">這些範例使用建立後端<block ref="099cb468880f266cba40b49391fa46bc" prefix=" " category="inline-code"></block> 設定為<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>。</block>
  <block id="7a4c6868ec70d1fbee3cb3a7483e21d0" category="listing-title">ONTAP SAN CHAP 範例</block>
  <block id="a0c1c7f21916f2a4fb0f0d56732adc90" category="listing-title">ONTAP SAN 經濟 CHAP 範例</block>
  <block id="6b743d9085f7f94d7a334c4386fbe239" category="paragraph">在這些後端定義檔案範例中、會針對所有儲存池設定特定的預設值、例如<block ref="cae77b049bf504af7afc43b99b6c5213" prefix=" " category="inline-code"></block> 無、<block ref="45922ba6ba8428764f22ed06f814c762" prefix=" " category="inline-code"></block> 假、和<block ref="5bdf74912a51c34815f11e9a3d20b609" prefix=" " category="inline-code"></block> 錯。虛擬資源池是在儲存區段中定義的。</block>
  <block id="4930386ddaad825d64732ee9ec5e65b8" category="example-title">ONTAP SAN 範例</block>
  <block id="8a10ba8eb41944c10648f18ba7e16239" category="example-title">ONTAP SAN 經濟效益範例</block>
  <block id="50543d5d423c4c1a0b4fdd41383189e5" category="paragraph">下列 StorageClass 定義請參閱 <block ref="d690aebda44a37b8ae9c2c6f1918cb30" category="inline-xref-macro-rx"></block>。使用<block ref="bed471c4a88e25ac9a7e4a7b980700a8" prefix=" " category="inline-code"></block> 欄位中、每個 StorageClass 都會呼叫哪些虛擬集區可用於主控磁碟區。磁碟區將會在所選的虛擬資源池中定義各個層面。</block>
  <block id="514e71168790374132badc1258ee5136" category="list-text">。<block ref="63f9100803e1f67a5e33cbd5da9dbb33" prefix=" " category="inline-code"></block> StorageClass 會對應至中的第一個虛擬集區<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> 後端：這是唯一提供金級保護的集區。</block>
  <block id="a9c41ef671a6da4ed0f439f86683b714" category="list-text">。<block ref="afbfe298fa275e5fff1aca9b2f213d9a" prefix=" " category="inline-code"></block> StorageClass 會對應至中的第二個和第三個虛擬集區<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> 後端：這是唯一提供金級以外保護層級的集區。</block>
  <block id="910ed65246d7ee240ec166f94b1fd5c9" category="list-text">。<block ref="65846755494383158592c748f74421ec" prefix=" " category="inline-code"></block> StorageClass 會對應至中的第三個虛擬集區<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> 後端：這是唯一為 mysqldb 類型應用程式提供儲存池組態的集區。</block>
  <block id="fa03c7de8b1b7b7061bb536c211f3aaf" category="list-text">。<block ref="2e63b2ff91d4aeb88b54db5c90b71443" prefix=" " category="inline-code"></block> StorageClass 會對應至中的第二個虛擬集區<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> 後端：這是唯一提供銀級保護和 20000 個信用點數的資源池。</block>
  <block id="ac996ac8e4442d8a2791ba8b1e301a02" category="list-text">。<block ref="a96bee9dd30f3ea0af93b4c64ca1e4a4" prefix=" " category="inline-code"></block> StorageClass 會對應至中的第三個虛擬集區<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> 中的後端和第四個虛擬集區<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> 後端：這是唯一擁有 5000 個信用點數的集區方案。</block>
  <block id="b003731e1d339366ed065ffe5a0f50ca" category="paragraph">在下圖所示的範例後端定義檔中、會針對所有設定的儲存資源池設定特定的預設值<block ref="599dcce2998a6b40b1e38e8c6006cb0a" prefix=" " category="inline-code"></block> 銀級。虛擬資源池是在中定義的<block ref="ddecebdea58b5f264d27f1f7909bab74" prefix=" " category="inline-code"></block> 區段。在此範例中、有些儲存資源池會自行設定類型、有些資源池則會覆寫上述預設值。</block>
  <block id="622bbef04f6f2121d92777cd7c59cc83" category="list-text">根據預設、 Trident 安裝程式會在中部署運算子<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block> 命名空間。如果是<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block> 命名空間不存在、請使用以下方式建立：</block>
  <block id="5bb66df6f3cd1e022e0cb84d5ef9e8e6" category="list-text">可在非的命名空間中部署運算子<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block> 命名空間、更新<block ref="8610cac3beb01fb0b43bc94c587a807d" prefix=" " category="inline-code"></block>、<block ref="a3df76a4fb69b2a5e9ec42d242e90ea3" prefix=" " category="inline-code"></block> 和<block ref="9fa80de5781893b057ff1d535201893b" prefix=" " category="inline-code"></block> 並使用產生套裝組合檔案<block ref="67b2cc1cd5b1570014463995fb2ada61" prefix=" " category="inline-code"></block>。</block>
  <block id="806742cccf8380250ffb871d582a0a03" category="list-text">確認已建立運算子、部署和複本集。</block>
  <block id="9b800ce65251b771d0eb86610e11f6b0" category="list-text">可從叢集工作節點存取的現有 Amazon FSX for NetApp ONTAP 檔案系統和儲存虛擬機器（ SVM ）。</block>
  <block id="78e5b29e139db71ceb7ca6bc99b5e228" category="paragraph">這是最小的後端組態範例。<block ref="79fffaff4013c1e8c508e76646eca77b" prefix=" " category="inline-code"></block>、<block ref="19dce7ac7f5290fc8fa218ad0c858df5" prefix=" " category="inline-code"></block>和<block ref="8468461bca00a47ab5ddba2afc45f52c" prefix=" " category="inline-code"></block> （選用、如果使用信任的CA）會填入<block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block> 並分別取得用戶端憑證、私密金鑰及信任CA憑證的基礎64編碼值。</block>
  <block id="33ef55e82416e2c1c4beb9cba9560b02" category="paragraph">。<block ref="5910159ef86741f119f7574a9064b5b0" prefix=" " category="inline-code"></block> 使用 SMB 磁碟區的 ONTAP 需要 FSX 參數。</block>
  <block id="ef0e40b987d8b9ad523bdde2bba5157a" category="summary">瞭解使用 ONTAP NAS 驅動程式設定 ONTAP 後端的需求、驗證選項和匯出原則。</block>
  <block id="c63609aba869239be30364b58d99b1a3" category="section-title">驗證 ONTAP 後端</block>
  <block id="e5fdb627c170dc14e3873b3da32f3aa5" category="paragraph">只需稍加準備、您就可以使用來配置 SMB 磁碟區<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> 驅動程式：</block>
  <block id="8de0a7910b914d44521684fe2a3a28c6" category="paragraph">在配置 SMB 磁碟區之前、您必須具備下列項目。</block>
  <block id="6a402202521e2168a911181e81c72faf" category="admonition">Amazon FSX for ONTAP 需要 SMB 共享。</block>
  <block id="7f7041fc0ca0e00f3d3e39e4ce4a5149" category="paragraph">您可以使用兩種方式之一來建立SMB管理共用區 <block ref="364bc251e9c8cfbf6ce258767d17d682" category="inline-link-macro-rx"></block> 共享資料夾嵌入式管理單元或使用ONTAP CLI。若要使用ONTAP CLI建立SMB共用：</block>
  <block id="7d159230ccaa721872f31bf9be31afeb" category="paragraph">雖然可以在 ONTAP 中建立更具限制性的角色、讓 Trident 驅動程式可以使用、但我們不建議這樣做。Trident的大多數新版本都會呼叫額外的API、而這些API必須納入考量、使升級變得困難且容易出錯。</block>
  <block id="37a679c38162162811d93d22ba8f5b4a" category="paragraph">瞭解使用 ONTAP SAN 驅動程式設定 ONTAP 後端的需求和驗證選項。</block>
  <block id="3262251091b863054cfabf046c0e3493" category="paragraph">NFS
中小企業</block>
  <block id="e8a058c8c47f6e4976a9fc5b5c00ec92" category="summary">建立 PersistentVolume （ PV ）和 PersistentVolume Claim （ PVC ）、使用設定的 Kubernetes StorageClass 來要求存取 PV 。然後、您可以將 PV 掛載至 Pod 。</block>
  <block id="a3b7bd8edd528214a68ac3ceb5c9935c" category="doc">配置 Volume</block>
  <block id="2d63b64b84c821bc810927f7ca7fa993" category="inline-link">_PersistentVolume Claim</block>
  <block id="d948cda211eadd3a86a406b43ee0d5fa" category="paragraph">可將 PVC 設定為要求儲存特定大小或存取模式。叢集管理員可以使用相關的 StorageClass 來控制超過 PersistentVolume 大小和存取模式的權限、例如效能或服務層級。</block>
  <block id="35e98ba80f6254a33de7a37ab113316e" category="section-title">範例資訊清單</block>
  <block id="cdeec5159e0548de993d76d7d1dcc992" category="paragraph">此範例顯示具有 rwo 存取權的基本 PVC 、與命名的 StorageClass 相關聯<block ref="1c62ceba602064183a6346b85fe26c96" prefix=" " category="inline-code"></block>。</block>
  <block id="e1f83bd8f580cc9a48311142d551b3cf" category="list-text">建立 PVC 。</block>
  <block id="150f6f248f009f461b84862124e2b499" category="list-text">確認 PVC 狀態。</block>
  <block id="6a308a8072d1cf8c73629852d7f0b1af" category="list-text">將磁碟區裝入 Pod 。</block>
  <block id="b5450caedb9c7aa352b9fb0427aee784" category="admonition">您可以使用監控進度<block ref="6abdceb61753f298491e021c4da24ddd" prefix=" " category="inline-code"></block>。</block>
  <block id="8118780a1733b73d43c1042889af94bd" category="list-text">確認磁碟區已掛載到上<block ref="9f5298598b1aa26f257834220853cb05" prefix=" " category="inline-code"></block>。</block>
  <block id="6604c85c599768bb970b37e590ef79fe" category="list-text">您現在可以刪除 Pod 。Pod 應用程式將不再存在、但該磁碟區仍會保留。</block>
  <block id="95d4f411b57eb8201e27fa4636c30816" category="section-title">設定 Kubernetes StorageClass 物件</block>
  <block id="b8d89cc8455fbb137550c0819b7813c8" category="inline-link">Kubernetes StorageClass 物件</block>
  <block id="d955a256e02907c43d2afd5bfdb671ea" category="paragraph">建立 StorageClass 物件之後、即可建立儲存類別。 <block ref="1310ad9d78b8b659f76828400b5d8126" category="inline-xref-macro-rx"></block> 提供一些您可以使用或修改的基本範例。</block>
  <block id="a221a060125881c2027807248f8302a2" category="list-text">這是 Kubernetes 物件、請使用<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block> 在Kubernetes中建立。</block>
  <block id="f31a577daf927c7edc5555c9ceabc983" category="section-title">儲存類別範例</block>
  <block id="64c314ed1bd24115a72a8a4284115a5c" category="inline-link">特定後端的簡單儲存類別定義</block>
  <block id="d9ab9b10b2101546e16eeab0b981d10c" category="paragraph">或者、您也可以編輯<block ref="9a35c6080acd99f860d0c669b1a980f9" prefix=" " category="inline-code"></block> 安裝程式隨附並取代的檔案<block ref="9c9a0798e59f3f4d7b08e45faef1e131" prefix=" " category="inline-code"></block> 儲存驅動程式名稱。</block>
  <block id="ff87ac5778183437377f5f963a3dccac" category="paragraph">編輯 StorageClass 定義以設定<block ref="6add71a247c8f4513060920be14857bc" prefix=" " category="inline-code"></block> 欄位至<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>。</block>
  <block id="efe0663b3e4eed08a4a1b30c3f3a2aac" category="paragraph">編輯 PVC 定義並更新<block ref="02b011e6fe36e26e5f7365ba08bf5a48" prefix=" " category="inline-code"></block> 以反映新的所需大小、此大小必須大於原始大小。</block>
  <block id="9d384cd22f1c9bc6a23136fe35d2a51c" category="paragraph">將 PV 附加至 Pod 、以便調整大小。調整iSCSI PV的大小有兩種情況：</block>
  <block id="a22a8450047f7b7aea2c76b348f6ba43" category="summary">您可以檢視現有的儲存類別、設定預設的儲存類別、識別儲存類別後端、以及刪除儲存類別。</block>
  <block id="e372af4ebeb99af557aa13609f47f47c" category="admonition">叢集中一次只應有一個預設儲存類別。Kubernetes在技術上並不妨礙您擁有多個儲存類別、但它的行為方式就如同完全沒有預設的儲存類別一樣。</block>
  <block id="c1ec7161e63fe862aeb30466f8f3f3b8" category="paragraph">您必須擁有外部快照控制器和自訂資源定義（ CRD ）、才能使用快照。這是Kubernetes Orchestrator的責任（例如：Kubeadm、GKE、OpenShift）。</block>
  <block id="d0838c5cbd45cca11f4f53eb773d017d" category="paragraph">如果您的Kubernetes發佈版本未包含快照控制器和CRD、請參閱 <block ref="048c22f74eff12037af96b48becdf135" category="inline-xref-macro-rx"></block>。</block>
  <block id="c4f5303a406f47eb87bf815d986165ee" category="section-title">建立磁碟區快照</block>
  <block id="86690b5147c7d6867042b834d17ef28b" category="list-text">建立<block ref="19476662cd814e0aa085eca121de89b8" prefix=" " category="inline-code"></block>。如需詳細資訊、請參閱 <block ref="0ad6a602adca2b32136ef84f7518b131" category="inline-link-macro-rx"></block>。</block>
  <block id="eea37fbd5872936b77e1e2e8a4af0cea" category="list-text"><block ref="98e7d6463271d7848db255ae6467817a" prefix="" category="inline-code"></block> 可以<block ref="f2a6c498fb90ee345d997f888fce3b18" prefix=" " category="inline-code"></block> 或<block ref="afece4245269582cb2f1009d4fb52047" prefix=" " category="inline-code"></block>。設定為時<block ref="afece4245269582cb2f1009d4fb52047" prefix=" " category="inline-code"></block>、儲存叢集上的基礎實體快照、即使在<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block> 物件已刪除。</block>
  <block id="0c9cf2ac15a6b5c5324b08e91b840fa4" category="list-text">建立現有 PVC 的快照。</block>
  <block id="8f72fd9aa081cd83550f8e13086b8967" category="list-text">此範例會為名稱為 PVC 的 Volume Snapshot 物件建立一個<block ref="30520f4f96804df83914260b79f55962" prefix=" " category="inline-code"></block> 快照名稱設為<block ref="2599ab7993e15386327b6345bc1cc4e1" prefix=" " category="inline-code"></block>。Volume Snapshot類似於PVC、並與相關聯<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block> 代表實際快照的物件。</block>
  <block id="4a2834678b378c24001efcc2f1ca5238" category="list-text">您可以識別<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block> 的物件<block ref="2599ab7993e15386327b6345bc1cc4e1" prefix=" " category="inline-code"></block> 描述Volume Snapshot。。<block ref="25fb031d6a134e0fb5a240d6d4c12b01" prefix=" " category="inline-code"></block> 識別提供此快照的Volume SnapshotContent物件。。<block ref="a701d928aada0f89c8ad0abc16ccdfcc" prefix=" " category="inline-code"></block> 參數表示快照可用於建立新的 PVC 。</block>
  <block id="a7fab4013a8993c3310ee07c7e101fc1" category="section-title">從磁碟區快照建立 PVC</block>
  <block id="698ebb07855a850e7bcbd189f9322e21" category="paragraph">您可以使用<block ref="d9d448f70687a1aa1f12b2f5ddaa4977" prefix=" " category="inline-code"></block> 使用名為的 Volume Snapshot 建立 PVC<block ref="38741d2dca753415660b08a54f8ad3a9" prefix=" " category="inline-code"></block> 做為資料來源。建立好永久虛擬基礎架構之後、就能將它附加到Pod上、就像使用任何其他永久虛擬基礎架構一樣使用。</block>
  <block id="8d9f716dc04d23bb9af0a64fef3bbbd9" category="paragraph">以下範例使用建立 PVC<block ref="2599ab7993e15386327b6345bc1cc4e1" prefix=" " category="inline-code"></block> 做為資料來源。</block>
  <block id="c2d480d58505386b1609d69c842aaf44" category="section-title">匯入 Volume 快照</block>
  <block id="868f2cc6f424bbd531c3ac4f053a8125" category="inline-link-macro">Kubernetes 預先配置的快照程序</block>
  <block id="f6e6b6f8bbabf2b4d61efaa16f96f7c7" category="list-text">Trident 退貨<block ref="0253f5e864e2646df8eab03ca4f066ee" prefix=" " category="inline-code"></block>。</block>
  <block id="2fae3f8997b56adf73a63fcf9e10a75d" category="list-text">* 任何使用者： * 建立<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block> 以參考新的<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block>、其中<block ref="be455c19a1930c91806853db05c277d9" prefix=" " category="inline-code"></block> （或<block ref="43cbd4bd62b601d2f5e0b618220b0f44" prefix=" " category="inline-code"></block>）名稱為<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block> 名稱。</block>
  <block id="35d57da577b5f55299f7644e8b2de091" category="section-title">刪除含有相關快照的 PV</block>
  <block id="b1bc7c11251b98a19ba1fc0ad08275ed" category="section-title">部署 Volume Snapshot 控制器</block>
  <block id="66cbadc48d2dbe3accb93937a8d42d1e" category="paragraph">必須使用兩種組態選項。以下是後端定義範例：</block>
  <block id="a03c5f2c1a3d118d44bc3e92d52663bb" category="paragraph">Trident也提供<block ref="77167d63af133b47bca3bbacd580fa44" prefix=" " category="inline-code"></block> 和<block ref="58c1c86186ef8de4f6e12d8f3aed8b64" prefix=" " category="inline-code"></block> 建立複本的附註。您可以使用這些註釋來複製 PVC 、而無需使用 CSI 實作。</block>
  <block id="5f117d85f5b23527c781bb26a4b15109" category="paragraph">。<block ref="75e4a0ceb294a9d74374c938e4e8ddc8" prefix=" " category="inline-code"></block> 目錄包含用於Trident的PVc定義範例。請參閱 <block ref="62155edb2842dfbdb69802620baa3865" category="inline-xref-macro-rx"></block> 以取得與 Trident Volume 相關的參數和設定的完整說明。</block>
  <block id="a5fd2691a6a5df653970895b1c5045ed" category="inline-link-macro">升級 Helm 安裝</block>
  <block id="26ad893be275d6f4dd0e2992250c147f" category="inline-link-macro">Kubernetes CSI Sidecar Container</block>
  <block id="7457022455b6a26d17766b38200639d9" category="section-title">Trident 控制器 Pod</block>
  <block id="8268d8b8723783972c959e76371dd7df" category="paragraph">Trident 控制器 Pod 是執行 CSI 控制器外掛程式的單一 Pod 。</block>
  <block id="4d52310e56906c6b51b5691f5aca1a86" category="list-text">負責在 NetApp 儲存設備中佈建及管理磁碟區</block>
  <block id="64ebc3b44b9bf9706d440310d6edc2a9" category="list-text">由 Kubernetes 部署管理</block>
  <block id="77dde6100b9c974d6b8f13a2c5a5d91f" category="list-text">可在控制面或工作節點上執行、視安裝參數而定。</block>
  <block id="c8d85d76462b8224e3b823eec9636faa" category="image-title">Trident 控制器 Pod 圖表</block>
  <block id="bea45d305fedae15441ab438c3abf9a6" category="image-alt">執行 CSI 控制器外掛程式的 Trident 控制器 Pod 圖、並附有適用的 CSI 側邊。</block>
  <block id="7ac36fe121832c95b5cc692aac2d42e9" category="section-title">Trident 節點 Pod</block>
  <block id="cb5b3335d8639110c33aa74ae67f7ec2" category="paragraph">Trident Node Pod 是執行 CSI Node 外掛程式的特殊權限 Pod 。</block>
  <block id="23b09b316e4e6d2ab77e24ae85097f4f" category="list-text">負責裝載和卸載主機上執行的 Pod 儲存設備</block>
  <block id="5d6469c46b1f411571e059e13a5fe826" category="list-text">由 Kubernetes 示範集管理</block>
  <block id="723997cd24cc1452bfa6efd9349f4262" category="list-text">必須在將裝載 NetApp 儲存設備的任何節點上執行</block>
  <block id="ffc3cbdd80c8b7dee840511d7c7b2cce" category="image-title">Trident Node Pod 圖表</block>
  <block id="8f29ef239c0926132689374fc142a732" category="image-alt">使用適用的 CSI sidecar 執行 CSI Node 外掛程式的 Trident Node Pod 圖表。</block>
  <block id="58095fffdb6c13585af5e47e876f7afe" category="inline-link-macro">Kubernetes 概念與工具</block>
  <block id="1bc6462cd59612636c72620a6a67410b" category="admonition">如果這是您第一次使用 Kubernetes 、您應該熟悉 <block ref="41eecc10f74d492dbf2a2c207d5acb1b" category="inline-link-macro-rx"></block>。</block>
  <block id="aba4bc9d3bde7d18b07c23d5c7d0f495" category="paragraph">Kubernetes叢集中的所有工作節點都必須能夠掛載您已為Pod配置的磁碟區。</block>
  <block id="f3b066024fd8e2699d194d41d5e46a5d" category="paragraph-title"><block ref="05b2444faffd66d76e88602ea7dd353f" category="inline-image-macro-rx" type="image"></block> 建立後端</block>
  <block id="2865195658f1488af43d46690ad5826e" category="inline-link-macro">設定後端</block>
  <block id="079428cf070b5e0039780f2cb4a5a962" category="paragraph"><block ref="8be76aeedec602130bcedf5acbf56030" category="inline-link-macro-rx"></block> 適用於您的儲存系統</block>
  <block id="eda4708b025e26e5f9759856f4f88876" category="paragraph-title"><block ref="beadfa85a2fdca06b91edc1131c603e6" category="inline-image-macro-rx" type="image"></block> 建立 Kubernetes StorageClass</block>
  <block id="abf99adee0d47955ab8c148a0937ce6e" category="paragraph"><block ref="abf99adee0d47955ab8c148a0937ce6e" category="inline-link-macro-rx"></block></block>
  <block id="e5d9de39f7ca1ba2637e5640af3ae8aa" category="inline-image-macro">五</block>
  <block id="b625988ee18e5f1370f9b328cfa197b7" category="paragraph-title"><block ref="99e8b2f00e172bfcff96afdce69907bc" category="inline-image-macro-rx" type="image"></block> 配置 Volume</block>
  <block id="185cde3c1e3ef64c59eaee8662d4048a" category="paragraph">_PersistentVolumer_ （ PV ）是叢集管理員在 Kubernetes 叢集上配置的實體儲存資源。_PersistentVolume Claim （ PVC ）是存取叢集上 PersistentVolume 的要求。</block>
  <block id="7646000ea978570e919e657f5ec9aa57" category="paragraph"><block ref="7646000ea978570e919e657f5ec9aa57" category="inline-link-macro-rx"></block></block>
  <block id="abefc87b0c4c459aa6fdb12d98caf984" category="paragraph">您現在可以新增其他後端、管理儲存類別、管理後端、以及執行 Volume 作業。</block>
  <block id="ca3c25915a30bef4ec583f6082477acf" category="paragraph">如果您是從使用預設值的組態修改組態<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block> 存取群組也會使用其他群組、包括的ID<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block> 清單中的存取群組。</block>
  <block id="b2edeceecc054572188ee3b08cd58c64" category="list-text">放置二進位檔案並建立組態檔案之後、請使用所需的組態檔案啟動 Trident 精靈。</block>
  <block id="b4f83b03956523a39e8bbbd0895f0f29" category="inline-link-macro">Cloud Insights</block>
  <block id="63bfc0691d397470e5b0b05f2a9bcbe4" category="inline-link-macro">問題 #740</block>
  <block id="c8af8b49eb3be9ce411280db66de8a12" category="list-text">修正 Trident 升級、以忽略卡在終止狀態（<block ref="6f993c83118cc4a1dd5351c8501e26c9" category="inline-link-macro-rx"></block>）。</block>
  <block id="cf182305f6f941fa317842399de1ca4a" category="inline-link-macro">問題 #795</block>
  <block id="4f2f189f428da83c5c5d7e21123fb37a" category="list-text">新增公差至「暫態 - 三叉 - 版本 - pod 」定義（<block ref="cc0c8d3c31e9e289114ade0ef394e90b" category="inline-link-macro-rx"></block>）。</block>
  <block id="d5d58a85f5f4a2ac889804742dd7cbb0" category="inline-link-macro">問題 #816</block>
  <block id="057a4c7c1e2ca8cd3deafe12ee9f2083" category="list-text">已修正儲存驅動程式碼（<block ref="9862a2577d865ba18fdd2c972f46545b" category="inline-link-macro-rx"></block>）。</block>
  <block id="97327b29ec21422eaecf8ba479782331" category="list-text">使用 ONTAP 驅動程式搭配 use-rest = true 時、可調整固定配額大小。</block>
  <block id="4e6566ec95776d26fcd04a8b88c3e2bc" category="list-text">在 ONTAP SAN 經濟環境中建立固定 LUN 複製。</block>
  <block id="dcfc8521cd4d3b29941e756366e00988" category="list-text">從還原發佈資訊欄位<block ref="380d41b2be72ecdeb109d9d8bf377a97" prefix=" " category="inline-code"></block> 至<block ref="cad41ea6c72f7b62b784d199bdd6ec73" prefix=" " category="inline-code"></block>；新增邏輯以填入及恢復（在某些情況下）<block ref="cad41ea6c72f7b62b784d199bdd6ec73" prefix=" " category="inline-code"></block> 欄位。</block>
  <block id="4f2d668b01cf06eca683c287dd7e5082" category="list-text">新增匯入預先配置快照的支援。</block>
  <block id="c47a181e80e553128675166326adecf7" category="inline-link-macro">問題 #817</block>
  <block id="5f595b574bc00c971991f9f665431b60" category="list-text">最小化部署和取消 Linux 權限設定（<block ref="aef28cf398bf45d3657483afbc3d3240" category="inline-link-macro-rx"></block>）。</block>
  <block id="62dcabbe3f6dc07f213482f5acada256" category="list-text">不再報告「線上」磁碟區和快照的狀態欄位。</block>
  <block id="4ff2bb4ecc0b6d51be0477f9d63d5273" category="inline-link-macro">問題 #801</block>
  <block id="9fde208cd399f14480a57fc99b20d291" category="inline-link-macro">#543</block>
  <block id="0696447eb82cdf62dcb8b6c916f35746" category="list-text">如果 ONTAP 後端離線（<block ref="961e04dd6eabff35abb325a6607994ca" category="inline-link-macro-rx"></block>、 <block ref="fc57c79b0b6691b508ed06011d9f5581" category="inline-link-macro-rx"></block>）。</block>
  <block id="277ca88d500a9627118781ff85088e70" category="list-text">LUN 序號一律會在 ControllerVolume Publish 工作流程中擷取及發佈。</block>
  <block id="810ba7b767989fc4c733ae7e9e3460cd" category="list-text">新增其他邏輯來驗證 iSCSI 多重路徑裝置序號和大小。</block>
  <block id="76ba5d25ded4cc29f1dbfeb16ad652f4" category="list-text">iSCSI 磁碟區的額外驗證、確保未分段正確的多重路徑裝置。</block>
  <block id="3f46c22d346dcb4ef51b664a9e105030" category="section-title">實驗性增強</block>
  <block id="866a2a7036f4701ef7fe25f161516e81" category="paragraph">新增 ONTAP SAN 驅動程式的 NVMe over TCP 技術預覽支援。</block>
  <block id="8e2ae59abc43c08fd49c55abd4da0925" category="paragraph">許多組織和格式化的改善都已完成。</block>
  <block id="fbfae4e9fcac672dd7f5304651cd7713" category="list-text">移除對 v1beta1 快照的支援。</block>
  <block id="662d0c4b0dab9a3aa7e86162000ad383" category="list-text">移除對 CSI 前磁碟區和儲存類別的支援。</block>
  <block id="8c20e8f4703bb12917ce6ae87f5c65a1" category="list-text">已將支援的 Kubernetes 最小值更新為 1.22 。</block>
  <block id="30e50aa1d9f8718f34cb0ecbef4ec9ea" category="section-title">23.04 年的變更</block>
  <block id="2ae7281d275fb0db889e8ad073e94629" category="paragraph">您可以在後端定義中指定CHAP啟動器和目標使用者名稱和密碼、並在SVM上啟用Trident啟用CHAP。使用<block ref="099cb468880f266cba40b49391fa46bc" prefix=" " category="inline-code"></block> 後端組態中的參數、Trident會驗證iSCSI連線ONTAP 、以CHAP作為後端。</block>
  <block id="8f971d8f40dd91f1f3041a0d7faf5f85" category="paragraph">您應該確保每個後端都有一個匯出原則、只允許存取Kubernetes叢集中的節點。Trident 可以自動建立及管理匯出原則。如此一來、Trident就能限制對Kubernetes叢集中節點所配置之磁碟區的存取、並簡化節點的新增/刪除作業。</block>
  <block id="52009bb7ee17227f566cd26a02caee56" category="inline-link-macro"><block ref="52009bb7ee17227f566cd26a02caee56" category="inline-link-rx"></block></block>
  <block id="a1a9afcf552a769c282769271829889a" category="paragraph"><block ref="a1a9afcf552a769c282769271829889a" category="inline-link-macro-rx"></block></block>
  <block id="f99aa604031e5049799e73b5c3748a98" category="inline-link-macro"><block ref="f99aa604031e5049799e73b5c3748a98" category="inline-link-rx"></block></block>
  <block id="5d545fe5152641e2ebe654e336e520e5" category="paragraph"><block ref="5d545fe5152641e2ebe654e336e520e5" category="inline-link-macro-rx"></block></block>
  <block id="88e5eabd3917048b6927c42496b98f86" category="inline-link-macro"><block ref="88e5eabd3917048b6927c42496b98f86" category="inline-link-rx"></block></block>
  <block id="dd38f906b37d412de7d1c1dcf4cbf31c" category="paragraph"><block ref="dd38f906b37d412de7d1c1dcf4cbf31c" category="inline-link-macro-rx"></block></block>
  <block id="8acb58cbd50ef1b468a020ee0bd351d3" category="inline-link-macro"><block ref="8acb58cbd50ef1b468a020ee0bd351d3" category="inline-link-rx"></block></block>
  <block id="2352c4e1f4d0024ade0869e00e6243f4" category="paragraph"><block ref="2352c4e1f4d0024ade0869e00e6243f4" category="inline-link-macro-rx"></block></block>
  <block id="7b0d9f7412b27b7678fe3c1e9ecd655d" category="example-title">&lt;strong&gt; 問責表 &lt;/strong&gt;</block>
  <block id="33ab2c3f94452baf7f17dab03982edfb" category="paragraph">之後<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> 更新後、營運者會處理更新並修補現有安裝。這可能會觸發建立新的 Pod 、以據此修改安裝。</block>
  <block id="ac0482b416d6b2d907db760f79e018a7" category="example-title">&lt;strong&gt; 的重新安裝過程 &lt;/strong&gt;</block>
  <block id="6429305365094c29848a93a6d17a7f53" category="list-text">https://github.com/NetApp/trident/tree/master/trident-installer/sample-input[sample INPUT ^] 目錄包含 https://github.com/NetApp/trident/blob/master/trident-installer/sample-input/storage-class-samples/storage-class-basic.yaml.templ 等範例<block ref="9abb8c7777ddb413820ee07d5d93aa4a" prefix="[" category="inline-code"></block>^] 和連結： https://github.com/NetApp/trident/blob/master/trident-installer/sample-input/storage-class-samples/storage-class-bronze-default.yaml<block ref="69ae2d9a6d831af7488e53fec053b77e" prefix="[" category="inline-code"></block>^]。</block>
  <block id="2251733916a92fc0c61d943165128928" category="inline-link-macro">舊版</block>
  <block id="7bd3bf704987c7c25848acd94f0e499d" category="list-text">使用<block ref="8dd3e3fab389d3d56b4dbea697d52e91" prefix=" " category="inline-code"></block> 檢查 Pod 。</block>
  <block id="672218727121432fb7209f42c6a00514" category="list-text"><block ref="672218727121432fb7209f42c6a00514" category="inline-link-macro-rx"></block></block>
  <block id="a81c3a8630da0b8548245caae368a3c2" category="inline-link-macro">瞭解營運商升級工作流程</block>
  <block id="14d76a1fc05dcace5308e48b3d9bad49" category="admonition">我們建議您檢閱 <block ref="4185c20447fb5f0bb4f33698bfd20d27" category="inline-link-macro-rx"></block> 與操作員一起升級之前。</block>
  <block id="a18aa1b83c1605570c9c2911c5180a7b" category="inline-link-macro">升級&lt;block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category='inline-code'/&gt; 功能</block>
  <block id="3b2fa532fe7cebc94d245316f8af8ab4" category="list-text"><block ref="fd3f4a100d968c915adb11c8797ef5d2" category="inline-link-macro-rx"></block></block>
  <block id="3d40f2a5a694e68fd88105fc4f5ee0d4" category="section-title">Trident 營運商升級處理</block>
  <block id="74e51c48d68796e06830c062f5c955c1" category="inline-link-macro">使用 Trident 運算子的優點</block>
  <block id="1a1508da73374db3dd227799f48fdf63" category="list-text">刪除並重新建立 Trident Controller 部署和節點示範集。</block>
  <block id="88b9e59609789e4bf00d72c8be9dd376" category="list-text">以新版本更換 Trident 控制器 Pod 和 Trident 節點 Pod 。</block>
  <block id="6d3156de6583a452ead75c70c186fcb8" category="list-text">如果節點未更新、則不會阻止其餘節點更新。</block>
  <block id="e232b75d1eb891caededece68ccba4bd" category="list-text">只有執行中 Trident Node Pod 的節點才能裝載磁碟區。</block>
  <block id="672bc0defc3e808ff4066a5bb35984ff" category="section-title">營運商升級工作流程</block>
  <block id="09fca30aacc5af8d0afe600848776412" category="paragraph">當您使用 Trident 運算子啟動升級時：</block>
  <block id="de1c3bc7b6551ded8e26b3c59f25fd6a" category="list-text">* Trident 運算子 * ：</block>
  <block id="95c09f4a69ddcda8ea23efaa0892e31f" category="list-text">更新所有 Kubernetes 物件、包括 CRD 、 RBAC 和 Trident SVC 。</block>
  <block id="fa5496466c33ad47156dabe9b4b7a83d" category="list-text">刪除版本 _n_ 的 Trident 控制器部署。</block>
  <block id="de4c5e6acc990d98e3ed3412db367a33" category="list-text">為版本 _n+1_ 建立 Trident Controller 部署。</block>
  <block id="55a86ba64e45e0262aa7012299b6e1a5" category="list-text">* Kubernetes* 為 _n+1 建立 Trident 控制器 Pod 。</block>
  <block id="9fcab903d35527e73aa8c9b8d55e4f02" category="list-text">刪除 _n_ 的 Trident 節點示範集。操作人員不會等待節點 Pod 終止。</block>
  <block id="a532235f4c82e61844620f45083fb82c" category="list-text">為 _n+1_ 建立 Trident 節點 Demont 。</block>
  <block id="5075af00f3f40cf13822f5863cc71c39" category="list-text">* Kubernetes* 會在未執行 Trident Node Pod 的節點上建立 Trident Node Pod 。如此可確保節點上的任何版本、都不會有超過一個 Trident Node Pod 。</block>
  <block id="298619534d23da6e9389fd113bb13495" category="section-title">確定原始安裝方法</block>
  <block id="426346b94737adca6c2d979d911464ef" category="section-title">解除安裝 Trident 運算子安裝</block>
  <block id="253ead25988bfe2dee06d2227693e39d" category="paragraph">您可以手動或使用 Helm 解除安裝 Trident 運算子安裝。</block>
  <block id="2985edaba812b8b31d08cc8513fee0a3" category="section-title">解除安裝手動安裝</block>
  <block id="55f6e2744208ccefe34f3e05ced2c988" category="section-title">解除安裝 Helm 安裝</block>
  <block id="99dec4df69ba043a5eb3118e1e0b364e" category="section-title">解除安裝<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> 安裝</block>
  <block id="3ef75911ec16a9d0ba70cfd4e68dcb71" category="section-title">升級手動安裝</block>
  <block id="b0e74afe1fdeb605b5c47b501c43b71b" category="inline-link-macro">您已安裝的版本</block>
  <block id="eb7a4fa3d9aff7ec5b23abb8b82d516b" category="paragraph">Trident 提供一個套件檔案、可讓您用來安裝運算子、並為 Kubernetes 版本建立相關的物件。</block>
  <block id="613909529798c8a2543da8e954e5d742" category="section-title">從升級<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> 安裝至 Trident 操作員</block>
  <block id="9142b40107d9c5a0b86ef0ce8c25a88b" category="paragraph">您可以從升級至最新版的Trident運算子<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> 安裝：現有的後端和 PVC 將會自動提供使用。</block>
  <block id="8327052a054aaa112ecf4f19369899c9" category="inline-link-macro">NetApp 軟體版本支援定義</block>
  <block id="34678ee868eeabce720fc4a0fd60c17a" category="list-text">完全支援</block>
  <block id="d397c85f7e5c9820b73839b4255bab4e" category="list-text">有限支援</block>
  <block id="57b81b24dfc6e0b0f8ce342d0f7250d3" category="list-text">自我支援</block>
  <block id="34b6cd75171affba6957e308dcbd92be" category="cell">版本</block>
  <block id="217af7d1776d22530d98be04d104fd49" category="inline-link-macro">23.07</block>
  <block id="a257f7f4b2f6e07845ce567df142ad00" category="cell">2026 年 7 月</block>
  <block id="1a3a2b5e6c52142797bb5c00594e2a3c" category="inline-link-macro">23.04</block>
  <block id="4f00a05b361ef580687832a6a48984db" category="paragraph"><block ref="4f00a05b361ef580687832a6a48984db" category="inline-link-macro-rx"></block></block>
  <block id="fc7d05f9009e90b92a15aad926bca249" category="cell">2026 年 4 月</block>
  <block id="8dfda84fc7f59655e20a770603bf9231" category="inline-link-macro">23.01</block>
  <block id="e0ed61e44672f0b6193055dd0719d240" category="paragraph"><block ref="e0ed61e44672f0b6193055dd0719d240" category="inline-link-macro-rx"></block></block>
  <block id="7022ed6df71cc12fbd0576cef4df23fd" category="cell">2026 年 1 月</block>
  <block id="cfab1ba8c67c7c838db98d666f02a132" category="cell">--</block>
  <block id="1cf7168782187634fbc408c66b895dbc" category="section-title">社群支援</block>
  <block id="965b11d07d6acceebc9efec23e5e74a9" category="section-title">NetApp 技術支援</block>
  <block id="8f4c1b75985ff2903107b7115115ea58" category="list-text"><block ref="8f4c1b75985ff2903107b7115115ea58" category="inline-link-macro-rx"></block></block>
  <block id="0adc03eac86772ad2c75c8f140be417e" category="sidebar">知識與支援</block>
  <block id="fabfc25ef8996fd90836e58a4c0b26b6" category="sidebar">取得協助</block>
  <block id="5248a0897439d95866d14416e307c927" category="sidebar">設定及管理後端</block>
  <block id="af5d3eba040f5bcf3d3f037b574766c8" category="sidebar">管理後端</block>
  <block id="bcca457a84376733a80b2dfad749e939" category="sidebar">使用 kubectl 管理後端</block>
  <block id="e9e5f94eb04c1889f891ad75fd929b4b" category="sidebar">使用 tridentctl 管理後端</block>
  <block id="95408f23568d6e604d1f49a1bf3ff238" category="sidebar">建立及管理儲存類別</block>
  <block id="76114b40ddbaf2bf18e9aee694563b40" category="sidebar">資源配置與管理磁碟區</block>
  <block id="62486fa65fc31c383ace8989549632ad" category="sidebar">使用快照</block>
  <block id="475fb21c20bb54ea8ac6cb1756aba565" category="inline-link-macro">KB ：無法在替代後端建立 Trident PVC Snapshot 的 PVC</block>
  <block id="18051638f30f342b517379b11f0442f9" category="admonition">將在來源 Volume 所在的同一個後端建立 PVC 。請參閱 <block ref="0d4d7e7a69b413699039bc9b916a37d5" category="inline-link-macro-rx"></block>。</block>
  <block id="7ba8d326bd3ffe1308f04d8ab5bf3d1a" category="paragraph">建立包含後端存取認證的秘密。這是每個儲存服務/平台所獨有的功能。範例如下：</block>
  <block id="afad9414d1bc420e58e3a72442b8f495" category="list-text"><block ref="685d1f2146dd079015e81918414e8971" prefix="" category="inline-code"></block>：<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR與後端相關聯、且後端包含<block ref="217026e5af08bfde5815657113dbfc82" prefix=" " category="inline-code"></block> 設定為<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR 的 uid 。</block>
  <block id="5008913e7135c645ebbfbd67112d3184" category="list-text"><block ref="ffbb410a55bb31f801dea6387e2745ac" prefix="" category="inline-code"></block>：<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR 的<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block> 已設定為刪除。當<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> 系統會刪除CR、並轉換為「刪除」狀態。</block>
  <block id="88512325ffcc13fbee60f3ca0669f67e" category="list-text">沒有的既有後端<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> 因為它們是使用建立的<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。</block>
  <block id="4cfeb5a9099082a66a720c90a50036af" category="paragraph">從輸出中可以看出這一點<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> 已成功建立並繫結至後端 [ 觀察後端的 UUID ] 。</block>
  <block id="54ad97548183fc7d802b6db88573701f" category="paragraph">ONTAP 是 NetApp 多重傳輸協定、統一化的儲存作業系統、可為任何應用程式提供進階的資料管理功能。支援所有Flash、混合式或全硬碟組態的系統、可提供多種不同的部署模式、包括工程設計硬體（英文版）、白箱（英文版）和僅雲端（英文版）ONTAP FAS AFF ONTAP Select Cloud Volumes ONTAP 。</block>
  <block id="f8869dc9dbb397ea76e820ae99f70217" category="paragraph"><block ref="6a2736fcbb5755dd03d114a5153506eb" category="inline-link-rx"></block> 是一項完全託管的 AWS 服務、可讓您啟動及執行 NetApp ONTAP 儲存作業系統所支援的檔案系統。適用於 ONTAP 的 FSX 可讓您運用熟悉的 NetApp 功能、效能和管理功能、同時充分利用在 AWS 上儲存資料的簡易性、敏捷度、安全性和擴充性。適用於 ONTAP 的 FSX 支援許多 ONTAP 檔案系統功能和管理 API 。</block>
  <block id="5d4b9bc562ebe88c39d0e521b90fc54b" category="list-text">適用於<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> 驅動程式、每個持續Volume（PV）都會對應FlexGroup 至一個功能區。因此、磁碟區快照會建立為NetApp FlexGroup 的「資訊快照」。相較於競爭的快照技術、 NetApp Snapshot 快照技術可提供更高的穩定性、擴充性、可恢復性和效能。這些Snapshot複本無論在建立所需的時間、還是在儲存空間中、都能發揮極高的效率。</block>
  <block id="14b63ea5b97502ca2d75e85bee96b8b4" category="paragraph">當複製Volume時、ONTAP 這會導致停止實體複本、立即將其從父複本分割開來。預設值為<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>。部分複製磁碟區的使用案例、最好是在建立時立即將複本從父複本分割出來、因為不太可能有提高儲存效率的機會。例如、複製空資料庫可節省大量時間、但儲存成本卻很少、因此最好立即分割複本。</block>
  <block id="6d70e81198809f9c160f10b05a430ab1" category="paragraph">設定為<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block> 將會製作<block ref="a15da8cecb1f1192c4d913b8ba676121" prefix=" " category="inline-code"></block> 存取磁碟區的用戶端可看到的目錄。預設值為<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>、表示的可見度<block ref="a15da8cecb1f1192c4d913b8ba676121" prefix=" " category="inline-code"></block> 目錄預設為停用。有些影像、例如正式的 MySQL 影像、無法如預期般運作<block ref="a15da8cecb1f1192c4d913b8ba676121" prefix=" " category="inline-code"></block> 目錄可見。</block>
  <block id="284899fef89b0b2e358229a40cbaa53e" category="cell">設定為<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block> 將關閉 LUN 的空間分配功能。預設值為<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>、表示ONTAP 當磁碟區空間不足、且磁碟區中的LUN無法接受寫入作業時、此功能會通知主機。此選項也可讓ONTAP 支援功能在主機刪除資料時自動回收空間。</block>
  <block id="40c7465c2468fd6e890691f6cb612731" category="paragraph">升級版Trident安裝的首碼。如果您使用 1.3.2 之前的 Trident 版本、並使用現有的 Volume 執行升級、則必須設定此值、才能存取透過 Volume 名稱方法對應的舊 Volume 。</block>
  <block id="7f86daacf34c67c042470fa9d926ba49" category="paragraph">標準記錄層級應可讓您診斷大多數問題。如果您覺得還不夠、可以啟用偵錯記錄。</block>
  <block id="6bdfdbfc466bb6d93222dbf7b3a374fe" category="list-text">如果您在主機上執行二進位檔本身、則主機的記錄檔中會有可用的記錄檔<block ref="849fc2421f236e9c9b49a9d3fed2c404" prefix=" " category="inline-code"></block> 目錄。若要啟用偵錯記錄、請指定<block ref="9b945915b0cddbee22047fd529d642f6" prefix=" " category="inline-code"></block> 當您執行外掛程式時。</block>
  <block id="a988578d4c176cf950a2211099db7d92" category="paragraph">使用更新後端的密碼<block ref="00a81aa9b1d406861879017de885e0fb" prefix=" " category="inline-code"></block>。更換<block ref="3d9fd17a5232cc24eeeaec2b07af5417" prefix=" " category="inline-code"></block> 在範例中、使用您的後端名稱、和<block ref="27ab7e8dbd45daf638f3144d4891ef3b" prefix=" " category="inline-code"></block> 並將路徑移至正確位置<block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block> 檔案：</block>
  <block id="8cb93d7a514e5569b46cba45dedc7daf" category="paragraph">如果Trident Pod遭到破壞、資料將不會遺失。Trident 中繼資料儲存在 CRD 物件中。所有由Trident提供的PV均可正常運作。</block>
  <block id="7844c41fb05be5427418dbab3d0bdc49" category="paragraph">Amazon FSX for NetApp ONTAP 可讓您運用熟悉的 NetApp 功能、效能和管理功能、同時充分利用在 AWS 上儲存資料的簡易性、敏捷度、安全性和擴充性。適用於 ONTAP 的 FSX 支援許多 ONTAP 檔案系統功能和管理 API 。Cloud Volume ONTAP 的相容驅動程式就是<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>、<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>、<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>、<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> 和<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>。</block>
  <block id="7439c9a99660382e94c16c5272b9bfb0" category="paragraph">持續磁碟區除了兩個例外、都是Kubernetes中不可變的物件。建立後、即可修改回收原則和大小。不過、這並不會妨礙磁碟區的某些層面在 Kubernetes 之外進行修改。這可能是理想的做法、以便針對特定應用程式自訂磁碟區、確保容量不會意外耗用、或是單純地將磁碟區移至不同的儲存控制器。</block>
  <block id="3e01fdf7f18117c92347492814d988ee" category="admonition">從Red Hat OpenShift版本3.9起、官方文件建議您不要使用NFS來執行記錄服務、因為您擔心資料毀損。這是以Red Hat測試其產品為基礎。ONTAP NFS 伺服器沒有這些問題、而且可以輕鬆地備份記錄部署。最後、記錄服務的通訊協定選擇取決於您、只要知道兩者在使用NetApp平台時都能順利運作、而且如果您偏好NFS、就沒有理由不使用NFS。</block>
  <block id="643f15e2581a728cb2a6d66953a357d7" category="paragraph">根據部署方法設定 Ansible 變數非常重要、如此才能確保基礎服務使用正確的儲存設備。讓我們來看看每種部署方法的選項。</block>
  <block id="b8e4ea2ed30f2f3a9f05ef8e1cc243db" category="paragraph">如同記錄服務和OpenShift整體、Ansible可用於部署度量服務。此外、與記錄服務一樣、度量服務也可以在叢集初始設定期間或使用元件安裝方法在其運作後進行部署。下表包含在設定度量服務的持續儲存時、重要的變數。</block>
  <block id="8198f2a0f41303e214bcb5ab7d9e9ef4" category="section-title">ONTAP NAS 驅動程式詳細資料</block>
  <block id="2b5fc47d5a68b6070472f3a239fc77f3" category="paragraph">" 、<block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix=" " category="inline-code"></block>、<block ref="79e0f325804dafbdaef73b3b17c0fd8d" prefix=" " category="inline-code"></block></block>
  <block id="f353c2f2ba62c120d68a9fde333ef59f" category="summary">瞭解 Azure NetApp Files 的 NFS 和 SMB 後端組態選項、並檢閱組態範例。</block>
  <block id="b9acebca540d60eef74f6ffc3e4aa2e7" category="paragraph">Azure NetApp Files 後端提供這些組態選項。</block>
  <block id="639aa44ce5a6709a5719b427993c9657" category="paragraph">當您剛開始使用 Azure NetApp Files 並試用時、這項組態是理想的選擇、但實際上您會想要為您所配置的磁碟區提供額外的範圍。</block>
  <block id="a493eb50acc1b5a276034b914c4ce10d" category="section-title">ONTAP SAN 驅動程式詳細資料</block>
  <block id="fcd147679464b9eda6367f4e90e16ff8" category="paragraph">RWO 、 RWOP</block>
  <block id="94188b3f68e7baf5ef4a1f721857e77c" category="paragraph">檔案系統磁碟區模式中無法使用 Rox 和 rwx 。</block>
  <block id="2f73efb41160e66d2e4f5b500c984de8" category="section-title">Azure NetApp Files 驅動程式詳細資料</block>
  <block id="7e7d2470a40e817070cd42bd81713c7b" category="paragraph"><block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix="" category="inline-code"></block>、<block ref="79e0f325804dafbdaef73b3b17c0fd8d" prefix=" " category="inline-code"></block></block>
  <block id="4e7d6286f837d54a4e4154d4b21b0659" category="section-title">元素驅動程式詳細資料</block>
  <block id="f5aa1832e32f2b8d7a7f22d8e36a4617" category="inline-link-macro">NAS 驅動程式</block>
  <block id="de9e7e8f2c463ef15bebdbf8d2d1aa6d" category="inline-link-macro">SAN 驅動程式</block>
  <block id="9aa82da0cffe247b84587c1cc8e32746" category="cell">"預設"</block>
  <block id="dfb6135042da6e8fbf367d9cf13431ef" category="paragraph">Volume大小的選擇性限制。預設： "" （未強制執行）</block>
  <block id="4846d107d8ddb5051591d14dcbddba8c" category="admonition">除非指定、否則 Volume 驅動程式的預設名稱為「 NetApp 」。</block>
  <block id="5ab207578468b7bbc201024492654253" category="list-text">新增對 Azure NetApp Files 驅動程式網路功能的支援。（<block ref="e0e89f8bd936a5eb3adce74cac88eab0" category="inline-link-macro-rx"></block>）</block>
  <block id="302e5f91d375f03821f8fd6340563539" category="list-text">修正 Azure NetApp Files 驅動程式無法複製具有多個匯出規則的磁碟區的問題。</block>
  <block id="1d61f4e1411b6940bc918fb56346f64d" category="list-text">固定式 Azure NetApp Files 驅動程式可允許重複的資源名稱、並將作業限制在單一位置。</block>
  <block id="409ee85d2342bf416b29a45a7b9c4e59" category="list-text">新增對 Azure NetApp Files Volume 的「 unixPermissions 」選項支援。（<block ref="b2ee1a79cce917ad1d60b3bec442914a" category="inline-link-macro-rx"></block>）</block>
  <block id="9f65455ce006fe56e7588e4e14f1edb8" category="paragraph">您可以設計虛擬集區來模擬服務類別。使用適用於Azure NetApp Files 支援功能的Cloud Volume Service for效益的虛擬資源池實作、讓我們來看看如何設定不同的服務類別。使用代表不同效能層級的多個標籤來設定 Azure NetApp Files 後端。設定<block ref="28277e44c5db61612accdf326d137e96" prefix=" " category="inline-code"></block> 並在每個標籤下新增其他必要的層面。現在請建立不同的Kubernetes儲存類別、以便對應至不同的虛擬資源池。使用<block ref="bed471c4a88e25ac9a7e4a7b980700a8" prefix=" " category="inline-code"></block> 欄位中、每個StorageClass會呼叫哪些虛擬資源池可用於裝載Volume。</block>
  <block id="42f3b65b98b18c792b7b5534e40d2646" category="section-title">適用於 ONTAP 驅動程式詳細資料的 FSX</block>
  <block id="629ac35dda697ad18f8fef7094213871" category="list-text">如果您想要降級至舊版的 Trident 、請先執行<block ref="ac8650577d1b744589a6a11b60ac38c7" prefix=" " category="inline-code"></block> 移除Trident的命令。下載所需的<block ref="f3d78353f8dac3e49bbefeb5f6a2383b" category="inline-link-rx"></block> 並使用安裝<block ref="430bf77bee6c59d385d4194f84c21b16" prefix=" " category="inline-code"></block> 命令。</block>
  <block id="4f5dbc74e3448e08fe0e7bfd62876fc8" category="open-title">Trident運算子</block>
  <block id="152090ff5e9a05ea7e1cf0c248449638" category="open-title">掌舵</block>
  <block id="fed6290ac938ca603cf5f4f680802954" category="open-title">&lt;code&gt;tridentctl&lt;/code&gt;</block>
  <block id="19611c32e434019e356af9e0da999936" category="cell">要使用的儲存虛擬機器

* MetroCluster 請省略。 * 請參閱 <block ref="41195e18a4a81a05f5c5a6be365a5602" category="inline-xref-macro-rx"></block>。</block>
  <block id="16d35233bf6aa04a2ff7b9ec19d64661" category="example-title">MetroCluster 範例</block>
  <block id="fd9313829353096dad83775c55ce66f8" category="paragraph">您可以設定後端、避免在切換和切換期間手動更新後端定義 <block ref="6ffda35fd03109cc0d7cf7a1f79d2c30" category="inline-link-macro-rx"></block>。</block>
  <block id="abc765e949697f25e96670a5cab132f3" category="paragraph">若要無縫切換和切換、請使用指定 SVM<block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix=" " category="inline-code"></block> 並省略<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block> 和<block ref="924ff83ff1e671bacfb07ff12b845703" prefix=" " category="inline-code"></block> 參數。例如：</block>
  <block id="d1cc287cede970a7472833938f39b940" category="list-text">需要ONTAP 更新參數（例如使用的SVM名稱）。</block>
  <block id="bb5c9e20ecc2d96bd9d91107161bf89b" category="list-text">您可以更新<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> 使用下列命令直接透過 Kubernetes 執行物件：</block>
  <block id="ccec41e7609b17a7fe58691b5cbf68ea" category="list-text">或者、您也可以變更現有的<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> 使用下列命令的 CR ：</block>
  <block id="d24ddd1da817847ede47979e6e68c60e" category="example-title">ONTAP NAS FlexGroup 範例</block>
  <block id="8788fe54575b03d9b62dbb1a38a7a277" category="example-title">SMB Volume 範例</block>
  <block id="1ce00ab507a065e4febc57b244e25d18" category="example-title">自動匯出原則範例</block>
  <block id="5ef13a507a243e20eb0469a9d7670527" category="example-title">IPv6 位址範例</block>
  <block id="ee8af8063e9ea3725931d232730b8a8e" category="example-title">Amazon FSX for ONTAP 使用 SMB Volume 範例</block>
  <block id="99c73e527698ab76b32674b7e9dd4708" category="inline-link-macro">滾動更新 _</block>
  <block id="06918a8f55f386d79e64a70ca217b501" category="paragraph">* Kubernetes ： * 修正刪除程式集的問題、以支援零停機升級（<block ref="6f993c83118cc4a1dd5351c8501e26c9" category="inline-link-macro-rx"></block>）。</block>
  <block id="ca6a658f1db1af30f178530c90cbe8fc" category="section-title">2007 年 23 月 23 日的變更</block>
  <block id="57154d2dcf591aaa3d4dcbfbba196075" category="inline-link-macro">支援的 ONTAP Volume 限制</block>
  <block id="7fe76f1189ac93d41118f7ba3e36e3ab" category="list-text">使用<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> 只有持續磁碟區使用量計數預期會高於 <block ref="e5997a58d747f862af8a862cd1b54e31" category="inline-link-macro-rx"></block>。</block>
  <block id="a6b18abf4de4d534121b0cca3b164d74" category="list-text">使用<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> 只有持續磁碟區使用量計數預期會高於 <block ref="e5997a58d747f862af8a862cd1b54e31" category="inline-link-macro-rx"></block> 和<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> 無法使用驅動程式。</block>
  <block id="44ce6c838becb17913e38bbe2b0096fe" category="list-text">在中指定後端快照的名稱<block ref="4ab6864fc58ecd8b598ee10dfe2ac311" prefix=" " category="inline-code"></block> 做為<block ref="d42b3f1355513faa92e8e6b438dffc73" prefix=" " category="inline-code"></block>。</block>
  <block id="e0668acdd6b1e131a130998184f4f7fc" category="admonition">。<block ref="8773ea16ee304585aa1da2afd8f25434" prefix=" " category="inline-code"></block> 由於 CR 命名限制、無法永遠符合後端快照名稱。</block>
  <block id="90a9b62f2d9107ff002b3ffcff75c334" category="paragraph">下列範例建立<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block> 參照後端快照的物件<block ref="82645407d5a235bd775551b0a8455cd1" prefix=" " category="inline-code"></block>。</block>
  <block id="b385a638aafc60dc851702d7207b1460" category="list-text">* 叢集管理： * 建立<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block> 參照的 CR<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block> 物件：這會要求存取權以使用<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block> 在指定的命名空間中。</block>
  <block id="4fd027fecd2883c25a41ecd68536b1d6" category="paragraph">下列範例建立<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block> CR 命名<block ref="117b36cc8905f43e1ffd580e8b17723b" prefix=" " category="inline-code"></block> 這是參考的<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block> 已命名<block ref="ae79a6ea6405531b451963557819c96a" prefix=" " category="inline-code"></block>。</block>
  <block id="92aa04a2cf75f40187ef422ef48baa9f" category="list-text">外部快照器會設定<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block> 至<block ref="bdc3aa73b1bbfc0b0212a8f6a8bb2077" prefix=" " category="inline-code"></block> 和<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block> 至<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>。</block>
  <block id="5581736d9cc57d1f1193e52f799c03b2" category="paragraph">下列範例建立一個 PVC 參照<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block> 已命名<block ref="117b36cc8905f43e1ffd580e8b17723b" prefix=" " category="inline-code"></block>。</block>
  <block id="a288b0971f8f6c63f5e6510bcebf421b" category="cell">驅動程式名稱 + "_" + dataLIF</block>
  <block id="280a6a6866847c57b1a98bbcdc929268" category="cell">"" （預設不會強制執行）</block>
  <block id="3eeb940d8060411516e1578a9fd70a15" category="cell">疑難排解時要使用的偵錯旗標。例如、 ｛ "api" ： false 、 "method" ： true}

除非您正在進行疑難排解並需要詳細的記錄傾印、否則請勿使用。</block>
  <block id="ebc576222020c2a2ae2fc769169f1d2a" category="cell">" 對 "</block>
  <block id="c41b872c22969c2098a0056121589349" category="cell">空間保留模式；「無」（精簡）或「 Volume 」（粗）</block>
  <block id="f6d62a8e69201d3806ac1ef24ec64c4d" category="cell">" 無 "</block>
  <block id="6b3e1a8dae111668b3e4e13c5949a7c0" category="cell">「 0 」如果<block ref="0a236e7685e50a59df980d0a30929d6c" prefix=" " category="inline-code"></block> 為「無」、否則為「」</block>
  <block id="7639141e9ab9cd89ef8bc0b16fd34e6a" category="cell">分層原則以使用「無」</block>
  <block id="e50e8adc0d4818a8ed496eb95b3aea51" category="cell">["0.0.0/0" 、 ":/0"]`</block>
  <block id="86780ad6247dfbcd90ca1455ee592852" category="cell">" Trident "</block>
  <block id="7e6a32bd8074b1aa2c8c0d2529140ae4" category="cell">疑難排解時要使用的偵錯旗標。例如、 ｛ "api" ： false 、 "method" ： true}

請勿使用<block ref="effa2d809c72dcb6cce15a1e0b040e63" prefix=" " category="inline-code"></block> 除非您正在疑難排解並需要詳細的記錄傾印。</block>
  <block id="89ffa293e05655bd6be9d422345be38a" category="cell">"200"</block>
  <block id="3eda001907760c018e29ddf4cb7aa3c8" category="cell">"777" 表示 NFS 磁碟區； SMB 磁碟區為空的（不適用）</block>
  <block id="7e8aabb1dc00b7d4aac6d0876f6507f4" category="cell">控制對的存取<block ref="a15da8cecb1f1192c4d913b8ba676121" prefix=" " category="inline-code"></block> 目錄</block>
  <block id="aea10b5a282698ad4477a7113234ae65" category="inline-link-macro">匯入 Volume 快照</block>
  <block id="6418f8ccde0bb975a1ad82cf1d5250c6" category="list-text">編輯<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> CR 並設定解除安裝旗標 ** ：</block>
  <block id="30abd17d4913fab8af9d1efd63c15f9c" category="paragraph">當<block ref="fe98497efedbe156ecc4b953aea77e07" prefix=" " category="inline-code"></block> 旗標設定為<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>、Trident運算子會卸載Trident、但不會移除TridentOrchestrator本身。如果您想要再次安裝Trident、請清理TridentOrchestrator並建立新的Trident。</block>
  <block id="f3f30d479f6e3b393d917a3b2f88c770" category="cell"><block ref="89801e9e98979062e84647433a8ed3e9" prefix="" category="inline-code"></block></block>
  <block id="fbbd7b4b14060c4fdb02f92c4c08e702" category="cell">設定為<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block> 可在Windows工作節點上安裝。</block>
  <block id="077e99fe42ced522b462656cffffe09c" category="cell"><block ref="d5276bb17ae062102e883a18454c2f1b" prefix="" category="inline-code"></block></block>
  <block id="42cf123e93ecc5c0297652edbc547fc0" category="cell"><block ref="2fac1659431903a30e063d49b3effb9d" prefix="" category="inline-code"></block></block>
  <block id="4a213b7c3b997ffb0794b25909381d16" category="cell">請勿將 AutoSupport 套裝組合傳送至 NetApp
自動</block>
  <block id="7f54ca385f028308d19e228ce0534a47" category="cell">用於傳送 AutoSupport 的 Proxy 位址 / 連接埠
遙測</block>
  <block id="cad060d2f14dbf08315c20014ed31daa" category="cell"><block ref="0b19d236934f609fe765b504a36b637e" prefix="" category="inline-code"></block></block>
  <block id="4f25f4cca5c1939f4a728d2678e719f7" category="cell">內部登錄的路徑、格式<block ref="d2ce1f53a5f0e84f4f1b5e28836eb05b" prefix=" " category="inline-code"></block></block>
  <block id="31aad37dce0c28e12908582a0d63736a" category="cell">主機上的kubelet目錄路徑</block>
  <block id="b6e0e2c4168573f0ed61c842470342ba" category="cell"><block ref="c13a52521693f799a16fd56a35c77a04" prefix="" category="inline-code"></block></block>
  <block id="f73bb4a0bc9913e7fc6db5f9e5f2afeb" category="cell">從內部登錄擷取映像的機密</block>
  <block id="d64d0e5bb5a552ae4986a713f41c8fc3" category="cell">用於 Pod 的其他節點選取器。	格式與相同<block ref="6ae8be3433bfc36ced79a1271e6ebf11" prefix=" " category="inline-code"></block>。</block>
  <block id="875ce721843c20d7f9aae240673ed68b" category="cell">覆寫 Pod 的 Kubernetes 公差。遵循與相同的格式<block ref="f1fa64fcf5077601cb803e995a51fa4f" prefix=" " category="inline-code"></block>。</block>
  <block id="00e8e1706119ce5300bdc9141ececc37" category="cell">用於 Pod 的其他節點選取器。格式與相同<block ref="6ae8be3433bfc36ced79a1271e6ebf11" prefix=" " category="inline-code"></block>。</block>
  <block id="4227c1b28cc9c04bf3552b7aae57fc3c" category="paragraph"><block ref="4227c1b28cc9c04bf3552b7aae57fc3c" category="inline-link-macro-rx"></block></block>
  <block id="d293f031e5664526b25f3a65012401b7" category="cell"><block ref="fdb7cb8f657426e7c409bfd6d1a36ce4" prefix="" category="inline-code"></block></block>
  <block id="0b9fb37ad5573b24cf369ec73caffe42" category="list-text">建立<block ref="67b2cc1cd5b1570014463995fb2ada61" prefix=" " category="inline-code"></block> 使用下列命令、其中包含 &lt;bundle.yaml&gt;<block ref="bd2cc8575fe69c7f775292759380c838" prefix=" " category="inline-code"></block> 或<block ref="5a02ebff4889c2de0379a0fb10bed282" prefix=" " category="inline-code"></block> 以 Kubernetes 版本為基礎。</block>
  <block id="3d886aa354247002acbb6642625843d1" category="list-text">使用以下命令編譯套件（其中的 &lt;bundle.yaml&gt; 是）<block ref="bd2cc8575fe69c7f775292759380c838" prefix=" " category="inline-code"></block> 或<block ref="5a02ebff4889c2de0379a0fb10bed282" prefix=" " category="inline-code"></block> 以 Kubernetes 版本為基礎。</block>
  <block id="fdb5bcd69c8617adc24a528d074b060b" category="list-text">確認主機上已安裝並設定通訊協定先決條件。</block>
  <block id="dc3c80fe7e62048ec7f179f78dd1d918" category="paragraph">使用作業系統的命令來安裝NFS工具。</block>
  <block id="b00fd28ef92c5c525d66d12aa0d5e4dd" category="section-title">NVMe 工具</block>
  <block id="cfd4e84c111973cbf00e30acfd3af3b1" category="paragraph">使用適用於您作業系統的命令來安裝 NVMe 工具。</block>
  <block id="c5c04ab13d0b9dcc3187f7e5cdfb7a00" category="list-text">NVMe 需要 RHEL 9 或更新版本。</block>
  <block id="f961ae7e5a407c3c3df6f5facf3c1ef3" category="list-text">如果 Kubernetes 節點的核心版本太舊、或 NVMe 套件無法用於您的核心版本、您可能必須使用 NVMe 套件將節點的核心版本更新為一個。</block>
  <block id="38aef0bc7cf230dfcf5476915774aa95" category="open-title">RHEL 9.</block>
  <block id="99d7b353753f3b80388b5ab7e69a4a28" category="paragraph">每FlexVol 個邊區最多qtree數、範圍必須為[50、300]、預設值為200。</block>
  <block id="3e00ac0f228180d0a5a3756df9a5bca3" category="paragraph">*適用於<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> 驅動程式、此選項可自訂每FlexVol 個版本的qtree數量上限*。</block>
  <block id="89149296a9e0c36d8eb5e9c82e71155b" category="cell"><block ref="5b08b7c4c720db1d75c8c76a920fd99a" prefix="" category="inline-code"></block></block>
  <block id="053b2e680c58724dc4bdd83223136c48" category="cell"><block ref="39eea648dab96b0ee6022dabb38bc420" prefix="" category="inline-code"></block> 如果空白</block>
  <block id="9dbc2be9eae595ee555b36e2d5464473" category="example-title">&lt;code&gt;ontap-nas&lt;/code&gt; 驅動程式的 NFS 範例</block>
  <block id="e5fdbcee018644d221f382b1d5b8f41a" category="example-title">&lt;code&gt;ontap-nas-flexgroup&lt;/code&gt; 驅動程式的 NFS 範例</block>
  <block id="80640d18e28e0ebe180f21ae5d3a563f" category="example-title">&lt;code&gt;ontap-nas-economy&lt;/code&gt; 驅動程式的 NFS 範例</block>
  <block id="cf156eb50f8332673b89dc95a2cbbd82" category="example-title">&lt;code&gt;ontap-san&lt;/code&gt; 驅動程式的 iSCSI 範例</block>
  <block id="d5a757f0fabce17fc0eb2e1d3d308b05" category="example-title">&lt;code&gt;ontap-san-economy&lt;/code&gt; 驅動程式的 NFS 範例</block>
  <block id="fc3afabf3465382a1844a56a3fd55417" category="example-title">&lt;code&gt;ontap-san&lt;/code&gt; 驅動程式的 NVMe / TCP 範例</block>
  <block id="c966bdf80a661ce3909786b6f622340b" category="section-title">使用運算子的 Trident 部署不成功</block>
  <block id="ccfca578972ee86c982797bc2898fe5b" category="section-title">使用不成功的 Trident 部署<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block></block>
  <block id="35f748582b65670a3f27a7f93c685560" category="section-title">在 Kubernetes 1.26 上使用 rwx 原始區塊命名空間時、 NVMe 節點非分段失敗</block>
  <block id="02c0c037ba3f051d21fbf3a2f370eb72" category="paragraph">如果您執行的是 Kubernetes 1.26 、則當使用含 rwx 原始區塊命名空間的 NVMe / TCP 時、節點解除暫存可能會失敗。下列案例提供故障的因應措施。或者、您也可以將 Kubernetes 升級至 1.27 。</block>
  <block id="14b443235c9f911289e8e2d0bad3eaf2" category="section-title">已刪除命名空間和 Pod</block>
  <block id="31accf88e60e15e200ac055e6344c912" category="paragraph">從個別節點上卸載持續磁碟區（對應於該命名空間）、然後將其刪除。</block>
  <block id="5d84bf099896e3a304a067d7c5f71db1" category="section-title">封鎖 dataLIFs</block>
  <block id="e80aabfb35c98e66a71baf6a3c90a7df" category="paragraph">開啟 dataLIFS 以還原完整功能。</block>
  <block id="5afe86ac983ac04ac6d9268beb2bc024" category="section-title">刪除命名空間對應</block>
  <block id="9b0dbff182f270b33423b281f92bddc2" category="paragraph">新增<block ref="a564a902c12941efa27c1d2ea4a19f8e" prefix=" " category="inline-code"></block> 返回子系統。</block>
  <block id="4771a9c521a7d39c2dcf6ee71d0ef032" category="section-title">NVMe / TCP 磁碟區</block>
  <block id="b15a013c4977a2a96afedafe316664b2" category="section-title">驗證安裝</block>
  <block id="d777ba5e4b1ff43d3668b14ef7200bad" category="paragraph">安裝後、請使用命令確認 Kubernetes 叢集中的每個節點都有唯一的 NQN ：</block>
  <block id="eea342529fcf22d8fbdaf58545a9c617" category="section-title">管理的身分識別</block>
  <block id="a57ed56fc7ee91a9263e1c2ae851ac11" category="inline-link-macro">託管身分識別</block>
  <block id="9586e9fc5ee74b6ceeab5ab5484c95b6" category="list-text">使用 aks 部署的 Kubernetes 叢集</block>
  <block id="4dca0f5a5f78322a0f3bfa9c6b8f54ad" category="list-text">在 aks Kubernetes 叢集上設定的託管身分識別</block>
  <block id="213e4b0f68f673550c1154cabddf4142" category="cell">Azure訂閱的訂閱ID

在 AKS 叢集上啟用受管理的身分識別時為選用項目。</block>
  <block id="938c7b48cad00c77e1900399388741e8" category="cell">要建立新磁碟區的Azure位置名稱

在 AKS 叢集上啟用受管理的身分識別時為選用項目。</block>
  <block id="91644df8bfaf55210374666164ee92c9" category="example-title">最小組態</block>
  <block id="943aa8ce869cfeaf7f72cc41df7f891c" category="paragraph">此後端組態已不再如此<block ref="8c443e170595ba0feac007ffb92cb49a" prefix=" " category="inline-code"></block>、<block ref="bc54592d6183695b841c6d1880ec0bf8" prefix=" " category="inline-code"></block>、<block ref="93c5bebdea9c94a0740fe6fd9bb250f0" prefix=" " category="inline-code"></block>和<block ref="2b53761249254ce6b502f521e5cc0683" prefix=" " category="inline-code"></block>，使用託管身分識別時為選用功能。</block>
  <block id="f961873909dcbbea92f3791e505cd3cf" category="example-title">具有容量集區篩選器的特定服務層級組態</block>
  <block id="119dd5a342e981b13bf0024d5c6a6933" category="example-title">進階組態</block>
  <block id="d61a62faa23948cd42b53cf6de97e445" category="example-title">虛擬集區組態</block>
  <block id="67c909cf936115be1012171c5c38b8cf" category="example-title">預設命名空間的基本組態</block>
  <block id="17903b7c199529a65f8f0b36aa084d2e" category="example-title">每個命名空間使用不同的機密</block>
  <block id="6cb4c0cee2d8e6992a3a10d346015761" category="example-title">每個磁碟區使用不同的機密</block>
  <block id="5c766f1444b8b25e9f55f0dc6400b77e" category="admonition"><block ref="1023eff0970e3a4277fcde214fad86ef" prefix="" category="inline-code"></block> 支援SMB磁碟區的集區篩選器。<block ref="d71f62a5b903ebd8681263d310db1d6d" prefix=" " category="inline-code"></block> 或<block ref="9c8ff3d34f58e4965d72fb9c8a993707" prefix=" " category="inline-code"></block> NFS集區的篩選器。</block>
  <block id="8b7c42123642e2e4ea7dd426aeb2de58" category="paragraph">NVMe / TCP</block>
  <block id="2ee381348973cd50c3668eadbccdc328" category="paragraph">請參閱 <block ref="2d7d4515af7fd5f414df696a804f30f7" category="inline-xref-macro-rx"></block>。</block>
  <block id="15486153db4ff26b2d984b22c9eb7ace" category="section-title">NVMe / TCP 的其他考量事項</block>
  <block id="fdb7cb8f657426e7c409bfd6d1a36ce4" category="list-text">IPv6</block>
  <block id="a2a1cb8bb035902e151c429dda457eb0" category="list-text">NVMe 磁碟區的快照和複本</block>
  <block id="b007331c632038b88752b849045335eb" category="list-text">調整 NVMe 磁碟區大小</block>
  <block id="86f6f50234041fd09b320314dc781273" category="list-text">NVMe 原生多重路徑</block>
  <block id="6c1177e2fd33f2482514b2156d1e62b6" category="list-text">裝置對應工具（ DM ）多重路徑</block>
  <block id="fa633dab256a2884e7cd048147d7171c" category="list-text">LUKS 加密</block>
  <block id="4e92a2addd95bd2076226bce70449f6d" category="admonition"><block ref="8c443e170595ba0feac007ffb92cb49a" prefix="" category="inline-code"></block>、<block ref="bc54592d6183695b841c6d1880ec0bf8" prefix=" " category="inline-code"></block>、<block ref="93c5bebdea9c94a0740fe6fd9bb250f0" prefix=" " category="inline-code"></block>、<block ref="d5189de027922f81005951e6efe0efd5" prefix=" " category="inline-code"></block>和<block ref="2b53761249254ce6b502f521e5cc0683" prefix=" " category="inline-code"></block> 在 AKS 叢集上使用託管身分識別時為選用項目。</block>
  <block id="28389c00d52ebc3b9610c591613894a1" category="example-title">自訂參與者角色</block>
  <block id="569dfd7a9483b050d1e076a318f0fccc" category="example-title">PersistentVolume Claim 範例資訊清單</block>
  <block id="526596809db1b7644a7637cfa05fcf8a" category="paragraph">這些範例顯示基本的 PVC 組態選項。</block>
  <block id="992728eeb1163799bd688cfe5e57035b" category="paragraph-title">可存取 RWO 的 PVC</block>
  <block id="75c7c68d9eb17c22ec8df28a1e23f275" category="paragraph-title">採用 NVMe / TCP 的 PVC</block>
  <block id="ed463de3671571836f800949d75f3af8" category="paragraph">此範例顯示 NVMe / TCP 的基本 PVC 、並提供與命名 StorageClass 相關的 rwo 存取<block ref="63f9100803e1f67a5e33cbd5da9dbb33" prefix=" " category="inline-code"></block>。</block>
  <block id="973fab696ba8e345f617c87c4de97607" category="example-title">Pod 資訊清單範例</block>
  <block id="15f15289009d52be4af3e9951853eee5" category="paragraph">這些範例顯示將 PVC 連接至 Pod 的基本組態。</block>
  <block id="416206518e27ed2ec8b8e0876078af35" category="listing-title">基本組態</block>
  <block id="b9fa7c201e2dc76fe12c8bb436c212ee" category="listing-title">基本 NVMe / TCP 組態</block>
  <block id="a242dbcec09373d25c5fb582f9f2cfc6" category="example-title">NVMe / TCP 範例</block>
  <block id="3a3347de03ef37c1eb5eb525619ff905" category="paragraph">您必須在 ONTAP 後端上設定 NVMe 的 SVM 。這是適用於 NVMe / TCP 的基本後端組態。</block>
  <block id="1b931baab9ca74be94af72763666c941" category="list-text">。<block ref="33aacad9b122abfdfadc06e3e7fa5f59" prefix=" " category="inline-code"></block> StorageClass 會對應至<block ref="11e89beb13d19bf6e3ab7ed65673b27d" prefix=" " category="inline-code"></block> 中的虛擬集區<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> 驅動程式搭配<block ref="6fa083b88d05083e680071073d06c3af" prefix=" " category="inline-code"></block>。這是唯一的集區服務項目<block ref="5ca85ebb1d881fde490deaa5817c4ca5" prefix=" " category="inline-code"></block>。</block>
  <block id="497769c5c03818fffe81b6190ec47c82" category="section-title">命令和全域旗標</block>
  <block id="66fa8a46aff90f5c8507c33a1cdc3e3f" category="paragraph">您可以執行<block ref="d7948c15bebd1e81a58fa7c99888c9c6" prefix=" " category="inline-code"></block> 取得的可用命令清單<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> 或附加<block ref="0c113ca6d57519b559ba5a426be3c6b6" prefix=" " category="inline-code"></block> 標記至任何命令、以取得該特定命令的選項和旗標清單。</block>
  <block id="c6a354ad100a80a11b5358549fa08956" category="list-text"><block ref="657f8b8da628ef83cf69101b6817150a" prefix="" category="inline-code"></block></block>
  <block id="b6886cb9d8320f0522485af2d7b5e732" category="list-text">任何命令的相關說明。</block>
  <block id="99ff05be0d0e797b4814ab264d1555b7" category="list-text"><block ref="93473a7344419b15c4219cc2b6c64c6f" prefix="" category="inline-code"></block></block>
  <block id="1f46b6519384cf9cc5d7893457ab6e9c" category="list-text"><block ref="2424c0d4857ddcc30f1aabda7294d84f" prefix="" category="inline-code"></block></block>
  <block id="92cde4054a93fe29af6357539b327494" category="list-text">暫時暫停後端作業。</block>
  <block id="238000b5c5df1cc446f5ba823c01807c" category="list-text"><block ref="ae26b3d8e556703291282149e3ae894f" prefix="" category="inline-code"></block></block>
  <block id="12d9bb0959755423ba2fc4a4d349ee90" category="example-title">全域旗標</block>
  <block id="a54f86a6d882e5b4c1560087bb3d23fe" category="list-text"><block ref="9b017020b9d48d433ec90c548e6b5c70" prefix="" category="inline-code"></block>、<block ref="b47e5fb843a641159b90a001a614119c" prefix=" " category="inline-code"></block></block>
  <block id="f984c283566ffcc330d2055e568c2bc4" category="list-text">除錯輸出。</block>
  <block id="aa8575d70709b06761f70e7aa773dccd" category="list-text"><block ref="914071b8934b1d6035495f1ed02aa5fd" prefix="" category="inline-code"></block>、<block ref="0c113ca6d57519b559ba5a426be3c6b6" prefix=" " category="inline-code"></block></block>
  <block id="cbaa0d88e3069707dc20abca170c009e" category="list-text">的說明<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。</block>
  <block id="6e25615e543a74d4a5ea9c21cda4b604" category="list-text"><block ref="9cefd96d40d0ee1256c8eff1def0312d" prefix="" category="inline-code"></block>、<block ref="3be3a69890f8609a06ed69c980bdf3ed" prefix=" " category="inline-code"></block></block>
  <block id="e9fe902fae54aee02c0226a1cd4ef93e" category="list-text"><block ref="b2ed43620b7fff2689035f1e99c24ded" prefix="" category="inline-code"></block>、<block ref="fde021f6d95feede78ab3d390365d552" prefix=" " category="inline-code"></block></block>
  <block id="fc070ca332d823236f678c78abc58ee2" category="list-text">輸出格式。json之一| yaml| name| wl| ps（預設）。</block>
  <block id="51b3c65bb68baeb2ef94eb128afdc270" category="list-text"><block ref="406381251d2d4637ebfac7f24cc49c6f" prefix="" category="inline-code"></block>、<block ref="b59778b847581570efb244355a6aa704" prefix=" " category="inline-code"></block></block>
  <block id="1c36a7e67198ff73665408726652a4c3" category="section-title">命令選項和旗標</block>
  <block id="dae8ace18bdcbcc6ae5aece263e14fe8" category="list-text">選項</block>
  <block id="4ea7801f17a4e5485e8b050c052fb443" category="list-text">旗標</block>
  <block id="26cdb30fb70d63515b796135d1481235" category="paragraph">使用<block ref="2424c0d4857ddcc30f1aabda7294d84f" prefix=" " category="inline-code"></block> 暫停或恢復後端作業的命令。</block>
  <block id="ff5f39bc4c620c3b1ca6b0811177f14c" category="paragraph">使用<block ref="2af72f100c356273d46284f6fd1dfc08" prefix=" " category="inline-code"></block> 用於列印版本的旗標<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> 以及執行中的Trident服務。</block>
  <block id="cfc01756266d8d0e43eb3a9f2753f472" category="paragraph">Trident為Kubernetes建立相符的儲存類別<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> 指定的物件<block ref="08044207e9f63bb0fd474dab347a776c" prefix=" " category="inline-code"></block> 在他們的資源配置工具欄位中。儲存類別名稱與Kubernetes名稱相符<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> 所代表的物件。</block>
  <block id="8554748be67b956e550de942edae807d" category="admonition">NVMe / TCP 需要 RHEL 9 或更新版本。</block>
  <block id="e379ebca8f2245b4a0c32803c6d7f845" category="paragraph">Kubernetes叢集中的所有工作節點都必須能夠掛載您已為Pod配置的磁碟區。若要準備工作節點、您必須根據您選擇的驅動程式來安裝 NFS 、 iSCSI 或 NVMe 工具。</block>
  <block id="2564a762d021b4beae21f01627773c0f" category="inline-link-macro">問題 #834</block>
  <block id="e53ddb8a6947ad5b93f8c82a86836f16" category="list-text">如果新要求的大小小於 ONTAP NAS 和 ONTAP NAS 的總磁碟區大小、則為固定磁碟區擴充（<block ref="6140c2bc2ecfc555b47da5841f5fd8ae" category="inline-link-macro-rx"></block>）。</block>
  <block id="d52fe9ebb96cf9ce91bf00e0caa773de" category="inline-link-macro">問題 722</block>
  <block id="676394929bfe922b6aff300499cef5a9" category="list-text">固定磁碟區大小、可在匯入 ONTAP NAS 和 ONTAP NAS 時僅顯示磁碟區的可用大小（ ..<block ref="1ec6a9e212fa13524af3f3c296d6bb72" category="inline-link-macro-rx"></block>）。</block>
  <block id="c2b105e6592336c26afd4f39319a222e" category="list-text">ONTAP NAS 經濟的固定 FlexVol 名稱轉換。</block>
  <block id="b680f5ddc32b78c78329f3f15a836381" category="paragraph">增加了對 Kubernetes 1.28 的支援。</block>
  <block id="be1e775eed9a7023c7facbd3f3cd32cd" category="list-text">增加了 ONTAP SAN 驅動程式對 NVMe over TCP 的支援。</block>
  <block id="24a3b687404991a8b5d83740bfde9f9c" category="inline-link-macro">第 5558 期</block>
  <block id="86826a04ec735c436222d55949b27e52" category="list-text">新增功能、可在使用者將後端設定為暫停狀態時暫停磁碟區的資源配置（<block ref="4ad3a18b49b4979346d26b5940c21a0f" category="inline-link-macro-rx"></block>）。</block>
  <block id="d4eb6933e70b3c49a70e1d8427489044" category="section-title">23.07.1 的變更</block>
  <block id="2f6b7b0c1002ad67f4e455a17d784c94" category="cell"><block ref="9d4568c009d203ab10e33ea9953a0264" prefix="" category="inline-code"></block></block>
  <block id="a55d315d1b8f8342158866cd0f4acf4f" category="cell"><block ref="df8f3af91e96fe841267201ed450cd6b" prefix="" category="inline-code"></block></block>
  <block id="3f5dc9ae5f538d3ce4d0cc20e7762671" category="cell"><block ref="d19f2c0377f3ed7cab9377cf066cb7ef" prefix="" category="inline-code"></block></block>
  <block id="d5999fd61d148b96e54f154a54ffead5" category="example-title">Windows 節點</block>
  <block id="ecb7d1d46da3859c69f45b619ace746a" category="example-title">強制分離</block>
  <block id="90a731f9a8a983f7cf3905960d8146ec" category="cell"><block ref="9aa82da0cffe247b84587c1cc8e32746" prefix="" category="inline-code"></block></block>
  <block id="fca9ec6d50035c840a58bdecab9e25b1" category="cell"><block ref="256acfe307251e7444859851d87d5735" prefix="" category="inline-code"></block></block>
  <block id="766995a062c6503acd7ac4752fbb865d" category="inline-link-macro">23.10</block>
  <block id="78c875172f37f031a2632dc008815ee1" category="cell">2026 年 10 月</block>
  <block id="0cd8d0588cd2b20face3a0379d38f777" category="admonition">使用動態匯出原則時、請勿使用網路位址轉譯（ NAT ）。使用 NAT 時、儲存控制器會看到前端 NAT 位址、而非實際 IP 主機位址、因此在匯出規則中找不到相符項目時、就會拒絕存取。</block>
  <block id="7528035a93ee69cedb1dbddb2f0bfcc8" category="section-title">取得</block>
  <block id="943c9b081b44587d874271006286d321" category="list-text"><block ref="22b708d2eccf39e1774f3e179bc6aee0" prefix="" category="inline-code"></block></block>
  <block id="0211fd9d40454137caed274c8b3d6054" category="list-text">列出該類型的所有物件。</block>
  <block id="a1ed61bb0432fb6b25e4789166744818" category="list-text"><block ref="57e9ee33b6310b193ba789f5dada20cc" prefix="" category="inline-code"></block></block>
  <block id="aa5aa416edde45fdd91bf4eff5a47d7f" category="list-text">取得命名物件的詳細資料。</block>
  <block id="a02439ec229d8be0e74b0c1602392310" category="section-title">貼文</block>
  <block id="fe25634ce7a9cad53e5d4b1d7a3039a6" category="list-text"><block ref="bb2b5a5fa2bc8d2525063f1afa7571a5" prefix="" category="inline-code"></block></block>
  <block id="777bb10b09d21c1e8001a8a8aa5767d8" category="list-text">建立指定類型的物件。</block>
  <block id="32f68a60cef40faedbc6af20298c1a1e" category="section-title">刪除</block>
  <block id="7f43e795c3bf1beb79462cd9164057e4" category="list-text"><block ref="051be5ede889caf3958ca683df6f8d5f" prefix="" category="inline-code"></block></block>
  <block id="99e18f16be02084849198b503c3e3c29" category="list-text">刪除命名資源。</block>
  <block id="9b9ef5337f7c7fbad5389e8b34d3fb1f" category="list-text"><block ref="9b945915b0cddbee22047fd529d642f6" prefix="" category="inline-code"></block></block>
  <block id="f4078e4654ff3cac1121079492b0c3f4" category="list-text">啟用除錯輸出。</block>
  <block id="ca4acdfba197b4053e99386e85bf4cc4" category="list-text"><block ref="818bc08a4822af612b7904cc24a4d3bf" prefix="" category="inline-code"></block></block>
  <block id="5c8767809eb386e1ab0473de8292544f" category="list-text">設定記錄層級（偵錯、資訊、警告、錯誤、嚴重）。預設為資訊。</block>
  <block id="4da29764ff4997096420f0ae6861b27c" category="list-text"><block ref="4012723fd7948507761ae4f00f8a6ce5" prefix="" category="inline-code"></block></block>
  <block id="7db7db05fbaa2896d81a59e8f38fc27a" category="list-text">使用此選項或<block ref="b88c1426ddf914ab0ed819649aed75fc" prefix=" " category="inline-code"></block> 以啟用Kubernetes支援。設定此選項會使Trident使用內含Pod的Kubernetes服務帳戶認證、來聯絡API伺服器。這只有當Trident在Kubernetes叢集中以Pod形式執行、且已啟用服務帳戶時才會運作。</block>
  <block id="1d0a1baeeb99a2ab2b62995cd2ca3fc7" category="list-text"><block ref="b9d0a374603a1c8cc2464bf870d134f0" prefix="" category="inline-code"></block></block>
  <block id="4248fc4f101e2b3fe6bdb19065701fa5" category="list-text"><block ref="5cc3c48cd4a7b7c28609e7cad16a63c6" prefix="" category="inline-code"></block></block>
  <block id="fc3445d927bff3ae43a549a8e6534c5c" category="list-text">登錄 Docker 外掛程式時使用的驅動程式名稱。預設為<block ref="16dfba14481ba8b67fd1c1d9e0f32d2a" prefix=" " category="inline-code"></block>。</block>
  <block id="fc9918a81547fe43ace70de85a7bebac" category="list-text"><block ref="3c296b703ef0b6971051fafa0adeec00" prefix="" category="inline-code"></block></block>
  <block id="65ec7391e16f9bd6e659149b86819a17" category="list-text">聆聽此連接埠、而非 UNIX 網域通訊端。</block>
  <block id="9489e1104464d83e0ce20703b6791e94" category="list-text"><block ref="5fe5cde67e990859d4973ee6fedbf6f0" prefix="" category="inline-code"></block></block>
  <block id="edd29d0afafb06480d68d40a7a22ffa5" category="list-text">必要；您必須指定後端組態檔案的路徑。</block>
  <block id="668ae2bb5fbfb42f8d89e94482a4de47" category="list-text"><block ref="786783eafb02594c9668a3cbbc65d473" prefix="" category="inline-code"></block></block>
  <block id="46fedf27957de15ad13ad14b25adb901" category="list-text">指定 Trident 的 REST 伺服器應接聽的位址。預設為localhost。當偵聽localhost並在Kubernetes Pod內部執行時、無法從Pod外部直接存取REST介面。使用<block ref="dfbd0635d992733a865e819be2cf08be" prefix=" " category="inline-code"></block> 可讓REST介面從Pod IP位址存取。</block>
  <block id="99f1d9ee8daaf03f69217b44950e3442" category="list-text"><block ref="ca77c8464c642146b691455db7a16df6" prefix="" category="inline-code"></block></block>
  <block id="33be5112b1ca3c0147264576f7d2e571" category="list-text">指定 Trident 的 REST 伺服器應接聽的連接埠。預設為8000。</block>
  <block id="a2714fafd1caea03119590a34bc711c6" category="list-text"><block ref="79d400f844e73cb6e88dabddc36edc38" prefix="" category="inline-code"></block></block>
  <block id="14d37f351bc2789fc70a93a3114308f0" category="list-text">啟用 REST 介面。預設為true。</block>
  <block id="ad989553d20159458528f9cbeec280ac" category="section-title">Kubernetes 與 NetApp 產品整合</block>
  <block id="c15968f29ef9905b44c7b9f373e75568" category="paragraph">NetApp 儲存產品組合可與 Kubernetes 叢集的許多層面整合、提供進階的資料管理功能、強化 Kubernetes 部署的功能、功能、效能和可用度。</block>
  <block id="5051760a43d66d77d01c7a8eb030e7e1" category="paragraph"><block ref="c3736e0f766925817ef4f34af9c72365" category="inline-link-macro-rx"></block> 是一項完全託管的 AWS 服務、可讓您啟動及執行 NetApp ONTAP 儲存作業系統所支援的檔案系統。</block>
  <block id="29ec7bd31b1a1379b78d9898d947d73d" category="paragraph"><block ref="c5e53d3a8d8d3c363071213b1e4da969" category="inline-link-rx"></block> 是採用NetApp技術的企業級Azure檔案共享服務。您可以在Azure原生環境中執行最嚴苛的檔案型工作負載、並享有NetApp所提供的效能與豐富資料管理功能。</block>
  <block id="047d03a544a1cc3e86aff90177fbd63a" category="paragraph"><block ref="003ebe68b90d9dc2aab9b61b702f9f9b" category="inline-link-macro-rx"></block> 是一款純軟體的儲存應用裝置、可在ONTAP 雲端上執行功能完善的資料管理軟體。</block>
  <block id="7630fd61eebe4d79cfa82d81963940d7" category="paragraph"><block ref="eca39b018af81e7b5c8e71b5b4aa3790" category="inline-link-rx"></block> 儲存管理員可藉由保證效能、並簡化及簡化儲存設備佔用空間、來整合工作負載。</block>
  <block id="d2a67136c7c7e990d18b8e71635d0395" category="paragraph"><block ref="59c437b3f3e5b14b78b208acb3b663e2" category="inline-link-macro-rx"></block> 將例行工作自動化、讓基礎架構管理員能夠專注於更重要的功能、進而簡化資料中心的管理與規模。</block>
  <block id="7b02ea300aef2e0bff0d7f6111053284" category="example-title">NetApp ONTAP</block>
  <block id="c034280f677ad8e09361e26a1f0d8b2e" category="paragraph"><block ref="8c73590b5c61238f85244f0e29214d94" category="inline-link-macro-rx"></block> 是 NetApp 多重傳輸協定、統一化的儲存作業系統、可為任何應用程式提供進階的資料管理功能。</block>
  <block id="ee4805b45f3a791791c675c82c73c1b6" category="paragraph"><block ref="081bcd7924bd528b9799fd1b1389158c" prefix="" category="inline-code"></block></block>
  <block id="301f920ee13f1cef29f1c14dacf94c4b" category="list-text"><block ref="ff2bddd61609f26dc3255408781890ad" prefix="" category="inline-code"></block>、<block ref="a4b374188b5bbba3f37deccc51421bd4" prefix=" " category="inline-code"></block></block>
  <block id="4927d7c110c03787d6a128bc5245a451" category="list-text">指定<block ref="39e7fa5a13dbc25a4aa8c4b323cd657c" prefix=" " category="inline-code"></block> 從本機或從一個 Kubernetes 叢集到另一個叢集執行命令的路徑。</block>
  <block id="9858b15df593f3960e8b74b5eb680bf0" category="admonition">或者、您也可以匯出<block ref="39e7fa5a13dbc25a4aa8c4b323cd657c" prefix=" " category="inline-code"></block> 可指向特定 Kubernetes 叢集和問題的變數<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> 命令到該叢集。</block>
  <block id="76ea0bebb3c22822b4f0dd9c9fd021c5" category="section-title">建立</block>
  <block id="1183069eacde609c309c6652f2abbc57" category="paragraph"><block ref="4bf60056ad290949d881334e46fe9fc1" prefix="" category="inline-code"></block></block>
  <block id="099af53f601532dbd31e0ea99ffdeb64" category="section-title">刪除</block>
  <block id="28b6c04534d74299209efef5ba8ed0e0" category="paragraph"><block ref="f8e353bd7af0b2adee08bd2cfca86ee4" prefix="" category="inline-code"></block></block>
  <block id="b5eda0a74558a342cf659187f06f746f" category="section-title">取得</block>
  <block id="3880097e6e3ace364060bd1a3502034a" category="paragraph"><block ref="5af35d698576fbd6e910714628ae9a91" prefix="" category="inline-code"></block></block>
  <block id="fbb9ff314555260bd6ce75e7fefe007a" category="list-text"><block ref="914071b8934b1d6035495f1ed02aa5fd" prefix="" category="inline-code"></block>、<block ref="0c113ca6d57519b559ba5a426be3c6b6" prefix=" " category="inline-code"></block>：Volume的說明。<block ref="e3bbbed29599d3e6e29ae22829ad7f13" prefix=" " category="inline-code"></block>：將查詢限制在從屬來源Volume。<block ref="aed2a4a749284f757648f1057abf44cd" prefix=" " category="inline-code"></block>：將查詢限制在Volume的下屬。</block>
  <block id="59b514174bffe4ae402b3d63aad79fe0" category="section-title">映像</block>
  <block id="15e57263073fbab8a5c17df2199514fa" category="paragraph"><block ref="1a4565f84c3ef7acc3e88c3af0bf4b12" prefix="" category="inline-code"></block></block>
  <block id="8373216d773ee6fe75393fa84e1e92c6" category="list-text"><block ref="914071b8934b1d6035495f1ed02aa5fd" prefix="" category="inline-code"></block>、<block ref="0c113ca6d57519b559ba5a426be3c6b6" prefix=" " category="inline-code"></block>：影像說明。<block ref="47fa03ef5536c5573b137cec5adc2d39" prefix=" " category="inline-code"></block>、<block ref="afb81ccdb6e6d78674d516ee32b89981" prefix=" " category="inline-code"></block>： Kubernetes 叢集的語義版本。</block>
  <block id="f6c534966bc7687e0c87134d025f8837" category="section-title">匯入Volume</block>
  <block id="7627836f99f91110fe4d92a0cf45f490" category="paragraph"><block ref="9fe05f98df27b42476862d09511bd0d7" prefix="" category="inline-code"></block></block>
  <block id="9ab81f57823f6aeb02362291f23883e6" category="list-text">別名</block>
  <block id="501eadc7c3c034b710e1a4d2a417bbce" category="list-text"><block ref="210ab9e731c9c36c2c38db15c28a8d1c" prefix="" category="inline-code"></block>、<block ref="9e3669d19b675bd57058fd4664205d2a" prefix=" " category="inline-code"></block></block>
  <block id="346218c412dda8bcf2f8fc06030abee5" category="list-text"><block ref="5338b151154663bac9980b0f044518f2" prefix="" category="inline-code"></block>、<block ref="33781a1644c3eb60bb229660536cb79b" prefix=" " category="inline-code"></block>：Yaml或Json PVc檔案的路徑。<block ref="914071b8934b1d6035495f1ed02aa5fd" prefix=" " category="inline-code"></block>、<block ref="0c113ca6d57519b559ba5a426be3c6b6" prefix=" " category="inline-code"></block>：Volume的說明。<block ref="e2b9359adf7cdd62fc784b5090c3c452" prefix=" " category="inline-code"></block>：僅建立PV/PVc。不要假設磁碟區生命週期管理。</block>
  <block id="19ad89bc3e3c9d7ef68b89523eff1987" category="section-title">安裝</block>
  <block id="1adc393db1e6b77c875ecd4c669772ec" category="paragraph"><block ref="190ae106b0b18c5bb8b5f3bdc39dacb9" prefix="" category="inline-code"></block></block>
  <block id="2165e4fa5bddb65a31f6a0c495c2fa37" category="section-title">記錄</block>
  <block id="0fc4d21e21006115d42b2d6aa4451ffa" category="paragraph"><block ref="8815a52aa2be7be3d51559b2366dc8e1" prefix="" category="inline-code"></block></block>
  <block id="2541d938b0a58946090d7abdde0d3890" category="section-title">傳送</block>
  <block id="6faa54b930cd3447550e2f6a2be621bb" category="paragraph"><block ref="c68774a474a551b5788d1c1e26d3dcd0" prefix="" category="inline-code"></block></block>
  <block id="48df24d35784c5df52ab82ba6f257549" category="list-text"><block ref="ee64de1ad50d8209e64ee58b23e27986" prefix="" category="inline-code"></block>：將AutoSupport 一份不適用的歸檔文件傳送給NetApp。</block>
  <block id="fe98497efedbe156ecc4b953aea77e07" category="section-title">解除安裝</block>
  <block id="bab5bdd673e8007bb1451ff83f2d7fbf" category="paragraph"><block ref="f74e9b644f442240b768be80cfac9840" prefix="" category="inline-code"></block></block>
  <block id="ba491d35780f4d2becc7847117f59c9d" category="list-text"><block ref="60072fc2fad0d30fc656850e04c7433f" prefix="" category="inline-code"></block>：解除安裝說明。<block ref="61bce13717a9d6da0266dbc3e2b1e642" prefix=" " category="inline-code"></block>：卸載期間禁用大多數輸出。</block>
  <block id="3ac340832f29c11538fbe2d6f75e8bcc" category="section-title">更新</block>
  <block id="8020758b80cef903a0b06e0083b2a43b" category="paragraph"><block ref="8894c4db9cf5d5ac9d439434e0994407" prefix="" category="inline-code"></block></block>
  <block id="2424c0d4857ddcc30f1aabda7294d84f" category="section-title">更新後端狀態</block>
  <block id="a8692aa823f016402f6459f92e2c343c" category="paragraph"><block ref="1327c48297ec159839f95302f8885592" prefix="" category="inline-code"></block></block>
  <block id="0e43bd2bbbbfb114e0df26c0544f5608" category="list-text"><block ref="914071b8934b1d6035495f1ed02aa5fd" prefix="" category="inline-code"></block>、<block ref="0c113ca6d57519b559ba5a426be3c6b6" prefix=" " category="inline-code"></block>：後端狀態說明。<block ref="2be951e4c83b3373b0b76554fd93bb4a" prefix=" " category="inline-code"></block>：設為<block ref="735fda5d72b5c650f3f0435195a211bd" prefix=" " category="inline-code"></block> 暫停後端作業。設定為<block ref="fea087517c26fadd409bd4b9dc642555" prefix=" " category="inline-code"></block> 以恢復後端作業。設定為時<block ref="735fda5d72b5c650f3f0435195a211bd" prefix=" " category="inline-code"></block>：</block>
  <block id="4301e504ec5591a4c51fe93e446a7a35" category="paragraph"><block ref="dca46ba7b3ffeb9b51e10f54acbd826d" prefix="" category="inline-code"></block></block>
  <block id="e6e32acf4d56921ac92540101fe00fc9" category="list-text"><block ref="db0e9588c0d46e16e0aea5c50287a54f" prefix="" category="inline-code"></block>：僅限用戶端版本（不需要伺服器）。<block ref="60072fc2fad0d30fc656850e04c7433f" prefix=" " category="inline-code"></block>：版本說明。</block>
  <block id="34c5f2f84f16f23213713a6adc11c319" category="admonition">如果您在初始安裝期間設定自訂選項（例如指定 Trident 和 CSI 映像的私有、鏡射登錄）、請附加<block ref="cd01e1bae83933b9c59c914bc71332ac" prefix=" " category="inline-code"></block> 命令使用<block ref="8b5806248570dbb13e7d3bc5e6c0ee37" prefix=" " category="inline-code"></block> 為了確保升級命令中包含這些選項、否則這些值會重設為預設值。</block>
  <block id="ee68e5b99222bbc29a480fcb0d1d6ee2" category="section-title">先決條件</block>
  <block id="56ae1c25c84da104d5678975802dd9b7" category="list-text">具有附加訂閱的 Amazon EKS 叢集帳戶</block>
  <block id="3f597c2b0d86deed94c99ef3d5fa4932" category="list-text">AWS 對 AWS 市場的權限：<block ref="8047af5c1ca81290342558a545113f6e" prefix=" " category="inline-code"></block></block>
  <block id="8ac2d15830983d69c7c62c4d8a69266c" category="list-text">AMI 類型： Amazon Linux 2 （ AL2_x86_64 ）或 Amazon Linux 2 ARM （ AL2_ARM_64 ）</block>
  <block id="68437d1104a05b71c1c25548a95ad946" category="list-text">節點類型： AMD 或 ARM</block>
  <block id="63ac2242cb63194d25dd17c30c89f80d" category="list-text">現有的 Amazon FSX for NetApp ONTAP 檔案系統</block>
  <block id="46fd403fb7788c53f0de4aa06ccc89d9" category="image-alt">AWS EKS 01</block>
  <block id="153bbcd55aded817c5a331d5acae54eb" category="list-text">前往 * AWS Marketplace 附加元件 * 並選擇 _storage 類別。</block>
  <block id="2b1131719d4d8198515b53a0132411fb" category="image-alt">AWS EKS 02</block>
  <block id="5bab8196b750f3260d005a4548bc5de0" category="list-text">選擇所需版本的附加元件。</block>
  <block id="92f63954b2feb520d9a85c6ac6087ad8" category="image-alt">AWS EKS 03</block>
  <block id="b64079b8570f34f88bca59be352b20e2" category="image-alt">AWS EKS 04</block>
  <block id="bf18811faac9b8e4fcaebab51afd1113" category="list-text">選擇* Create *（建立*）。</block>
  <block id="fa883f8fcd252ea2995457cd82515d03" category="list-text">確認附加元件的狀態為 _Active_ 。</block>
  <block id="2af6474930eac7fe47a45b3658bef5bf" category="image-alt">AWS EKS 05</block>
  <block id="f3554362e5b550c58586036685aca0f6" category="list-text">認證型：此模式需要對 ONTAP 後端擁有足夠的權限。建議您使用與預先定義的安全登入角色相關聯的帳戶、例如<block ref="21232f297a57a5a743894a0e4a801fc3" prefix=" " category="inline-code"></block> 或<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block> 以確保與ONTAP 更新版本的最大相容性。</block>
  <block id="ad8deb3ead6fe765f774fdb1b4d51494" category="list-text">新增對 Cloud Identity 的支援。</block>
  <block id="1ed2e28ed5e329359ed11fa6b3213f12" category="list-text">Anf 的 AKS - Azure 工作負載身分識別將用作雲端身分識別。</block>
  <block id="685239028773625de0a3fdc18c584dcc" category="list-text">具有 FSxN 的 EKS - AWS IAM 角色將用作雲端身分識別。</block>
  <block id="a78644e58f124252a596fb7bd5a3f0e3" category="inline-link-macro">問題 #864</block>
  <block id="45691f8c8852e7e9f8cf8e2ca1fd1a31" category="list-text">新增設定及停用 iSCSI 自我修復的功能（<block ref="eebe101dfd60623e764ed89e9c35e13c" category="inline-link-macro-rx"></block>）。</block>
  <block id="77a876e8901fcb15dc01c057f3102ab6" category="inline-link-macro">問題 #453</block>
  <block id="210645e9f461c75a53d611ad7ca29990" category="list-text">增加了對 Kubernetes 1.29 的支援。</block>
  <block id="40c23d891efbf79122ffcbfdd4e1fc28" category="inline-link-macro">問題 #866</block>
  <block id="b39a2f3ca5558cdf70a39aaa44921e02" category="list-text">當未啟用 ACP 時、會出現固定的 ACP 警告訊息（<block ref="8b8bf8931a263b3cadfea0d794486463" category="inline-link-macro-rx"></block>）。</block>
  <block id="694637a910367ab017767d1135910517" category="list-text">當複本與快照相關聯時、在 ONTAP 驅動程式的快照刪除期間執行複本分割前、新增了 10 秒延遲。</block>
  <block id="52a6fa0a11a7afe868a3a84e42cff7a1" category="list-text">已從多平台映像清單移除 TOATteStation 內部架構。</block>
  <block id="1fc7da31107247b07ab3abf335b217de" category="section-title">23.10 的變更</block>
  <block id="154244be43a4ba50080a256f5657b29a" category="list-text">使用Trident時可能會遇到的常見問題<block ref="4568986ef6397d7c901269fc0e190ede" category="inline-link-rx"></block> 當租戶和用戶端機密來自權限不足的應用程式登錄時。如需 Trident 需求的完整清單、請參閱 <block ref="afedf4ee56554ea6e6b54e6aa206680c" category="inline-link-macro-rx"></block> 組態：</block>
  <block id="35140a26b22dd9ba254fba38858d8b10" category="cell">應用程式註冊的租戶ID

在 AKS 叢集上使用託管身分識別或雲端身分識別時、為選用項目。</block>
  <block id="68aab7c1f293b3f340c21d4598bbf943" category="cell">應用程式註冊的用戶端ID

在 AKS 叢集上使用託管身分識別或雲端身分識別時、為選用項目。</block>
  <block id="6224cbf7bf787bd81b6e12ade1b5069a" category="cell">應用程式註冊的用戶端機密

在 AKS 叢集上使用託管身分識別或雲端身分識別時、為選用項目。</block>
  <block id="cdc0ef7f865a8837e4fd99ce3898f1d8" category="example-title">雲端身分識別</block>
  <block id="1b6104dea07d224d6a76ba8bd88c586a" category="paragraph">此後端組態已不再如此<block ref="bc54592d6183695b841c6d1880ec0bf8" prefix=" " category="inline-code"></block>、<block ref="93c5bebdea9c94a0740fe6fd9bb250f0" prefix=" " category="inline-code"></block>和<block ref="2b53761249254ce6b502f521e5cc0683" prefix=" " category="inline-code"></block>（使用雲端身分識別時為選用功能）。</block>
  <block id="5d8ab765262318f7f87e5cd620d93290" category="cell"><block ref="ac68bbf921d953d1cfab916cb6120864" prefix="" category="inline-code"></block></block>
  <block id="294c3bfe0dc32c17126646089c93a92b" category="cell">您可以在 AWS FSX for ONTAP 的組態檔中指定下列項目：
-<block ref="d731d2fecb66f9c4a30253bd316a220f" prefix=" " category="inline-code"></block>：指定 AWS FSX 檔案系統的 ID 。
-<block ref="1e9c0fd1beef5ff8ed3bef2ae3b7e560" prefix=" " category="inline-code"></block>： AWS API 區域名稱。
-<block ref="9af4d8381781baccb0f915e554f8798d" prefix=" " category="inline-code"></block>： AWS API 金鑰。
-<block ref="ce656850400574e9f9cffb285ee8abc0" prefix=" " category="inline-code"></block>： AWS 秘密金鑰。</block>
  <block id="5e68d0f0226c4c9d8020f95ced71ffab" category="cell"><block ref="68b329da9893e34099c7d8ad5cb9c940" prefix="" category="inline-code"></block>

<block ref="9d4568c009d203ab10e33ea9953a0264" prefix=" " category="inline-code"></block><block ref="9d4568c009d203ab10e33ea9953a0264" prefix=" " category="inline-code"></block><block ref="9d4568c009d203ab10e33ea9953a0264" prefix=" " category="inline-code"></block></block>
  <block id="81b346d529f22abdfcb669de82986dfd" category="cell"><block ref="d3ed68f7315b7e72b8d886b2278fcac3" prefix="" category="inline-code"></block></block>
  <block id="c5a638166e3b5bb902803f0060f0d2dd" category="inline-link-macro">建立 AWS Secrets Manager 密碼</block>
  <block id="484067c59b1fa950e362a90fd416c89e" category="example-title">SMB 磁碟區的儲存類別組態</block>
  <block id="fa4eb54eedf6fea69ec183c4e2199a4d" category="paragraph">如需驅動程式詳細資料、請參閱 <block ref="4093b6d0ce8cf414637a02002d2b0376" category="inline-link-macro-rx"></block> 和 <block ref="276422a40a581e9842304216329765d5" category="inline-link-macro-rx"></block>。</block>
  <block id="506c2c0c7f5b70af3df68c45c46f45a7" category="paragraph">例如：</block>
  <block id="400e51795e42b1bfc94a14aeeeacc04a" category="paragraph">使用下列環境變數設定 * 雲端供應商 * 和 * 雲端 IDENTITY * 旗標的值：</block>
  <block id="c5ac38b2b362dbfd1b55bdb2b7e9375b" category="list-text">在 OKS Kubernetes 叢集上設定的工作負載識別和 oidc-c發行 者</block>
  <block id="919b714a25b423ceadcf231ff05b607b" category="paragraph">使用下列環境變數設定 * 雲端供應商（ CP ） * 和 * 雲端身分識別（ CI ） * 旗標的值：</block>
  <block id="91a7e225ea23690e36a162b9c8a45058" category="paragraph"><block ref="256d12880dee7515c7ed6253fd0a228a" prefix="" category="inline-code"></block><block ref="a5f4eea4d47cf2db58f43a66329ecf1e" prefix=" " category="inline-code"></block></block>
  <block id="d7e54271baba05c2253c5c79a6155965" category="list-text">您所有的Kubernetes工作節點都必須安裝適當的NFS工具。請參閱 <block ref="f1f954e59a21e3ffe189e77dd2ee9f86" category="inline-link-macro-rx"></block> 以取得更多詳細資料。</block>
  <block id="d1b5b194ace83d9f896d8f8b6765def5" category="list-text">您所有的Kubernetes工作節點都應該安裝適當的iSCSI工具。請參閱 <block ref="073953144b84efd85603bb3d49521e06" category="inline-link-macro-rx"></block>。</block>
  <block id="5c0a5e9c97099065874a650cf8c67a66" category="list-text"><block ref="bc54592d6183695b841c6d1880ec0bf8" prefix="" category="inline-code"></block>、<block ref="93c5bebdea9c94a0740fe6fd9bb250f0" prefix=" " category="inline-code"></block>和<block ref="2b53761249254ce6b502f521e5cc0683" prefix=" " category="inline-code"></block> 在 AKS 叢集上使用雲端身分識別時為選用項目。</block>
  <block id="9837781971083d3fe119b0217014d301" category="list-text">Azure<block ref="d5189de027922f81005951e6efe0efd5" prefix=" " category="inline-code"></block> 至少包含一個<block ref="c5f14b2142014dc234282a513132bad4" category="inline-link-rx"></block>。從Trident 22.01起<block ref="d5189de027922f81005951e6efe0efd5" prefix=" " category="inline-code"></block> 參數是後端組態檔最上層的必填欄位。會忽略虛擬資源池中指定的位置值。</block>
  <block id="30cce5213fe0e4b50d664920d7075cdf" category="inline-link">使用者指派的託管身分識別</block>
  <block id="345615c7e1785c38b1b2d2aadeef42bb" category="list-text">以供使用<block ref="12e3f82975710931e07ec1b3138bd8bf" prefix=" " category="inline-code"></block>請取得<block ref="032e8204d9a4acfa22151783caa18894" prefix=" " category="inline-code"></block> 從<block ref="f857b557e72afd63cd1e3ca2faab2a5b" category="inline-link-rx"></block> 並在中指定該 ID<block ref="ab6b275be02c02a9982cb7a0c234629e" prefix=" " category="inline-code"></block>。</block>
  <block id="75d6668e40a552149b5d5868b03080c8" category="paragraph">。<block ref="b979c2934ac0b4ba3f08dabfdd1b2299" prefix=" " category="inline-code"></block> 採用後端特定的組態參數。在此範例中、後端使用<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> 儲存驅動程式、並使用此處列出的組態參數。如需所需儲存驅動程式的組態選項清單、請參閱 <block ref="5f2d139eefa7c36061f4d97161be02ea" category="inline-link-macro-rx"></block>。</block>
  <block id="733aa7fe5deef27d1cb0828cff0f17bd" category="admonition">在安裝方法之間切換之前、請參閱 <block ref="d7d87809bc6e1001ccd94c7433d28fd5" category="inline-link-macro-rx"></block>。</block>
  <block id="948c2cbef9ba6f931735e6eef2d86eba" category="list-text">如需詳細資訊、請參閱 <block ref="04cf7258a315ca08f4b436c194fef69d" category="inline-link-macro-rx"></block>。</block>
  <block id="1eb921add61b9e1c5fcaf8272bb52ec6" category="admonition">在 OpenShift Container Platform 上使用 Trident 運算子進行升級時、您應升級至 Trident 21.01.1 或更新版本。隨21.01.0一起發行的Trident運算子包含已在21.01.1中修正的已知問題。如需詳細資訊、請參閱<block ref="bcebcdd21adcbb3d7c640d63a711c6fb" category="inline-link-rx"></block>。</block>
  <block id="99c0f28c38ebd0826265cfd120e75cce" category="cell">設定為<block ref="71d36c46e340ad9137b2691e267f5ecd" prefix=" " category="inline-code"></block> 在 AKS 叢集上使用託管身分識別或雲端身分識別時。在 EKS 叢集上使用雲端身分識別時、請設定為「 AWS 」。</block>
  <block id="0b79806f5a5d5ddd87cd1bd2a28f965c" category="cell"><block ref="89abe9fddbe3cf0f9bcd7779fe4aed69" prefix="" category="inline-code"></block></block>
  <block id="746996e3c70ac1447e486f6c9fc0fac2" category="admonition">如需格式化 Pod 參數的詳細資訊、請參閱 <block ref="7b3a69fdac08c769183925679da4c365" category="inline-link-macro-rx"></block>。</block>
  <block id="2a2c6cbf201e7fa0935ec1e8b243cca1" category="cell">用於 Pod 的其他節點選取器。請參閱 <block ref="4b8785cedf610e3d8df57f69213f93a8" category="inline-link-macro-rx"></block> 以取得詳細資料。</block>
  <block id="8a00a4799d11edabcb628da338d295ce" category="cell">覆寫 Pod 的 Kubernetes 公差。請參閱 <block ref="4b8785cedf610e3d8df57f69213f93a8" category="inline-link-macro-rx"></block> 以取得詳細資料。</block>
  <block id="bf490af1c404d2415dfe93c23b646bfb" category="admonition">PSS-取代Pod安全性原則（PSP）。在Kubernetes v1.21中、已不再使用PSP、將在v1.25中移除。如需詳細資訊、請參閱 <block ref="18a97095ea40d42decd22f31a2040afe" category="inline-link-macro-rx"></block>。</block>
  <block id="8711d10d95f02e2915623a51693eaaac" category="cell">SCSI需要雙向裝載點、這表示Trident節點Pod必須執行特殊權限容器。如需詳細資訊、請參閱 <block ref="36e6e997c8e1e33355ee35fb5cf65f2b" category="inline-link-macro-rx"></block>。</block>
  <block id="9ec97307849e95766ab72c5a34828c08" category="list-text">。<block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix=" " category="inline-code"></block> 參數用於控制SAN LUN所需的檔案系統類型。此外、Kubernetes也會使用的<block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix=" " category="inline-code"></block> 在儲存類別中、表示檔案系統存在。您可以使用來控制Volume擁有權<block ref="c7a6c0ee60c6f68dfe700feaacf15703" prefix=" " category="inline-code"></block> 只有在下列情況下、Pod的安全內容才會出現<block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix=" " category="inline-code"></block> 已設定。請參閱 <block ref="7940a62969e5aeae7f6e32b04e7a11e3" category="inline-link-macro-rx"></block> 如需使用設定Volume擁有權的總覽<block ref="c7a6c0ee60c6f68dfe700feaacf15703" prefix=" " category="inline-code"></block> 背景。Kubernetes將套用<block ref="c7a6c0ee60c6f68dfe700feaacf15703" prefix=" " category="inline-code"></block> 只有在下列情況下才會有</block>
  <block id="c2b0df577877e25491f6e1ed397c87df" category="list-text">請參閱 <block ref="7c28a1514d14039d3824999236c4890d" category="inline-link-macro-rx"></block> 如需磁碟區擴充的詳細資料、</block>
  <block id="d7b7b183151bdcc8d68efef8a53c02cb" category="list-text">使用解除安裝Trident時<block ref="ac8650577d1b744589a6a11b60ac38c7" prefix=" " category="inline-code"></block> 命令、Trident Pod會刪除、但建立的客戶需求日不會清除。請參閱 <block ref="3e5b286354565ddfee44ed92d763b424" category="inline-link-macro-rx"></block> 瞭解如何徹底移除Trident並從頭重新設定。</block>
  <block id="7a82af4e68a9aca0b21f107f4c0836ee" category="paragraph">如需如何建構這些物件的詳細資訊、請參閱 <block ref="2e76dfee6bc1b5ee4173b3c5bbcd99e5" category="inline-link-macro-rx"></block>。</block>
  <block id="1894d1b67a8b86d7f876f515c238d5a6" category="paragraph">如需資源配額的詳細資訊、請參閱 <block ref="1fb556021be57083646a3e3c0079c64c" category="inline-link-macro-rx"></block>。</block>
  <block id="7cc1edf2116d94e97b8f4a69079de132" category="list-text">Antos on － Prem （ VMware ）和 Antos on bare met金 片 1.16</block>
  <block id="eca0dda5d40cf62b4a73c50deab2520c" category="inline-link-macro">KubeVirt</block>
  <block id="cd41030284d3ee7b99fc16831ed79650" category="paragraph">根據軟體版本和硬體平台、系統可提供最大的Volume數。ONTAP請參閱<block ref="bb9c67b5a4c15a85b5e6aa6c9afd0285" category="inline-link-rx"></block> 針對您的特定平台和ONTAP 版本、決定確切的限制。當磁碟區數用盡時、資源配置作業不僅會針對Trident、也會針對所有儲存要求失敗。</block>
  <block id="ed108e0380671c3131e1a4795b982a45" category="paragraph">服務品質（QoS）可確保關鍵工作負載的效能不會因競爭工作負載而降級。支援QoS原則群組的QoS選項可用於磁碟區、並可讓使用者定義一或多個工作負載的處理量上限。ONTAP如需 QoS 的詳細資訊、請參閱<block ref="721a1778a2025ec5868484b3888c0186" category="inline-link-rx"></block>。
您可以在後端或儲存資源池中指定QoS原則群組、並將其套用至該資源池或後端中建立的每個磁碟區。</block>
  <block id="acd73d692aa90cacfe480ba8ba39cd5d" category="paragraph">區塊大小和頻寬會直接影響IOPS的數量。隨著區塊大小增加、系統會將頻寬增加至處理較大區塊大小所需的層級。隨著頻寬增加、系統能夠達到的IOPS數量也隨之減少。請參閱<block ref="c8976c50ed9f016849fdce232777cd31" category="inline-link-rx"></block> 如需QoS和效能的詳細資訊、請參閱。</block>
  <block id="4e9b156e7e2788c8cd4b0877fd922657" category="inline-link-macro">24.02</block>
  <block id="be90349da04be71a620e68314d810f7f" category="cell">2026 年 2 月</block>
  <block id="4b7cb6c36399bdd4e8724de18a1c079b" category="cell">2027 年 2 月</block>
  <block id="bcb8f00239af2cecd5a6b534dabea922" category="paragraph"><block ref="bcb8f00239af2cecd5a6b534dabea922" category="inline-link-macro-rx"></block></block>
  <block id="62bc04158f931e9b0a26f5676c8ab043" category="paragraph"><block ref="62bc04158f931e9b0a26f5676c8ab043" category="inline-link-macro-rx"></block></block>
  <block id="054e161b9c33938d4cac2bab4e4d46b8" category="paragraph">對於具有超過64個節點的Kubernetes叢集、您應該使用多個存取群組。每個存取群組最多可包含64個IQN、每個磁碟區可屬於四個存取群組。在設定最多四個存取群組的情況下、叢集中最多256個節點的任何節點都能存取任何磁碟區。如需 Volume 存取群組的最新限制、請參閱<block ref="ac4000c3a85e5909daa6593f9f0617fd" category="inline-link-rx"></block>。</block>
  <block id="2284dc5d4add6f82e5bc0121aa82a816" category="list-text">新增支援搭配 azure-NetApp-Files 儲存驅動程式使用 Azure 託管身分識別（ AMI ）。</block>
  <block id="f77d4be42f8ef9e2474d677786cf6d7a" category="paragraph">雲端身分識別可讓 Kubernetes Pod 以工作負載身分驗證來存取 Azure 資源、而非提供明確的 Azure 認證。</block>
  <block id="088be2b53cfa8710d751578d273c4af0" category="paragraph">若要在 Azure 中使用雲端身分識別、您必須具備：</block>
  <block id="33176aeb27c41088051f460946356423" category="inline-link-macro">安裝 NFS 工具</block>
  <block id="dd1774ab705fcc0738f7d5cfa8176115" category="paragraph"><block ref="918981963bb555a1b3a006c12fd13637" category="inline-link-macro-rx"></block> 如果您使用的是：<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>、<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>、<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block>。</block>
  <block id="e007fb329975dfac9458f3defd0f7fc1" category="inline-link-macro">安裝 NVMe 工具</block>
  <block id="fd7af40a7e3f81bfb0a51eac257dc730" category="paragraph"><block ref="8ac92b41418caf5b4c74c2a77a0c349a" category="inline-link-macro-rx"></block> 如果您正在使用<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> 適用於透過 TCP （ NVMe / TCP ）傳輸協定的非揮發性記憶體高速（ NVMe ）。</block>
  <block id="50f9796c3e95f29464ed077bb59ca6a5" category="cell"><block ref="a1edaea62dbed344534369e9668223b1" prefix="" category="inline-code"></block></block>
  <block id="d3ee0f95ea35db45a8c5d2deb96b4eb9" category="cell">啟動 iSCSI 自我修復的時間間隔。</block>
  <block id="d2393ee8411e83742fc73a79660d81ba" category="cell"><block ref="48899b1fc217fef67f8c9c11d2af0800" prefix="" category="inline-code"></block></block>
  <block id="5368476cef8604c12ee3f8a741319473" category="cell"><block ref="85fc372a514da766ce84a222668f8e62" prefix="" category="inline-code"></block></block>
  <block id="a5c601ef1c412054e22a761067edb9da" category="cell">iSCSI 自我修復透過執行登出和後續登入來嘗試解決過時工作階段的持續時間。</block>
  <block id="e1bd8a641f8c3114c2698aa76942b621" category="cell"><block ref="4fe853d0c57c2a118a755c207068b052" prefix="" category="inline-code"></block></block>
  <block id="d03a790fb20fccc8b27cff74c7a10709" category="section-title">設定或停用 iSCSI 自我修復</block>
  <block id="160cc91d68e6399b864fe236e7a6d11e" category="list-text">*iSCSI 自我修復時間間隔 * ：決定啟動 iSCSI 自我修復的頻率（預設值： 5 分鐘）。您可以設定較小的數字、或設定較大的數字、將其設定為較常執行。</block>
  <block id="af6999fe88eb0d5f3cf5f3c7570bf014" category="paragraph">將 iSCSI 自我修復時間間隔設為 0 會完全停止 iSCSI 自我修復。我們不建議停用 iSCSI 自我修復功能；只有在 iSCSI 自我修復功能未如預期運作或無法進行偵錯時、才應停用 iSCSI 自我修復功能。</block>
  <block id="fe240a869a7a9e3bdc68d460aa116db2" category="list-text">*iSCSI 自我修復等待時間 * ：決定 iSCSI 自我修復等待的時間、再登出不正常的工作階段並再次嘗試登入（預設值： 7 分鐘）。您可以將其設定為較大的數目、以便識別為不正常的工作階段必須等待較長時間才能登出、然後再嘗試重新登入、或是較小的數目來登出和較早登入。</block>
  <block id="7c3dfaf40c8f6c1208932661e70ca6b2" category="paragraph">若要設定或變更 iSCSI 自我修復設定、請通過<block ref="a1edaea62dbed344534369e9668223b1" prefix=" " category="inline-code"></block> 和<block ref="85fc372a514da766ce84a222668f8e62" prefix=" " category="inline-code"></block> 在 helm 安裝或 helm 更新期間的參數。</block>
  <block id="ba53a946a5e7dedfdc75a569107f3a66" category="paragraph">以下範例將 iSCSI 自我修復間隔設為 3 分鐘、而自我修復等候時間設為 6 分鐘：</block>
  <block id="c67fd1b99934afa248dfeb285a9a4191" category="open-title">試用</block>
  <block id="03c688458c87383f238f17223a52f7bd" category="paragraph">若要設定或變更 iSCSI 自我修復設定、請通過<block ref="95df96489cc6481c74d24c1397e3edd9" prefix=" " category="inline-code"></block> 和<block ref="4ad3b66813348b71002bd232a403581c" prefix=" " category="inline-code"></block> 在 Tridentctl 安裝或更新期間的參數。</block>
  <block id="38999be4c01ec9d8c11d4405b7dc50e0" category="inline-link-macro">24.06</block>
  <block id="c21446b3ecfb30ed6c2760d686bd4578" category="cell">2026 年 6 月</block>
  <block id="2f57a6988da045d1c26e2c5016ad0900" category="cell">2027 年 6 月</block>
  <block id="7b5dfababf92391b5761944c63b0d3bb" category="cell">Kubernetes 版本</block>
  <block id="5e2619e85dc9af38c2b7180c37168571" category="list-text">對於運行 Kubernetes 1.24 的羣集，請使用<block ref="bd2cc8575fe69c7f775292759380c838" prefix=" " category="inline-code"></block>。</block>
  <block id="60e3300406400d9ca307bbe9538cb66f" category="list-title">需要考量的重點</block>
  <block id="ce48e23c21c781fc1bd260f1c6bbd0e9" category="list-text">如果使用 TridentBackendConfig （ tbc ）建立後端、則無法使用檔案更新後端<block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block> 。</block>
  <block id="965425a47916235e6c935104c9e64bca" category="list-text">如果已在 tbc 中設定、則<block ref="aa531c83e844d5d66725984798da11b8" prefix=" " category="inline-code"></block> 無法使用命令加以修改<block ref="ce232749b55d6999ffb5cc1feb6c69fe" prefix=" " category="inline-code"></block> 。</block>
  <block id="6969443eb58685fd2ba47dd82c688dfb" category="list-text">使用<block ref="30ef4d8d0d0cb9218c8f70ca2b7ee7bc" prefix=" " category="inline-code"></block> 變更<block ref="aa531c83e844d5d66725984798da11b8" prefix=" " category="inline-code"></block>。您也可以更新<block ref="aa531c83e844d5d66725984798da11b8" prefix=" " category="inline-code"></block> 使用<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> 或<block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block> 檔案、這會觸發後端的完整重新初始化、而且可能會耗費時間。</block>
  <block id="b2b04010a7e4a8486d987f6e074cde45" category="list-text"><block ref="befb9ef08cd8fda4bc507ccd6a523a43" prefix="" category="inline-code"></block> 和<block ref="301cd7c7419443b2c9c5d87f6865f0cb" prefix=" " category="inline-code"></block> 已暫停。</block>
  <block id="15ba7f861a25848aeb7a04303194c22a" category="list-text"><block ref="c76dd551d0df4615489f4840c234db4e" prefix="" category="inline-code"></block>、、<block ref="4956c0b34c154301cbe111d75fb939f9" prefix=" " category="inline-code"></block><block ref="37ca7faad054353aadc61e64e55b4dac" prefix=" " category="inline-code"></block><block ref="9a288381ee12262ef127ccbaeb520730" prefix=" " category="inline-code"></block><block ref="db66912e8bdff8f12b8b75883aeb66ef" prefix=" " category="inline-code"></block>、、<block ref="752d336f53e6d74a5e509dd00eb2a627" prefix=" " category="inline-code"></block><block ref="871b40b0d12fe47d3ce4d2bbfa30ccc5" prefix=" " category="inline-code"></block>、、<block ref="4c7dd4b0f1074705d27d812563c98768" prefix=" " category="inline-code"></block><block ref="70850d0d4fbd8b67815a4598d5655a4d" prefix=" " category="inline-code"></block><block ref="c4e5752b58b7f7b1c92a5302a0940801" prefix=" " category="inline-code"></block>、、<block ref="7c976338db43771fa6048705880496ea" prefix=" " category="inline-code"></block> 保持可用狀態。</block>
  <block id="6ca35db8eab6c30e03e715e99d3c1d11" category="paragraph">您也可以使用後端組態檔案或中的欄位來更新後端狀態<block ref="aa531c83e844d5d66725984798da11b8" prefix=" " category="inline-code"></block><block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block><block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block>。如需詳細資訊、請參閱 <block ref="991ae6fba57a2359d4e338d48b85301c" category="inline-link-macro-rx"></block> 和 <block ref="d39ea29671737dc4c6f8b362e0ace309" category="inline-link-macro-rx"></block>。</block>
  <block id="c26fe677a830587ef1c141567a86c86a" category="paragraph">*範例：*</block>
  <block id="4c8c9b9d93d68dc932195b1aa0583910" category="paragraph">請依照下列步驟使用檔案更新<block ref="aa531c83e844d5d66725984798da11b8" prefix=" " category="inline-code"></block><block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block> ：</block>
  <block id="13cf048f75b63ff6bd6513e6ceb81fe0" category="list-text">編輯<block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block> 檔案、<block ref="aa531c83e844d5d66725984798da11b8" prefix=" " category="inline-code"></block> 將欄位的值設為「已待定」。</block>
  <block id="a0c475f6592b0a660cc2db104d607b3f" category="paragraph">您可以在使用命令套用 tbc 之後編輯它<block ref="cdf774783c0eec7f2639a3c0d70d29ff" prefix=" " category="inline-code"></block> 。下列範例會使用選項更新後端狀態以暫停<block ref="c7d1d8826ecea15bd2786371bbe65f70" prefix=" " category="inline-code"></block> ：</block>
  <block id="68fed7a5dad5dbe38e73f242591f9cdc" category="inline-link-macro">問題 #341</block>
  <block id="79695bf027de5b53252ad567db19afc0" category="list-text">** 重要 ** ：此<block ref="e083f2ed1275af0ce4336a068ebee72a" prefix=" " category="inline-code"></block> 參數現在限制了 ONTAP 經濟驅動程式中的 qtree /LUN 大小。使用新 <block ref="c8f83e727d4a4255a6485c24776e86bb" prefix=" " category="inline-code"></block> 參數來控制這些驅動程式中的 FlexVol 大小。（<block ref="43e193e4ec566def2b1890b13e291e7f" category="inline-link-macro-rx"></block>）。</block>
  <block id="f8a74109e040a7d2fe11f386046e7f0f" category="inline-link-macro">問題 #883</block>
  <block id="d9b039cc0482c40024b1c3e5b5bfab48" category="list-text">增加了 iSCSI 自我修復功能，可在使用過時的 igroup 時，以確切的 LUN ID 啟動 SCSI 掃描（<block ref="1db457cca48a821c9957caae88cdf1d0" category="inline-link-macro-rx"></block>）。</block>
  <block id="624c548303efc06e3245885cb046ce02" category="list-text">新增對 Volume Clone 的支援、即使後端處於暫停模式、也能調整作業大小。</block>
  <block id="53e2f13be42e180fc96be9feca214cc0" category="list-text">新增對 ONTAP 儲存設備後端上的自訂磁碟區名稱和中繼資料的支援、以供新的持續磁碟區使用。</block>
  <block id="f22dddc969b204ba1f08fd5b6dccf9e5" category="list-text">增強<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block> （ anf ）驅動程式、可在 NFS 裝載選項設定為使用 NFS 版本 4.x 時、依預設自動啟用快照目錄</block>
  <block id="b480f0e15ab56f178942ac571ef3d0b4" category="list-text">新增對 NFS 磁碟區的 Bottlerocket 支援。</block>
  <block id="2b1f345aa37d468275a96267dbf3cc86" category="list-text">新增 Google Cloud NetApp Volumes 的技術預覽支援。</block>
  <block id="d329ee31cea82ba7b18282e9874fd6fb" category="inline-link-macro">問題 #849</block>
  <block id="7bdef3d1e5eba62c2c49345689cb034e" category="list-text">新增 PVC 註解<block ref="36720d50814e4335401b2047257bfedf" prefix=" " category="inline-code"></block> 以動態匯入 LUKS Volume （<block ref="8164e77c784c82617684b3113cbe7b39" category="inline-link-macro-rx"></block>）。</block>
  <block id="88cc43db200dd9a0ba8b9f3d2b3494c5" category="list-text">新增拓撲感知功能至 anf 驅動程式。</block>
  <block id="5f9e29078ffd406f09be67dadfa65c81" category="inline-link-macro">問題 #892</block>
  <block id="d2e65e05e52ae58b1bc83b9f92667bc4" category="list-text">修正 tridentctl 以忽略 Kubernetes （）的警告訊息<block ref="74b3b54ef301f7904eaa2691276657ad" category="inline-link-macro-rx"></block>。</block>
  <block id="6d20ebb6924fd1c28927afadfd523477" category="inline-link-macro">問題 #887</block>
  <block id="e0d3d678b5ec46031ee8c6afb7413c9e" category="inline-link-macro">問題 [#885</block>
  <block id="62a3f40ae48e77863d3e5bdef59c1adb" category="list-text">修正 NFS v4.1 的磁碟區匯入失敗。</block>
  <block id="6a89b6f002954f791e28c8dd2f2afcc8" category="section-title">24.02 的變更</block>
  <block id="4487bf4a5d2565e471a4ac1e0bba9af6" category="cell"><block ref="1f2a94e142bf020b1f7c6297ec12413f" prefix="" category="inline-code"></block></block>
  <block id="d9ecfcade7b244fc0100c0ff4359f5ea" category="cell">代表此後端所支援的區域和區域清單。如需詳細資訊、請 <block ref="a735758eec435cad1c5672b75bd657c0" category="inline-link-macro-rx"></block>參閱。</block>
  <block id="65a6416f3ed9552fcc006c830dbeac72" category="example-title">支援的拓撲組態</block>
  <block id="a8d3b70256520cece459d618f0b69d22" category="cell"><block ref="b326b5062b2f0e69046810717534cb09" prefix="" category="inline-code"></block> 對於 ONTAP 9.15.1 或更高版本，否則<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>。</block>
  <block id="1a917db78e9060d4bb44a3e3d9a60cb3" category="cell"><block ref="feeb5473f4afb4f667dfc9d369c3b454" prefix="" category="inline-code"></block></block>
  <block id="ae7206c28f1d0ee5f9f116f1cfe22c54" category="cell">建立自訂磁碟區名稱的範本。</block>
  <block id="b797b4560e6c4ae4e13d035bbce23b4d" category="example-title">名稱範本的後端組態範例</block>
  <block id="f1b9eac8c1d92956d7734db32c5e55d9" category="list-text">K8s 節點正常或不正常關機（ 24.06 ）</block>
  <block id="3c49604e542827bab74a3fdc9c521379" category="doc">自訂磁碟區名稱和標籤</block>
  <block id="52929ef06c83a3071dc677c6076f8eb3" category="paragraph">可自訂的 Volume 名稱和標籤支援：</block>
  <block id="ba7ad86bd3d0a50a4a04306d941e6c28" category="list-text">Volume 建立、匯入及複製作業。</block>
  <block id="4c71628145ace597229ccf6ca6fdc8bf" category="section-title">可自訂 Volume 名稱的主要行為</block>
  <block id="a5a284fe1356005dc517f157bef35adc" category="list-text">如果名稱範本中的語法無效而導致失敗、則後端建立會失敗。但是、如果範本應用程式失敗、則會根據現有的命名慣例來命名磁碟區。</block>
  <block id="d654edd1d54bb9458ddce1a8e82a2733" category="list-text">如果使用後端組態的名稱範本命名磁碟區、則不適用儲存前置詞。任何所需的前置字元值都可以直接新增至範本。</block>
  <block id="7a4b723467d577190f5e83269d9c620a" category="section-title">名稱範本和標籤的後端組態範例</block>
  <block id="c08c19c0fe3a67a5a218b1aa469e05ad" category="paragraph">自訂名稱範本可在根和 / 或集區層級定義。</block>
  <block id="12f281b150c6774b77a875b26e355bfc" category="listing-title">根層級範例</block>
  <block id="93a53c76d697da9fb40dcf5571309b51" category="listing-title">集區層級範例</block>
  <block id="c9181e8d9effc5e3fff6e681bc43f9bb" category="section-title">名稱範本範例</block>
  <block id="6834f2805b2a45680a7ae789728955a4" category="paragraph">* 範例 1* ：</block>
  <block id="c0fa2da2f469c0dff06ceac7e749b20d" category="paragraph">* 範例 2 * ：</block>
  <block id="e1a1ba8a7f91a9affe2c95b795610ca0" category="list-text">在 Volume 匯入的情況下、只有現有的 Volume 具有特定格式的標籤時、標籤才會更新。例如<block ref="ac1133297b5ec16017c28f04387bb5c9" prefix=" " category="inline-code"></block>：。</block>
  <block id="feddffabbdd5254f9975a1a26a73d651" category="list-text">在託管 Volume 匯入的情況下、 Volume 名稱會遵循在後端定義的根層級所定義的名稱範本。</block>
  <block id="e8ce47501426b8525633fc30daf17d7a" category="sidebar">自訂磁碟區名稱</block>
  <block id="bd97885496639b0f4498d4131198ac36" category="list-text">新增對Windows Server 2022節點的支援。</block>
  <block id="de547bcab0e20f54ec4d5e95ba44b0b1" category="list-text">Windows Server 2022</block>
  <block id="010e61d0b40eeb84b96a1321e8f0bab7" category="cell">ext4 、 ext3 、 xfs</block>
  <block id="e422e290c66eca7f882976f830b781b4" category="list-text">增加了對 Kubernetes 1.30 的支援。</block>
  <block id="190dbae19c88b1e68bf03f7783c5d5d1" category="list-text"><block ref="190dbae19c88b1e68bf03f7783c5d5d1" category="inline-link-rx"></block></block>
  <block id="430c6bcb8516befc45fb8173b0ca4e1f" category="list-text"><block ref="430c6bcb8516befc45fb8173b0ca4e1f" category="inline-link-rx"></block></block>
  <block id="d7d36869f2f4aa1eb99a10008e153f20" category="list-text"><block ref="d7d36869f2f4aa1eb99a10008e153f20" category="inline-link-rx"></block></block>
  <block id="f8b52d963f246a75dc6c8b78c954a4fd" category="list-text"><block ref="f8b52d963f246a75dc6c8b78c954a4fd" category="inline-link-rx"></block></block>
  <block id="b6780b7b2561935ff862fe7126cde751" category="list-text"><block ref="b6780b7b2561935ff862fe7126cde751" category="inline-link-rx"></block></block>
  <block id="b9a641d903e611a87a5e68ac7fdb0b84" category="list-text">Trident AutoSupport 無法收集或傳輸個人識別資訊（PII）或個人資訊。隨附<block ref="173a360b412944768c2ab13e6c8fd1c7" category="inline-link-rx"></block> 不適用於 Trident 容器映像本身的。您可以深入瞭解 NetApp 對資料安全與信任的承諾<block ref="d3cc55401bc8303e01c6b0c43ba0733f" category="inline-link-rx"></block>。</block>
  <block id="5ff83dbc70e496ea22b38ea61bb69f05" category="list-text">觀看上的示範 <block ref="c27441bbbe62adf51ae6ecec41fde8bd" category="inline-link-macro-rx"></block>。</block>
  <block id="533a7baf9026dddae6baef47ea605b08" category="doc">部署範例應用程式</block>
  <block id="c09ee63e688125cf9517a66bb5a0a5a6" category="paragraph">這些範例顯示將 PVC 附加至 Pod 的基本組態： * 基本組態 * ：</block>
  <block id="f477db05998ad8420119de646e2ff290" category="doc">建立 IAM 角色和 AWS 密碼</block>
  <block id="98c3c9acd444d11890d48438db3c165e" category="paragraph">您可以將 Kubernetes Pod 設定為以 AWS IAM 角色進行驗證、而非提供明確的 AWS 認證、以存取 AWS 資源。</block>
  <block id="3f566b5ded6e7ac8c26dd3c07a2ea056" category="admonition">若要使用 AWS IAM 角色進行驗證、您必須使用 EKS 部署 Kubernetes 叢集。</block>
  <block id="3926fdac6344d565c95f560468946335" category="section-title">建立 IAM 原則</block>
  <block id="78edc229f8df1c5e0840f6469bc28454" category="paragraph">下列範例使用 AWS CLI 建立 IAM 原則：</block>
  <block id="77f6e3db9b70538186091595d9c8c9e8" category="list-text">EKS 附加元件</block>
  <block id="e477faed39be08642267684bb501d931" category="open-title">管理主控台</block>
  <block id="e8d532dbf6904e2793dbda6fd0d03818" category="list-text">開啟 Amazon EKS 主控台：<block ref="c4765fcd1a0f97cf67c0365ddc45d563" category="inline-link-rx"></block>。</block>
  <block id="cacc1ddf612923b1c73b0a9a76659f42" category="list-text">在 * 設定選取的附加元件 * 設定頁面上、執行下列步驟：</block>
  <block id="149e81257342cd05b0256d010b0b4a37" category="list-text">選擇您要使用的 * 版本 * 。</block>
  <block id="dfe4bfc5bd8b8d180411468fbdbb4033" category="list-text">選擇 * 下一步 * 。</block>
  <block id="fbadf292f84bef20d7678936dbe4c4ce" category="list-text">在 * 檢閱及新增 * 頁面上、選擇 * 建立 * 。</block>
  <block id="46bfc11fb8f185d278ea910b0052a317" category="paragraph">附加元件安裝完成後、您會看到已安裝的附加元件。</block>
  <block id="7820fdb5d8b3ebe0c69c86cf8bd2d0cf" category="open-title">AWS CLI</block>
  <block id="52b5830420efb96c3a91beb52bac3b23" category="paragraph">* 輸出範例： *</block>
  <block id="b3f252777a69b110667756babe83a98f" category="inline-link-macro">附加元件</block>
  <block id="25626757a73152ece7fdadb90ede4b7c" category="inline-link-macro">Kubernetes 現場管理</block>
  <block id="751f793ade8de1ed590e0f90ac05d8e1" category="paragraph">如果您移除此<block ref="c23ab3adaec8ca15ff3ffd0971be6152" prefix=" " category="inline-code"></block> 選項、且任何 Amazon EKS 附加元件設定與您現有的設定發生衝突、則更新 Amazon EKS 附加元件會失敗；您會收到錯誤訊息、協助您解決衝突。在指定此選項之前、請確定 Amazon EKS 附加元件不會管理您需要管理的設定、因為這些設定會以此選項覆寫。如需此設定的其他選項的詳細資訊，請參閱 <block ref="aea621f0e078efb8367c5d5e894674cd" category="inline-link-macro-rx"></block>。如需 Amazon EKS Kubernetes 現場管理的詳細資訊、請參閱 <block ref="97bdcfd76d2ff3e4855f6b36ebad236e" category="inline-link-macro-rx"></block>。</block>
  <block id="b0c6845b636be8c810182f985c930fed" category="list-text">打開 Amazon EKS 控制檯<block ref="c4765fcd1a0f97cf67c0365ddc45d563" category="inline-link-rx"></block>。</block>
  <block id="5f06738a5749e735a4681f5c09e2bafc" category="paragraph">下列範例更新 EKS 附加元件：</block>
  <block id="d8c918c170a0768203b4c2a6218e22bf" category="paragraph">您有兩種移除 Amazon EKS 附加元件的選項：</block>
  <block id="577a7d77fb14f745abf0c5ee04b72879" category="admonition">如果附加元件有相關的 IAM 帳戶、則不會移除 IAM 帳戶。</block>
  <block id="c8e9b5ea2470965edac225c56a879d07" category="list-text">在 * 移除 NetApp_trident 操作員確認 * 對話方塊中、執行下列步驟：</block>
  <block id="10aba138eb518a0cc15662934a1f6e18" category="list-text">如果您想要 Amazon EKS 停止管理附加元件的設定、請選取 * 保留在叢集 * 上。如果您想要保留叢集上的附加軟體、以便自行管理附加元件的所有設定、請執行此動作。</block>
  <block id="ecca191ac54751ba8120816fbe45777e" category="list-text">輸入 *NetApp_trident － operer* 。</block>
  <block id="bb7c6bde1fc26965ada02923bac65350" category="paragraph">以叢集名稱取代<block ref="e2eb89f0ffaf521a0d2eeaffca04d117" prefix=" " category="inline-code"></block> 、然後執行下列命令。</block>
  <block id="23e0e5bfdd7b1fef2ab4d932aae742e5" category="doc">設定儲存後端</block>
  <block id="c3e86b30fe8148143701324ae1595af8" category="list-text"><block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix="" category="inline-code"></block>：配置的每個 PV 都是其各自 Amazon FSX 中的 LUN （用於 NetApp ONTAP Volume ）。建議用於區塊儲存。</block>
  <block id="3878a0c92e55dbd3cdd9458330c2f1c3" category="list-text"><block ref="8321592ce24c8a122ecf26a63cfca407" prefix="" category="inline-code"></block>：配置的每個 PV 都是 NetApp ONTAP Volume 的完整 Amazon FSX 。建議用於 NFS 和 SMB 。</block>
  <block id="eadd7f9188e84053efc871a14d0d3bd6" category="section-title">後端進階組態和範例</block>
  <block id="ab2e083df601e1b7c7346487158ab13f" category="cell">"`100`"</block>
  <block id="7a5bbb3c815084605b780e0cd6e810fd" category="cell"><block ref="89ffa293e05655bd6be9d422345be38a" prefix="" category="inline-code"></block></block>
  <block id="9817ca035dba7bc4123be2c0bf280d66" category="doc">設定儲存類別和 PVC</block>
  <block id="c3d2188822ac025c91b768888f8af01e" category="paragraph">此範例顯示具有 rwx 存取權的基本 PVC 、與名稱為的 StorageClass 相關聯<block ref="1c62ceba602064183a6346b85fe26c96" prefix=" " category="inline-code"></block>。</block>
  <block id="8067a6840467d2024a341120a4e2440e" category="list-text">認證型（建議）：在 AWS Secrets Manager 中安全地儲存認證。您可以將使用者用於檔案系統、或是使用<block ref="679500f227997b45be97e3ca8115c678" prefix=" " category="inline-code"></block><block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block> 為 SVM 設定的使用者。</block>
  <block id="53f64465dc89ebfc8f426b3cdf4d1614" category="sidebar">建立 IAM 角色和 AWS 密碼</block>
  <block id="0a3c6c3b1b9418c792ec73b934ca8fdd" category="sidebar">設定儲存後端</block>
  <block id="50399b7d6597b32502708277dd2be03c" category="sidebar">設定儲存類別和 PVC</block>
  <block id="cb4d8d2a5476183e7996047b4bd621a5" category="summary">瞭解 Google Cloud NetApp Volume 的 NFS 和 NFS 後端組態選項、並檢閱組態範例。</block>
  <block id="45868a9cc24b15883bb385cc21568b9c" category="doc">Google Cloud NetApp Volumes 後端組態選項和範例</block>
  <block id="24efddb2a68726b53abbc21ed25602ec" category="cell">的值<block ref="d45aebe724c55b101f2ae8924ba3d486" prefix=" " category="inline-code"></block> 必須指定為「 googoogle 雲端 -NetApp-Volumes 」。</block>
  <block id="486c28964f4c2b1cb7d4cf8476c6f43b" category="cell">（選用）儲存後端的自訂名稱</block>
  <block id="04075132f95c6ef305485ab113422c5a" category="cell">選用參數、用於指定用於建立磁碟區的儲存資源池。</block>
  <block id="1713a0b57aa7aa8811b66291bd6740ea" category="cell">儲存池及其磁碟區的服務層級。這些值包括<block ref="897a779351421523cadbafccdce22efe" prefix=" " category="inline-code"></block>、<block ref="c00f0c4675b91fb8b918e4079a0b1bac" prefix=" " category="inline-code"></block>、<block ref="a288195832f8717bca4671416014a464" prefix=" " category="inline-code"></block>或<block ref="287e9593819b2fcdf9945e7ccacd637d" prefix=" " category="inline-code"></block>。</block>
  <block id="c1a95f00cc65baba0b4226ef5a52eb6c" category="cell">用於 GCNV Volume 的 Google Cloud 網路。</block>
  <block id="ed9bce6a4d879e7f479badb9932b75b3" category="cell">疑難排解時要使用的偵錯旗標。範例：<block ref="448bcae3131355f9b92b192b1057af2f" prefix=" " category="inline-code"></block>。除非您正在進行疑難排解並需要詳細的記錄傾印、否則請勿使用此功能。</block>
  <block id="95c5fc7684c0c685ae305908e8360de5" category="cell">新磁碟區的匯出規則。必須是以逗號分隔的任何 IPv4 位址組合清單。</block>
  <block id="3731633acfd0b9fb847e03ce2fdab4fa" category="cell">" （接受預設值 0 ）</block>
  <block id="f666bd4432d66c3d0a6c3eb68602a507" category="cell">新磁碟區的UNIX權限（4個八進位數字）。</block>
  <block id="b0663450e547d90a59ef16fd10b49313" category="paragraph">當您剛開始使用 Google Cloud NetApp Volumes 並試用時、這項組態非常理想、但實際上您很可能需要為您所配置的 Volume 提供額外的範圍。</block>
  <block id="2d55ceabc505d58735d6f639a0ddee3c" category="example-title">使用 StoragePools 篩選器進行組態</block>
  <block id="9f50e88dc1b2f50c32d6623a46186422" category="paragraph">此後端組態會在單一檔案中定義多個虛擬集區。虛擬集區是在一節中定義<block ref="ddecebdea58b5f264d27f1f7909bab74" prefix=" " category="inline-code"></block> 。當您有多個儲存集區支援不同的服務層級、而且您想要在 Kubernetes 中建立代表這些層級的儲存類別時、這些功能就很有用。虛擬集區標籤用於區分集區。例如、在下面的範例中、<block ref="c05f6c233521207f6fe311afef550c3c" prefix=" " category="inline-code"></block> 標籤和<block ref="f1d0ae63f2e948a9e43dcc60303d595d" prefix=" " category="inline-code"></block> 類型是用來區分虛擬集區。</block>
  <block id="88b8febb44310d1976318cdfbfc8e272" category="paragraph">您也可以將某些預設值設定為適用於所有虛擬集區、並覆寫個別虛擬集區的預設值。在下列範例中<block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix=" " category="inline-code"></block> 、並<block ref="c72971f17465d2a32345bc872af62a34" prefix=" " category="inline-code"></block> 做為所有虛擬集區的預設值。</block>
  <block id="6a34de146c5cb15d515a8eccfe1e159a" category="paragraph">如需詳細資訊、請 <block ref="2485f0c91682fe52be2f7fb65e682d5e" category="inline-link-macro-rx"></block>參閱。</block>
  <block id="aae18f7253cac406ae284f53b287a9df" category="paragraph">若要確認後端已成功建立、請執行下列命令：</block>
  <block id="03b8a172613e4de074d79fb4f46074a3" category="paragraph">如果後端建立失敗、表示後端組態有問題。您可以使用命令來描述後端<block ref="229abe1e223382a9207e6c5818f53303" prefix=" " category="inline-code"></block> 、或是執行下列命令來檢視記錄以判斷原因：</block>
  <block id="c80946da495de259ca1ba66a90f669f1" category="paragraph">識別並修正組態檔的問題之後、您可以刪除後端、然後再次執行 create 命令。</block>
  <block id="7412fabe1fe110c48954fa7d913c7aa6" category="paragraph">以下是上述後端的基本<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> 定義。</block>
  <block id="73edba1e6e192a3d47eeb049261cf706" category="paragraph">* 使用欄位的範例定義<block ref="4d859186a09b1da3597e5901157d9400" prefix=" " category="inline-code"></block> ： *</block>
  <block id="131942def57ce0eceb784a70e3a3c6b7" category="inline-link-macro">虛擬集區</block>
  <block id="21f282d336bd6884d8049de5c63672b5" category="paragraph">使用、<block ref="4d859186a09b1da3597e5901157d9400" prefix=" " category="inline-code"></block> 您可以為用於裝載 Volume 的每個指定<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> <block ref="6679d756882db6798c9460928c0b140b" category="inline-link-macro-rx"></block> 。該磁碟區會在所選的資源池中定義各個層面。</block>
  <block id="017c90fe97524fad37b16a935c4a6d93" category="paragraph">如需儲存類別的詳細資訊、請 <block ref="70514be1adf68f525abe0b1ddd1123f6" category="inline-link-macro-rx"></block>參閱。</block>
  <block id="f9f2eb48a9034cb5dc809b4a8cfe0514" category="section-title">PVC 定義範例</block>
  <block id="1fa71ec0db169cb1ef6cfabf7648910e" category="paragraph">若要驗證 PVC 是否受限、請執行下列命令：</block>
  <block id="42d7c2849e22a4d78da8b275f64f75aa" category="summary">在您設定 Google Cloud NetApp Volumes 後端之前、您必須確保符合下列需求。</block>
  <block id="b50d4e4fb1b847d1270df87e42364fe0" category="doc">準備設定 Google Cloud NetApp Volumes 後端</block>
  <block id="0935df2153a18d9a4776751ebfb7cb82" category="section-title">NFS Volume 的必要條件</block>
  <block id="a03c3224ff98ca5b518f8a11ed9d6f72" category="paragraph">如果您是第一次使用 Google Cloud NetApp Volumes 、或是在新位置使用、則需要進行一些初始設定、才能設定 Google Cloud NetApp Volumes 並建立 NFS Volume 。請參閱 <block ref="d2edeebd0b5ddcd8a293f6eb7960f37c" category="inline-link-macro-rx"></block>。</block>
  <block id="ec8b4b1603705e8f5deb17b1f83c5b04" category="paragraph">在設定 Google Cloud NetApp Volumes 後端之前、請先確認您擁有下列項目：</block>
  <block id="1215f8190533dfdf63d2224a6d88266f" category="inline-link-macro">Google Cloud NetApp Volumes</block>
  <block id="cbd1a08f0c7e9ece495b85acebbda95f" category="list-text">使用 Google Cloud NetApp Volumes 服務設定的 Google Cloud 帳戶。請參閱 <block ref="633097af004065de10009ea2f33900c4" category="inline-link-macro-rx"></block>。</block>
  <block id="d602f37c15ba943e502f28694eb5a2b1" category="inline-link-macro">識別專案</block>
  <block id="ecf1c0124555e123ac90e38128ef83e5" category="list-text">Google Cloud 帳戶的專案編號。請參閱 <block ref="64c0ff4c5d45f1d3f3d8ce4197eed1cc" category="inline-link-macro-rx"></block>。</block>
  <block id="aa22e5fd0429d1ecf78d5deedf0c6dc8" category="inline-link-macro">身分識別與存取管理角色與權限</block>
  <block id="ef2186bedd233e9b009e5d1764dc1e3c" category="inline-link-macro">儲存資源池總覽</block>
  <block id="33773afc759728866f9a57d82940a56c" category="list-text">儲存池。請參閱 <block ref="d347dce2da907b926fcf6a02a7257712" category="inline-link-macro-rx"></block>。</block>
  <block id="dd2c158264290c91be79556252aca308" category="inline-link-macro">設定 Google Cloud NetApp Volumes 的存取權</block>
  <block id="7cef0ad261753740989fa192df2e19e9" category="paragraph">如需如何設定 Google Cloud NetApp Volumes 存取權限的詳細資訊、請 <block ref="5e9b4ec852ec4a511a1370be58118d01" category="inline-link-macro-rx"></block>參閱。</block>
  <block id="b73a4f3ea8538e5ef0b4078c119b3c8d" category="doc">設定 Google Cloud NetApp Volumes 後端</block>
  <block id="23fa813a6884f33dc0d2070ae5260e6a" category="section-title">Google Cloud NetApp Volumes 驅動程式詳細資料</block>
  <block id="5ab9649a1218ec1b35bfb38efbeaea76" category="cell"><block ref="94594b2ccbc8e0d220ad37504461650b" prefix="" category="inline-code"></block></block>
  <block id="74d08e13aea757b8172499f067668443" category="paragraph">可要求的最大磁碟區大小。</block>
  <block id="f14a3ef36727dfbbea91c1d6b3fdbede" category="cell"><block ref="c8f83e727d4a4255a6485c24776e86bb" prefix="" category="inline-code"></block></block>
  <block id="33fefa32caf35cd4691465f3592a0539" category="cell">*<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block><block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> 僅支援和驅動程式。 *在 ONTAP ONTAP NAS 經濟型和 ONTAP SAN 經濟型驅動程式中限制 FlexVol 大小。</block>
  <block id="1b75c146ff0568d5fc11072b08cfe580" category="section-title">限制 Trident 所建立的 FlexVols 大小上限</block>
  <block id="913d5950907a31c9d3ea6cd0a3b6a524" category="paragraph">若要將 FlexVols 的最大大小設定為用於 ONTAP SAN 經濟型和 ONTAP NAS 經濟型驅動程式的集區、請使用<block ref="c8f83e727d4a4255a6485c24776e86bb" prefix=" " category="inline-code"></block><block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block>定義中的參數。</block>
  <block id="d981d675ba14b9478a2c2da5c7df780b" category="cell">在 ONTAP SAN 經濟型後端中使用 LUN 時、可要求的最大 FlexVol 大小。</block>
  <block id="64049136ec90cc479c7521e9b6e172eb" category="section-title">用於匯入 LUKS Volume 的 PVC 組態</block>
  <block id="b49b86551096c421a3bc5d3b79eede84" category="paragraph">若要動態匯入 LUKS Volume 、請將註釋設<block ref="36720d50814e4335401b2047257bfedf" prefix=" " category="inline-code"></block>為<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>、並在 PVC 中包含啟用 LUKS 的儲存類別、如本範例所示。</block>
  <block id="eb80be396693610ba21c23b6b222bb73" category="paragraph">* 升級 Trident 之前應考慮的要點 *</block>
  <block id="b100864b32a36993557470c9854e7e3a" category="list-text">如果僅使用每個節點的 igroup （於 23.04+ 推出）、 iSCSI 自我修復將會為 SCSI 匯流排中的所有裝置啟動 SCSI 重新掃描。</block>
  <block id="284bb2f9d2596017aa72985df760fdb3" category="list-text">如果僅使用後端範圍的 igroup （自 2004 年 23 日起已過時）、 iSCSI 自我修復將會針對 SCSI 匯流排中的確切 LUN ID 啟動 SCSI 重新掃描。</block>
  <block id="0d6cf1de077f00140ee25c03f94e4805" category="list-text">如果混合使用每個節點的 igroup 和後端範圍的 igroup 、 iSCSI 自我修復將會啟動 SCSI 重新掃描、以取得 SCSI 匯流排中的確切 LUN ID 。</block>
  <block id="472039bf3422ff2697dba6fc9fdd57d8" category="inline-link-macro">Trident 支援生命週期</block>
  <block id="c45d9c1b397ff706a7a39c069930c677" category="inline-link">Trident 24.06</block>
  <block id="d0fd12656eeec63fe137c83181c17c0b" category="list-text"><block ref="d0fd12656eeec63fe137c83181c17c0b" category="inline-link-rx"></block></block>
  <block id="45d1e500370372fc7e76e110b5aff92d" category="inline-link">Trident 24.02</block>
  <block id="b735f50352c31f80267e7a6fc57ce804" category="list-text"><block ref="b735f50352c31f80267e7a6fc57ce804" category="inline-link-rx"></block></block>
  <block id="b4dfeb42b5c9816777494eeb7a772461" category="inline-link">Trident 23.10</block>
  <block id="55cad0455da7cf59434d9f8ff225c39b" category="list-text"><block ref="55cad0455da7cf59434d9f8ff225c39b" category="inline-link-rx"></block></block>
  <block id="8806d0d5f26e8a704b5d26c076c531bd" category="inline-link">Trident 23.07</block>
  <block id="9c74a4e8266dd7e50d12a159c32d6b10" category="list-text"><block ref="9c74a4e8266dd7e50d12a159c32d6b10" category="inline-link-rx"></block></block>
  <block id="3a4e6f76b26aa8878f5798aba052777c" category="inline-link">Trident 23.04</block>
  <block id="5bff8eb1dea519dd15a076031fa9f288" category="list-text"><block ref="5bff8eb1dea519dd15a076031fa9f288" category="inline-link-rx"></block></block>
  <block id="5382f4fbc3622ef143d9ddbe033351ab" category="inline-link">Trident 23.01</block>
  <block id="a9425b076f0cf301dc3a2d77e67816ca" category="list-text"><block ref="a9425b076f0cf301dc3a2d77e67816ca" category="inline-link-rx"></block></block>
  <block id="c48696f9d5a5a881f7f2f08fd40ce424" category="summary">尋找有關安裝、設定、升級及疑難排解 Trident 的常見問題集解答。</block>
  <block id="d9aca3de44ae0828dd89d53663e6e4c8" category="section-title">Trident 的發行頻率為何？</block>
  <block id="d68e1eab03012de1cfe733b0e5a56e0a" category="paragraph">從 24.02 版開始、 Trident 每四個月發佈一次： 2 月、 6 月和 10 月。</block>
  <block id="0f7d5cbd339fb02ad7b6d2052778b76c" category="section-title">Trident 是否支援特定版本的 Kubernetes 所發行的所有功能？</block>
  <block id="0393f24e9d90badf5195c5d59c8cab27" category="paragraph">Trident 通常不支援 Kubernetes 中的 Alpha 功能。Trident可能支援Kubernetes試用版之後的兩個Trident版本中的試用版功能。</block>
  <block id="c05993771d3f4855968becac69b33f44" category="section-title">Trident 是否因其運作而對其他 NetApp 產品有任何相依性？</block>
  <block id="206d5ff7336a8540d7a581ba45c5f83f" category="paragraph">Trident 與其他 NetApp 軟體產品沒有任何相依關係、而且可作為獨立應用程式使用。不過、您應該擁有NetApp後端儲存設備。</block>
  <block id="95bcf2f0f55536798451f058ec6640a9" category="section-title">如何取得完整的 Trident 組態詳細資料？</block>
  <block id="67323698ba39f83a63a92758f63e8080" category="paragraph">使用<block ref="fed7609223e8cae53e079facb24f3426" prefix=" " category="inline-code"></block>命令可取得有關 Trident 組態的更多資訊。</block>
  <block id="d29b114bc457427dcaea77aacc90fe8a" category="section-title">我是否可以取得 Trident 如何配置儲存設備的計量標準？</block>
  <block id="61d2a329cdb6694d83cd5fbf5dc02f7a" category="paragraph">是的。可用來收集 Trident 作業相關資訊的 Prometheus 端點、例如管理的後端數、已配置的磁碟區數量、使用的位元組等。您也可以用於<block ref="7a2477b8055ecdaa4bd473b0556bcb2a" category="inline-link-macro-rx"></block>監控和分析。</block>
  <block id="9bdccce3d8a96585da41b41f9a8a35ea" category="section-title">使用 Trident 做為 CSI 資源配置程式時、使用者體驗是否會改變？</block>
  <block id="09c8fb7656ad21dac196205f70094681" category="paragraph">否。就使用者體驗和功能而言、沒有任何變更。使用的置備程式名稱為<block ref="08044207e9f63bb0fd474dab347a776c" prefix=" " category="inline-code"></block>。如果您想要使用目前和未來版本所提供的所有新功能、建議您使用這種安裝 Trident 的方法。</block>
  <block id="804e1070c55dcfc75cbde5cbcb86c3ba" category="section-title">在 Kubernetes 叢集上安裝及使用 Trident</block>
  <block id="df316d84e969d52af02710ec31df7055" category="section-title">Trident 是否支援從私人登錄進行離線安裝？</block>
  <block id="5e05991e14fd9934a724121da40f5b98" category="inline-link-macro">瞭解 Trident 安裝</block>
  <block id="d55b9ba8a4efff113044f9efe0557e0c" category="paragraph">可以、 Trident 可以離線安裝。請參閱 <block ref="ed3eb8298d3a91b1400b1be26865f5ec" category="inline-link-macro-rx"></block>。</block>
  <block id="75ac7954ef399713139c894c431e4116" category="section-title">我可以遠端安裝 Trident 嗎？</block>
  <block id="cab0813b2ef0c2dc3e0c17505f73a2f2" category="paragraph">是的。Trident 18.10 及更新版本支援從任何可存取叢集的機器進行遠端安裝<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block>。驗證存取後<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block>（例如、從遠端機器啟動<block ref="1513e62b9eb7bbfc46c1be1a91a2ab76" prefix=" " category="inline-code"></block>命令以驗證）、請遵循安裝指示進行。</block>
  <block id="50434308d8b9fc89f708232cb5e9cf87" category="section-title">我可以使用 Trident 設定高可用度嗎？</block>
  <block id="d4a0a879bb58dfc0d2dd69374d278afe" category="paragraph">Trident 是以 Kubernetes 部署（ ReplicaSet ）的形式安裝、其中包含一個執行個體、因此內建了 HA 。您不應該增加部署中的複本數量。如果安裝 Trident 的節點遺失、或 Pod 無法存取、 Kubernetes 會自動將 Pod 重新部署至叢集中的正常節點。Trident 僅適用於控制面板、因此如果重新部署 Trident 、目前安裝的 Pod 不會受到影響。</block>
  <block id="b23db7e049824adf28d5d2d6839ee268" category="section-title">Trident 是否需要存取 kube 系統命名空間？</block>
  <block id="685a0ffaaa9ec81b2c31846cbf192282" category="paragraph">Trident 從 Kubernetes API 伺服器讀取資料、以判斷應用程式何時要求新的 PVC 、因此需要存取 kube-system 。</block>
  <block id="0df447334013f5ccae9c82a00df9508a" category="section-title">Trident 使用哪些角色和 Privileges ？</block>
  <block id="8b1b2eab4c453e6c69faf86b91b46898" category="section-title">我可以在本機產生 Trident 用於安裝的確切資訊清單檔案嗎？</block>
  <block id="b633901fb93d2b4cb35254a9764dd626" category="paragraph">如有需要、您可以在本機產生及修改 Trident 用於安裝的確切資訊清單檔案。請參閱 <block ref="ddc7df443077796093efdaf5a64d03cd" category="inline-link-macro-rx"></block>。</block>
  <block id="176cc68bd86878bb1bde4c3e72b4c315" category="section-title">我是否可以針對兩個獨立的 Kubernetes 叢集、共用兩個獨立 Trident 執行個體的相同 ONTAP 後端 SVM ？</block>
  <block id="55c5d3092c2cf2c38eb0a708eefb8486" category="section-title">是否能在 ContainerLinux （前身為 CoreOS ）下安裝 Trident ？</block>
  <block id="ed71f481574b61f58ec3289a77e224fa" category="paragraph">Trident 只是 Kubernetes Pod 、可在 Kubernetes 執行的任何地方安裝。</block>
  <block id="42fb91822adc98aa7764157cc987363a" category="section-title">我可以搭配 NetApp Cloud Volumes ONTAP 使用 Trident 嗎？</block>
  <block id="c8e65f25ae4e876dc9b834240dd90ae1" category="paragraph">是的、 AWS 、 Google Cloud 和 Azure 支援 Trident 。</block>
  <block id="adb6af04aac45867d68bb2c3bc1e7b0d" category="section-title">NetApp 是否支援 Trident ？</block>
  <block id="2dcb58c8d0e9bfa26fd8a13a709eed09" category="paragraph">雖然 Trident 是免費提供的開放原始碼、但只要支援您的 NetApp 後端、 NetApp 就能完全支援。</block>
  <block id="42bfc6e3acd67192d42135138102a1de" category="inline-link">Trident Github</block>
  <block id="c2146fea25aea76bae1b5853f60a2f87" category="paragraph">在問題的主題和說明中建立問題<block ref="47273b71915582ec6db59ad21099cfb9" category="inline-link-rx"></block>、並提及 * RFE* 。</block>
  <block id="f976373ae689e994b60c082fe0210016" category="paragraph">在上建立問題<block ref="47273b71915582ec6db59ad21099cfb9" category="inline-link-rx"></block>。請務必附上與問題相關的所有必要資訊和記錄。</block>
  <block id="e3c42f7edef4d44b3a12f0876d080b65" category="section-title">如果我有關於 Trident 的快速問題需要澄清、會發生什麼事？是否有社群或論壇？</block>
  <block id="5249e7d2220ef48adc4e11f3ae5e102a" category="paragraph">如果您有任何問題、問題或要求、請透過我們的 Trident 或 GitHub 與我們聯絡<block ref="6130664377fa14615bb1abd5257e9714" category="inline-link-macro-rx"></block>。</block>
  <block id="85fb3cc3c008776a14e8adea3419b79d" category="section-title">我的儲存系統密碼已變更、 Trident 無法再運作、我該如何恢復？</block>
  <block id="590f1c54e9cee50de3f69ae3604e432e" category="section-title">Trident 找不到我的 Kubernetes 節點。如何修正此問題？</block>
  <block id="b114148f5ef97af6ffb82c1edfaa1775" category="paragraph">Trident 找不到 Kubernetes 節點的可能情況有兩種。這可能是因為Kubernetes內的網路問題或DNS問題。在每個Kubernetes節點上執行的Trident節點取消影像集、必須能夠與Trident控制器通訊、才能在Trident中登錄節點。如果在安裝 Trident 之後發生網路變更、則只有新增至叢集的 Kubernetes 節點才會發生此問題。</block>
  <block id="c2147118d3a3e64452475171765d47d0" category="section-title">升級 Trident</block>
  <block id="aa11aafa4155b6c4a3e62b5b9c8abc7b" category="paragraph">NetApp 支援將 Trident 從一個主要版本升級至下一個立即的主要版本。您可以從11.xx版升級至19.xx、19.xx版升級至20.xx版、依此類推。在正式作業部署之前、您應該先在實驗室中測試升級。</block>
  <block id="e651aace307e5b2d6047fa19dd9ebc49" category="inline-link-macro">解除安裝 Trident</block>
  <block id="c8d8623e1862e33460131e0b358e25c4" category="paragraph">如果您需要修正在升級、相依性問題或升級失敗或不完整之後所觀察到的錯誤、您應該<block ref="e618ba4d3d6ecf34e3de22934d88cfd8" category="inline-link-macro-rx"></block>使用該版本的特定指示重新安裝舊版。這是降級至舊版的唯一建議方法。</block>
  <block id="bdee9022b73039d7d36eb214d473b6a5" category="list-text">支援SAN：請勿指定iSCSI ONTAP 。Trident 使用<block ref="2de2f329c45219df280af5a70ed7a17c" category="inline-link-macro-rx"></block>來探索建立多重路徑工作階段所需的 iSCI 生命。如果明確定義、就會產生警告<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block>。如 <block ref="823b6e1f172888081aece7b5cdeb0e03" category="inline-link-macro-rx"></block> 需詳細資訊、請參閱。</block>
  <block id="931fb9ef9e2f0b2e60b412c93e32bdb2" category="section-title">Trident 是否可以為 ONTAP 後端設定 CHAP ？</block>
  <block id="6a7447005192022403df540c4a76b8df" category="paragraph">是的。Trident 支援 ONTAP 後端的雙向 CHAP 。這需要在後端組態中設定<block ref="68978ccf4ed83900c8dd27558ca5ec18" prefix=" " category="inline-code"></block>。</block>
  <block id="e04360e9c1c0a231ee50fb6bc2440ab0" category="section-title">如何使用 Trident 管理匯出原則？</block>
  <block id="0f719cc4fb105f34258976d892e8bfe9" category="paragraph">Trident 可從 20.04 版開始、動態建立及管理匯出原則。如此一來、儲存管理員就能在其後端組態中提供一或多個CIDR區塊、並將位於這些範圍內的Trident新增節點IP、加入其所建立的匯出原則。如此一來、 Trident 便會自動管理在指定的 CIDR 內新增和刪除具有 IP 的節點規則。</block>
  <block id="d9e938c59af9d6ebf3b10c2ba625470e" category="paragraph">Trident 支援定義下列項目的 IPv6 位址：</block>
  <block id="c92ee98f27fea35d4b40d8e58cff3e23" category="paragraph">Trident 必須使用旗標（用於<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>安裝）、（用於 Trident 運算子）或<block ref="b63589bf34442180f04a6b46488afa6d" prefix=" " category="inline-code"></block>（用於 Helm 安裝）來安裝<block ref="4a4ef9f92e69acc000120379678aadcf" prefix=" " category="inline-code"></block>、<block ref="fdb7cb8f657426e7c409bfd6d1a36ce4" prefix=" " category="inline-code"></block>才能透過 IPv6 運作。</block>
  <block id="b0ebe39ab16d0aea1148ebc2abc3e6d7" category="section-title">我可以在 Kubernetes 的 Trident 中建立多個後端嗎？</block>
  <block id="9d813dd9dc4f8a97f4735e4e7780283c" category="paragraph">Trident 可以同時支援多個後端、無論是使用相同的驅動程式或不同的驅動程式。</block>
  <block id="dc7c8edffb370f5f952a2787e0381ad6" category="section-title">Trident 如何儲存後端認證？</block>
  <block id="3b5102f815723b1b94a1969ac254470a" category="paragraph">Trident 將後端認證儲存為 Kubernetes Secrets 。</block>
  <block id="c68b08bc6f1bd9bc3f8b4d3e4e81ca78" category="section-title">Trident 如何選擇特定後端？</block>
  <block id="1facd0eb6221a85a854aa93123529773" category="section-title">如何確保 Trident 不會從特定後端進行資源配置？</block>
  <block id="8fd7e30f04618e679c684df3dd0bebeb" category="paragraph">此<block ref="7df974d787ead594df017a11672f2f0e" prefix=" " category="inline-code"></block>參數用於篩選 Trident 用於資源配置的資源池集、並移除任何符合的資源池。</block>
  <block id="64eb982f45f5cfa602f8a3e7d69f000d" category="section-title">如果有相同類型的多個後端、 Trident 如何選擇要使用的後端？</block>
  <block id="c5864ef434aa44689b2af37a1e9af5c7" category="paragraph">如果有多個相同類型的設定後端、 Trident 會根據和<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block>中的參數來選取適當的後端<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>。例如，如果有多個 ONTAP － NAS 驅動程序後端， Trident 會嘗試匹配中的參數<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>，並<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block>將後端組合起來，以滿足和<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block>中列出的要求<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>。如果有多個符合要求的後端、 Trident 會隨機選取其中一個。</block>
  <block id="d458942a0a2872de7232f879c70d5c72" category="section-title">Trident 是否支援元素 / SolidFire 的雙向 CHAP ？</block>
  <block id="c92811de6c03f5ad483962308676ecf1" category="section-title">Trident 如何在 ONTAP 磁碟區上部署 qtree ？單一磁碟區可部署多少qtree？</block>
  <block id="e516c194a6ef04e00986e6105285f3a6" category="paragraph">您可以在後端定義檔中設定參數、在 Trident 所佈建的磁碟區上設定 Unix 權限。</block>
  <block id="389f296dbf77d0f86dfe8a06d526c127" category="paragraph">根據預設、 Trident 不會使用 Kubernetes 將掛載選項設定為任何值。要在 Kubernetes Storage Class 中指定掛載選項，請按照給定的示例<block ref="29e04d8356a523f6fc836193630ad63e" category="inline-link-macro-rx"></block>操作。</block>
  <block id="99c8f2d04c19fdc0a232b7482cfee080" category="section-title">如何透過 Trident with ONTAP 設定磁碟區加密？</block>
  <block id="73b2a012b43089e1665c476788027e1c" category="inline-link-macro">Trident 如何與 NVE 和 NAE 搭配運作</block>
  <block id="cbf898bcb5d9e5595fd3bc81ec6e29ad" category="paragraph">您可以使用後端定義檔中的加密參數、在Trident所提供的磁碟區上設定加密。如需詳細資訊、請參閱：<block ref="419c27d13476c7b2e51e83cf6c88459f" category="inline-link-macro-rx"></block></block>
  <block id="ec2427ac714a740c73f10dfde2363075" category="section-title">透過 Trident 實作 ONTAP QoS 的最佳方法為何？</block>
  <block id="540b44f12eb5cca80bd7e9128aeede6c" category="section-title">如何透過 Trident 指定精簡或完整資源配置？</block>
  <block id="37a1da11b0f4b3ebef0df195d2fbccd5" category="section-title">我可以擴充 Trident 所建立的 NFS PVCS 嗎？</block>
  <block id="e99a58cb2fd51c2db5c9598c04a5f53c" category="paragraph">是的。您可以擴充 Trident 所建立的 PVC 。請注意、Volume自動擴充ONTAP 是不適用於Trident的功能。</block>
  <block id="c15d8f156ba84321c880b1bbe78dc0c7" category="paragraph">只要NetApp儲存設備具備容量、Kubernetes儲存資源配額就能運作。當 NetApp 儲存設備因容量不足而無法執行 Kubernetes 配額設定時、 Trident 會嘗試進行資源配置、但會排除錯誤。</block>
  <block id="08ec89166861e10bdf4e2bf3bcb7a150" category="section-title">我可以使用 Trident 建立 Volume Snapshot 嗎？</block>
  <block id="64f5059234f21b014e1c442be4f03052" category="paragraph">是的。Trident 支援從快照建立隨需磁碟區快照和持續磁碟區。若要從快照建立 PV 、請確定<block ref="e7b29a25284a6f582881023fdc0cbe93" prefix=" " category="inline-code"></block>功能閘道已啟用。</block>
  <block id="669e09edc60383401e0adf3ce0cefcf3" category="section-title">哪些驅動程式支援 Trident Volume 快照？</block>
  <block id="54b8b99690e4f103a6d2f9967cadcd72" category="section-title">我要如何使用 ONTAP 對由 Trident 所佈建的磁碟區進行快照備份？</block>
  <block id="3d68d8607ffd54f10e7dd693bb2b8a16" category="section-title">我可以為透過 Trident 配置的磁碟區設定快照保留百分比嗎？</block>
  <block id="423b8287d49f26ac095593b58d3d9e69" category="paragraph">是的、您可以在後端定義檔中設定屬性、以保留特定百分比的磁碟空間、以便透過 Trident 儲存快照複本<block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix=" " category="inline-code"></block>。如果您已設定<block ref="0a236e7685e50a59df980d0a30929d6c" prefix=" " category="inline-code"></block>後端定義檔中的、<block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix=" " category="inline-code"></block>則會根據後端檔案中所述的百分比來設定快照保留<block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix=" " category="inline-code"></block>百分比。如果<block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix=" " category="inline-code"></block>未提及百分比數、則 ONTAP 預設會將快照保留百分比視為 5 。如果選項設為「無」、則<block ref="0a236e7685e50a59df980d0a30929d6c" prefix=" " category="inline-code"></block>快照保留百分比會設為 0 。</block>
  <block id="4bfa28359ad130e5906ee7d785f1b314" category="section-title">我可以透過 Trident 為磁碟區設定 SnapMirror 嗎？</block>
  <block id="567994f58882dceaeab9400ad2bdf7e2" category="paragraph">NetApp以多種方式支援Trident。我們全年無休提供豐富的免費自助支援選項、例如知識庫（KB）文章和不和管道。</block>
  <block id="925ebc19538c47a22c7fcbf3d4f16838" category="paragraph">Trident 會根據您的版本提供三個層級的支援。請參閱 <block ref="1b35655e5fe9e8bdc0fd2a18d7e5a06c" category="inline-link-macro-rx"></block>。</block>
  <block id="bcf42b210ffb66f788559ec05bd3978c" category="list-text">Trident 自發行日期起 12 個月內提供完整支援。</block>
  <block id="c4672ccc07d08b01842ba7bff5ab9012" category="list-text">Trident 自發行日期起 13 至 24 個月內提供有限支援。</block>
  <block id="c6fc0d89ce850093b5d2e987955ba870" category="list-text">Trident 文件自發行日期起、提供 25 至 36 個月的版本。</block>
  <block id="e9c4cf1c3d2fd7e6c0a13bfe44d8e785" category="inline-link-macro">24.10</block>
  <block id="17ab7ccda1012696aabc01e478bd7612" category="cell">2027 年 10 月</block>
  <block id="1e441e2a6ea2842643d9b8f88e32aebf" category="paragraph"><block ref="1e441e2a6ea2842643d9b8f88e32aebf" category="inline-link-macro-rx"></block></block>
  <block id="d2196853cebe173567df4b864e4816f7" category="paragraph"><block ref="d2196853cebe173567df4b864e4816f7" category="inline-link-macro-rx"></block></block>
  <block id="62c93f738b926db77daa59d585fbfa48" category="paragraph">如需疑難排解文章的完整清單，請<block ref="57f5c759ada931c6a2051314ca6ee99e" category="inline-link-rx"></block>參閱。</block>
  <block id="9cc21385e3a5bbf0e140948125e39e4c" category="paragraph">我們的上有一個充滿活力的公共容器使用者社群（包括 Trident 開發人員）<block ref="6130664377fa14615bb1abd5257e9714" category="inline-link-macro-rx"></block>。這是您提出專案相關一般問題、並與志同道合的同儕討論相關主題的好地方。</block>
  <block id="b27fcb3adc5d56564559e3f24a9659c8" category="paragraph">如需 Trident 的說明、請使用建立支援服務組合<block ref="1d41e2024c69110ad6054ffc785ca8e0" prefix=" " category="inline-code"></block>、並將其傳送至<block ref="da34ca64df3f236a423516102d4096c2" prefix=" " category="inline-code"></block>。</block>
  <block id="40d95260a6bcacc40a23df4576b97ec8" category="inline-link-macro">Trident 部落格</block>
  <block id="e476cbfc1ce1aee033e17376d6942cf3" category="paragraph">您可以在每個版本的通知檔中、檢閱 NetApp 軟體 for Trident 中使用的協力廠商版權和授權、網址為：<block ref="4a3c8c5a408c6db1c44c04391a8a0a2f" category="inline-link-rx"></block>。</block>
  <block id="52eb48d8202a6d184f86997bcbd937cf" category="summary">Trident 中的資源配置有兩個主要階段。第一階段會將儲存類別與一組適當的後端儲存資源池建立關聯、並在進行資源配置之前做好必要準備。第二階段包括磁碟區建立本身、需要從與擱置磁碟區的儲存類別相關的儲存池中選擇儲存池。</block>
  <block id="90bec6679868d1d43c3f2f5d9905165f" category="paragraph">將後端儲存集區與儲存類別建立關聯、需要同時仰賴儲存類別所要求的屬性及其<block ref="c614017642b6cfd9e6a25c7df122d917" prefix=" " category="inline-code"></block>、<block ref="145d1b89a9f9ed8bdc16d1f7a814cace" prefix=" " category="inline-code"></block>和<block ref="7df974d787ead594df017a11672f2f0e" prefix=" " category="inline-code"></block>清單。當您建立儲存類別時、Trident會比較每個後端所提供的屬性和集區、以及儲存類別所要求的屬性和集區。如果儲存池的屬性和名稱符合所有要求的屬性和集區名稱、 Trident 會將該儲存集區新增至該儲存類別的適當儲存集區集。此外、 Trident 也會將清單中列出的所有儲存資源池新增至該集區<block ref="145d1b89a9f9ed8bdc16d1f7a814cace" prefix=" " category="inline-code"></block>、即使其屬性無法滿足所有或任何儲存類別的要求屬性。您應該使用此<block ref="7df974d787ead594df017a11672f2f0e" prefix=" " category="inline-code"></block>清單來覆寫及移除儲存資源池、以供儲存類別使用。每次新增後端時、 Trident 都會執行類似的程序、檢查其儲存資源池是否符合現有儲存類別的要求、並移除任何標記為排除的儲存資源池。</block>
  <block id="252902d6f7f664b44722075296d3ce49" category="paragraph">然後， Trident 會使用儲存類別與儲存資源池之間的關聯來決定資源配置磁碟區的位置。當您建立磁碟區時、 Trident 會先取得該磁碟區儲存類別的儲存資源池集區、如果您為該磁碟區指定傳輸協定、 Trident 會移除無法提供所要求傳輸協定的儲存資源池（例如、 NetApp HCI / SolidFire 後端無法提供檔案型磁碟區、而 ONTAP NAS 後端無法提供區塊型磁碟區）。Trident 會隨機排列此結果集的順序、以利平均分配磁碟區、然後逐一重複執行、然後嘗試在每個儲存池上佈建磁碟區。如果某個項目成功、則會成功傳回、並記錄程序中發生的任何故障。Trident 只有在 * 無法在 * 所有 * 上配置可用於所要求儲存類別和傳輸協定的儲存集區時、才會傳回故障 * 。</block>
  <block id="6cba37a64b3872e40e12212479ca8ece" category="summary">深入瞭解 Trident 如何處理其驅動程式的磁碟區快照建立。</block>
  <block id="e5200dca1b3eb1315befdc6f874d5143" category="list-text">使用<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>和<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>驅動程式時、 ONTAP 快照是 FlexVol 的時間點複本、會佔用 FlexVol 本身的空間。這可能會產生磁碟區中的可寫入空間量、以便在建立/排程快照時縮短時間。解決此問題的一種簡單方法、就是透過Kubernetes調整大小來擴充磁碟區。另一個選項是刪除不再需要的快照。刪除透過 Kubernetes 建立的 Volume Snapshot 時、 Trident 會刪除相關的 ONTAP 快照。不透過Kubernetes建立的支援快照也可以刪除。ONTAP</block>
  <block id="962da67bee9575fc006f5d69c948f63a" category="summary">虛擬集區在 Trident 的儲存後端和 Kubernetes 的 StorageClasses 之間提供抽象層。管理員可透過通用的後端不受後端限制的方式、定義各個層級的位置、效能及保護、而無需使用StorageClass來指定要用於符合所需條件的實體後端、後端集區或後端類型。</block>
  <block id="6dc68c3b2f9d6c276fc86090da3220f5" category="paragraph">虛擬池在 Trident 儲存後端和 Kubernetes 之間提供抽象層<block ref="f652904c3bfb48fb25a0a75f485f0ff6" prefix=" " category="inline-code"></block>。這些功能可讓系統管理員以通用、不受後端限制的方式、定義各個後端的位置、效能和保護等層面、而無需<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>指定要使用哪種實體後端、後端集區或後端類型來符合所需的條件。</block>
  <block id="63e606feac51f51c118b9ea9da3584dc" category="paragraph">儲存管理員可以在 JSON 或 YAML 定義檔案的任何 Trident 後端上定義虛擬集區。</block>
  <block id="acd6bcd484ba971a72536c22c06f04e2" category="summary">深入瞭解 Trident 如何使用 Volume 存取群組。</block>
  <block id="6a460593bdfb0144320bef6fdd1b2472" category="paragraph">深入瞭解 Trident 的使用<block ref="783dd6ea9e0b09c84db9ccd072a61c55" category="inline-link-rx"></block>方式。</block>
  <block id="1ce858ea946af658f2db231318e1c74e" category="admonition">如果您使用的是CHAP、建議您略過本節、以簡化管理並避免以下所述的擴充限制。此外、如果您在 CSI 模式中使用 Trident 、則可以忽略此部分。當 Trident 安裝為增強式 CSI 資源配置程式時、會使用 CHAP 。</block>
  <block id="547d4fe433ab9ed2223dfe9c48379548" category="paragraph">Trident 可以使用 Volume 存取群組來控制對其所配置之磁碟區的存取。如果停用 CHAP 、除非您在組態中指定一或多個存取群組 ID 、否則它會預期找到一個稱為的存取群<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block>組。</block>
  <block id="33a94edb76f0383c1d244a8698373b50" category="paragraph">雖然 Trident 會將新磁碟區與設定的存取群組建立關聯、但不會自行建立或管理存取群組。存取群組必須先存在、才能將儲存後端新增至 Trident 、而且必須包含 Kubernetes 叢集中每個節點的 iSCSI IQN 、這些節點可能會裝載該後端所佈建的磁碟區。在大多數安裝中、這包括叢集中的每個工作節點。</block>
  <block id="6049f954e4284100050b26e9f3fb772e" category="list-text">如果您使用建議的託管外掛程式方法（亦即使用命令）來執行 Trident<block ref="fb3421df1496105acc8a14808359550b" prefix=" " category="inline-code"></block> 、請依下列方式檢視：</block>
  <block id="e391df7d288176b307da8db0c4d91ae5" category="summary">Trident for Docker 可直接與適用於 NetApp 儲存平台的 Docker 生態系統整合。它支援從儲存平台到Docker主機的儲存資源資源配置與管理、並提供架構、可在未來新增更多平台。</block>
  <block id="e0a3531ef314a005745a9fea19b5ba09" category="doc">部署 Trident</block>
  <block id="70f45f0faadd8edb223d0fdeb6668679" category="paragraph">Trident 的多個執行個體可以同時在同一部主機上執行。這可同時連線至多個儲存系統和儲存類型、並可自訂Docker磁碟區所使用的儲存設備。</block>
  <block id="7da919c969cc2b18d98105fe90684df8" category="paragraph">請參閱<block ref="18d5551396fb2ce2e009cfdb709e4875" category="inline-link-macro-rx"></block>。在您確定符合先決條件之後、即可開始部署 Trident 。</block>
  <block id="58391bc76e8c1c5635a11134b3e4083d" category="admonition">如果您在傳統的精靈方法中使用 Trident pred Docker 1.3/17.03 、請務必先停止 Trident 程序、然後重新啟動 Docker 精靈、再使用託管外掛程式方法。</block>
  <block id="8554af307cedea04e0e39362f35175f4" category="list-text">使用託管外掛程式系統啟動 Trident 。請以您使用的外掛程式版本（ xxx.xxx.x ）取代<block ref="3d689bd3819ead35ed794427bd12f459" prefix=" " category="inline-code"></block>。</block>
  <block id="8020e7c6d37db1ac7100b3b117f46cfd" category="list-text">開始使用 Trident 從設定的系統中消耗儲存設備。</block>
  <block id="b48e6203239c93859800f96924a39ed7" category="section-title">在系統啟動時啟動 Trident</block>
  <block id="a5a6bc232526faaa8ab11bd5f46a069c" category="summary">在搭配 Docker 使用 Trident 時、尋找已知問題的相關資訊。</block>
  <block id="44110fddc560d626db733ac60924ea7c" category="paragraph">在搭配 Docker 使用 Trident 時、尋找已知問題和限制的相關資訊。</block>
  <block id="442b5623691118072cf6342e3614f21a" category="section-title">Docker swarm 具有某些行為、可防止 Trident 在每個儲存設備和驅動程式組合中支援它。</block>
  <block id="738890a616b36648aef3afc3dbd99a29" category="list-text">Volume 外掛程式（包括 Trident ）必須在 swarm 叢集中的每個節點上分別執行。由於 ONTAP 的運作方式、以及和<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>驅動程式的運作方式<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>、這些都是唯一能夠在這些限制範圍內運作的方法。</block>
  <block id="8e846679c3471e522caeeaf12adf2232" category="summary">當您想要同時使用多個儲存組態時、需要多個Trident執行個體。多個執行個體的關鍵是在主機上具現化Trident時、使用容器化外掛程式的-alias選項、或是-volume驅動程式選項、為它們指定不同的名稱。</block>
  <block id="2af81ac5264569558ae512fd78aaeb99" category="doc">管理多個 Trident 執行個體</block>
  <block id="6d9d4f707717522af7673ba035a40845" category="summary">您必須先在主機上安裝及設定必要的通訊協定先決條件、才能部署 Trident 。</block>
  <block id="ab2ce125ebcf04e3858934dafe06462f" category="summary">請參閱 Trident 組態可用的組態選項。</block>
  <block id="048751d5dafc60f01ac58c7abebe0fb4" category="paragraph">無論使用的儲存平台為何、這些組態選項都適用於所有 Trident 組態。</block>
  <block id="24794cfca66d1eed7c8defc480365bf0" category="paragraph">用於資源配置的Aggregate（選用；如果已設定、則必須指派給SVM）。對於<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>驅動程式、此選項會被忽略。指派給 SVM 的所有集合體都會用於佈建 FlexGroup Volume 。</block>
  <block id="5cbbc03b20d402cc5f3688219dc927db" category="paragraph">Trident 會以<block ref="e77a1bd34ff5793aca292b38d23bc2c9" prefix=" " category="inline-code"></block>建立及管理每個節點<block ref="58f3779afe9da9ffdc085dc3064306f7" prefix=" " category="inline-code"></block>。</block>
  <block id="98c76e4bb2a33d9fd5985c31833d545b" category="paragraph">如果在後端啟用 NAE 、則 Trident 中配置的任何 Volume 都將啟用 NAE 。</block>
  <block id="dd7e96ca2da30b4de0cef5d5d0d67883" category="paragraph">如需更多資訊、請參閱<block ref="5113a2fb1642ecd23870711ba25c4ad7" category="inline-link-macro-rx"></block>：。</block>
  <block id="775acc7033e41c0ec1b40c64643c6339" category="paragraph">用於存取目錄的 NAS 選項<block ref="a15da8cecb1f1192c4d913b8ba676121" prefix=" " category="inline-code"></block>。</block>
  <block id="9baf39c0a00f0d9f174a9671e5cefbab" category="paragraph">針對 NFSv3 的 NFSv4 "false" 為 "true"</block>
  <block id="e1232df03027aec38979e9ee0c9b350c" category="paragraph">選擇<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>驅動程式來增加單一磁碟區的平行度、使其可擴充至數十億個檔案的 PB 範圍。FlexGroups的一些理想使用案例包括AI / ML / DL、Big Data和分析、軟體建置、串流、檔案儲存庫等。Trident 會在佈建 FlexGroup Volume 時、使用指派給 SVM 的所有集合體。支援Trident也有下列考量：FlexGroup</block>
  <block id="90bce6b2a4ca618777f172f6d51e69f1" category="list-text">FlexGroup 磁碟區不支援複製。</block>
  <block id="971d29a2392e004ddd4263282b307e0c" category="inline-link">NetApp FlexGroup Volume 最佳實務做法與實作指南</block>
  <block id="1534742dd977c66a11d77eb23f10a5ab" category="section-title">Trident 的自訂 ONTAP 角色</block>
  <block id="c1781ac6bfd240f903c26ce4164a5d30" category="paragraph">您可以使用最低 Privileges 來建立 ONTAP 叢集角色、這樣就不需要使用 ONTAP 管理員角色來執行 Trident 中的作業。當您在 Trident 後端組態中包含使用者名稱時、 Trident 會使用您建立的 ONTAP 叢集角色來執行作業。</block>
  <block id="6f3cfcc010b2a22b26b8059d261fac87" category="inline-link-macro">Trident 自訂角色產生器</block>
  <block id="c466d2f2e197b9c922cb025297903d0c" category="paragraph">如需建立 Trident 自訂角色的詳細資訊、請參閱<block ref="4eb6d8d47ddb4f7930e07a2c9166ea85" category="inline-link-macro-rx"></block>。</block>
  <block id="e2862bb379be91d6c367e3ce170d88f7" category="open-title">使用 ONTAP CLI</block>
  <block id="13b3544c4f5df79cbf834a2ae8ec0d87" category="list-text">使用下列命令建立新角色：</block>
  <block id="2c7e6d2877f857f126c24c7742e84098" category="paragraph"><block ref="c33f6523b710a03a2fd5d3e78562afa6" prefix="" category="inline-code"></block></block>
  <block id="baf63376850e35e5b35be659d0ef2894" category="list-text">為 Trident 使用者建立使用者名稱：</block>
  <block id="1af6536f50b7c77854633155c6ae923a" category="paragraph"><block ref="496d78c32dd2b2752181d6346f8b0aeb" prefix="" category="inline-code"></block></block>
  <block id="dfeb1cb6cf625159ce3e04d467f8ec3f" category="list-text">將角色對應至使用者：</block>
  <block id="80812a5ac42a9862b7d20ef498a269ce" category="paragraph"><block ref="5eb0d996baab37017dab0c8a2a171589" prefix="" category="inline-code"></block></block>
  <block id="3ceac40325b3a50cc62cce2df9efb8ae" category="open-title">使用System Manager</block>
  <block id="b36ba0290d144b7b7cf516c0b9f70063" category="paragraph">在 ONTAP 系統管理員中執行下列步驟：</block>
  <block id="88ec54a18605240b35f6b1c72d27ffb6" category="list-text">* 建立自訂角色 * ：</block>
  <block id="70af366c70c2f42b90ebe57600895fa4" category="list-text">若要在叢集層級建立自訂角色、請選取 * 叢集 &gt; 設定 * 。</block>
  <block id="c981775dff9d5b385dd83a577d5a47b5" category="paragraph">（或）若要在 SVM 層級建立自訂角色、請選取 * 儲存設備 &gt; 儲存 VM &gt; &gt;<block ref="6913fa50f9906263ba0aa9cbfc60f855" prefix=" " category="inline-code"></block> 設定 &gt; 使用者與角色 * 。</block>
  <block id="0d47f26dcf60e81c5a6649ae4ded4563" category="list-text">選取 * 使用者和角色 * 旁的箭頭圖示（ * -&gt; * ）。</block>
  <block id="abf2a7962f2af308e67cf04c04d67351" category="list-text">在 * 角色 * 下選擇 *+Add* 。</block>
  <block id="0607c670bf97cc18aea662bb4a8b1897" category="list-text">定義角色的規則、然後按一下 * 儲存 * 。</block>
  <block id="8c112f6dd4899ec2bde450ad96ea3854" category="list-text">* 將角色對應至 Trident 使用者 * ： + 在「 * 使用者與角色 * 」頁面上執行下列步驟：</block>
  <block id="a0d362400ef1998e3199f1a2a4e851a0" category="list-text">在 * 使用者 * 下選取新增圖示 *+* 。</block>
  <block id="d81179b522f733916296275ca934cec0" category="list-text">選取所需的使用者名稱、然後在 * 角色 * 的下拉式功能表中選取角色。</block>
  <block id="4cc186df234138a57b2e8c5d8e5f7f8d" category="list-text">按一下「 * 儲存 * 」。</block>
  <block id="63a7ae2ee855741b03454ffca32a6548" category="paragraph">如需詳細資訊、請參閱下列頁面：</block>
  <block id="5f20deacb4e1a680e1507ac2f9038f3d" category="inline-link-macro">用於管理 ONTAP 的自訂角色</block>
  <block id="5f318245652e5c97dfa5340e400f38d4" category="inline-link-macro">定義自訂角色</block>
  <block id="6bfa5cadeded7f55ece7a366fff5008f" category="list-text"><block ref="612b00166c7c7ac093e9d589e794c9ab" category="inline-link-macro-rx"></block>或<block ref="42415b53f4c69ae3cfdecaffa64f1802" category="inline-link-macro-rx"></block></block>
  <block id="61d21be565a36251bbca59c0ffb7571d" category="inline-link-macro">與角色和使用者合作</block>
  <block id="c92674673011f8a8c6fc62a43d907f3c" category="list-text"><block ref="c92674673011f8a8c6fc62a43d907f3c" category="inline-link-macro-rx"></block></block>
  <block id="a1dbba31317214ceff74a44fe41d31ee" category="summary">您可以安全地升級 Trident for Docker 、而不會對使用中的磁碟區造成任何影響。在升級過程中、將會有一段短暫的期間<block ref="8609cd03fd6628c6bcc999242fa9f3aa" prefix=" " category="inline-code"></block>、指向外掛程式的命令將無法成功執行、而應用程式將無法掛載磁碟區、直到外掛程式再次執行為止。在大多數情況下、這是幾秒鐘的事。</block>
  <block id="62171888e44548522bb83b960a55d872" category="paragraph">請執行下列步驟以升級 Trident for Docker 。</block>
  <block id="39ebc56f061889873fccc1784c6638f7" category="admonition">18.01 版的 Trident 取代了 nDVP 。您應該直接從映像升級<block ref="86e913ca68bd85fc4edc0bd4588cdf55" prefix=" " category="inline-code"></block>到<block ref="c0324ebb59395a35956b35c5d0c7b285" prefix=" " category="inline-code"></block>映像。</block>
  <block id="ee0630d22b9d452ae7bb9de29a466b86" category="admonition">如果您要從舊版 Trident （ 20.10 之前）升級至 Trident 20.10 或更新版本、可能會發生錯誤。如需詳細資訊、請 <block ref="6d21ff1c2708107ac3f4ed1a6e27b449" category="inline-link-macro-rx"></block>參閱。如果發生錯誤、您應該先停用外掛程式、然後移除外掛程式、再透過傳遞額外的組態參數來安裝必要的 Trident 版本：<block ref="5be09dfb82e46451bc4cc62d83a8dafe" prefix=" " category="inline-code"></block></block>
  <block id="b8b22011179e05bc575b579038285d28" category="paragraph">請執行下列步驟、解除安裝 Trident for Docker 。</block>
  <block id="265a503bda2fd70f2fd9a6cf2d876c27" category="paragraph">如果未指定快照保留、且快照原則為<block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block>、則 Trident 會使用 0% 的快照保留。</block>
  <block id="e5dfa6bb65c32f9e92c36163229be455" category="summary">若要建立 Volume 、請使用標準命令、<block ref="8609cd03fd6628c6bcc999242fa9f3aa" prefix=" " category="inline-code"></block>並在需要時指定 Trident 驅動程式名稱。</block>
  <block id="56143904c89c4a03d66e1cd15cc7d399" category="paragraph">您可以使用標準命令、在需要時指定 Trident 驅動程式名稱、輕鬆建立、複製及移除磁碟區<block ref="8609cd03fd6628c6bcc999242fa9f3aa" prefix=" " category="inline-code"></block>。</block>
  <block id="b09a5613f6e78efae1c0ac67f2289c08" category="list-text">使用特定的 Trident 執行個體建立 Volume ：</block>
  <block id="97b3aeb8d6066d1decf96518ded15d8e" category="paragraph">如果容器沒有分割區、且 Trident 支援其檔案系統、您可以使用 Trident * only* 存取外部建立的區塊裝置（或其複本）（例如：無法透過 Trident 存取格式化的<block ref="1f986d7f0f42932dbaaf84475f63ea7a" prefix=" " category="inline-code"></block>檔案系統<block ref="40d1d2ce03569076bd0dc1e0ff90aa4c" prefix=" " category="inline-code"></block>）。</block>
  <block id="0cc9d438ad56fdbd4bbdfb24f3548660" category="summary">Trident 會在叢集中的每個工作節點上、以單一控制器 Pod 加上節點 Pod 的形式執行。節點 Pod 必須在任何想要掛載 Trident Volume 的主機上執行。</block>
  <block id="aae2218cccc8db14384d3387594fe6ae" category="doc">Trident 架構</block>
  <block id="2544d3adb30a2378653ade7cf906c0aa" category="paragraph">Trident 在 Kubernetes 叢集上部署為單一<block ref="7f05a5daccc48435b05c14a7b739fa36" category="inline-xref-macro-rx"></block>和多個、<block ref="8642ddce0d2b15cad48dfefb369d4c89" category="inline-xref-macro-rx"></block>並使用標準 Kubernetes _CSI Sidecar Containers_ 來簡化 CSI 外掛程式的部署。<block ref="c1b69fa7e0376b667b144d553d4653a8" category="inline-link-macro-rx"></block>由 Kubernetes 儲存社群維護。</block>
  <block id="b38acf7b48d99a3dc06e012c7b1c1f3e" category="paragraph">Kubernetes <block ref="219288b06ade6fd51c16efe605941441" category="inline-link-macro-rx"></block> 和<block ref="9466cd429d8630101055a8fd14904bd9" category="inline-link-macro-rx"></block>用於限制 Pod 在特定或偏好的節點上執行。您可以在 Trident 安裝期間、為控制器和節點 Pod 設定節點選取器和公差。</block>
  <block id="4d0894b72f21c4fc0e41d094c2d50aed" category="image-title">Trident 部署在 Kubernetes 叢集上</block>
  <block id="92ad11160b8482411ae1167ed34e2bc0" category="image-alt">Kubernetes 叢集上的 Trident 架構圖表。</block>
  <block id="190693c471c998e2d7706ff05c87d3c2" category="paragraph">Trident 支援下列 Kubernetes 架構：</block>
  <block id="330103c2a0c87f0aa273d6c15590a575" category="summary">Trident是NetApp所維護的完全支援的開放原始碼專案。其設計旨在協助您使用業界標準介面（例如 Container Storage Interface （ CSI ））來滿足容器化應用程式的持續需求。</block>
  <block id="e61b32e0e629aff81f643458f823b962" category="doc">瞭解 Trident</block>
  <block id="f94a579e5ec139027f8b7d0d24bcce36" category="paragraph">Trident 是 NetApp 所維護的完全支援的開放原始碼專案。其設計旨在協助您使用業界標準介面（例如 Container Storage Interface （ CSI ））來滿足容器化應用程式的持續需求。</block>
  <block id="b8a9ce80261b5fb6cc4c2d2e1f0990ca" category="section-title">什麼是 Trident ？</block>
  <block id="b1779edf31deaecac634566a2a377f62" category="paragraph">Trident 是符合 Container Storage Interface （ CSI ）規範的動態儲存協調器<block ref="c4f47b2d4c7b6c009c3ed9bc1f952dce" category="inline-link-macro-rx"></block>、可與原生整合。Trident 會在叢集中的每個工作節點上、以單一控制器 Pod 加上節點 Pod 的形式執行。如 <block ref="9f6208219ae600271f6632db354451ed" category="inline-link-macro-rx"></block> 需詳細資訊、請參閱。</block>
  <block id="d613d80a6fcacbbceeb665fc5b0846f0" category="inline-link-macro">部署 Trident for Docker</block>
  <block id="5b6cbf8e3be454064a322ad7f9c47cc2" category="paragraph">Trident 也可直接整合 NetApp 儲存平台的 Docker 生態系統。NetApp Docker Volume 外掛程式（ nDVP ）支援從儲存平台到 Docker 主機的儲存資源配置與管理。如 <block ref="168e02b8c5756e29b56aa79aa4a1b715" category="inline-link-macro-rx"></block> 需詳細資訊、請參閱。</block>
  <block id="ad82bf93e4b28ad012a8be09e30d3d59" category="paragraph">Trident可直接針對底層NetApp HCI 的資訊儲存平台、為容器化應用程式配置及管理儲存設備。</block>
  <block id="10f0fa4079121b371145e16713fdbb44" category="section-title">Trident</block>
  <block id="c14b72fed21fd4eafddae164ba8081d0" category="paragraph"><block ref="41274746a612585e32637b095dd7555b" category="inline-link-rx"></block>讓企業更容易管理、保護及移動在公有雲和內部部署環境中、 Kubernetes 上執行的資料豐富容器化工作負載。Trident 使用經實證且廣泛的 NetApp 儲存產品組合中的 Trident 、在公有雲和內部部署中配置並提供永續的容器儲存設備。此外、它還提供一組豐富的進階應用程式感知資料管理功能、例如Snapshot、備份與還原、活動記錄、以及資料保護、災難/資料恢復、資料稽核、以及Kubernetes工作負載的移轉使用案例的主動複製。</block>
  <block id="8c33c0d65f9f2a648eb30a9703072383" category="doc">Trident 快速入門</block>
  <block id="a555fee6c6587118e36d8dd135df1313" category="inline-link-macro">Trident 需求</block>
  <block id="96a40ad4ad263d59437e326f22eaecdf" category="paragraph">您可以在幾個步驟內安裝 Trident 並開始管理儲存資源。開始使用之前，請查看<block ref="d5fb7f9fba906801b000d5533dc030cf" category="inline-link-macro-rx"></block>。</block>
  <block id="f1bcf1c509e84f327a99d5510a722dec" category="inline-link-macro">Trident for Docker</block>
  <block id="5b5dc0344ff29ee1aeb0845b87692cf1" category="admonition">若為 Docker <block ref="f7120b9f314af1c9d82deae8957b54f3" category="inline-link-macro-rx"></block>、請參閱。</block>
  <block id="9877a7ec0ff327ca21c8022d61c25f88" category="paragraph">Trident 提供多種安裝方法和模式、針對各種環境和組織進行最佳化。</block>
  <block id="b8b9eab8c1ed7b79387652490f5724ec" category="inline-link-macro">安裝Trident</block>
  <block id="d94be11e75caa4db23a136d9b4cca4d9" category="paragraph"><block ref="d94be11e75caa4db23a136d9b4cca4d9" category="inline-link-macro-rx"></block></block>
  <block id="2e5120dd8211c4057a742a03b68ffe1a" category="paragraph">後端定義 Trident 與儲存系統之間的關係。它告訴Trident如何與該儲存系統通訊、以及Trident如何從該儲存系統配置磁碟區。</block>
  <block id="a5cdf497d98aa8d8e9bf311fe225a905" category="paragraph">Kubernetes StorageClass 物件會將 Trident 指定為資源配置程式、並可讓您建立儲存類別、以使用可自訂的屬性來資源配置磁碟區。Trident 會為指定 Trident 資源配置程式的 Kubernetes 物件建立相符的儲存類別。</block>
  <block id="54f1c3c7de2748b6f3616d7b1186ade2" category="summary">安裝 Trident 之前、您應該先檢閱這些一般系統需求。特定後端可能有其他需求。</block>
  <block id="0fe713481395212a8eb358f4cb188c04" category="section-title">Trident 的重要資訊</block>
  <block id="8e7cb3d16dbeb8a9289495de8b479d1f" category="paragraph">* 您必須閱讀下列有關 Trident 的重要資訊。 *</block>
  <block id="04dc1d4246222d48d4348b40baef0aac" category="example-title">&lt;strong&gt; 的 Trident &lt;/strong&gt; 相關資訊</block>
  <block id="5e25fae885baef0275d27a764979b289" category="list-text">Trident 嚴格強制在 SAN 環境中使用多重路徑組態、建議在 multipath.conf 檔案中使用值<block ref="db729c5c8df447087e5a84b961df14f6" prefix=" " category="inline-code"></block>。</block>
  <block id="710f95d40d121f27f89b0faa6e178133" category="paragraph">Trident 支援多個容器引擎和協調器、包括：</block>
  <block id="e42907190e2666646d57ade5c061e6e2" category="paragraph">Trident 也與其他完全託管且自行管理的 Kubernetes 產品合作、包括 Google Kubernetes Engine （ GKE ）、 Amazon Elastic Kubernetes Services （ EKS ）、 Azure Kubernetes Service （ aks ）、 Mirantis Kubernetes Engine （ MKE ）和 VMware Tanzu Portfolio 。</block>
  <block id="4cb56edacf6f40b0077e559878cb88a1" category="paragraph">Trident 和 ONTAP 可作為的儲存供應商<block ref="98ab68800979b414641691275d2b9c15" category="inline-link-macro-rx"></block>。</block>
  <block id="90e5d592b7e0b2afb122e69c00372ddf" category="paragraph">若要使用 Trident 、您需要下列一或多個支援的後端：</block>
  <block id="6116c21c42b3138e811999de6433a0a6" category="paragraph">下表摘要說明此 Trident 版本的可用功能、以及其支援的 Kubernetes 版本。</block>
  <block id="29fce9ae0f476afd36cf3ebf4de1d2a8" category="paragraph">雖然 Trident 並未正式支援特定作業系統、但已知下列項目可以正常運作：</block>
  <block id="779639a0216e7a8fd164ee8a7266d8b8" category="paragraph">根據預設、 Trident 會在容器中執行、因此會在任何 Linux 工作者上執行。不過、這些工作者必須能夠使用標準的 NFS 用戶端或 iSCSI 啟動器來裝載 Trident 所提供的磁碟區、視您使用的後端而定。</block>
  <block id="ac65d911a6a42e3244db78a534db815a" category="paragraph">Trident 可能需要變更儲存系統、後端組態才能使用。</block>
  <block id="8ff649e05d6e0ae0d638b05135917e8b" category="section-title">Trident 連接埠</block>
  <block id="31ae62dfe6cb254d32d0f67deda8d9ad" category="paragraph">Trident 需要存取特定連接埠才能進行通訊。</block>
  <block id="2e442c7238666f1b73934ff5c2034b82" category="paragraph"><block ref="2e442c7238666f1b73934ff5c2034b82" category="inline-link-macro-rx"></block></block>
  <block id="ce8468ce4398f1403e56c8d07fbfbdff" category="paragraph">對於無線安裝、下列清單是安裝 Trident 所需的容器映像參考資料。使用<block ref="4ebf280824868255c952dc529072ecb9" prefix=" " category="inline-code"></block>命令來驗證所需的容器映像清單。</block>
  <block id="f5d19c8a8c2f8f69c432eeca877b5fcd" category="summary">您可以使用 Trident 安裝程式自訂部署。</block>
  <block id="4b4c8bb835df197f723a52a388a1a4e0" category="paragraph">您可以使用 Trident 安裝程式自訂安裝。</block>
  <block id="e0ebb2a26a33f54574264738d90b4256" category="paragraph">Trident 安裝程式可讓您自訂屬性。例如，如果您已將 Trident 映像複製到私有儲存庫，則可以使用指定映像名稱<block ref="00e6ff45e8bcc6b9e35e9c68d8d5135c" prefix=" " category="inline-code"></block>。如果您已將 Trident 映像以及所需的 CSI sidecar 映像複製到私有儲存庫，最好使用採用格式的交換器<block ref="c4c34dc2c7d5cb25c084ca11127ba1c6" prefix=" " category="inline-code"></block>來指定該儲存庫的位置<block ref="53b228c1c8295f49b0c35325e14fcd6a" prefix=" " category="inline-code"></block>。</block>
  <block id="85219bbc6090744b49cad804af63daaa" category="admonition">在私有儲存庫中安裝 Trident 時、如果您使用<block ref="53b228c1c8295f49b0c35325e14fcd6a" prefix=" " category="inline-code"></block>交換器來指定儲存庫位置、請勿在儲存庫路徑中使用<block ref="191065897cafafd6677dec7355a785d9" prefix=" " category="inline-code"></block>。例如：<block ref="51e87a5a10277cd8b68fe2bfaab6b1e5" prefix=" " category="inline-code"></block></block>
  <block id="dafb04a56b5428b7efaff9062ddc586b" category="summary">Trident 運算子可讓您使用規格中的屬性、自訂 Trident 的安裝方式<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>。</block>
  <block id="0155e97c891593a2b846fc604a01426f" category="paragraph">Trident 運算子可讓您使用規格中的屬性來自訂 Trident 安裝<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>。如果您想自訂超出引數允許範圍的安裝<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>、請考慮使用<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>產生自訂的 YAML 資訊清單、以視需要進行修改。</block>
  <block id="8d6d249f3e02155f1f4e28dec3f40a4f" category="paragraph">Trident 以單一控制器 Pod 的形式執行、並在叢集中的每個工作節點上執行節點 Pod 。節點 Pod 必須在任何想要掛載 Trident Volume 的主機上執行。</block>
  <block id="d71d7e5009f5ee11ae970a342fff23ae" category="admonition"><block ref="b2c66bca748ffde67c7b6817cb8dd795" prefix="" category="inline-code"></block>在中指定<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>、表示安裝 Trident 的命名空間。此參數 * 安裝 Trident 後無法更新 * 。嘗試這樣做會導致<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>狀態變更為<block ref="d7c8c85bf79bbe1b7188497c32c3b0ca" prefix=" " category="inline-code"></block>。Trident 不打算跨命名空間移轉。</block>
  <block id="0cf03ede150b823aae6ae068fa6ffb35" category="cell">安裝 Trident 的命名空間</block>
  <block id="6c6ebc33a5cbbe6942a0c9ec90d575a2" category="cell">啟用 Trident 的偵錯功能</block>
  <block id="609512f035fafafacc14b4f6f29bb70d" category="cell">透過 IPv6 安裝 Trident</block>
  <block id="9e6197850998001239ecde260b512013" category="cell">用於解除安裝 Trident 的旗標</block>
  <block id="26ed500280b8c0e427f21574b44203cc" category="cell">要使用的 Trident 記錄格式 [text,json]</block>
  <block id="f443d16ba56df1480ca415fae25eaaef" category="cell">要安裝的 Trident 映像</block>
  <block id="26cb458bf42b8de61d4c66da519e7560" category="cell">要刪除以執行 Trident 完整移除的資源清單</block>
  <block id="2c82926c3266fa69b7a6b9b9bf2da929" category="cell"><block ref="e9a7558decb5e432d8b7c4d536cc9876" prefix="" category="inline-code"></block></block>
  <block id="17290457cf887fb0694111a08adc91e7" category="cell">可讓 Trident 準備 Kubernetes 叢集的節點、以使用指定的資料儲存傳輸協定來管理磁碟區。* 目前<block ref="39eea648dab96b0ee6022dabb38bc420" prefix=" " category="inline-code"></block>是唯一支援的值。 *</block>
  <block id="b90bdf58371477fc38f47c2f6d120df5" category="admonition">由於 Trident 仰賴 Kubernetes NGNS 、因此在重新排程所有不可容忍的工作負載之前、請勿移除<block ref="2ea3337d8d7fc43880e82df308aa0f16" prefix=" " category="inline-code"></block>不良節點的污點。如果不考慮套用或移除污染、可能會危及後端資料保護。</block>
  <block id="36d4895fba0608ac61adf67bca2ca709" category="paragraph">當 Kubernetes 叢集管理員已將 Tintt 套用<block ref="7b58fe53e2e4b586e9605f1371e1ebf3" prefix=" " category="inline-code"></block>至節點、並<block ref="badc795d88a7db6cc65d56bc758b3ea4" prefix=" " category="inline-code"></block>設定為<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>時、 Trident 會判斷節點狀態、並：</block>
  <block id="a753dc0e9b9a4864e2954c838d295341" category="list-text">將 Trident 節點物件標記為<block ref="32478ef751ab0a81974a3aa8569607b9" prefix=" " category="inline-code"></block>（不適用於新出版物）。</block>
  <block id="d3f280add1ef01848e3068dbafeb2930" category="admonition">Trident 控制器將拒絕新的發佈 Volume 要求、直到 Trident 節點 Pod 重新驗證節點（標記為之後）為止<block ref="32478ef751ab0a81974a3aa8569607b9" prefix=" " category="inline-code"></block>。除非 Trident 能夠驗證節點（新出版品安全）、否則任何排程使用已掛載 PVC 的工作負載（即使在叢集節點健全且準備就緒之後）都不會被接受<block ref="123402c04dcfb6625f688f771a5fc05d" prefix=" " category="inline-code"></block>。</block>
  <block id="94b5491434477bb572567175dae8789b" category="paragraph">還原節點健全狀況並移除污染時、 Trident 將：</block>
  <block id="9b87d3b70754b676221dcbe27972c21e" category="list-text">如果節點處於某個狀態（已移除服務外污染、且節點處於<block ref="e7d31fc0602fb2ede144d18cdffd816b" prefix=" " category="inline-code"></block>狀態）、且所有過時的已發佈路徑均為乾淨、則<block ref="4304fb35c4cdfa886970499304f2aaba" prefix=" " category="inline-code"></block> Trident 會將節點重新接收為<block ref="123402c04dcfb6625f688f771a5fc05d" prefix=" " category="inline-code"></block>、並允許新的已發佈磁碟區至節點。</block>
  <block id="338531cfbc43156671176c4844d84c2e" category="example-title">GKE 的雲端身分識別</block>
  <block id="dfee7b28d5bbb63372e0d49295ca91ff" category="summary">您可以部署 Trident 運算子、並使用 Helm 安裝 Trident 。此程序適用於 Trident 所需的容器映像儲存在私有登錄中的安裝。</block>
  <block id="eba73b570dfb3af8b46b60d34f2b27a9" category="paragraph">您可以部署 Trident 運算子、並使用 Helm 安裝 Trident 。此程序適用於 Trident 所需的容器映像儲存在私有登錄中的安裝。如果您沒有私有映像登錄，請使用<block ref="2230544d14bc4ba0c61a5a1b2030a1d4" category="inline-link-macro-rx"></block>。</block>
  <block id="906e93a2060242b360786042d0f40c9f" category="section-title">部署 Trident 操作員、並使用 Helm 安裝 Trident</block>
  <block id="4d204b33a367deb7dbcb20395c917da2" category="admonition">在私有儲存庫中安裝 Trident 時、如果您使用<block ref="990dc1a09e10c7b5378e6bc8a1956cb8" prefix=" " category="inline-code"></block>交換器來指定儲存庫位置、請勿在儲存庫路徑中使用<block ref="191065897cafafd6677dec7355a785d9" prefix=" " category="inline-code"></block>。</block>
  <block id="43eba64dcd06763432addbcf8db2d367" category="list-text">新增Trident Helm儲存庫：</block>
  <block id="4dd793a25a8706b6330293fdd8ba3cca" category="paragraph">若要新增 nodePrep 值、請執行下列命令：</block>
  <block id="a4b3e6e276b60f51832e92ee5e4c0d3c" category="admonition">請勿移除 values.yaml 檔案的預設關聯性。當您想要提供自訂關聯性時、請擴充預設關聯性。</block>
  <block id="13449393414b4d9d6fb5c0c42481c6bb" category="cell">識別、<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block>和其他影像的登錄<block ref="c39d2745402b5d2987cfdd8df3bda0e1" prefix=" " category="inline-code"></block>。保留空白以接受預設值。重要事項：在私有儲存庫中安裝 Trident 時、如果您使用<block ref="990dc1a09e10c7b5378e6bc8a1956cb8" prefix=" " category="inline-code"></block>交換器來指定儲存庫位置、請勿在儲存庫路徑中使用<block ref="191065897cafafd6677dec7355a785d9" prefix=" " category="inline-code"></block>。</block>
  <block id="2b5e815c8ff99f9eef6559d24c783ba7" category="cell">允許 Trident 在 IPv6 叢集中運作。</block>
  <block id="31f08e89ef234f9ec501c003d82bd2b4" category="cell">允許停用 Trident 定期 AutoSupport 報告。</block>
  <block id="1eb59d4f1034670c547353e700b9c45f" category="cell">允許覆寫 Trident AutoSupport 容器的映像標記。</block>
  <block id="1b8b03266c41458cf8c8b67fddf79f72" category="cell">可讓 Trident AutoSupport Container 透過 HTTP Proxy 撥打電話回家。</block>
  <block id="28b0bd49547c0889ddc764ec4af0404f" category="cell">設定 Trident 記錄格式<block ref="1cb251ec0d568de6a929b520c4aed8d1" prefix="(" category="inline-code"></block>或<block ref="466deec76ecdf5fca6d38571f6324d54" prefix=" " category="inline-code"></block>）。</block>
  <block id="025e09276aadc123e8e855a29fafc984" category="cell">停用 Trident 稽核記錄程式。</block>
  <block id="dca184d2a2b16c8fb797363408cbe703" category="cell">允許將 Trident 的日誌級別設置爲：<block ref="04a75036e9d520bb983c5ed03b8d0182" prefix=" " category="inline-code"></block>、<block ref="ad42f6697b035b7580e4fef93be20b4d" prefix=" " category="inline-code"></block>、<block ref="caf9b6b99962bf5c2264824231d7a40c" prefix=" " category="inline-code"></block>、<block ref="1ea4c3ab05ee0c6d4de30740443769cb" prefix=" " category="inline-code"></block><block ref="cb5e100e5a9a3e7f6d1fd97512215282" prefix=" " category="inline-code"></block>或<block ref="df6402fd9ecc60f5a2159fdf45711cd4" prefix=" " category="inline-code"></block>。</block>
  <block id="14db3339a3d7e6dcb158ff8a75d75327" category="cell">允許將 Trident 的記錄層級設定為<block ref="ad42f6697b035b7580e4fef93be20b4d" prefix=" " category="inline-code"></block>。</block>
  <block id="a17b61342a14dd24f10e7959b8c897e8" category="cell">允許啟用特定的 Trident 工作流程、以進行追蹤記錄或記錄抑制。</block>
  <block id="8a755d63b74fdfced1868a0b3e2d5162" category="cell">允許啟用特定 Trident 層以進行追蹤記錄或記錄抑制。</block>
  <block id="d31727faddcc7355e9e3bf46abdf8088" category="cell">允許完全置換 Trident 的映像。</block>
  <block id="275360255393ae93a5ae2ff80a7ee5b6" category="cell">可覆寫 Trident 的映像標記。</block>
  <block id="baee061ae15e488356d9c958fd837562" category="cell">可在 Windows 工作節點上安裝 Trident 。</block>
  <block id="6d893452bf49a70aa18938a81935210f" category="summary">您可以部署 Trident 運算子、並使用 Helm 安裝 Trident 。此程序適用於 Trident 所需的容器映像未儲存在私有登錄中的安裝。</block>
  <block id="c4a180ac17652dd1cd170c28b376be9c" category="paragraph">您可以部署 Trident 運算子、並使用 Helm 安裝 Trident 。此程序適用於 Trident 所需的容器映像未儲存在私有登錄中的安裝。如果您有私有映像登錄，請使用<block ref="95202a095b590d767c9926fd1850fb68" category="inline-link-macro-rx"></block>。</block>
  <block id="7552178c666688de472839ddf4b0f4d0" category="cell">在 AKS 叢集上使用雲端身分識別時、請設定為工作負載身分識別（「 azure.Workload .idental/client-id ： XXXXXXXX-xxxx-xxxx-xxxx-xxxx-xxxx-xxxxxxx 」）。在 EKS 叢集上使用雲端身分識別時、請設定為 AWS IAM 角色（「 eks.amazonaws.com/role-arn: arn:AWS:iam::123456 ：角色 Trident 角色」）。</block>
  <block id="a4ae088aa8dbc2e97f85135b007cce76" category="summary">您可以手動部署 Trident 操作員來安裝 Trident 。此程序適用於 Trident 所需的容器映像儲存在私有登錄中的安裝。</block>
  <block id="c54f3e7a1c4cb645b1fc4f0f7a583ac6" category="paragraph">您可以手動部署 Trident 操作員來安裝 Trident 。此程序適用於 Trident 所需的容器映像儲存在私有登錄中的安裝。如果您沒有私有映像登錄，請使用<block ref="0d70fdec6fbaf15c3c460970c31207c9" category="inline-link-macro-rx"></block>。</block>
  <block id="7a14ead6cd595f6aff8b701879a9f990" category="paragraph">Trident 安裝程式套件包含部署 Trident 營運商和安裝 Trident 所需的一切。從下載並解壓縮最新版本<block ref="6a7c34d1e7545bd3ab5abc336e61eb7f" category="inline-link-macro-rx"></block>的Trident 安裝程式。</block>
  <block id="22471ed8a819a124f9ee9785680269ec" category="paragraph">Trident 安裝程式提供套件檔案、可用於安裝操作員及建立相關物件。套件檔案是部署操作員及使用預設組態安裝 Trident 的簡單方法。</block>
  <block id="a0c08bc8d399eef3571153bb0ecb4a77" category="paragraph">您現在可以建立<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>並安裝 Trident 。或者、您也可以進一步<block ref="af79c767b326b6188dbe7366c85a8007" category="inline-link-macro-rx"></block>使用規格中的屬性<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>。下列範例顯示Trident與csi映像位於不同登錄中的安裝。</block>
  <block id="e4f485171dcf600d2f0b0e8332394897" category="cell">操作人員正在使用此 CR 安裝 Trident<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> 。</block>
  <block id="55a64caca1122c8b2fd992a355c7750b" category="cell">Trident 已成功安裝。</block>
  <block id="cdef3688b4499bd3dbc552c9cf5defc3" category="cell">操作員正在解除安裝 Trident 、因為<block ref="f41a95848a012f4f1a6550ce79c588aa" prefix=" " category="inline-code"></block>。</block>
  <block id="e52593aaecb3b20362fa0081eea6a0f9" category="cell">Trident 已解除安裝。</block>
  <block id="36be8fe129110882a2ec7138f4e363dd" category="cell">操作員無法安裝、修補、更新或解除安裝 Trident ；操作員將自動嘗試從此狀態恢復。如果此狀態持續存在、您將需要疑難排解。</block>
  <block id="24947bdc3a3d6387b2550da2302d4470" category="paragraph">您可以檢閱建立的 Pod 狀態、確認 Trident 安裝是否已完成：</block>
  <block id="85390ca1f1fb456c5467114ab06d3089" category="paragraph">您可以使用<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>檢查已安裝的 Trident 版本。</block>
  <block id="9be65bfc0904c8b8e06776335df88c52" category="summary">您可以手動部署 Trident 操作員來安裝 Trident 。此程序適用於 Trident 所需的容器映像未儲存在私有登錄中的安裝。</block>
  <block id="e09b85e9dd23a53724a460d162828e91" category="paragraph">您可以手動部署 Trident 操作員來安裝 Trident 。此程序適用於 Trident 所需的容器映像未儲存在私有登錄中的安裝。如果您有私有映像登錄，請使用<block ref="3fd9bb28718715a2d036f0ab9d9239b8" category="inline-link-macro-rx"></block>。</block>
  <block id="c97e335d53c8d571c8e8f7464c884831" category="paragraph">您現在可以建立<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>並安裝 Trident 。您也可以選擇<block ref="af79c767b326b6188dbe7366c85a8007" category="inline-link-macro-rx"></block>使用規格中的屬性<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>。</block>
  <block id="7904a6dadeabd7b725caf08c750b3d2e" category="summary">您可以使用安裝 Trident<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> 。此程序適用於 Trident 所需的容器映像儲存在私有登錄中或不儲存在私有登錄中的安裝。</block>
  <block id="10ccc4c39e10c8cfa195e969ad74df78" category="paragraph">您可以使用安裝 Trident<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> 。此程序適用於 Trident 所需的容器映像儲存在私有登錄中或不儲存在私有登錄中的安裝。若要自訂您的<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>部署、請參閱<block ref="8e7a26c9800a78fa0b68fb2423ba3fb4" category="inline-link-macro-rx"></block>。</block>
  <block id="a44928a927e3a51b044bf23f54c5ecc1" category="section-title">使用安裝 Trident<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block></block>
  <block id="380dea89244939b33f7066f0dfbafa8b" category="paragraph">Trident 安裝程式套件會建立 Trident Pod 、設定用於維持其狀態的 CRD 物件、並初始化 CSI 側板、以執行資源配置及將磁碟區附加至叢集主機等動作。從下載並解壓縮最新版本<block ref="6a7c34d1e7545bd3ab5abc336e61eb7f" category="inline-link-macro-rx"></block>的Trident 安裝程式。在範例中、使用您所選的 Trident 版本更新 _&lt;XX.XX.x.tar.gz&gt;_ Trident 。</block>
  <block id="9937b0e906f4a701bfb0a7f52c8b7458" category="section-title">步驟 2 ：安裝 Trident</block>
  <block id="aab75b58977502d2c2813069d908ad61" category="paragraph">執行命令、在所需的命名空間中安裝 Trident<block ref="430bf77bee6c59d385d4194f84c21b16" prefix=" " category="inline-code"></block> 。您可以新增其他引數來指定映像登錄位置。</block>
  <block id="d01f9020330072ac03affe8ff09d74c1" category="paragraph">以下範例提供使用安裝 Trident 的範例組態<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。</block>
  <block id="f19a63197b0bddc429409fc31e0f0028" category="paragraph">若要啟用 Trident 在 Windows 節點上執行：</block>
  <block id="16f386086a2ad7537b5e373f9c0c2d25" category="summary">您可以使用 Trident 運算子（手動或使用 Helm ）或搭配來安裝 Trident<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> 。本主題提供重要資訊、協助您選擇正確的安裝程序。</block>
  <block id="3673a00b7dc94dd4c41d2410acd2fd30" category="paragraph">為了確保 Trident 能夠安裝在各種環境和組織中、 NetApp 提供多種安裝選項。您可以使用 Trident 運算子（手動或使用 Helm ）或搭配來安裝 Trident<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> 。本主題提供重要資訊、協助您選擇正確的安裝程序。</block>
  <block id="4561600b99ad801aedaa0ed3d3f3d7dd" category="paragraph">無論是手動部署或使用 Helm 、 Trident 營運者都是簡化安裝並動態管理 Trident 資源的絕佳方式。您甚至可以<block ref="5290e5312b651716bedf8a83ec5a6467" category="inline-link-macro-rx"></block>使用自訂資源（ CR ）中的屬性<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>。</block>
  <block id="4c4c1456097b6c9eca1c708465c381be" category="example-title">&lt;strong&gt; Trident 物件建立 &lt;/strong&gt;</block>
  <block id="fd326d5b24197ffa86d97a4a14cb4f74" category="paragraph">叢集範圍的 Trident 操作員可在叢集層級管理與 Trident 安裝相關的資源。這可減輕使用命名空間範圍運算子來維護叢集範圍資源時可能造成的錯誤。這對於自我修復和修補至關重要。</block>
  <block id="971121cd3f2006d8d765f6943be3667d" category="paragraph">操作人員會監控 Trident 安裝、並主動採取措施來解決問題、例如刪除部署或意外修改部署的時間。<block ref="6088362e783ede60a64ba91287dc58c1" prefix=" " category="inline-code"></block>系統會建立一個 Pod 、將 CR 與 Trident 安裝建立關聯<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>。這可確保叢集中只有一個 Trident 執行個體、並控制其設定、確保安裝具有冪等功能。當對安裝進行變更（例如刪除部署或節點取消設定）時、操作員會分別識別並修正這些變更。</block>
  <block id="2bd0a347fcdd1f32b2c47512a0f234b5" category="paragraph">例如、請考慮需要啟用 Trident 來產生偵錯記錄的案例。若要執行此操作、請將您的<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>設<block ref="8cddd364bfd0d68f21e3a9ba1123b849" prefix=" " category="inline-code"></block>為<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>：</block>
  <block id="fac5e433885256c138db519bfb7d9c8b" category="paragraph">叢集範圍的 Trident 運算子可清除移除叢集範圍的資源。使用者可以完全解除安裝 Trident 、並輕鬆重新安裝。</block>
  <block id="2b926612abdd76af2a073b5894f76c21" category="paragraph">當叢集的 Kubernetes 版本升級為支援的版本時、操作員會自動更新現有的 Trident 安裝、並加以變更、以確保它符合 Kubernetes 版本的要求。</block>
  <block id="47a11daa7ba65ffd7ce5a63a596b662f" category="admonition">如果叢集升級為不受支援的版本、則操作員會阻止安裝 Trident 。如果已與操作員一起安裝 Trident 、則會顯示警告訊息、指出 Trident 安裝在不受支援的 Kubernetes 版本上。</block>
  <block id="c82b4b0fab3872638ac3c7cebf4e6354" category="paragraph">如果您現有的部署必須升級、或是想要高度自訂部署、您應該考慮<block ref="e214bf159dbaf6573cfe15f1373b92db" category="inline-link-macro-rx"></block>。這是部署 Trident 的傳統方法。</block>
  <block id="2a756f07c39d09b80ec682e46071340c" category="paragraph">您可以<block ref="d16089dfa270d6679e80d43ec8b5c378" category="inline-link-macro-rx"></block>產生 Trident 資源的資訊清單。這包括 Trident 在安裝時所建立的部署、取消設定程式集、服務帳戶和叢集角色。</block>
  <block id="726ba10e7d6fe535f2d9336e7321a0d0" category="admonition">從 22.04 版本開始、每次安裝 Trident 時、就不會再重新產生 AES 金鑰。在此版本中、 Trident 會安裝一個新的秘密物件、在整個安裝過程中都會持續存在。這表示<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>在 22.04 中可以解除安裝舊版 Trident 、但舊版無法解除安裝 22.04 安裝。選取適當的安裝方法_。</block>
  <block id="551b274494ab1b09b1dc86a5a0c18783" category="paragraph">這是安裝 Trident 最簡單的方法、適用於大多數不設有網路限制的環境。標準安裝模式使用默認註冊表來存儲所需的 Trident <block ref="95d6355f896a633ab07c528c03b44c8e" prefix="(" category="inline-code"></block>）<block ref="0b505db73d92bac18356fa3feb3cf7e3" prefix="(" category="inline-code"></block>和 CSI （ CSI ）映像。</block>
  <block id="2c5f46571f2892ffdec449b4fe136e81" category="paragraph">使用標準模式時、 Trident 安裝程式會：</block>
  <block id="987eeee7473b18ea803953637bdfad2e" category="list-text">建立部署或節點取消設定集、可在 Kubernetes 叢集中的所有合格節點上啟動 Trident Pod</block>
  <block id="c784203bd2d02288d50564d90224ed01" category="list-text">在您要部署 Trident 的遠端機器上部署適當版本的<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block>。</block>
  <block id="47bc0a3097919fdad65f139b6d69a9ff" category="list-text">請務必使用相同的方法來安裝和解除安裝 Trident 。如果您已與一起部署<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>、則應該使用適當的二進位版本<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>來解除安裝 Trident 。同樣地、如果您是與運算子一起部署、則應編輯<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> CR 並設定<block ref="f41a95848a012f4f1a6550ce79c588aa" prefix=" " category="inline-code"></block>為解除安裝 Trident 。</block>
  <block id="e1c3faef9fedf771266b88670b01c96e" category="list-text">如果您想要移除並改用以營運者為基礎的部署<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>來部署 Trident 、則應先編輯<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>並設定<block ref="f41a95848a012f4f1a6550ce79c588aa" prefix=" " category="inline-code"></block>為解除安裝 Trident 。然後刪除<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>和操作員部署。然後您可以使用安裝<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。</block>
  <block id="f2019abfb2d31501ffeb653190c776c7" category="paragraph">在 VMware Tanzu Portfolio 產品上安裝 Trident 時：</block>
  <block id="f13f0f6bb53cad2be972536943806066" category="doc">使用 tridentctl 管理 Trident</block>
  <block id="aace960e27eac9490c7c162553e42f7f" category="paragraph"><block ref="5a856e83aada9750fe5389f8da94335b" category="inline-link-rx"></block>包含<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>命令列公用程式、可讓您輕鬆存取 Trident 。擁有足夠 Privileges 的 Kubernetes 使用者可以使用它來安裝 Trident 或管理包含 Trident Pod 的命名空間。</block>
  <block id="be99e89b73ca0fc3198af4f4649e5134" category="paragraph">Trident<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> 公用程式支援下列命令和全域旗標。</block>
  <block id="a0ac16c3fbcfa888fa59e67b5463167b" category="list-text">將資源新增至 Trident 。</block>
  <block id="2f9b5be603774ecb9636b484d457359e" category="list-text">從 Trident 移除一或多個資源。</block>
  <block id="6635cd89ace7391965bccedd81e35cb6" category="list-text">從 Trident 取得一或多個資源。</block>
  <block id="926631c8cfb777fe0db4134e51613ead" category="list-text">列印 Trident 所需的容器影像表格。</block>
  <block id="bb596d4d22f7a33ee0d2a24060a763ec" category="list-text">將現有資源匯入 Trident 。</block>
  <block id="27b4c36cae8d1c4fd515d289942c87cc" category="list-text">安裝Trident。</block>
  <block id="257fa8c5a4a1749d97d717fe4e1215ea" category="list-text">從 Trident 列印記錄。</block>
  <block id="2124524b5b56338967984edc522a8671" category="list-text">從 Trident 傳送資源。</block>
  <block id="806cf5654c2458b177e5c7daa3c09f48" category="list-text">解除安裝 Trident 。</block>
  <block id="28c0034c10c257670255526657e62d93" category="list-text">在 Trident 中修改資源。</block>
  <block id="852e24eece7824454b8f5c79668a07bb" category="list-text">在 Trident 中升級資源。</block>
  <block id="70e5b412fc117fa7faec13d3e8be6421" category="list-text">列印 Trident 版本。</block>
  <block id="0680c12a98c31009064ca561bf02c7f8" category="list-text">Trident 部署的命名空間。</block>
  <block id="d56fa7a9770a5e6333220363051532ac" category="list-text">Trident REST 介面的位址 / 連接埠。</block>
  <block id="592f5a846f45840ff17ae3fcbb5f2d26" category="paragraph">使用<block ref="76ea0bebb3c22822b4f0dd9c9fd021c5" prefix=" " category="inline-code"></block>命令將資源新增至 Trident 。</block>
  <block id="71f8a14d1d2aabce6854ce9de9e4de40" category="list-text"><block ref="b43fdd98b1fd705ae4c3a10cf25aad8a" prefix="" category="inline-code"></block>：將後端新增至 Trident 。</block>
  <block id="03c6dd1ba84a83f2cd07f340b6806c09" category="paragraph">使用<block ref="099af53f601532dbd31e0ea99ffdeb64" prefix=" " category="inline-code"></block>命令從 Trident 中移除一或多個資源。</block>
  <block id="21ee8d29d964bb9b13a0c41d9602ae94" category="list-text"><block ref="b43fdd98b1fd705ae4c3a10cf25aad8a" prefix="" category="inline-code"></block>：從 Trident 刪除一個或多個儲存設備後端。<block ref="c322d3de29d2b0c5e2e011dad5e77df2" prefix=" " category="inline-code"></block>：從 Trident 刪除一個或多個 Volume 快照。<block ref="0606cab8952ca875c43a0e15b35aab7c" prefix=" " category="inline-code"></block>：從 Trident 刪除一個或多個儲存類別。<block ref="210ab9e731c9c36c2c38db15c28a8d1c" prefix=" " category="inline-code"></block>：從 Trident 刪除一個或多個儲存磁碟區。</block>
  <block id="e558124864c80bb4cb3afd12ca94d6a3" category="paragraph">使用<block ref="b5eda0a74558a342cf659187f06f746f" prefix=" " category="inline-code"></block>命令從 Trident 取得一或多個資源。</block>
  <block id="d4f3a31079f902b3ab789d35c645a783" category="list-text"><block ref="b43fdd98b1fd705ae4c3a10cf25aad8a" prefix="" category="inline-code"></block>：從 Trident 獲得一個或多個儲存設備後端。<block ref="c322d3de29d2b0c5e2e011dad5e77df2" prefix=" " category="inline-code"></block>：從 Trident 獲取一個或多個快照。<block ref="0606cab8952ca875c43a0e15b35aab7c" prefix=" " category="inline-code"></block>：從 Trident 獲取一個或多個儲存類。<block ref="210ab9e731c9c36c2c38db15c28a8d1c" prefix=" " category="inline-code"></block>：從 Trident 獲取一個或多個卷。</block>
  <block id="2d7cc984025c13a373fe75153203182f" category="paragraph">使用<block ref="59b514174bffe4ae402b3d63aad79fe0" prefix=" " category="inline-code"></block>旗標來列印 Trident 所需的容器影像表格。</block>
  <block id="713e63397727c946dac8452e705917bd" category="paragraph">使用<block ref="f6c534966bc7687e0c87134d025f8837" prefix=" " category="inline-code"></block>命令將現有磁碟區匯入 Trident 。</block>
  <block id="cc674f0e0cd8c84b97f0fa6a907c1a9c" category="paragraph">使用<block ref="19ad89bc3e3c9d7ef68b89523eff1987" prefix=" " category="inline-code"></block>旗標來安裝 Trident 。</block>
  <block id="d26beba5397e2900bd10ac2f4114439a" category="paragraph">使用<block ref="2165e4fa5bddb65a31f6a0c495c2fa37" prefix=" " category="inline-code"></block>旗標從 Trident 列印記錄。</block>
  <block id="03b876ad5d685e21517c5c91d80aa1b7" category="list-text"><block ref="37caf0ee262229a9ddc60877eec6883f" prefix="" category="inline-code"></block>，<block ref="33a12b543204974f74acd94de699324e" prefix=" " category="inline-code"></block>：創建包含所有日誌的支持歸檔文件（除非另有指定）。<block ref="914071b8934b1d6035495f1ed02aa5fd" prefix=" " category="inline-code"></block>，<block ref="0c113ca6d57519b559ba5a426be3c6b6" prefix=" " category="inline-code"></block>：日誌幫助。<block ref="269889131ee4793a82191b78a2eb60e3" prefix=" " category="inline-code"></block><block ref="e1db966b8a9ad737de7da72be15dcfc3" prefix=" " category="inline-code"></block>：要顯示的 Trident 日誌。其中一個是 Trident | auto| Trident 運算子 | All （預設為「自動」）。<block ref="60cfbca684c147d47b652c83c9617370" prefix=" " category="inline-code"></block>：要從中收集節點 Pod 日誌的 Kubernetes 節點名稱。<block ref="b3868ba70a8f4cf55464dd9926381db1" prefix=" " category="inline-code"></block><block ref="a29a0e1222e48537fee91cff87dcb786" prefix=" " category="inline-code"></block>：獲取以前的 Container 實例的日誌（如果存在）。<block ref="2c82c1731bc7980f276a26037aa42ec1" prefix=" " category="inline-code"></block>：獲取 sidecar 容器的日誌。</block>
  <block id="05ec773046cd39b8bc0f2d677bce0910" category="paragraph">使用<block ref="2541d938b0a58946090d7abdde0d3890" prefix=" " category="inline-code"></block>命令從 Trident 傳送資源。</block>
  <block id="18a643410fc45a102fb920f23c9c2836" category="paragraph">使用<block ref="fe98497efedbe156ecc4b953aea77e07" prefix=" " category="inline-code"></block>旗標來解除安裝 Trident 。</block>
  <block id="599e9ff51846ab1b00f04c11c114486b" category="paragraph">使用<block ref="3ac340832f29c11538fbe2d6f75e8bcc" prefix=" " category="inline-code"></block>命令修改 Trident 中的資源。</block>
  <block id="0cf5883c2ee5ddae619d22db9c564f72" category="list-text"><block ref="b43fdd98b1fd705ae4c3a10cf25aad8a" prefix="" category="inline-code"></block>：在 Trident 中更新後端。</block>
  <block id="5c7182b03561a92970bed5538e17d9c4" category="list-text">若要在透過 tbc 設定 Via tridentctl 之後重新取得設定<block ref="aa531c83e844d5d66725984798da11b8" prefix=" " category="inline-code"></block>功能、<block ref="aa531c83e844d5d66725984798da11b8" prefix=" " category="inline-code"></block>必須從 tbc 移除該欄位。這可以使用命令來完成<block ref="d8d9eaf9706e633cb1e715e88dfbe301" prefix=" " category="inline-code"></block> 。<block ref="aa531c83e844d5d66725984798da11b8" prefix=" " category="inline-code"></block>欄位移除後、您可以使用<block ref="30ef4d8d0d0cb9218c8f70ca2b7ee7bc" prefix=" " category="inline-code"></block>命令來變更<block ref="aa531c83e844d5d66725984798da11b8" prefix=" " category="inline-code"></block>後端的。</block>
  <block id="3bed2aa34d42c38e2a5593a67e2fe0c4" category="section-title">外掛程式支援</block>
  <block id="424054df70ee64ca6c70f04f668acb1e" category="paragraph">Tridentctl 支援類似 kubectl 的外掛程式。如果外掛程式二進位檔案名稱遵循「 &lt;plugin&gt; 」配置、則 Tridentctl 會偵測外掛程式、且二進位檔案位於列出 PATH 環境變數的資料夾中。所有偵測到的外掛程式都會列在 tridentctl 說明的外掛程式區段中。或者、您也可以在 enviornment 變數 TRIDENTCTL_plugin_path 中指定外掛程式資料夾來限制搜尋（例如：<block ref="d8923b227a7eb64a54abbd6aa4ee0f6d" prefix=" " category="inline-code"></block>）。如果使用此變數、則 tridenctl 只會在指定的資料夾中搜尋。</block>
  <block id="deeb141b9b83e90418e171a1871e4c4c" category="summary">您應該使用與安裝 Trident 相同的方法來解除安裝 Trident 。如果您需要修正在升級、相依性問題或升級失敗或不完整之後所觀察到的錯誤、您應該解除安裝 Trident 、並使用該版本的特定指示重新安裝舊版。</block>
  <block id="7fdff6d1496ee07f5530882ace839236" category="paragraph">您應該使用與安裝 Trident 相同的方法來解除安裝 Trident 。</block>
  <block id="e2f3eebc5fb0722c4ff76f470c4c3644" category="list-text">如果您需要修正在升級、相依性問題或升級失敗或不完整之後所觀察到的錯誤，您應該解除安裝 Trident ，並使用該的特定指示重新安裝舊版<block ref="e168bf6cc8da3b05fae6b22bcd12ba37" category="inline-link-macro-rx"></block>。這是將 _ 降級 _ 降級至較早版本的唯一建議方法。</block>
  <block id="0a5e338ee1a9820e7a4a7d64f09e4a90" category="inline-link-macro">完全移除 Trident 和客戶需求日</block>
  <block id="bfc34bbf9ae6407400b3d77e0e84543b" category="list-text">為了方便升級和重新安裝、解除安裝 Trident 並不會移除 Trident 所建立的 CRD 或相關物件。如果您需要完全移除 Trident 及其所有資料、請參閱<block ref="a2addcf593ef6071e49d2a678662f830" category="inline-link-macro-rx"></block>。</block>
  <block id="39596b8f60148eb1bbb5294ed08b18e3" category="paragraph">如果您要停用 Kubernetes 叢集、則必須先刪除所有使用 Trident 建立之 Volume 的應用程式、然後再解除安裝。如此可確保在刪除之前、不會在 Kubernetes 節點上發佈 PVC 。</block>
  <block id="17733a3e129c42343460715297e0ac17" category="paragraph">您應該使用與安裝相同的方法來解除安裝 Trident 。在解除安裝之前、請先確認您原本安裝 Trident 的版本。</block>
  <block id="289484202abcb58bc03e41c81caae5ac" category="list-text">如果沒有運算子 Pod 、則使用安裝 Trident<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> 。</block>
  <block id="ec1716523baff70aa24080e64d8b4b12" category="list-text">如果有操作員 Pod 、則 Trident 是使用 Trident 操作員手動或使用 Helm 來安裝。</block>
  <block id="5577c7ef32ae8572fa7be77d6824637e" category="list-text">如果有操作員 Pod 、請使用<block ref="2bbaa285a4b0035313ee3178abf33313" prefix=" " category="inline-code"></block>判斷是否使用 Helm 安裝 Trident 。</block>
  <block id="aa5d66e97bedb220b9ef74e7c17b9f61" category="list-text">如果有 Helm 標籤、則使用 Helm 安裝 Trident 。</block>
  <block id="28de01ed4501d62f4c5b88fa6049543d" category="list-text">如果沒有 Helm 標籤、則會使用 Trident 操作員手動安裝 Trident 。</block>
  <block id="e2a7f7c4ad1f2b2220b05363feef82c8" category="paragraph">如果您使用運算子安裝 Trident 、則可以執行下列其中一項動作來解除安裝：</block>
  <block id="9f9bf29ad71be284c3ea7064648785b5" category="list-text">** 刪除<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>** ：移除用於部署 Trident 的 CR 後<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>、您會指示操作員解除安裝 Trident 。操作員會處理移除並繼續移除 Trident 部署和取消程式集、刪除其在安裝過程<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>中所建立的 Trident Pod 。</block>
  <block id="ea75777d00ce93c49ed762f4f7dfada6" category="paragraph">如果您使用 Helm 安裝 Trident 、可以使用解除安裝<block ref="547d17b0589ba1ba53549f8ddb830b62" prefix=" " category="inline-code"></block>。</block>
  <block id="b19a703b7895e9b3039fbad761b2c100" category="paragraph">使用<block ref="fe98497efedbe156ecc4b953aea77e07" prefix=" " category="inline-code"></block>中的命令<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>移除與 Trident 相關的所有資源、但 CRD 和相關物件除外：</block>
  <block id="6bfc286a12a4a343361f71fd9b7ccf62" category="summary">在使用 Trident 操作員升級 Trident 之前、您應該先瞭解升級期間所發生的背景程序。其中包括 Trident 控制器、控制器 Pod 和節點 Pod 的變更、以及啟用循環更新的節點示範集。</block>
  <block id="6bd585eb6409f22b8a1e247f4935c581" category="paragraph">安裝和升級 Trident 的其中一項<block ref="1294f86abdf2591159d9dd04918b1092" category="inline-link-macro-rx"></block>、是在不中斷現有掛載磁碟區的情況下、自動處理 Trident 和 Kubernetes 物件。如此一來、 Trident 就能支援零停機的升級、或<block ref="c0fb6b6f12bb8ae805a97690328ec023" category="inline-link-macro-rx"></block>。尤其是 Trident 運算子會與 Kubernetes 叢集通訊、以便：</block>
  <block id="a958e7fa65b27b4be8589d6d0de8d135" category="list-text">偵測目前安裝的 Trident 版本（版本 _n_ ）。</block>
  <block id="0efdc02c2d9fa1fcf31ff85fec4ed8de" category="summary">您可以使用操作員輕鬆升級現有的 Trident 安裝。</block>
  <block id="9a98985a342ee2d7d213394e90d838a9" category="doc">使用 Trident 營運商或 Helm 升級 Trident 安裝</block>
  <block id="5430a6b8f98712c8210f8df2d906793a" category="paragraph">您可以手動或使用 Helm 、使用 Trident 營運商來升級 Trident 。您可以從 Trident 營運商安裝升級至其他 Trident 營運商安裝、或從安裝升級<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>至 Trident 營運商版本。在升級 Trident 操作員安裝之前、請先檢閱<block ref="5cffa5fbe758cc3901f0e33c78b29d1b" category="inline-link-macro-rx"></block>。</block>
  <block id="18466b7fafaca62c9c0d2438889ca0c6" category="admonition">若要從使用命名空間範圍運算子（ 20.07 至 20.10 版）安裝的 Trident 升級、請使用 Trident 的升級指示<block ref="567dd1ff029f25a404a69ff1e3c8d83b" category="inline-link-macro-rx"></block>。</block>
  <block id="76e06d694db0c428e4d51e3354a7a4bd" category="list-text">驗證您的 Trident 版本：</block>
  <block id="1863fa40be678d4efa33c952a5cba52e" category="paragraph">您可以升級 Trident Helm 安裝。</block>
  <block id="b2095ed231848e69cbd92e44defb033b" category="admonition">將已安裝 Trident 的 Kubernetes 叢集從 1.24 升級至 1.25 或更新版本時、您必須<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>先更新 values.yaml 以設定<block ref="94ef2a130a825358ab3002442d6e5145" prefix=" " category="inline-code"></block>或新增<block ref="96d5d0b9a6e3e01b2ae2ed889f75d22e" prefix=" " category="inline-code"></block>至<block ref="cd01e1bae83933b9c59c914bc71332ac" prefix=" " category="inline-code"></block>命令、才能升級叢集。</block>
  <block id="5198b91e39c3a2f369e2426e2732625e" category="paragraph">如果您已經將 Kubernetes 叢集從 1.24 升級至 1.25 、而不升級 Trident helm 、則 helm 升級將會失敗。若要順利完成升級、請先執行下列步驟：</block>
  <block id="b85ec56f096c3a360d0efb02cd7a405c" category="list-text">從安裝 helm-mapkubeaps 外掛程式<block ref="bd65bd6616cbc50afd763e93267c969a" category="inline-link-rx"></block>。</block>
  <block id="5f5d62e54c7f1681b8aca17a51dae491" category="list-text">在安裝 Trident 的命名空間中、為 Trident 版本執行演習。這會列出將會清除的資源。</block>
  <block id="db65493922bad76f3135ea26ab9b5377" category="list-text">以 helm 執行完整執行以進行清理。</block>
  <block id="cdfb4a820b1c2fb971221fb06e0dcd22" category="inline-link-macro">已使用 Helm 安裝 Trident</block>
  <block id="51c9e4ca2440cc879a0ac3211d74b056" category="list-text">從下載最新的 Trident 版本<block ref="6a7c34d1e7545bd3ab5abc336e61eb7f" category="inline-link-macro-rx"></block>。</block>
  <block id="6a40bcc839c7c4e3dc8f6767cbe14743" category="list-text">下載最新的 Trident 版本。</block>
  <block id="3dddb901f6b5bd5d89988dafdfabdec3" category="list-text">建立<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> CR 以安裝 Trident 。</block>
  <block id="64913c0fb81e4c0c481a4fc1fac61cdd" category="summary">Trident 遵循為期四個月的發行步調、每年提供三個主要版本。每個新版本均以舊版為基礎、提供新功能與效能增強功能、以及錯誤修正與改善功能。我們建議您每年至少升級一次、以充分利用 Trident 的新功能。</block>
  <block id="77e55df8a70448ed424b5f523364ffc2" category="paragraph">從 24.02 版開始、 Trident 遵循四個月的發行步調、每個日曆年度提供三個主要版本。每個新版本均以舊版為基礎、並提供新功能、效能增強、錯誤修正及改善功能。我們建議您每年至少升級一次、以充分利用 Trident 的新功能。</block>
  <block id="2189850878cb079b3d2ec0126cc0c42a" category="paragraph">升級至最新版的 Trident 時、請考慮下列事項：</block>
  <block id="c0f69f3a3b098007f278b27ffb9915ac" category="list-text">在指定的 Kubernetes 叢集中、所有命名空間都應該只安裝一個 Trident 執行個體。</block>
  <block id="a34f035fd1be1d24760b20dd8fa547ea" category="list-text">Trident 23.07 及更新版本需要 v1 Volume 快照、不再支援 Alpha 或 beta 快照。</block>
  <block id="355ecbb7c8a4a9a1ef360cb6b2697d0c" category="list-text">升級時、 Trident 必須提供<block ref="f6e7f85d8aee15940665bf722f7afac2" prefix=" " category="inline-code"></block>使用中的<block ref="f652904c3bfb48fb25a0a75f485f0ff6" prefix=" " category="inline-code"></block>資訊。您可以在不中斷現有磁碟區的情況下刪除及重新建立<block ref="f652904c3bfb48fb25a0a75f485f0ff6" prefix=" " category="inline-code"></block>磁碟區。</block>
  <block id="a307a5edde0e4eeeb35bb77f0a1f1cc7" category="paragraph">Trident 版本遵循日期<block ref="fb6921a005d395f9482cdac0306d4935" prefix=" " category="inline-code"></block>命名慣例、其中「是」是年份的最後兩位數、「 MM 」是月份。DOT 版本遵循<block ref="d93ec759c4a0e8c1cf9c7653b2939656" prefix=" " category="inline-code"></block>慣例、其中「 X 」是修補程式層級。您將根據要升級的版本、選擇要升級的版本。</block>
  <block id="25005cf84eec08f8f6a673dd193efa30" category="paragraph">若要判斷您最初安裝 Trident 的版本：</block>
  <block id="f83034df0569133b2bce8e38446dfa7d" category="list-text">如果有操作員 Pod 、請使用<block ref="9ce56b0c50ae80fe754522969b1c96b9" prefix=" " category="inline-code"></block>判斷是否使用 Helm 安裝 Trident 。</block>
  <block id="831878da1887476c96f4d3663eb93345" category="paragraph">一般而言，您應該使用初始安裝所使用的相同方法進行升級<block ref="e34c010032791417159012a5e31d7540" category="inline-link-macro-rx"></block>，不過您可以。升級 Trident 有兩個選項。</block>
  <block id="0b788cf4288607cc017571ff06e7943e" category="summary">您可以使用輕鬆升級現有的 Trident 安裝<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。</block>
  <block id="ffdcc81ea1b556d1898b6edeef92af9c" category="paragraph">您可以使用輕鬆升級現有的 Trident 安裝<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。</block>
  <block id="f01c58ea1eebde50a8ce26c58daf4cce" category="paragraph">解除安裝及重新安裝 Trident 即為升級。當您解除安裝 Trident 時、不會刪除 Trident 部署所使用的持續 Volume Claim （ PVC ）和持續 Volume （ PV ）。Trident 離線時、已佈建的 PV 仍可繼續使用、而 Trident 會在恢復上線後、為在此期間建立的任何 PVC 配置磁碟區。</block>
  <block id="7ad65028965606bad1c173b4f16cefeb" category="list-text">執行中的解除安裝命令<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>、移除 CRD 和相關物件以外的所有與 Trident 相關的資源。</block>
  <block id="3777d5420fb2ef4c5e434cd5af97d73d" category="inline-link-macro">使用 tridentctl 安裝 Trident</block>
  <block id="23d4814be45e57b94df46ce2ee2a19f6" category="list-text">重新安裝 Trident 。請參閱 <block ref="6fa1b6e43e706a69762bd9a319950a21" category="inline-link-macro-rx"></block>。</block>
  <block id="f36baffc9ca645fa1fe36124af4e39a7" category="summary">瞭解使用 Trident 建立的 Trident 和磁碟區的保護與還原選項。對於每個應用程式、您都應該有持續性需求的資料保護與還原策略。</block>
  <block id="ffe1fc42630bb81c5437556ccf118ba0" category="section-title">Trident 複寫與還原</block>
  <block id="9c85886fa11238157a9de69d0caaf7f2" category="paragraph">您可以建立備份、以便在發生災難時還原 Trident 。</block>
  <block id="a06c2dd9e460954c4c8e439ed6c16849" category="section-title">Trident 複寫</block>
  <block id="0cf2379589875f19fc411cdbbabab10c" category="paragraph">Trident 使用 Kubernetes CRD 來儲存及管理其本身的狀態、並使用 Kubernetes 叢集 etcd 來儲存其中繼資料。</block>
  <block id="df92604aa3f4e581e24f9f7e549cbe1e" category="section-title">Trident 恢復</block>
  <block id="742d0be325a2cc0809fad668e223a40c" category="paragraph">您可以使用 Kubernetes CRD 和 Kubernetes 叢集 etcd 快照來復原 Trident 。</block>
  <block id="1f7c8c42e8abc1d393aa79f78603a7d4" category="paragraph">Trident 無法設定複寫關係、不過儲存管理員可以使用<block ref="eae3571c3bcc896c3c2934b9eeb2171a" category="inline-link-rx"></block>複寫 SVM 。</block>
  <block id="5717b21c41683b40b5182faa442bafb8" category="paragraph">SnapMirror 可讓您設定選項、以控制要複寫的內容。您需要知道您在進行預先設定時所選擇<block ref="36ddeb299c5dc6bcf247ffb9df4df208" category="inline-xref-macro-rx"></block>的選項。</block>
  <block id="876b144c54cd97607e6f6f4d8b15f39e" category="section-title">使用 Trident 進行 SVM 恢復</block>
  <block id="5c26def63f84646a9f77218eea10331a" category="paragraph">Trident 不會自動偵測 SVM 故障。發生災難時、管理員可以手動啟動 Trident 容錯移轉至新的 SVM 。</block>
  <block id="eb12f237ee9304f080e1a3b606030f2d" category="admonition">如果您指定<block ref="524218dc9ff1ef52c9a0404971525b21" prefix=" " category="inline-code"></block>、則當目的地 SVM 啟動時、 Trident 所佈建的所有磁碟區都會開始提供資料。</block>
  <block id="4afaf8cedd32fb155e98f0626311d8ab" category="paragraph">Trident 無法設定 SnapMirror 複寫關係、不過儲存管理員可以使用<block ref="c3487d6df2463efc752acd6f5cc45a1f" category="inline-link-macro-rx"></block>複寫 Trident 建立的磁碟區。</block>
  <block id="9cf6e031ec85179307403b10689113c9" category="paragraph">然後，您可以使用將恢復的卷導入 Trident <block ref="b0a81d9cb6f9ea994a428f959b11d3c6" category="inline-link-macro-rx"></block>。</block>
  <block id="3c520ff745f4964007340c06ce483d92" category="summary">部署 Trident 時、請使用此處列出的建議。</block>
  <block id="4ac9935cf245d076d6ef4babd8659321" category="paragraph"><block ref="c41296e544cd0faaa4fe4e8b22535287" category="inline-link-rx"></block>在不同的應用程式之間提供管理上的分離、是資源共用的障礙。例如、某個命名空間的某個永久虛電路無法從另一個命名空間使用。Trident 為 Kubernetes 叢集中的所有命名空間提供 PV 資源、因此會運用 Privileges 提升的服務帳戶。</block>
  <block id="f53e7cca65962add5f429193e9cbdb7c" category="doc">整合 Trident</block>
  <block id="ef77c788fd33425198e77cd3ce7c4525" category="paragraph">若要整合 Trident 、下列設計和架構元素需要整合：驅動程式選擇和部署、儲存類別設計、虛擬集區設計、持續 Volume Claim （永久 Volume Claim ）對使用 Trident 的儲存資源配置、 Volume 作業和 OpenShift 服務部署的影響。</block>
  <block id="9586fb9f48cc64f580092d7123d5acad" category="paragraph">請注意、在下表中、並非所有功能都是透過 Trident 公開的。如果需要這些功能、儲存管理員必須在資源配置後套用部分功能。上標註可區分每項功能和驅動程式的功能。</block>
  <block id="5b003b29dfd53276a5b816a47ab32348" category="paragraph">Trident 提供 2 個適用於 ONTAP 的 SAN 驅動程式、其功能如下所示。</block>
  <block id="3f89ded204a4589d3a6dc04e8b5f3199" category="verse-content-simple">註腳：是註腳： 1[] ：非由 Trident 管理是註腳： 2[] ：支援原始區塊磁碟區</block>
  <block id="e999eb209b6aaa7fd15151716377009a" category="paragraph">Trident 使用<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block>驅動程式來管理<block ref="d617d79fbb5ee3bc8bd280353eeb1349" category="inline-link-macro-rx"></block>服務。</block>
  <block id="67f0b796ae8988fe5446f8f925a4f9d8" category="inline-link-macro">適用於 Azure NetApp Files 的 Trident 後端組態</block>
  <block id="46a410b97b05c5034e7d6dd503471548" category="paragraph">有關此驅動程式及其設定方式<block ref="be39645497306a87b14bbf7b3f50cd06" category="inline-link-macro-rx"></block>的詳細資訊，請參閱。</block>
  <block id="57c2378ca2b5638498fcfce53847fb9c" category="verse-content-simple">註腳： Yes腳 註： 1[] ：非由 Trident 管理</block>
  <block id="452de30c1a2630700e271baac21f9ff5" category="paragraph">此<block ref="c614017642b6cfd9e6a25c7df122d917" prefix=" " category="inline-code"></block>參數有助於將儲存限制為符合任何指定屬性的集區集。此<block ref="145d1b89a9f9ed8bdc16d1f7a814cace" prefix=" " category="inline-code"></block>參數用於擴充 Trident 用於資源配置的集區集區集、以及由屬性和參數所選取的集區集<block ref="c614017642b6cfd9e6a25c7df122d917" prefix=" " category="inline-code"></block>。您可以單獨使用參數或同時使用兩者、以確保已選取適當的儲存資源池集區集區。</block>
  <block id="e2dcff5242641fe99e5de74fa1bfd61c" category="paragraph">所有 Trident 後端均可使用虛擬集區。您可以使用 Trident 提供的任何驅動程式、為任何後端定義虛擬集區。</block>
  <block id="976ae934688a6ffde1862ea50e00d6f9" category="paragraph">虛擬集區可讓系統管理員在後端建立抽象層級、以便透過「儲存類別」加以參考、以提高磁碟區在後端的靈活度與效率。不同的後端可以使用相同的服務類別來定義。此外、您也可以在相同的後端上建立多個儲存資源池、但其特性不同。當儲存類別設定為具有特定標籤的選取器時、 Trident 會選擇符合所有選取器標籤的後端來放置磁碟區。如果儲存類別選取器標籤符合多個儲存集區、 Trident 將會選擇其中一個標籤來配置磁碟區。</block>
  <block id="fb241a03678f7f6dbc815840b0eb275b" category="paragraph">建立 PVC 時、超出所要求儲存類別的部分參數可能會影響 Trident 資源配置決策程序。</block>
  <block id="d0652515edf18bae4abe8c32cbada535" category="paragraph">Trident 將嘗試將使用的儲存傳輸協定與根據下列對照表所指定的存取方法配對。這與基礎儲存平台無關。</block>
  <block id="5778c34e2378296c943901d6fc399424" category="paragraph">Trident 支援隨需建立磁碟區快照、以及使用 CSI 架構從快照建立 PVC 。Snapshot提供便利的方法來維護資料的時間點複本、並使Kubernetes中的來源PV在生命週期上獨立不受影響。這些快照可用於複製PVCS。</block>
  <block id="9aea71aa176b781fee80bdbfd4f20d46" category="paragraph">Trident 也支援從磁碟區快照建立 PersistentVolumes 。若要達成此目標、只要建立 PersistentVolume Claim 、並將提及作為建立磁碟區所需的快照即可<block ref="1ea7e575defdf6bc3f26a3f127e98170" prefix=" " category="inline-code"></block>。Trident 會建立一個含有快照資料的磁碟區來處理此 PVC 。有了這項功能、您可以跨區域複製資料、建立測試環境、完整取代毀損或毀損的正式作業磁碟區、或擷取特定檔案和目錄、然後將它們傳輸到其他附加磁碟區。</block>
  <block id="ed6f39ab5224d264f94fc4324f391366" category="paragraph">儲存管理員能夠在ONTAP 整個叢集中的集合體和控制器之間、不中斷營運地將磁碟區移至儲存使用者。只要目的地 Aggregate 是 Trident 使用的 SVM 具有存取權、此作業就不會影響 Trident 或 Kubernetes 叢集。重要的是、如果新增 Aggregate 至 SVM 、則需要重新將後端新增至 Trident 以重新整理。這會觸發 Trident 重新清查 SVM 、以便辨識新的 Aggregate 。</block>
  <block id="aec7eb75babd44ee65e8fe4e8f0b1096" category="paragraph">不過、 Trident 並不自動支援在後端之間移動磁碟區。這包括在同一個叢集中的 SVM 之間、叢集之間或不同的儲存平台上（即使該儲存系統是連線至 Trident 的儲存系統）。</block>
  <block id="16c30c56fe00d20f49bb055490dff7aa" category="paragraph">如果將磁碟區複製到其他位置、則可使用 Volume 匯入功能將目前的磁碟區匯入 Trident 。</block>
  <block id="6b810970c1e58f8070c318df43054f6c" category="paragraph">使用 ONTAP 和<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block>驅動程式時、請使用命令<block ref="5b139f5309999fcf6a4bbc8389cbc865" prefix=" " category="inline-code"></block>將現有的磁碟區匯入 Kubernetes 、以便由 Trident 管理。匯入 Volume 命令中使用的 PVC YAML 或 JSON 檔案會指向將 Trident 識別為資源配置程式的儲存類別。使用NetApp HCI / SolidFire後端時、請確定磁碟區名稱是唯一的。如果磁碟區名稱重複、請將磁碟區複製成唯一名稱、以便磁碟區匯入功能能夠區分它們。</block>
  <block id="4cb042ac9491457dd22d7368d4fa27c1" category="paragraph">執行上述命令時、 Trident 會在後端找到該 Volume 並讀取其大小。它會自動新增（並在必要時覆寫）已設定的 PVC Volume Size 。然後 Trident 建立新的 PV 、 Kubernetes 會將 PVC 與 PV 連結起來。</block>
  <block id="e8b2e1fd32346fcd38f11f84cd51d409" category="paragraph">在您的主機/庫存檔案中定義適當的可Ansible變數後、使用Ansible部署服務。如果您是在OpenShift安裝時間進行部署、則會自動建立及使用PV。如果您是使用元件教戰手冊進行部署、則在安裝 OpenShift 之後、 Ansible 會建立所需的任何 PVCS 、並在 Trident 為其提供儲存設備之後、部署服務。</block>
  <block id="d6e925b1fae42b853ba04f3810c28628" category="summary">您可以啟用 Linux 統一金鑰設定（ LUKS ）來加密 Trident 上的 ONTAP SAN 和 ONTAP SAN 經濟磁碟區。Trident 支援磁碟區大小調整和 LUKS 加密磁碟區的金鑰（複雜密碼）旋轉。</block>
  <block id="3d987bdfee54b4cc132665887eab7b60" category="paragraph">您可以啟用 Linux 統一金鑰設定（ LUKS ）來加密 Trident 上的 ONTAP SAN 和 ONTAP SAN 經濟磁碟區。Trident 支援使用複雜密碼的旋轉和磁碟區擴充、適用於使用 LUKS 加密的磁碟區。</block>
  <block id="35ae21817657169af402c244d1974dfd" category="paragraph">在 Trident 中， LUKS 加密的磁碟區使用 AES-XTS-plain64 cypher 和模式<block ref="79a538d5fda32e1565131ca044d589f6" category="inline-link-macro-rx"></block>，如所建議。</block>
  <block id="32a9b32fc41708606002471c1eb3f55c" category="paragraph">若要匯入 LUKS Volume 、您必須在後端將設<block ref="0f179ba2bc32ab5d8f60692f5b800c86" prefix=" " category="inline-code"></block>為<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>。<block ref="0f179ba2bc32ab5d8f60692f5b800c86" prefix=" " category="inline-code"></block>選項告訴 Trident 卷是否符合 LUKS <block ref="68934a3e9455fa72420237eb05902327" prefix="(" category="inline-code"></block>）<block ref="b326b5062b2f0e69046810717534cb09" prefix="(" category="inline-code"></block>或不符合 LUKS ），如下例所示。</block>
  <block id="623002c2cdb3e388098c78e4a56c5f74" category="paragraph">如果在指定新的LUKS通關密碼之後建立裝載磁碟區的Pod、則會發生LUKS通關密碼循環。建立新的 Pod 時、 Trident 會將磁碟區上的 LUKS 複雜密碼與機密中的作用中複雜密碼進行比較。</block>
  <block id="0cf736e750e01f7d7ddbc08fe8297576" category="summary">請使用此處列出的建議、確保 Trident 安裝安全無虞。</block>
  <block id="e047f381a9811c1d60a8a3750b2d0cda" category="paragraph">請使用此處列出的建議、確保 Trident 安裝安全無虞。</block>
  <block id="2d40d7a116d252bb16ef5b074c9c28ee" category="section-title">在自己的命名空間中執行 Trident</block>
  <block id="7d4a55ae858dcca9ad616f33e6035cc6" category="paragraph">請務必防止應用程式、應用程式管理員、使用者和管理應用程式存取 Trident 物件定義或 Pod 、以確保可靠的儲存設備、並封鎖潛在的惡意活動。</block>
  <block id="59eb6cc525324355d85d541c963c8697" category="paragraph">要將其他應用程序和用戶與 Trident 分開，請始終在其自己的 Kubernetes 命名空間中安裝 Trident <block ref="47cb44be55a0dffa15dfc900a4c687be" prefix="(" category="inline-code"></block>）。將 Trident 置於自己的命名空間中、可確保只有 Kubernetes 管理人員能夠存取 Trident Pod 、以及儲存在命名 CRD 物件中的成品（例如後端和 CHAP 機密、如果適用）。您應確保只允許系統管理員存取 Trident 命名空間、進而存取<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>應用程式。</block>
  <block id="9d9837d692b44e524c96b427964bea85" category="paragraph">Trident 支援 ONTAP SAN 工作負載的 CHAP 型驗證（使用<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>和<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>驅動程式）。NetApp 建議在主機和儲存後端之間使用 Trident 的雙向 CHAP 進行驗證。</block>
  <block id="a77f6a8d6a33d8d8102cdeed9631b96d" category="paragraph">NetApp建議部署雙向CHAP、以確保主機與NetApp HCI 支援功能及SolidFire 支援功能之間的驗證。Trident 使用的是每個租戶包含兩個 CHAP 密碼的秘密物件。安裝 Trident 時、它會管理 CHAP 機密、並將其儲存在相關 PV 的 CR 物件中<block ref="3ddc70b4b408f6dd5bbd5fe7d6008993" prefix=" " category="inline-code"></block>。建立 PV 時、 Trident 會使用 CHAP 機密來啟動 iSCSI 工作階段、並透過 CHAP 與 NetApp HCI 和 SolidFire 系統通訊。</block>
  <block id="99dfe9c8c9bd791b7382d67a440c38be" category="admonition">由 Trident 建立的磁碟區不會與任何 Volume 存取群組相關聯。</block>
  <block id="9559c7656e8a28d235478856aa8e44ce" category="section-title">搭配 NVE 和 NAE 使用 Trident</block>
  <block id="4a8deb2ba46901e5599a8d9ca85ca254" category="list-text">如果在後端上啟用 NAE 、則 Trident 中配置的任何 Volume 都將啟用 NAE 。</block>
  <block id="6fd5fcab13431f04cede0c124a46282a" category="paragraph">在啟用 NAE 的後端 Trident 中建立的磁碟區必須加密 NVE 或 NAE 。</block>
  <block id="18eea8a0000e827a336c57c06568e4d5" category="list-text">在啟用 NAE 的後端上、將 NVE 加密旗標設定為<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>會建立啟用 NAE 的 Volume 。您無法透過將 NVE 加密旗標設定為來停用 NAE 加密<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>。</block>
  <block id="9feef6eaebf84b29639dd7c179735c8c" category="list-text">您可以在 Trident 中手動建立 NVE Volume 、方法是將 NVE 加密旗標明確設定為<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>。</block>
  <block id="4551cdad3ae48d3a807028a224a3617f" category="admonition">一般而言、您不需要管理<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block>物件。例外情況是您想要<block ref="0b4cdf17ac3e4123330cb8e51ec533a2" category="inline-link-macro-rx"></block>在 Trident 之外建立。</block>
  <block id="805098fafaaebe033d70c80fe542e3af" category="paragraph">Trident 使用<block ref="99bc4b850e05bafd67cf5f5f49344c1e" prefix=" " category="inline-code"></block>物件來保留 Trident 物件的身分識別、例如 Trident 後端、 Trident 儲存類別和 Trident Volume 。這些物件由Trident管理。此外、「csi Volume Snapshot」架構也引進了定義Volume快照所需的部分CRD。</block>
  <block id="a8a62fe3b16797ce253b78f83dc73a18" category="section-title">Trident 物件<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block></block>
  <block id="21283df20640a21f468122a427ef1bfc" category="section-title">Trident後端物件</block>
  <block id="8a4410d54113ca147b35c633207444b7" category="section-title">Trident 物件<block ref="5e5d444b688db40e013a7d0b8b3c0898" prefix=" " category="inline-code"></block></block>
  <block id="f08d82cd2f4fa097db43220a04f62434" category="section-title">Trident 物件<block ref="bd7a9717d29c5ddcab1bc175eda1e298" prefix=" " category="inline-code"></block></block>
  <block id="9b53117639a1995b2872ed6bca3dec8e" category="section-title">Trident 物件<block ref="d4e2713d1b1725a1592f9268589f990d" prefix=" " category="inline-code"></block></block>
  <block id="7eff879bfca572dbfc347fa226402a22" category="section-title">Trident 物件<block ref="0b79951d94d2a7fc1f7ba55091959bda" prefix=" " category="inline-code"></block></block>
  <block id="554741cc944c4e5f022fcbc0fa74e635" category="paragraph">Trident 去除會使用優先順序類別（ Kubernetes 中可用的最高優先順序類別）、以確保 Trident 能在正常節點關機期間識別及清理磁碟區、並允許 Trident 去<block ref="e2c3c5140d40bff7c63d42afa55e20cb" prefix=" " category="inline-code"></block>除設定群組在資源壓力較大的叢集中、以較低的優先順序來搶佔工作負載。</block>
  <block id="ee17e6c68211ace703b5692f81c2e6c4" category="paragraph">為達成此目標、 Trident 採用<block ref="0b79951d94d2a7fc1f7ba55091959bda" prefix=" " category="inline-code"></block>物件來確保 Trident 標章集上的「系統節點關鍵」優先順序類別獲得滿足。在建立部署和取消設定集之前、 Trident 會先尋找物件、如果未發現、則會套用該<block ref="0b79951d94d2a7fc1f7ba55091959bda" prefix=" " category="inline-code"></block>物件。</block>
  <block id="b09f29e72667c7bbfee7df15e0918219" category="paragraph">如果您偏好控制自己的資源配置、可以使用下列命令移除 Trident<block ref="0b79951d94d2a7fc1f7ba55091959bda" prefix=" " category="inline-code"></block> 物件：</block>
  <block id="6f9b6f4ef23610d31af9db2f8015cd91" category="summary">Kubernetes Pod安全標準（Ps）和Pod安全政策（Ps）定義權限等級、並限制Pod的行為。OpenShift Security內容限制（SCC）同樣定義OpenShift Kubernetes Engine特有的Pod限制。為了提供此自訂功能、 Trident 會在安裝期間啟用特定權限。</block>
  <block id="75f5ed582d115d8da9d2b70f7279ae9c" category="paragraph">Kubernetes Pod安全標準（Ps）和Pod安全政策（Ps）定義權限等級、並限制Pod的行為。OpenShift Security內容限制（SCC）同樣定義OpenShift Kubernetes Engine特有的Pod限制。為了提供此自訂功能、 Trident 會在安裝期間啟用特定權限。下列各節詳細說明 Trident 所設定的權限。</block>
  <block id="81f58ff2750ef607f5ace37340e32983" category="cell">啟動 NFS 所需<block ref="3fc52a01383634d8618b7d25147b3990" prefix=" " category="inline-code"></block>。Trident 會查詢主機處理程序、以判斷在掛載 NFS 磁碟區之前是否<block ref="3fc52a01383634d8618b7d25147b3990" prefix=" " category="inline-code"></block>正在執行。</block>
  <block id="8c4d735e96caff70ec2fb4b6da0b8647" category="cell">Seccomp 設定檔在特殊權限的容器中一律為「未限制」、因此無法在 Trident 中啟用。</block>
  <block id="55067c9b7862cdb9b724bac1e11f114e" category="cell">在 OpenShift 上、權限容器會在（「超級貴賓 Container 」）網域中執行<block ref="4c6c95436260ecf7ab3cf7558410a157" prefix=" " category="inline-code"></block>、而非權限容器則會在網域中執行<block ref="ce0991860b118fa3ab777cbb62c7caa5" prefix=" " category="inline-code"></block>。在上<block ref="34c54dce528ae11502f7c2908c0e4a21" prefix=" " category="inline-code"></block>、安裝後<block ref="c42c2c095fe432fac047b16b37a0c05c" prefix=" " category="inline-code"></block>、所有容器都會在網域中執行<block ref="4c6c95436260ecf7ab3cf7558410a157" prefix=" " category="inline-code"></block>、這會有效停用 SELinux 。因此、 Trident 不會新增<block ref="0221dccbaacc71551feb621f4ebfae36" prefix=" " category="inline-code"></block>至容器。</block>
  <block id="1b1944fe544c06f29c78d07fcfbf4683" category="summary">深入瞭解 Trident 所通訊的連接埠。</block>
  <block id="190c8d0a8c0f9d99e2a5cee87981451c" category="paragraph">深入瞭解 Trident 用於通訊的連接埠。</block>
  <block id="cf99312afccffdb3b97f892cb91990a0" category="summary">如果您偏好與 Trident 的 REST API 互動、可以直接使用 REST 端點。</block>
  <block id="5eee484e5d1a379b56272cbb68f0b4a6" category="doc">Trident REST API</block>
  <block id="01244d6a0ae311e8f26e37eff3b90b3a" category="paragraph">雖然是與 Trident REST API 互動最簡單的方法、但<block ref="8321852d17a287399cb52ef30f4b21eb" category="inline-link-macro-rx"></block>您可以視需要直接使用其餘端點。</block>
  <block id="d802062141c45c0c8ed9e54ff53f4878" category="paragraph">REST API 適用於在非 Kubernetes 部署中使用 Trident 做為獨立二進位檔的進階安裝。</block>
  <block id="daef2c20475904ee3d06d11ab5e5cc0a" category="paragraph">為了獲得更好的安全性、在 Pod 內執行時、 Trident<block ref="aba3d4b49c454e1974970e7b5514b001" prefix=" " category="inline-code"></block> 預設會限制為 localhost 。若要變更此行為、您需要在其 Pod 組態中設定 Trident 的<block ref="38df54fe961fa2bf2a7f82a5854fabad" prefix=" " category="inline-code"></block>引數。</block>
  <block id="4e1a255728b39675b43f116f4cfb488b" category="paragraph">有關如何調用這些 API 的示例，請傳遞 debug <block ref="9b017020b9d48d433ec90c548e6b5c70" prefix="(" category="inline-code"></block>標誌。如需詳細資訊、請 <block ref="47a3478e106194126b8a4a249a182714" category="inline-link-macro-rx"></block>參閱。</block>
  <block id="e0fcace21bf76f1a9c21940cb093720e" category="list-text">需要Json組態才能建立物件。有關每種物件類型的規格、請<block ref="47a3478e106194126b8a4a249a182714" category="inline-link-macro-rx"></block>參閱。</block>
  <block id="de7f4e4d8a5861d8381abc8bfafc64c2" category="admonition">與後端或儲存類別相關聯的磁碟區將繼續存在、必須分別刪除。如需詳細資訊、請 <block ref="47a3478e106194126b8a4a249a182714" category="inline-link-macro-rx"></block>參閱。</block>
  <block id="9cd971ecdea9d32fa28fcdca5951a02c" category="summary">Trident 為 Trident Orchestrator 提供數個命令列選項、並透過特定連接埠進行通訊。</block>
  <block id="33649eaebf2b1cded3cfe2ae660b3db8" category="paragraph">Trident 為 Trident Orchestrator 提供數個命令列選項。您可以使用這些選項來修改部署。</block>
  <block id="df659a37411eac4669a05e25173aa8b7" category="list-text">使用此選項或<block ref="4012723fd7948507761ae4f00f8a6ce5" prefix=" " category="inline-code"></block>啟用 Kubernetes 支援。如果指定、Trident會使用提供的不安全位址和連接埠、連線至Kubernetes API伺服器。如此一來、 Trident 就能部署在 Pod 之外、但它只支援與 API 伺服器的不安全連線。若要安全連線、請在具有選項的 Pod 中部署 Trident<block ref="4012723fd7948507761ae4f00f8a6ce5" prefix=" " category="inline-code"></block> 。</block>
  <block id="e3ab8ff46f9c86474b01bf93b504507e" category="summary">NetApp持續改善及強化其產品與服務。以下是最新版 Trident 中的一些最新功能、增強功能和錯誤修正。</block>
  <block id="f219960762ce1ea892bf48746515e583" category="list-text">Google Cloud NetApp Volumes 驅動程式現在通常可用於 NFS 磁碟區、並支援區域感知資源配置。</block>
  <block id="09dc81fef04f949a006210deaff2f205" category="list-text">GCP 工作負載身分識別將用作 Google Cloud NetApp Volumes 與 GKE 的雲端身分識別。</block>
  <block id="179837f123bf751c03460e6d2e0927c2" category="list-text">新增<block ref="ef225248e79c14501d51a4941b5ae5d1" prefix=" " category="inline-code"></block>組態參數至 ONTAP SAN 和 ONTAP SAN 經濟型驅動程式、可讓使用者指定 LUN 格式選項。</block>
  <block id="b500d40dfa3ea14369fdaf59d3b1c835" category="list-text">將 Azure NetApp Files 最小磁碟區大小減至 50 GiB 。Azure 預計將於 11 月推出全新的最小尺寸。</block>
  <block id="2e6f95101e443ed93c211c35457a90e6" category="list-text">新增<block ref="80fd16da9d17abac4374b362f2e409fe" prefix=" " category="inline-code"></block>組態參數、將 ONTAP NAS 經濟型和 ONTAP SAN 經濟型驅動程式限制在現有的 FlexVol 集區。</block>
  <block id="bf300dbe4f3e7fba7ef23cdf029d7f54" category="list-text">新增偵測功能、可在所有 ONTAP 驅動程式中新增、移除或重新命名 SVM 的集合體。</block>
  <block id="b0587c4582678977a894feccef58eb73" category="list-text">改善的 ONTAP SAN 和 ONTAP SAN 經濟型節點階段和非階段錯誤處理、可在發生故障階段後進行取消階段移除裝置。</block>
  <block id="914e332f78206303c5897d6de3d31dc4" category="list-text">新增自訂角色產生器、可讓客戶在 ONTAP 中為 Trident 建立極簡角色。</block>
  <block id="54a5a20d9182724aeda126c68ff2d500" category="inline-link-macro">問題 #792</block>
  <block id="ae953ee35cc48d929d62cd63fe1a5db9" category="list-text">新增其他記錄以進行疑難排解<block ref="2a18927ad567a1bf015ee23d2f7d416f" prefix=" " category="inline-code"></block>（<block ref="0ac90c45cb5e08b111534147dc8d07bf" category="inline-link-macro-rx"></block>）。</block>
  <block id="46b4e7bf1e76e8eeb88747ded42b6d4f" category="list-text">新增<block ref="1606f6268af560ddbfffdd3790afb4d2" prefix=" " category="inline-code"></block>旗標至安裝程式、以自動管理 Kubernetes 叢集節點上的儲存傳輸協定相依性。已測試並驗證與 Amazon Linux 2023 iSCSI 儲存傳輸協定的相容性</block>
  <block id="ee2cc86dbfffd3b53ed4701a6b458dfb" category="list-text">在非正常節點關機案例中、新增對強制分離 ONTAP NAS 經濟型磁碟區的支援。</block>
  <block id="326a8f228f219b0e904c9d182f05edc0" category="list-text">使用後端選項時、全新的 ONTAP NAS 經濟型 NFS 磁碟區將使用每 qtree 匯出原則<block ref="323e871cfe2e70ead9c713e8f3164f8f" prefix=" " category="inline-code"></block>。qtree 只會在發佈時對應至節點限制的匯出原則、以改善存取控制和安全性。當 Trident 從所有節點取消發佈磁碟區時、現有的 qtree 將切換至新的匯出原則模型、而不會影響作用中的工作負載。</block>
  <block id="62900e6f021ab726737e77fc086ef8d8" category="list-text">增加了對 Kubernetes 1.31 的支援。</block>
  <block id="99feca4f342726633c553b7037f4effd" category="section-title">實驗性增強功能</block>
  <block id="f47cb8e173cabaf3981c7356253eaf5f" category="list-text">* Kubernetes* ：</block>
  <block id="d17c6ce149a6479587ff459c15a1f857" category="inline-link-macro">問題 #839</block>
  <block id="0d72ada08f4f4a9200f5e98c300ac3f5" category="list-text">固定的 Rancher 接入 Webhook 可防止安裝 Trident Helm （<block ref="db779c46d1b4e6ce40c3816626258ba8" category="inline-link-macro-rx"></block>）。</block>
  <block id="c4a8381892da41f8d4badcb947360547" category="inline-link-macro">問題 #898</block>
  <block id="2403ede55427cd43025cacf6e3c01d80" category="list-text">船舵圖表值中的固定關聯鍵（<block ref="54ec46fe50699b7fd3f7ef30c485e12a" category="inline-link-macro-rx"></block>）。</block>
  <block id="72ce7c26f0607a9f5bd8ca30e55cacef" category="inline-link-macro">問題 #899</block>
  <block id="cede03cb51e9bbed6dcab643181d12d7" category="list-text">固定 TRIDENTControllerPluginNodeSeler/tridentNodePluginNodeSelector 無法與 "true" 值一起使用（<block ref="5d339a433df6492948708982baf428fa" category="inline-link-macro-rx"></block>）。</block>
  <block id="f11d62f384cbec26d8ed4550c153bf05" category="inline-link-macro">問題 #901</block>
  <block id="a0b1bd692e916f05f2ede181b41aa8a9" category="list-text">已刪除在複製期間建立的暫時性快照（<block ref="ef65b2f52a8de25e7edcbd74532daf2c" category="inline-link-macro-rx"></block>）。</block>
  <block id="7d873532774b92f91f5b02b26b6ab15f" category="list-text">新增 Windows Server 2019 支援。</block>
  <block id="c1932a20d0117f7b70be58add390f98b" category="inline-link-macro">問題 #767</block>
  <block id="b205e07db438d75480a1439aaea49b90" category="list-text">修正了 "Go mody 整齊的 Trident repo" （<block ref="b886e4c1dbe24e4b012cebe88d7f5dfa" category="inline-link-macro-rx"></block>）。</block>
  <block id="0c1b395b1875f8cc0a3a3065e200951a" category="list-text">* Kubernetes ： *</block>
  <block id="86c0118c20bbec39a37e58e07b4ca78e" category="list-text">已將支援的 Kubernetes 最小值更新為 1.25 。</block>
  <block id="8b1b4442b4204fbf84931236c6402e37" category="list-text">移除 Pod 安全性原則的支援。</block>
  <block id="4f52a386be5239d16bac5e9e054c7686" category="section-title">產品重新品牌化</block>
  <block id="b56fb7b6833a5dc3a047885cd9fb56b3" category="section-title">24.06 的變更</block>
  <block id="59757b96b5b7c76f5131b54a97bfb34b" category="list-text">新增功能、可讓使用者為 Trident 控制器設定記錄檔設定、以傳播至 Trident 節點 Pod 。</block>
  <block id="0d9957366afc474c1adc655929d57fcc" category="list-text">Trident 演示集可在啓動時清理殭屍掛載和剩餘追蹤檔案（<block ref="1db457cca48a821c9957caae88cdf1d0" category="inline-link-macro-rx"></block>）。</block>
  <block id="32c6cb7d24cfe592a3da026077c89057" category="list-text">修正因過時交易而導致的 Trident 安裝失敗。</block>
  <block id="268938527c6b78a7ed673063e5a861e7" category="list-text">已將 Trident 控制器優先級更改<block ref="4727953cbcafc9a49db2d5e1fbb4878a" prefix=" " category="inline-code"></block>爲<block ref="cfcd208495d565ef66e7dff9f98764da" prefix=" " category="inline-code"></block>（<block ref="f7f5a51d8afc55795aa860b78e4c6437" category="inline-link-macro-rx"></block>）。</block>
  <block id="f81abe23ec78b1087f167b2fcf413105" category="list-text">新增支援、可從 EKS 主控台將 Trident 安裝為 EKS 叢集的附加元件。</block>
  <block id="81a270127bea2c4d04088d2a999f883e" category="list-text">修正重新開機時 Windows 節點上的 Trident 初始化問題。</block>
  <block id="84874d4f1fcbda2a79fad9c2be463612" category="admonition">Kubernetes 1.27 現在支援 Trident 。請先升級Trident、再升級Kubernetes。</block>
  <block id="8bf4d4f1641bc0ae0e1ce84b2301ad3c" category="paragraph">* 升級至 Trident 22.10.* 之前、您必須先閱讀下列重要資訊</block>
  <block id="3c8c581ba3964d04278eae9be921969f" category="admonition-title">&lt;strong&gt; Trident 22.10 &lt;/strong&gt; 的相關資訊</block>
  <block id="2ec2ecd5679471f4915360aaa9562646" category="list-text">Kubernetes 1.25 現在支援 Trident 。升級至 Kubernetes 1.25 之前、您必須將 Trident 升級至 22.10 。</block>
  <block id="3fe15650bf774497f976b0dcd6e74e95" category="list-text">Trident 現在嚴格強制執行 SAN 環境中的多重路徑組態、建議在 multipath.conf 檔案中使用的值為<block ref="db729c5c8df447087e5a84b961df14f6" prefix=" " category="inline-code"></block>。</block>
  <block id="3e84d49b37065ae841277ed78e8fb1bb" category="list-text">移除 Trident iSCSI 工作流程中的精細重試、以快速失敗並縮短外部重試時間間隔。</block>
  <block id="b1ae71d1cd3967fcca9453f4087b19ef" category="list-text">增加了對 Kubernetes 1.25 的支援。升級至 Kubernetes 1.25 之前、您必須將 Trident 升級至 22.10 。</block>
  <block id="95b61962ec35cc252a4791e4101c5aaa" category="list-text">ONTAP-SAN磁碟區現在會使用每節點igroup、只將LUN對應至igroup、同時主動發佈至這些節點、以改善我們的安全狀態。當Trident判斷在不影響作用中工作負載的情況下、現有的磁碟區將會在適當時機切換至新的igroup方案。</block>
  <block id="5e65f8ef909da6c604c403e32b1b48ee" category="paragraph">新增了一個新的<block ref="305368b4f0d008a807e095ab9da58448" category="inline-link-macro-rx"></block>（ PSS ）區段、詳述 Trident 在安裝時啟用的權限。</block>
  <block id="1709d6f66b1414fcc9f298c36d33f86b" category="paragraph">NetApp持續改善及強化其產品與服務。以下是 Trident 的一些最新功能。如需先前版本的資訊、請參閱<block ref="25da125dffad1d6323c21354bccf0203" category="inline-link-rx"></block>。</block>
  <block id="0e258ce589a7c5edca46e96701e7a846" category="list-text">解決了在 SolidFire 磁碟區上建立超過 32 個快照時、 Trident 效能降低的問題。</block>
  <block id="abf7e791f62ca6d68b31527c63563786" category="list-text">修正 Trident 關機時發生嚴重錯誤的問題（ GitHub 問題 597 ）。</block>
  <block id="20179fee7c8b97f5118f8bb139c3e3ee" category="list-text">解決了所有 Trident 安裝程式都能將純 Kubernetes 識別為 OpenShift 的問題（ GitHub 問題 639 ）。</block>
  <block id="da7c48c170570a143b062de762b69ac3" category="list-text">Trident 現在 <block ref="6d8a605a6037c779649e91ad03a19c1c" prefix="(" category="inline-code"></block>對未在其 StorageClass 中指定的卷強制執行空白<block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix=" " category="inline-code"></block>）<block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix=" " category="inline-code"></block>。使用 Kubernetes 1.17 或更新版本時、 Trident 支援為 NFS 磁碟區提供空白<block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix=" " category="inline-code"></block>資料。對於 iSCSI 磁碟區、您必須在使用安全性內容強制執行時、在 StorageClass<block ref="c7a6c0ee60c6f68dfe700feaacf15703" prefix=" " category="inline-code"></block> 上設定<block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix=" " category="inline-code"></block>。</block>
  <block id="e19cc53ffca782e210d63cc3ba607068" category="list-text">在多個 Trident 執行個體之間使用後端時、每個後端組態檔案的 ONTAP 後端應具有不同的<block ref="ed66bef2b107983b6e4066fddf8c45c3" prefix=" " category="inline-code"></block>值、或在 SolidFire 後端使用不同的值<block ref="2e9183e3f034dbf1322a3385f151456e" prefix=" " category="inline-code"></block>。Trident 無法偵測其他 Trident 執行個體所建立的磁碟區。嘗試在 ONTAP 或 SolidFire 後端上建立現有的磁碟區成功、因為 Trident 將磁碟區建立視為冪等操作。如果或<block ref="2e9183e3f034dbf1322a3385f151456e" prefix=" " category="inline-code"></block>不不同、則<block ref="ed66bef2b107983b6e4066fddf8c45c3" prefix=" " category="inline-code"></block>在同一個後端上建立的磁碟區可能會發生名稱衝突。</block>
  <block id="f361d11207fb1bf400735cf23bd3eead" category="list-text">安裝 Trident （使用或 Trident 運算子）並使用來<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>管理 Trident 時<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>、您應該確定<block ref="39e7fa5a13dbc25a4aa8c4b323cd657c" prefix=" " category="inline-code"></block>已設定環境變數。這是表示 Kubernetes 叢集應可處理的必要<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>動作。在使用多個 Kubernetes 環境時、您應確保<block ref="39e7fa5a13dbc25a4aa8c4b323cd657c" prefix=" " category="inline-code"></block>檔案的來源正確無誤。</block>
  <block id="fb03c645f52123146ba91e4a67fc8b1e" category="list-text">如果每個 Kubernetes 叢集有多個 Trident 執行個體、則 Trident 無法與其他執行個體通訊、也無法探索它們所建立的其他磁碟區、如果叢集內有多個執行個體執行、就會導致非預期和不正確的行為。每個 Kubernetes 叢集應該只有一個 Trident 執行個體。</block>
  <block id="6d2a9758a5a695c93ba565384c106ee5" category="list-text">如果在 Trident 離線時從 Kubernetes 刪除 Trident 型物件、則<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> Trident 在重新連線時、不會從其資料庫中移除對應的儲存類別。您應該使用或 REST API 刪除這些儲存類別<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。</block>
  <block id="8064c72c81e13811dd14b604af2cba51" category="list-text">如果使用者在刪除對應的 PVC 之前刪除由 Trident 提供的 PV 、 Trident 不會自動刪除備份磁碟區。您應該透過或 REST API 移除 Volume<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> 。</block>
  <block id="cf2e8e446588a928fb23cb0dbd820e8b" category="list-text">在使用 Trident over IPv6 時、您應該在方括號內指定<block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix=" " category="inline-code"></block>和<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block>在後端定義中。例如<block ref="cbd17d3c94dc0ed51eeeab01d2ae8741" prefix="" category="inline-code"></block>：。</block>
  <block id="b75a48587845391dbbe47d0dcc15d3c0" category="admonition">您無法在 ONTAP SAN 後端上指定<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block>。Trident 會探索所有可用的 iSCSI 生命期、並使用它們來建立多重路徑工作階段。</block>
  <block id="8a247589aa6f5931b3416e5dd64ba361" category="inline-link">Trident GitHub</block>
  <block id="2e62261179042a713555c66362bf55b6" category="list-text"><block ref="2e62261179042a713555c66362bf55b6" category="inline-link-rx"></block></block>
  <block id="fd898492f5f83a18091a5e6c78cf2276" category="list-text"><block ref="fd898492f5f83a18091a5e6c78cf2276" category="inline-link-rx"></block></block>
  <block id="7afa2d89ddb38b52ee6c828cd75c06c9" category="paragraph">Trident 使用後端組態（子網路、虛擬網路、服務層級和位置）、在所要求位置的可用容量集區上建立 Azure NetApp Files Volume 、並符合所要求的服務層級和子網路。</block>
  <block id="e9acc9c9f9c15bdc3abfff747835f188" category="paragraph">這是絕對最低的後端組態。使用此組態、 Trident 會探索您在設定位置中委派給 Azure NetApp Files 的所有 NetApp 帳戶、容量集區和子網路、並隨機將新磁碟區放在其中一個集區和子網路上。由於省略、因此<block ref="296026821ada2ab8aebcf13547a63df5" prefix=" " category="inline-code"></block><block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix=" " category="inline-code"></block> 會套用預設值、而後端會為 NFS 磁碟區進行資源配置。</block>
  <block id="c23ef0ddbc293eb69087843f50a25be6" category="paragraph">此後端組態會將磁碟區放置在 Azure 的位置、並置於<block ref="6356111305f5daab178fa6051b7a8ae7" prefix=" " category="inline-code"></block>容量集區中<block ref="7057376a419b3334cc7b8b7a9f064abb" prefix=" " category="inline-code"></block>。Trident 會自動探索該位置中委派給 Azure NetApp Files 的所有子網路、並隨機在其中一個磁碟區上放置新的磁碟區。</block>
  <block id="fefaa3b6dca112cc6521c571cfc3803d" category="paragraph">Trident 可根據地區和可用性區域、為工作負載提供更多資源。<block ref="1f2a94e142bf020b1f7c6297ec12413f" prefix=" " category="inline-code"></block>此後端組態中的區塊用於提供每個後端的區域和區域清單。此處指定的區域和區域值必須符合每個 Kubernetes 叢集節點上標籤的區域和區域值。這些區域和區域代表可在儲存類別中提供的允許值清單。對於包含後端所提供區域和區域子集的儲存類別、 Trident 會在所述區域和區域中建立磁碟區。如需詳細資訊、請 <block ref="a735758eec435cad1c5672b75bd657c0" category="inline-link-macro-rx"></block>參閱。</block>
  <block id="cc13c2d3734cd4826a8ef70e17841621" category="list-text"><block ref="8ad3956583058d3582a7dd1281d1f882" category="inline-link-macro-rx"></block><block ref="e023f2926fb9af676f2809a760efeb14" prefix="(" category="inline-code"></block>（在訂閱級別），具有以下權限，僅限於 Trident 所需的權限。建立自訂角色之後<block ref="af58105ed429db29198b767444ed6d0d" category="inline-link-macro-rx"></block>，。</block>
  <block id="8ce7a57e3680dab09c67446ce08707de" category="list-text">Kubernetes叢集具備Linux控制器節點、以及至少一個執行Windows Server 2022的Windows工作節點。Trident 僅支援掛載至 Windows 節點上執行的 Pod 的 SMB 磁碟區。</block>
  <block id="d118256fd34a78d74f0336eb83898964" category="list-text">至少有一個 Trident 機密包含您的 Active Directory 認證、以便 Azure NetApp Files 能夠驗證至 Active Directory 。產生機密<block ref="e47a193687dde960f6b6f80d394142a3" prefix=" " category="inline-code"></block>：</block>
  <block id="4d869f60891f92b0887fa0954bb83cf6" category="summary">您可以將 Azure NetApp Files 設定為 Trident 的後端。您可以使用 Azure NetApp Files 後端連接 NFS 和 SMB 磁碟區。Trident 也支援使用 Azure Kubernetes Services （ aks ）叢集的託管身分識別來進行認證管理。</block>
  <block id="d0c2adbcdd991dec2899d7223e4800b7" category="paragraph">Trident 提供下列 Azure NetApp Files 儲存驅動程式、可與叢集進行通訊。支援的存取模式包括： _ReadWriteOnce_ （ rwo ）、 _ReadOnlyMany （ ROX ）、 _ReadWriteMany （ rwx ）、 _ReadWriteOncePod （ RWOP_ ）。</block>
  <block id="6bc1d5588b10361a0f432d43d687c72b" category="list-text">Azure NetApp Files 服務不支援小於 50 GiB 的磁碟區。如果要求較小的磁碟區、 Trident 會自動建立 50-GiB 磁碟區。</block>
  <block id="2d5ff5cb87519a4e50ace141656cfcb1" category="list-text">Trident 僅支援掛載至 Windows 節點上執行的 Pod 的 SMB 磁碟區。</block>
  <block id="f82e660891c5d7411358cecf3f95d1b8" category="paragraph">Trident 支援 <block ref="74c572b9a9e05a7969e3f88bd692fcb8" category="inline-link-macro-rx"></block>Azure Kubernetes 服務叢集。若要善用託管身分識別所提供的簡化認證管理功能、您必須具備：</block>
  <block id="ba4a4a15a9255fcbc02a1aae5442a70e" category="list-text">安裝的 Trident ，其中包括<block ref="d19f2c0377f3ed7cab9377cf066cb7ef" prefix=" " category="inline-code"></block>要指定<block ref="71d36c46e340ad9137b2691e267f5ecd" prefix=" " category="inline-code"></block>的。</block>
  <block id="948b24b4e198f8ddc985605c69c55718" category="paragraph">若要使用 Trident 運算子安裝 Trident 、請編輯<block ref="244895464fd1d6c7ff5a2044c324c0fc" prefix=" " category="inline-code"></block>以設定為<block ref="d19f2c0377f3ed7cab9377cf066cb7ef" prefix=" " category="inline-code"></block><block ref="71d36c46e340ad9137b2691e267f5ecd" prefix=" " category="inline-code"></block>。例如：</block>
  <block id="6e3a55be7185a416b963c89e1313a21e" category="paragraph">以下範例使用環境變數將 Trident Set 安裝<block ref="d19f2c0377f3ed7cab9377cf066cb7ef" prefix=" " category="inline-code"></block>至 Azure<block ref="e7b51407a2bfaa34b58afce0107e9a5f" prefix=" " category="inline-code"></block> ：</block>
  <block id="5914afb9381493b19e7d55f591b22f7e" category="paragraph">以下範例安裝 Trident 並將旗標設定<block ref="d19f2c0377f3ed7cab9377cf066cb7ef" prefix=" " category="inline-code"></block>為<block ref="3a580f142203677f1f0bc30898f63f53" prefix=" " category="inline-code"></block>：</block>
  <block id="f4a04ca0cf488acdb4c47e4276e53b0d" category="list-text">安裝的 Trident 、其中包含<block ref="d19f2c0377f3ed7cab9377cf066cb7ef" prefix=" " category="inline-code"></block>指定<block ref="71d36c46e340ad9137b2691e267f5ecd" prefix=" " category="inline-code"></block>及<block ref="89abe9fddbe3cf0f9bcd7779fe4aed69" prefix=" " category="inline-code"></block>指定工作負載身分識別的</block>
  <block id="cd1b43a026c160e8905dc5847d424f8f" category="paragraph">若要使用 Trident 運算子安裝 Trident 、請編輯<block ref="244895464fd1d6c7ff5a2044c324c0fc" prefix=" " category="inline-code"></block>以設定為<block ref="d19f2c0377f3ed7cab9377cf066cb7ef" prefix=" " category="inline-code"></block><block ref="71d36c46e340ad9137b2691e267f5ecd" prefix=" " category="inline-code"></block>、並設定<block ref="89abe9fddbe3cf0f9bcd7779fe4aed69" prefix=" " category="inline-code"></block>為<block ref="ab6b275be02c02a9982cb7a0c234629e" prefix=" " category="inline-code"></block>。</block>
  <block id="0df381404177fadd38b0a15ef178cf09" category="paragraph">下列範例使用環境變數安裝 Trident 並將設定<block ref="d19f2c0377f3ed7cab9377cf066cb7ef" prefix=" " category="inline-code"></block>為 Azure<block ref="e7b51407a2bfaa34b58afce0107e9a5f" prefix=" " category="inline-code"></block> 、並使用環境變數<block ref="c9d280b28993d1d105c3fbafb5868a15" prefix=" " category="inline-code"></block>設定<block ref="89abe9fddbe3cf0f9bcd7779fe4aed69" prefix=" " category="inline-code"></block>：</block>
  <block id="7d7c872ffb338fffab0ed66d892cf48b" category="paragraph">以下範例會安裝 Trident 並將旗標設定<block ref="e33bb4eb32023da4a8ea7a1ba6927067" prefix=" " category="inline-code"></block>為<block ref="e7b51407a2bfaa34b58afce0107e9a5f" prefix=" " category="inline-code"></block>、和<block ref="c5af480af77c330e04a1fce1f6c2b03a" prefix=" " category="inline-code"></block><block ref="c9d280b28993d1d105c3fbafb5868a15" prefix=" " category="inline-code"></block>：</block>
  <block id="6531f27ba87f15c54cdf44dcb7ef3273" category="summary">後端定義 Trident 與儲存系統之間的關係。它告訴Trident如何與該儲存系統通訊、以及Trident如何從該儲存系統配置磁碟區。安裝 Trident 之後、下一步是建立後端。<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>自訂資源定義（ CRD ）可讓您直接透過 Kubernetes 介面建立及管理 Trident 後端。您可以使用或等效的 CLI 工具來<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block>進行 Kubernetes 發佈。</block>
  <block id="672d26386c125fcd3bc8d1c008758043" category="paragraph"><block ref="913a4b06671d1e04e6582a85afe3abbe" prefix="" category="inline-code"></block><block ref="11c73f5ef965e27ad7f2162c6d862d00" prefix="(" category="inline-code"></block>、<block ref="f049287d4b5e8c2771cd45ad40d6bbd0" prefix=" " category="inline-code"></block>、<block ref="e4f7bfc35d74ab4136d16191494e7ceb" prefix=" " category="inline-code"></block>）為前端、命名 CRD 、可讓您使用管理 Trident 後端<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block>。Kubernetes 和儲存管理員現在可以直接透過 Kubernetes CLI 建立和管理後端<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix="(" category="inline-code"></block>、而不需要專用的命令列公用程式）。</block>
  <block id="b7bd3d795dd544bcf8b44a16fc1ddab8" category="list-text">Trident 會根據您提供的組態自動建立後端。這在內部表示爲 A<block ref="d2eac341e6076c7146e5b2598b973d94" prefix=" " category="inline-code"></block> <block ref="ebf1bd0254e733981928851df08fca08" prefix="(" category="inline-code"></block>、<block ref="18d388723371b89385366f93f0fbbbc6" prefix=" " category="inline-code"></block>) CR 。</block>
  <block id="96cf9ab1c0acdca2aa54ed2c55a7e95d" category="list-text"><block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>與由 Trident 建立的唯一繫結<block ref="d2eac341e6076c7146e5b2598b973d94" prefix=" " category="inline-code"></block>。</block>
  <block id="17858cf125217a7fe7239b3271b587af" category="admonition"><block ref="d2eac341e6076c7146e5b2598b973d94" prefix="" category="inline-code"></block>CRS 是由 Trident 自動建立。您*不應該*修改這些項目。如果您想要更新後端、請修改物件以進行更新<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>。</block>
  <block id="d2605b6821beb27d0e7001414ade9773" category="admonition">使用建立的後端<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>沒有關聯的<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>物件。您可以建立 CR 來<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>選擇管理此類後端<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block>。必須注意指定相同的組態參數（例如<block ref="de48524ae3369aa3a3a220c9107c1d2b" prefix=" " category="inline-code"></block>、、<block ref="670f8a39d00195ce172543b2794c522b" prefix=" " category="inline-code"></block>、<block ref="4f361a1568cc7e740f7642f6f59e2fe0" prefix=" " category="inline-code"></block>等）。Trident 會自動將新建立的後端與先前存在的後端繫結<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>。</block>
  <block id="b681f7c062097827d9374fb7ef922a12" category="list-text">建立<block ref="fcce7b7bd05b6b012eabe3df8de04808" category="inline-link-rx"></block>。密碼包含 Trident 與儲存叢集 / 服務通訊所需的認證。</block>
  <block id="2836a99ecae06907e08eb3b9502d45d6" category="list-text">如果後端不存在持續磁碟區宣告（ PVCS ）、刪除<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>將會導致 Trident 刪除後端和<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR 。</block>
  <block id="7ddc4cac10b03b42fc0ff0fc7e00789f" category="list-text"><block ref="88183b946cc5f0e8c96b2e66e1c74a7e" prefix="" category="inline-code"></block>： Trident 無法確定與 CR 關聯的後端的狀態或存在<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>。例如、如果 API 伺服器沒有回應、或<block ref="5f829d3562952527064a5c553cd09189" prefix=" " category="inline-code"></block> CRD 遺失。這可能需要介入。</block>
  <block id="5c3139ae9ab5d818511e9d321e73fece" category="paragraph"><block ref="5a5abb2eaa9c440d605c2a659dd2079f" prefix="" category="inline-code"></block>包含回應 CR 所建立後端<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>的<block ref="a3d5885ebdbdbb3f39c48e483cc04978" prefix=" " category="inline-code"></block>和<block ref="17b686c7edfa8cfaa60e094e4592491f" prefix=" " category="inline-code"></block>。此<block ref="8d625027763e2e062eb5f57c8518040d" prefix=" " category="inline-code"></block>欄位代表 CR 上次操作的狀態<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>、可由使用者觸發（例如、使用者在中變更項目<block ref="b979c2934ac0b4ba3f08dabfdd1b2299" prefix=" " category="inline-code"></block>）或由 Trident 觸發（例如、在 Trident 重新啟動期間）。可能是「成功」或「失敗」。<block ref="7ee7184c970537ea83afe7f9bae4c61f" prefix=" " category="inline-code"></block>代表 CR 與後端之間關係的狀態<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>。在上述範例中、<block ref="7ee7184c970537ea83afe7f9bae4c61f" prefix=" " category="inline-code"></block>有值界限、表示<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR 與後端相關聯。</block>
  <block id="cd9b0eee685820fd4ee1b3c0bea5cfb5" category="paragraph">刪除<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>後、您會指示 Trident 刪除 / 保留後端（根據<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block>）。若要刪除後端、請確定已<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block>設定為刪除。若要僅刪除<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>、請確定已<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block>設定為保留。這可確保後端仍存在、並可使用進行管理<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。</block>
  <block id="5f39834a6f39c7539a5edeb4e8f3ea48" category="paragraph">Trident 不會刪除使用中的 Kubernetes 機密<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>。Kubernetes使用者負責清除機密。刪除機密時必須小心。只有在後端未使用機密時、才應刪除這些機密。</block>
  <block id="63f9a789e1c077aab804a2a5c20f1419" category="list-text">儲存系統的認證資料已變更。若要更新認證、必須更新物件中使用的 Kubernetes Secret<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> 。Trident 會使用提供的最新認證、自動更新後端。執行下列命令以更新Kubernetes Secret：</block>
  <block id="4f3ff24da375936278cfeceb396c61dd" category="paragraph">若要從 Trident 刪除後端、請執行下列步驟：</block>
  <block id="734b51d6b10d22bfb052a1b8e8a9bc56" category="summary">瞭解在 Trident 中管理後端的不同方法。</block>
  <block id="e0b4d05f7fb24e9606ae02b176974698" category="paragraph">在這兩種情況下、都會繼續出現後端、並在 Trident 排程磁碟區上運作。系統管理員有兩種選擇之一：</block>
  <block id="1abff208034794e09bab3e34ad393f6c" category="list-text">建立Kubernetes機密。機密包含 Trident 與儲存叢集 / 服務通訊所需的認證。</block>
  <block id="76d558fd5aada70a89c3e865ca420a68" category="paragraph">讓我們來看看的價值<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block>。這需要設為<block ref="16d79ff80feadcf2f52096f073f2b94a" prefix=" " category="inline-code"></block>。如此可確保刪除 CR 時<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>、後端定義仍會存在、並可透過進行管理<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。</block>
  <block id="112121684d9357cc8fb46c6007457443" category="paragraph">刪除物件後<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>、 Trident 只是將其移除、而不會實際刪除後端本身。</block>
  <block id="81feffd6e3f1dfe7d96f93bb83a3576f" category="paragraph">Trident 會自動從後端提供符合儲存類別所定義需求的儲存資源池。瞭解如何設定儲存系統的後端。</block>
  <block id="982a76bd7422f8b1ee773545fc01ea11" category="inline-link-macro">搭配 Amazon FSX for NetApp ONTAP 使用 Trident</block>
  <block id="729d88792170d42963cf63b9e9606321" category="list-text"><block ref="729d88792170d42963cf63b9e9606321" category="inline-link-macro-rx"></block></block>
  <block id="68a131c3971c1c8532edfb16be1b2903" category="summary">您可以設計 Kubernetes StorageClass 檔案、並建立 StorageClass 以指示 Trident 如何配置磁碟區。</block>
  <block id="e093f3bc5e5c7d5965cb1bf67aeee4c6" category="paragraph">設定 Kubernetes StorageClass 物件並建立儲存類別、以指示 Trident 如何配置磁碟區。</block>
  <block id="cc11289855049780fd7db136e693d82e" category="paragraph">會<block ref="da3f7f170e13df7f56e057fc4226aa85" category="inline-link-rx"></block>將 Trident 識別為該類別所使用的資源配置程式、並指示 Trident 如何資源配置 Volume 。例如：</block>
  <block id="cfcd78d3f3ec6bdd1da5051dc5fbad51" category="paragraph">如需儲存類別如何與互動的詳細資訊<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block>、以及控制 Trident 配置磁碟區的參數、請參閱<block ref="879ce943b486ecaae1c4cb96b01133e9" category="inline-link-macro-rx"></block>。</block>
  <block id="060364df9713326935c57a6702c9084c" category="list-text">現在您應該會在 Kubernetes 和 Trident 中同時看到 * base-csi* 儲存類別、而 Trident 應該已經在後端上探索到這些集區。</block>
  <block id="45ae9b184f3067c00f4a660edac67a17" category="paragraph">Trident 提供<block ref="78512e06e40b1d6e7b22821168623dd6" category="inline-link-rx"></block>。</block>
  <block id="689375d73a0e73673da4e52a37631d4d" category="summary">Trident 可以利用 CSI 拓撲功能、選擇性地建立磁碟區、並將其附加至 Kubernetes 叢集中的節點。</block>
  <block id="f9ee522bc68b30b3de2c706b1e656ea6" category="paragraph">Trident 可以利用來選擇性地建立磁碟區、並將其附加至 Kubernetes 叢集中的節點<block ref="80b9a4f4a1bc9851317207ee3477041a" category="inline-link-rx"></block>。</block>
  <block id="fad4fe0757704f7cfbc0d68602a1a58b" category="paragraph">使用「csi拓撲」功能、可根據區域和可用性區域、限制對磁碟區的存取、只能存取一部分節點。如今、雲端供應商可讓Kubernetes管理員建立以區域為基礎的節點。節點可位於某個區域內的不同可用度區域、或位於不同區域之間。為了協助在多區域架構中為工作負載配置磁碟區、 Trident 使用 CSI 拓撲。</block>
  <block id="c7c66bdbe6c90a256243cb5346a324a5" category="list-text">如果<block ref="7d1aaf47144f9eb2fc66e328ddd3bad7" prefix=" " category="inline-code"></block>設置爲<block ref="43f6615bbb2c40a5306ff804094420b1" prefix=" " category="inline-code"></block>，則 Trident 會在沒有任何拓撲感知的情況下創建卷。建立永久虛擬磁碟時、即會處理磁碟區繫結和動態資源配置。這是預設值<block ref="7d1aaf47144f9eb2fc66e328ddd3bad7" prefix=" " category="inline-code"></block>、適用於不強制執行拓撲限制的叢集。持續磁碟區的建立不需依賴要求的 Pod 排程需求。</block>
  <block id="e60c9ae411010a64108db4f1b8d793be" category="list-text">叢集中的節點應具有標籤、以引入拓撲感知<block ref="e1ff98cb39abe026da77d207e1fd46de" prefix="(" category="inline-code"></block>和<block ref="c4d11894a6687c3a84f5daeda7154443" prefix=" " category="inline-code"></block>）。在安裝 Trident 之前，這些標籤 * 應該存在於叢集 * 的節點上，以便 Trident 能夠感知拓撲。</block>
  <block id="6110b46939d65cd5339476bd5fdbe7df" category="paragraph">Trident 儲存設備後端可根據可用性區域、選擇性地配置磁碟區。每個後端都可以帶有一個可選的<block ref="1f2a94e142bf020b1f7c6297ec12413f" prefix=" " category="inline-code"></block> 區塊、代表支援的區域和區域清單。對於使用此類後端的StorageClass、只有在受支援地區/區域中排程的應用程式要求時、才會建立Volume。</block>
  <block id="db432089fc07064a10ae6334c0db7e97" category="admonition"><block ref="1f2a94e142bf020b1f7c6297ec12413f" prefix="" category="inline-code"></block>用於提供每個後端的區域和區域清單。這些區域和區域代表StorageClass中可提供的允許值清單。對於包含後端所提供區域和區域子集的 StorageClasses 、 Trident 會在後端建立磁碟區。</block>
  <block id="f8d5cb4864ad5d339fb567af550ff371" category="paragraph">在上面提供的 StorageClass 定義中<block ref="086b513e7d83c4cf32a8bd3550679276" prefix=" " category="inline-code"></block>，設置爲<block ref="ed783cfa871a96ff337b1ae9a5f8bfa5" prefix=" " category="inline-code"></block>。在Pod中引用此StorageClass所要求的PVCS之前、系統不會對其採取行動。此外、還<block ref="df6ccab784b5892507a7d11443254dc8" prefix=" " category="inline-code"></block>提供要使用的區域和區域。StorageClass 會<block ref="a88a8ddf9fecacf26383a3c60dc3e5fb" prefix=" " category="inline-code"></block>在上述定義的後端建立 PVC<block ref="e3ed370204229201f6df345a5a590519" prefix=" " category="inline-code"></block> 。</block>
  <block id="48dec026afe488df8faca35c5c3a39ea" category="summary">瞭解如何在您的Trident安裝中建立及使用Element後端。</block>
  <block id="e3bf4f4da0c5a0a22b37a23b20b2789f" category="paragraph">瞭解如何在 Trident 安裝中建立和使用元素後端。</block>
  <block id="55d12319f030354c3d3da130783340d4" category="paragraph">Trident 提供<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block>儲存驅動程式以與叢集通訊。支援的存取模式包括： _ReadWriteOnce_ （ rwo ）、 _ReadOnlyMany （ ROX ）、 _ReadWriteMany （ rwx ）、 _ReadWriteOncePod （ RWOP_ ）。</block>
  <block id="d332cf1f1b1ca6601e95859b9d3b2434" category="paragraph"><block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block>儲存驅動程式支援 _file_ 和 _block_ 磁碟區模式。對於<block ref="ac52cf637478f3656a1fdee5c02324fd" prefix=" " category="inline-code"></block> volemode 、 Trident 會建立一個 Volume 並建立檔案系統。檔案系統類型由StorageClass指定。</block>
  <block id="36f37bb9b250ed1fab33dfdced302bec" category="cell">使用 CHAP 驗證 iSCSI 。Trident 使用 CHAP 。</block>
  <block id="626a366c19963bb80ca04337415711f5" category="paragraph">Trident 會在資源配置時、將儲存池上的標籤複製到後端儲存 LUN 。為了方便起見、儲存管理員可以針對每個虛擬資源池定義標籤、並依標籤將磁碟區分組。</block>
  <block id="6b414187e193a000944e395beb010938" category="paragraph">第一個 StorageClass <block ref="166028d9a95f5465a6ae917e6e089ce6" prefix="(" category="inline-code"></block>）將映射到第一個虛擬池。這是唯一提供黃金級效能的集區<block ref="89bf6c97f9a3eaea76c86df0086361bc" prefix=" " category="inline-code"></block>。Last StorageClass <block ref="b4457b3eeca98cadb51648f8fcef36cb" prefix="(" category="inline-code"></block>（最後一個 StorageClass ）調用任何提供銀牌性能的存儲池。Trident 會決定要選取哪個虛擬集區、並確保符合儲存需求。</block>
  <block id="4f50ef2995c3caa2284d837d375e4db0" category="cell">Trident 建立 GCNV Volume 的 Google Cloud 位置。建立跨區域 Kubernetes 叢集時、在中建立的磁碟區<block ref="d5189de027922f81005951e6efe0efd5" prefix=" " category="inline-code"></block> 可用於跨多個 Google Cloud 區域的節點上排程的工作負載。跨區域流量會產生額外成本。</block>
  <block id="827683b582e1abfa2478a23d65a88a1f" category="cell">代表此後端所支援的區域和區域清單。如需詳細資訊、請 <block ref="a735758eec435cad1c5672b75bd657c0" category="inline-link-macro-rx"></block>參閱。例如：<block ref="1e97fdca2db62120d99c87c9fad7ac06" prefix=" " category="inline-code"></block></block>
  <block id="9f857ec3fcdcb6ffcc762e0be5004aa2" category="paragraph">這是絕對最低的後端組態。有了這項組態、 Trident 會探索您在設定位置中委派給 Google Cloud NetApp Volumes 的所有儲存池、並隨機將新磁碟區放在其中一個集區上。由於省略、因此<block ref="296026821ada2ab8aebcf13547a63df5" prefix=" " category="inline-code"></block><block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix=" " category="inline-code"></block> 會套用預設值、而後端會為 NFS 磁碟區進行資源配置。</block>
  <block id="ec0fec1613e760b6689b9fb4990bdb46" category="inline-link-macro">建立服務帳戶金鑰</block>
  <block id="704f74ac9dc2a2a60c73df6b9d8a9eff" category="list-text">您的 GCNV 帳戶的 API 金鑰檔案。請參閱 <block ref="068ee9c4fdcce4c0fd131a7dd8fe524f" category="inline-link-macro-rx"></block></block>
  <block id="6db42dae8341edee9e823963baa82d9d" category="paragraph">Trident 提供<block ref="94594b2ccbc8e0d220ad37504461650b" prefix=" " category="inline-code"></block>與叢集通訊的驅動程式。支援的存取模式包括： _ReadWriteOnce_ （ rwo ）、 _ReadOnlyMany （ ROX ）、 _ReadWriteMany （ rwx ）、 _ReadWriteOncePod （ RWOP_ ）。</block>
  <block id="dd0d8a6eeca2940c60cd0ac812afed1d" category="paragraph">雲端身分識別可讓 Kubernetes Pod 以工作負載身分驗證來存取 Google Cloud 資源、而非提供明確的 Google Cloud 身分證明。</block>
  <block id="299b031aaa6fc8a06127791cf12decf9" category="paragraph">若要在 Google Cloud 中善用雲端身分識別、您必須具備：</block>
  <block id="df181b0b41273ec7065dab05b4a6da10" category="list-text">使用 GKE 部署的 Kubernetes 叢集。</block>
  <block id="ab10f4a91ef779d380fca281ef9df578" category="list-text">若要檢視 Trident 的同步儲存類別、請執行下列命令：</block>
  <block id="0953527d940d16d1979f49a4ac5bc746" category="list-text">若要檢視 Trident 的同步儲存類別詳細資料、請執行下列命令：</block>
  <block id="a78b12e067ec1975a317cab6fc947692" category="paragraph">這是您可以使用 JSON 來回答的問題類型範例、此問題<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>會針對 Trident 後端物件輸出。這會使用<block ref="d8757fb4e9ea07606d23a1ef5a4b8d4e" prefix=" " category="inline-code"></block>您可能需要先安裝的公用程式。</block>
  <block id="2538c9a2100f674ce2db1e4b4c26315f" category="paragraph">透過此儲存類別建立的任何持續磁碟區都將保持不變、 Trident 將繼續管理這些磁碟區。</block>
  <block id="ad882e33b96ca33000804dbc738d1d50" category="admonition">Trident 會對其建立的磁碟區強制執行空白<block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix=" " category="inline-code"></block>。對於 iSCSI 後端、建議在 StorageClass 中強制執行<block ref="01cd995fd9a843d3ca767e057de28873" prefix=" " category="inline-code"></block>。您應該刪除現有的 StorageClasses 、然後使用指定的方式重新建立它們<block ref="01cd995fd9a843d3ca767e057de28873" prefix=" " category="inline-code"></block>。</block>
  <block id="0c2d4b956840e91a5026f299d11e6b2a" category="summary">Trident 提供一組 Prometheus 指標端點、您可以用來監控 Trident 的效能。</block>
  <block id="f3bf54ffbc2b1eef233e6a26009af940" category="doc">監控 Trident</block>
  <block id="023417a8020b969b0bbe5cc6cf816d22" category="paragraph">Trident 提供一組 Prometheus 指標端點、可用於監控 Trident 效能。</block>
  <block id="5e65c891836aee4c311dc1e3dcbd072f" category="paragraph">Trident 提供的計量可讓您執行下列動作：</block>
  <block id="35ada9c61125e74058c883f83c6c6867" category="list-text">保留 Trident 健全狀況和組態的索引標籤。您可以檢查作業的成功程度、以及是否能如預期般與後端進行通訊。</block>
  <block id="35ff0baf577051daffe0a27ab0d03c9e" category="list-text">追蹤效能。您可以查看 Trident 與後端通訊和執行作業所需的時間。</block>
  <block id="cb9109c9018f4c25d0545bac0f21176f" category="list-text">安裝 Trident 的 Kubernetes 叢集。</block>
  <block id="b25be1046c4629be0262d9873a147d96" category="paragraph">除了可直接從 Trident 取得的指標之外、 kibelet 還會透過自己的指標端點來公開許多<block ref="f706c2d1cef9479098166eec3d215483" prefix=" " category="inline-code"></block>指標。Kubelet可提供有關所附加磁碟區、Pod及其處理的其他內部作業的資訊。請參閱<block ref="3f1f0977d0df3e8b343e403140284021" category="inline-link-rx"></block>。</block>
  <block id="0665ea39a4ca4388763b36eda9a3986d" category="list-text">** 來自 Trident 的 HTTP 2XX 回應百分比 **</block>
  <block id="26cd09e35e7d03c2f93f8d6a691c8567" category="list-text">** Trident 透過狀態代碼的 REST 回應百分比 **</block>
  <block id="5919ab2f7a44a6b3f0a6741f7b0f3f86" category="list-text">** 由 Trident 執行之作業的平均持續時間（以毫秒為單位） **</block>
  <block id="57421d698299c713c3afb841620271d8" category="section-title">取得 Trident 使用資訊</block>
  <block id="3ed8ff2d40a8a68841cd7d548c47f079" category="section-title">瞭解 Trident AutoSupport 遙測</block>
  <block id="b5fb620a79591716feab3605e0045775" category="paragraph">根據預設、 Trident 會在每日步調中、將 Prometheus 指標和基本後端資訊傳送至 NetApp 。</block>
  <block id="41cc8a517566946bcfd42776583c2946" category="list-text">若要停止 Trident 傳送 Prometheus 度量和基本後端資訊至 NetApp 、請在 Trident 安裝期間傳遞<block ref="284e51f7c35ac8708577507873ff928e" prefix=" " category="inline-code"></block>旗標。</block>
  <block id="2293c34fd6ddef40c9c9ecb540c27898" category="list-text">Trident 也可以透過將容器記錄傳送至 NetApp 隨選支援<block ref="8cf945b97dde0c7bfc643bea7edbff67" prefix=" " category="inline-code"></block>。您需要觸發 Trident 來上傳其記錄檔。在提交日誌之前，您應該接受 NetApp 的<block ref="91b6c0438017ba5fa21c286a96d5acb4" category="inline-link-rx"></block>。</block>
  <block id="517af010cc9f1850ec10fc55631d3437" category="list-text">除非另有說明、否則 Trident 會從過去 24 小時擷取記錄。</block>
  <block id="cc368c6d3d859a01a63550429f01cb9c" category="list-text">您可以使用旗標指定記錄保留時間範圍<block ref="86339c2ed773d5bd944b82d3086d3477" prefix=" " category="inline-code"></block>。例如<block ref="e238339d491d4840f7d8e509bdbb7b63" prefix=" " category="inline-code"></block>：。這些資訊會透過安裝在 Trident 旁邊的容器收集和傳送<block ref="9d80ca17f097c8e365550f4036ccf0e3" prefix=" " category="inline-code"></block>。您可以在上取得容器映像<block ref="1b00454f0ab35dcec2ee1a0061efc6e5" category="inline-link-rx"></block>。</block>
  <block id="b508f8888445cd57bcf910ed51afb0dd" category="paragraph">Trident 傳送的有效負載範例如下：</block>
  <block id="19398926f4bb3de321ccfc2488d606dd" category="section-title">停用 Trident 計量</block>
  <block id="053cd9e68cf6c155e5b93616bc7e3e32" category="summary">瞭解如何在 Trident 安裝中建立及使用 ONTAP NAS 驅動程式。本節提供後端組態範例、以及如何將後端對應至StorageClass的詳細資料。</block>
  <block id="6603621fd665e289ada4dbb1dcc5835c" category="paragraph">瞭解如何在 Trident 安裝中建立及使用 ONTAP NAS 驅動程式。本節提供後端組態範例及將後端對應至 StorageClasses 的詳細資料。</block>
  <block id="c31c728d8c1e31b350486f8db0ebd5df" category="cell">叢集或 SVM 管理 LIF 的 IP 位址可以指定完整網域名稱（ FQDN ）。如果使用 IPv6 旗標安裝 Trident 、則可設定為使用 IPv6 位址。IPv6 位址必須以方括弧定義，例如<block ref="33e9328e92e3ef05629093b4693b3925" prefix=" " category="inline-code"></block>。如需無縫 MetroCluster 之間的互通性<block ref="41195e18a4a81a05f5c5a6be365a5602" category="inline-xref-macro-rx"></block>、請參閱。</block>
  <block id="5b487539b64483311ed87290e717353a" category="cell">啟用自動匯出原則建立及更新[布 林值]。使用<block ref="323e871cfe2e70ead9c713e8f3164f8f" prefix=" " category="inline-code"></block>和<block ref="b9c40fbe9daa81e40e06509d5bbd5a6c" prefix=" " category="inline-code"></block>選項、 Trident 可以自動管理匯出原則。</block>
  <block id="aeeba745624a2ddc45043c3be805561e" category="cell">將 Kubernetes 節點 IP 篩選在啟用時的 CIDR 清單<block ref="323e871cfe2e70ead9c713e8f3164f8f" prefix=" " category="inline-code"></block>。使用<block ref="323e871cfe2e70ead9c713e8f3164f8f" prefix=" " category="inline-code"></block>和<block ref="b9c40fbe9daa81e40e06509d5bbd5a6c" prefix=" " category="inline-code"></block>選項、 Trident 可以自動管理匯出原則。</block>
  <block id="0b74b16550d48484341fc52ad7af0c7d" category="paragraph">用於資源配置的Aggregate（選用；如果已設定、則必須指派給SVM）。對於<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>驅動程式、此選項會被忽略。如果未指派、 任何可用的集合體都可用於佈建 FlexGroup Volume 。</block>
  <block id="f01b478814d1117e017539a48474a29d" category="admonition">在 SVM 中更新 Aggregate 時、它會透過輪詢 SVM 而無需重新啟動 Trident 控制器、在 Trident 中自動更新。當您在 Trident 中設定特定的 Aggregate 以配置 Volume 時、如果將 Aggregate 重新命名或移出 SVM 、則在輪詢 SVM Aggregate 時、後端將會移至 Trident 中的失敗狀態。您必須將 Aggregate 變更為 SVM 上的 Aggregate 、或是將其全部移除、才能使後端重新上線。</block>
  <block id="9b791871c2696d3b7bc8c95a1d487b58" category="cell">FlexgroupAggregateList</block>
  <block id="77a0d40a429011d223a093dd3cf8713e" category="paragraph">用於資源配置的集合體清單（選用；如果已設定、則必須指派給 SVM ）。指派給 SVM 的所有集合體都會用於佈建 FlexGroup Volume 。支援 * ONTAP NAS FlexGroup * 儲存驅動程式。</block>
  <block id="dbe23b2e968cff9eb3692844d1e75516" category="admonition">在 SVM 中更新 Aggregate 清單時、會透過輪詢 SVM 而無需重新啟動 Trident 控制器、自動在 Trident 中更新清單。當您在 Trident 中設定特定的 Aggregate 清單來配置 Volume 時、如果將 Aggregate 清單重新命名或移出 SVM 、則在輪詢 SVM Aggregate 時、後端將會移至 Trident 中的失敗狀態。您必須將 Aggregate 清單變更為 SVM 上的集合清單、或是將其全部移除以使後端重新上線。</block>
  <block id="5160493063ea2e4f1b1a6e3b951b0a53" category="cell">以逗號分隔的NFS掛載選項清單。Kubernetes-Persistent Volume 的掛載選項通常是在儲存類別中指定、但如果儲存類別中未指定掛載選項、則 Trident 會回復為使用儲存後端組態檔案中指定的掛載選項。如果儲存類別或組態檔案中未指定任何掛載選項、 Trident 將不會在關聯的持續磁碟區上設定任何掛載選項。</block>
  <block id="8f0dd7b65e6130f3f55d984ebc34bbdb" category="cell">您可以指定下列其中一項：使用 Microsoft 管理主控台或 ONTAP CLI 建立的 SMB 共用名稱；允許 Trident 建立 SMB 共用的名稱；或將參數保留空白以防止共用磁碟區。對於內部部署 ONTAP 、此參數為選用項目。Amazon FSX 需要此參數才能支援 ONTAP 後端、且不可為空白。</block>
  <block id="760f7a1b05bc9d3d50c534dc491c07d4" category="cell">在新磁碟區上啟用 NetApp Volume Encryption （ NVE ）；預設為<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>。必須在叢集上授權並啟用NVE、才能使用此選項。如果在後端啟用 NAE 、則 Trident 中配置的任何 Volume 都將啟用 NAE 。如需更多資訊、請參閱<block ref="5113a2fb1642ecd23870711ba25c4ad7" category="inline-link-macro-rx"></block>：。</block>
  <block id="9cae9ee80bd5bcfdc5aefb0ffdbdf25b" category="admonition">搭配 Trident 使用 QoS 原則群組需要 ONTAP 9 8 或更新版本。您應該使用非共用的 QoS 原則群組、並確保個別將原則群組套用至每個成員。共享 QoS 原則群組會強制執行所有工作負載總處理量的上限。</block>
  <block id="04475efebba67943de12a2269d2e0a7b" category="paragraph">本範例說明如何指示 Trident 使用動態匯出原則來自動建立及管理匯出原則。和<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>驅動程式的運作方式相同<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>。</block>
  <block id="917b750655d8fd1d6c961e661535fa99" category="paragraph">Trident 會在「意見」欄位中設定資源配置標籤。註解是在 FlexVol for 或 FlexGroup for<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> 上設定<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>。Trident 會在資源配置時、將虛擬集區上的所有標籤複製到儲存磁碟區。為了方便起見、儲存管理員可以針對每個虛擬資源池定義標籤、並依標籤將磁碟區分組。</block>
  <block id="fb66862ac33cf61ecc10382c3a42dee3" category="paragraph">Trident 會決定要選取哪個虛擬集區、並確保符合儲存需求。</block>
  <block id="3791349e449ca2bc9a8b7b7ed4c843de" category="list-text">Trident 僅支援掛載至 Windows 節點上執行的 Pod 的 SMB 磁碟區。如 <block ref="688177e6b45c5d27a545463079c58d82" category="inline-xref-macro-rx"></block> 需詳細資訊、請參閱。</block>
  <block id="bef1bdf06ff1fb19147e51880974a6c5" category="paragraph">Trident 提供兩種驗證 ONTAP 後端的模式。</block>
  <block id="c3ac6347a688cffd729947263e3387fb" category="list-text">憑證型：此模式需要在後端安裝憑證、 Trident 才能與 ONTAP 叢集通訊。在此處、後端定義必須包含用戶端憑證、金鑰及信任的CA憑證（建議使用）的Base64編碼值。</block>
  <block id="3dcd67bbe9a272b52d3d7a0b30220f72" category="paragraph">Trident 需要 SVM 範圍 / 叢集範圍管理員的認證、才能與 ONTAP 後端通訊。建議您使用標準的預先定義角色、例如<block ref="21232f297a57a5a743894a0e4a801fc3" prefix=" " category="inline-code"></block>或<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block>。如此可確保與未來 ONTAP 版本的前移相容性、這些版本可能會公開未來 Trident 版本所使用的功能 API 。自訂安全登入角色可建立並搭配 Trident 使用、但不建議使用。</block>
  <block id="9cce0e23fbc00d5ef4aa8264a88e346a" category="paragraph">更新後端不會中斷對已建立之磁碟區的存取、也不會影響之後建立的磁碟區連線。成功的後端更新表示 Trident 可以與 ONTAP 後端通訊、並處理未來的 Volume 作業。</block>
  <block id="1d67220b5084f7489e1a078d7ce093c3" category="section-title">為 Trident 建立自訂 ONTAP 角色</block>
  <block id="9284d31490691a3e4c3cb7c3fa6bdb30" category="paragraph">Trident 使用 NFS 匯出原則來控制對其所配置之磁碟區的存取。</block>
  <block id="911e36a0e95c6a8cd786e86a3fcc313a" category="paragraph">Trident 在使用匯出原則時提供兩個選項：</block>
  <block id="5dc1a99b61ad0584100fea35d3c77e2d" category="list-text">Trident 可以動態管理匯出原則本身；在此作業模式中、儲存管理員會指定代表可接受 IP 位址的 CIDR 區塊清單。Trident 會在發佈時自動將屬於這些範圍的適用節點 IP 新增至匯出原則。或者、如果未指定 CIDR 、則在要發佈的磁碟區所在節點上找到的所有全域範圍單點傳播 IP 都會新增至匯出原則。</block>
  <block id="d6f1d6cb064a0fa1dad0c21c9e750994" category="list-text">儲存管理員可以建立匯出原則、並手動新增規則。除非在組態中指定不同的匯出原則名稱、否則 Trident 會使用預設匯出原則。</block>
  <block id="9391b78a23c85c79820dc84c10db96aa" category="paragraph">Trident 提供動態管理 ONTAP 後端匯出原則的功能。這可讓儲存管理員為工作節點IP指定允許的位址空間、而非手動定義明確的規則。它可大幅簡化匯出原則管理；修改匯出原則不再需要在儲存叢集上進行手動介入。此外、這有助於將儲存叢集的存取限制在裝載磁碟區且指定範圍內有 IP 的工作節點、以支援精細且自動化的管理。</block>
  <block id="b1c10dc35d4f2204f84dafbae3a9db72" category="admonition">使用此功能時、您必須確保SVM中的根連接點具有先前建立的匯出原則、並具有允許節點CIDR區塊（例如預設匯出原則）的匯出規則。請務必遵循 NetApp 建議的最佳實務做法、將 SVM 專用於 Trident 。</block>
  <block id="be5fcef35e23604f5b0fc183ca7506c7" category="list-text">後端 UUID 403b5326-8482-40der-96d0-d83fb3f4daec</block>
  <block id="28dfab96c79abedb70e1d50d710ea98b" category="list-text"><block ref="323e871cfe2e70ead9c713e8f3164f8f" prefix="" category="inline-code"></block>設定為<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block></block>
  <block id="580cc4344cc0f2e6db295db4ab750199" category="list-text">儲存字首<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block></block>
  <block id="281f254b4327225d2f04f74bef468fda" category="list-text">PVC UUID a79bcf5f-7b6d-4a40-9876-e2551f159c1c</block>
  <block id="9f39168351aa064bf4add0614e72cf76" category="list-text">qtree 名稱為 Trident _PVC_a79bcf5f_7b6d_4a40_9876_e2551f159c1c FlexVol 、會為命名的 qtree 建立匯出原則、為命名的 qtree 建立匯<block ref="c39e5727ab9fde433a5c617f19a07adc" prefix=" " category="inline-code"></block>出原則、<block ref="a9394417b5c3be8334bc253bf0db8df0" prefix=" " category="inline-code"></block>以及在 SVM 上命名的空白匯出原則<block ref="735cc5128643b8de22e29beb94c9ccf4" prefix=" " category="inline-code"></block>。FlexVol 匯出原則的規則將是 qtree 匯出原則所包含的任何規則的超集。未附加的任何磁碟區都會重複使用空的匯出原則。</block>
  <block id="1ac483d2832bce598fb016d9eb24a804" category="list-text"><block ref="b9c40fbe9daa81e40e06509d5bbd5a6c" prefix="" category="inline-code"></block>包含位址區塊清單。此欄位為選用欄位、預設為「0.00.0.0/0」、「：/0」。如果未定義、 Trident 會新增所有在工作節點上找到的全域範圍單點傳播位址、並提供出版物。</block>
  <block id="b2a40ed90888ed4dd5f4dce75ca437a5" category="paragraph">在此範例中<block ref="f2293842bd9b1febec66e01804867721" prefix=" " category="inline-code"></block>、會提供位址空間。這表示位於此位址範圍內的 Kubernetes 節點 IP 與出版物將會新增至 Trident 所建立的匯出原則。當 Trident 登錄其執行的節點時，它會擷取節點的 IP 位址，並對照中提供的位址區塊進行檢查<block ref="b9c40fbe9daa81e40e06509d5bbd5a6c" prefix=" " category="inline-code"></block>。在發佈時，在篩選 IP 之後， Trident 會為其所發佈節點的用戶端 IP 建立匯出原則規則。</block>
  <block id="7bbfd70596d4809b3a59a1d543c64933" category="paragraph">Trident 建立或更新後端之後、您可以使用或對應的<block ref="18d388723371b89385366f93f0fbbbc6" prefix=" " category="inline-code"></block> CRD 來檢查後端<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>：</block>
  <block id="c21ad3c9d699da710d3d9a10d356f72d" category="paragraph">移除節點時、 Trident 會檢查所有匯出原則、以移除對應於節點的存取規則。透過從受管理後端的匯出原則中移除此節點 IP 、 Trident 可防止惡意掛載、除非叢集中的新節點重複使用此 IP 。</block>
  <block id="560093aa674b397879f076b8f8a64fb1" category="paragraph">對於先前存在的後端、使用更新後端<block ref="defd1e55f93269ac9278afc086951ba8" prefix=" " category="inline-code"></block>可確保 Trident 自動管理匯出原則。這會在需要時建立兩個以後端 UUID 和 qtree 名稱命名的新匯出原則。後端上的磁碟區會在新建立的匯出原則卸載並重新掛載之後、使用這些原則。</block>
  <block id="5be86c6240034dbc77f8dad4eae132b0" category="paragraph">如果即時節點的 IP 位址已更新、您必須在節點上重新啟動 Trident Pod 。然後 Trident 會更新匯出原則、以反映其所管理的 IP 變更。</block>
  <block id="3c84638211d81849fc9b0b95216d1afa" category="admonition"><block ref="323e871cfe2e70ead9c713e8f3164f8f" prefix="" category="inline-code"></block>不支援 SMB Volume 。</block>
  <block id="072a79a382792fdaa71cab41d1340dae" category="list-text">至少有一個 Trident 機密包含您的 Active Directory 認證。產生機密<block ref="e47a193687dde960f6b6f80d394142a3" prefix=" " category="inline-code"></block>：</block>
  <block id="f05dd4ff0ba35f59e465466148e57015" category="list-text">對於內部部署 ONTAP 、您可以選擇性地建立 SMB 共用、或 Trident 可以為您建立 SMB 共用。</block>
  <block id="c267535828cc965ba3fe4e10913f7285" category="paragraph">Trident 提供下列 NAS 儲存驅動程式、可與 ONTAP 叢集進行通訊。支援的存取模式包括： _ReadWriteOnce_ （ rwo ）、 _ReadOnlyMany （ ROX ）、 _ReadWriteMany （ rwx ）、 _ReadWriteOncePod （ RWOP_ ）。</block>
  <block id="f993941dc62990aa70d883be7a386ea7" category="paragraph">Trident 預期會以 ONTAP 或 SVM 管理員的身分執行、通常使用叢集使用者或<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block> SVM 使用者、或是使用<block ref="21232f297a57a5a743894a0e4a801fc3" prefix=" " category="inline-code"></block>具有相同角色的不同名稱的使用者。</block>
  <block id="fed5cc1d933ad528f364a438a22f2465" category="paragraph">對於用於 NetApp ONTAP 部署的 Amazon FSX 、 Trident 預期會以 ONTAP 或 SVM 管理員的身分、使用叢集使用者或<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block> SVM 使用者、或是具有相同角色的不同名稱的使用者來執行<block ref="679500f227997b45be97e3ca8115c678" prefix=" " category="inline-code"></block>。<block ref="679500f227997b45be97e3ca8115c678" prefix=" " category="inline-code"></block>使用者只能有限地取代叢集管理使用者。</block>
  <block id="6e82d09aa274380adf21d56aaa3b0413" category="admonition">如果您使用此<block ref="d57551b1efacf8a7be84b4d10c5a6e99" prefix=" " category="inline-code"></block>參數、則需要叢集管理權限。將 Amazon FSX for NetApp ONTAP 搭配 Trident 使用時、此<block ref="d57551b1efacf8a7be84b4d10c5a6e99" prefix=" " category="inline-code"></block>參數將無法與和<block ref="679500f227997b45be97e3ca8115c678" prefix=" " category="inline-code"></block>使用者帳戶搭配<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block>使用。如果您指定此參數、組態作業將會失敗。</block>
  <block id="8dbaef294ecadfe828f5bab1ae097d46" category="summary">瞭解如何在 Trident 安裝中建立及使用 ONTAP SAN 驅動程式。本節提供後端組態範例、以及如何將後端對應至StorageClass的詳細資料。</block>
  <block id="55fd4fb7ce66d950d3136fb6613ab770" category="paragraph">瞭解如何在 Trident 安裝中建立及使用 ONTAP SAN 驅動程式。本節提供後端組態範例及將後端對應至 StorageClasses 的詳細資料。</block>
  <block id="c59bb4e25695c195dbaa360d34c9795e" category="cell"><block ref="ef225248e79c14501d51a4941b5ae5d1" prefix="" category="inline-code"></block></block>
  <block id="091b358e8a9ea5e6b1137fbd4c18372f" category="paragraph">用於<block ref="ef225248e79c14501d51a4941b5ae5d1" prefix=" " category="inline-code"></block>指定命令的命令列引數、每當格式化磁碟區時都會套用這些引數<block ref="899da842f7d2c1db0e3f8c88ad72507f" prefix=" " category="inline-code"></block>。這可讓您根據偏好設定來格式化 Volume 。請務必指定與 mkfs 命令選項類似的格式選項、但不包括裝置路徑。範例：「 -E nobard 」</block>
  <block id="18eb1633594b2436e83e73071958b960" category="section-title">使用 formatOptions 的建議</block>
  <block id="f1e8c049fa2ad08b8d1a332e2d26163e" category="cell">要指派給所建立磁碟區的QoS原則群組。選擇每個儲存集區/後端的其中一個qosPolicy或adaptiveQosPolicy。搭配 Trident 使用 QoS 原則群組需要 ONTAP 9 8 或更新版本。您應該使用非共用的 QoS 原則群組、並確保個別將原則群組套用至每個成員。共享 QoS 原則群組會強制執行所有工作負載總處理量的上限。</block>
  <block id="c598aba0725ffc7663bf0f4db1a3238f" category="cell"><block ref="80fd16da9d17abac4374b362f2e409fe" prefix="" category="inline-code"></block></block>
  <block id="a5b88f2b14a5b0fa1aa2bbed9eb87602" category="cell">限制<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>後端建立新的 FlexVol 磁碟區以包含其 LUN 。只有預先存在的 FlexVols 可用於佈建新的 PV 。</block>
  <block id="e78c177a9e5dfcf995756c1f03c48529" category="admonition">對於使用驅動程式建立的所有磁碟區<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>、 Trident 會為 FlexVol 額外增加 10% 的容量、以容納 LUN 中繼資料。LUN的配置大小與使用者在PVc中要求的大小完全相同。Trident 將 10% 新增至 FlexVol （在 ONTAP 中顯示為可用大小）。使用者現在可以取得所要求的可用容量。此變更也可防止LUN成為唯讀、除非可用空間已充分利用。這不適用於ONTAP-san經濟型。</block>
  <block id="2d4fda186ee0e99d76ee82d9cd36b908" category="paragraph">對於定義的後端<block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix=" " category="inline-code"></block>， Trident 將按以下方式計算卷的大小：</block>
  <block id="83e850c97b7044397eba3d214682be5b" category="list-text">憑證型： Trident 也可以使用安裝在後端的憑證與 ONTAP 叢集通訊。在此處、後端定義必須包含用戶端憑證、金鑰及信任的CA憑證（建議使用）的Base64編碼值。</block>
  <block id="14bc1b6d66d79a6242106075078d6a75" category="paragraph">Trident 可以使用和<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>驅動程式的雙向 CHAP 驗證 iSCSI 工作階段<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>。這需要在後端定義中啟用<block ref="099cb468880f266cba40b49391fa46bc" prefix=" " category="inline-code"></block>選項。設為<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>時、 Trident 會將 SVM 的預設啟動器安全性設定為雙向 CHAP 、並從後端檔案設定使用者名稱和密碼。NetApp建議使用雙向CHAP來驗證連線。請參閱下列組態範例：</block>
  <block id="a3101deed09a2c98e2dc3f8d302ef2ec" category="paragraph">儲存管理員會將設定<block ref="099cb468880f266cba40b49391fa46bc" prefix=" " category="inline-code"></block>為 true 、指示 Trident 在儲存後端上設定 CHAP 。這包括下列項目：</block>
  <block id="8a8d93d572194f00b71a710946af762d" category="list-text">如果 SVM 的預設啟動器安全性類型為無（預設為「無」） * 且 * 磁碟區中沒有預先存在的 LUN 、則 Trident 會將預設安全性類型設為<block ref="9ef2bbb12ff72558472202561a25058d" prefix=" " category="inline-code"></block>、並繼續設定 CHAP 啟動器和目標使用者名稱和機密。</block>
  <block id="1938c188012d6b3e1bb2a8ab1d30ed4b" category="list-text">如果 SVM 包含 LUN 、 Trident 將不會在 SVM 上啟用 CHAP 。這可確保不限制對 SVM 上已存在的 LUN 的存取。</block>
  <block id="6aee28036e0c3cf4a8792451108bdab1" category="paragraph">建立後端之後、 Trident 會建立對應的<block ref="18d388723371b89385366f93f0fbbbc6" prefix=" " category="inline-code"></block> CRD 、並將 CHAP 機密和使用者名稱儲存為 Kubernetes 機密。Trident 在此後端建立的所有 PV 都會透過 CHAP 掛載及附加。</block>
  <block id="efa0e2d045a35ff3060322078634f115" category="paragraph">現有連線不會受到影響；如果 Trident 在 SVM 上更新認證、則這些連線將繼續保持作用中狀態。新的連線使用更新的認證資料、而現有的連線會繼續保持作用中。中斷舊PV的連線並重新連線、將會使用更新的認證資料。</block>
  <block id="b5ab1040103dff58a29ac4bd0e6ce111" category="paragraph">Trident 提供下列 SAN 儲存驅動程式、可與 ONTAP 叢集進行通訊。支援的存取模式包括： _ReadWriteOnce_ （ rwo ）、 _ReadOnlyMany （ ROX ）、 _ReadWriteMany （ rwx ）、 _ReadWriteOncePod （ RWOP_ ）。</block>
  <block id="e5981541c0e608f7fb860a1ba0443a18" category="paragraph">Trident 預期會以 ONTAP 或 SVM 管理員的身分執行、通常使用叢集使用者或<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block> SVM 使用者、或是使用<block ref="21232f297a57a5a743894a0e4a801fc3" prefix=" " category="inline-code"></block>具有相同角色的不同名稱的使用者。對於用於 NetApp ONTAP 部署的 Amazon FSX 、 Trident 預期會以 ONTAP 或 SVM 管理員的身分、使用叢集使用者或<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block> SVM 使用者、或是具有相同角色的不同名稱的使用者來執行<block ref="679500f227997b45be97e3ca8115c678" prefix=" " category="inline-code"></block>。<block ref="679500f227997b45be97e3ca8115c678" prefix=" " category="inline-code"></block>使用者只能有限地取代叢集管理使用者。</block>
  <block id="03f5e10eafb756dac410015b29a6d0e0" category="paragraph">Trident 支援使用驅動程式的非揮發性記憶體高速（ NVMe ）傳輸協定<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>、包括：</block>
  <block id="8102a8aaee21f7594331faa6a31ceeb6" category="list-text">匯入在 Trident 之外建立的 NVMe Volume 、以便 Trident 管理其生命週期</block>
  <block id="54211a2d289b1fa18afc99aab9e27892" category="paragraph">Trident 不支援：</block>
  <block id="efd6bf14511b7506d1d5a1575d817027" category="cell">叢集或 SVM 管理 LIF 的 IP 位址可以指定完整網域名稱（ FQDN ）。如果使用 IPv6 旗標安裝 Trident 、則可設定為使用 IPv6 位址。IPv6位址必須以方括弧來定義、例如[28e8：d9fb：a825：b7bf：69a8：d02f：9e7b：3555]。</block>
  <block id="900a97d43b0d89ff1f26477ad38cc3bc" category="cell">* 請勿指定 Amazon FSX for NetApp ONTAP 。 *提供的<block ref="679500f227997b45be97e3ca8115c678" prefix=" " category="inline-code"></block>和<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block>不包含使用 Trident 擷取彙總使用量並加以限制所需的權限。</block>
  <block id="df2f5c3ad0d6cdf07a86704a8dfcef06" category="cell">您可以指定下列其中一項：使用 Microsoft 管理主控台或 ONTAP CLI 建立的 SMB 共用名稱、或是允許 Trident 建立 SMB 共用的名稱。ONTAP 後端的 Amazon FSX 需要此參數。</block>
  <block id="4f124386f4b1bb06c61bcf1c73aff529" category="cell">要指派給所建立磁碟區的QoS原則群組。選擇每個儲存集區或後端的其中一個qosPolicy或adaptiveQosPolicy。搭配 Trident 使用 QoS 原則群組需要 ONTAP 9 8 或更新版本。您應該使用非共用的 QoS 原則群組、並確保個別將原則群組套用至每個成員。共享 QoS 原則群組會強制執行所有工作負載總處理量的上限。</block>
  <block id="e5bbe1a57bb9d1fa8056d28e0a96a518" category="summary">使用 Trident 搭配 Amazon FSX for NetApp ONTAP 、您可以確保在 Amazon Elastic Kubernetes Service （ EKS ）中執行的 Kubernetes 叢集可以佈建由 ONTAP 支援的區塊和檔案持續性磁碟區。</block>
  <block id="a2e4c75efdd834198ec30de5256aa938" category="paragraph">您可以使用下列驅動程式、將 Trident 與 Amazon FSX for NetApp ONTAP 整合：</block>
  <block id="b67b129bb636d36f948ca02b68bfa9bc" category="cell">叢集或 SVM 管理 LIF 的 IP 位址可以指定完整網域名稱（ FQDN ）。如果使用 IPv6 旗標安裝 Trident 、則可設定為使用 IPv6 位址。IPv6位址必須以方括弧來定義、例如[28e8：d9fb：a825：b7bf：69a8：d02f：9e7b：3555]。如果您在欄位下方<block ref="ac68bbf921d953d1cfab916cb6120864" prefix=" " category="inline-code"></block>提供、則<block ref="d731d2fecb66f9c4a30253bd316a220f" prefix=" " category="inline-code"></block>不需要提供、<block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix=" " category="inline-code"></block>因為 Trident 會從 AWS 擷取 SVM<block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix=" " category="inline-code"></block> 資訊。因此、您必須在 SVM 下提供使用者的認證（例如： vsadmin ）、且使用者必須具有該<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block> 角色。</block>
  <block id="456166bed74a8ee84892a1778e8485a7" category="section-title">Trident 屬性</block>
  <block id="0a6a0f274bdb2256373050bb5155f62f" category="paragraph">您可以將 Amazon FSX for NetApp ONTAP 檔案系統與 Trident 整合、以確保在 Amazon Elastic Kubernetes Service （ EKS ）中執行的 Kubernetes 叢集可配置由 ONTAP 備份的區塊和檔案持續磁碟區。</block>
  <block id="e22cd0725c5dbd58b894af3d4584607c" category="paragraph">使用 Trident 搭配 Amazon FSX for NetApp ONTAP 、您可以確保在 Amazon Elastic Kubernetes Service （ EKS ）中執行的 Kubernetes 叢集可以佈建由 ONTAP 支援的區塊和檔案持續性磁碟區。</block>
  <block id="0ad999be0dea6cdee2afca2bcb6da8b1" category="paragraph">除了<block ref="6004af307fc2eed554c42ebaa4be8446" category="inline-link-macro-rx"></block>、若要將適用於 ONTAP 的 FSX 與 Trident 整合、您還需要：</block>
  <block id="6bb2a5c441a4e421f26e835928b68f1f" category="list-text">Trident EKS 附加元件不支援 SMB Volume 。</block>
  <block id="910bc8aad96dce304454db69330c4c1c" category="list-text">Trident 僅支援掛載至 Windows 節點上執行的 Pod 的 SMB 磁碟區。如 <block ref="5d9770278862f1ca4af19e761a5fa655" category="inline-link-macro-rx"></block> 需詳細資訊、請參閱。</block>
  <block id="3111c4c842496dcfcddb5de6e9f7ec11" category="list-text">在 Trident 24.02 之前、在已啟用自動備份的 Amazon FSX 檔案系統上建立的磁碟區、無法由 Trident 刪除。若要在 Trident 24.02 或更新版本中避免此問題、請在 AWS FSX for ONTAP 的後端組態檔案中指定<block ref="d731d2fecb66f9c4a30253bd316a220f" prefix=" " category="inline-code"></block>、 AWS<block ref="1e9c0fd1beef5ff8ed3bef2ae3b7e560" prefix=" " category="inline-code"></block>、 AWS<block ref="9af4d8381781baccb0f915e554f8798d" prefix=" " category="inline-code"></block> 和 AWS<block ref="ce656850400574e9f9cffb285ee8abc0" prefix=" " category="inline-code"></block> 。</block>
  <block id="9f953e6f7a1bf75b24ad7c1f72aeda22" category="admonition">如果您要將 IAM 角色指定給 Trident 、則可以省略將、<block ref="c9ff119073ea2567730fb42e3a4fe805" prefix=" " category="inline-code"></block>和<block ref="ce656850400574e9f9cffb285ee8abc0" prefix=" " category="inline-code"></block>欄位明確指定<block ref="1e9c0fd1beef5ff8ed3bef2ae3b7e560" prefix=" " category="inline-code"></block>給 Trident 。如需詳細資訊、請 <block ref="d3e98810edf44af02b30486ed13bd043" category="inline-link-macro-rx"></block>參閱。</block>
  <block id="7b53d57c2eba03d6610dce9feca9a586" category="paragraph">Trident 提供兩種驗證模式。</block>
  <block id="954d503a6b34d7989c109f6cb0bfac8d" category="admonition">Trident 應以 SVM 使用者或具有相同角色之不同名稱的使用者身分執行<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block>。Amazon FSX for NetApp ONTAP 的<block ref="679500f227997b45be97e3ca8115c678" prefix=" " category="inline-code"></block>使用者僅能有限地取代 ONTAP<block ref="21232f297a57a5a743894a0e4a801fc3" prefix=" " category="inline-code"></block> 叢集使用者。我們強烈建議搭配 Trident 使用<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block>。</block>
  <block id="e4cd0c6f3c2ade8eef84039005a10f36" category="list-text">憑證型： Trident 將使用 SVM 上安裝的憑證、與 FSX 檔案系統上的 SVM 通訊。</block>
  <block id="f8abfe6b352de2fd0e868bcaf6f3e7f7" category="summary">Trident 支援指派有意義的名稱和標籤給所建立的磁碟區、以便更容易識別、監控管理磁碟區、並輕鬆地將磁碟區對應至各自的 Kubernetes 資源（ PVCS ）。</block>
  <block id="ba7c9f4d567a323afc79746f519e415b" category="paragraph">有了 Trident 、您就可以為您建立的磁碟區指派有意義的名稱和標籤。這有助於您識別並輕鬆地將磁碟區對應至各自的 Kubernetes 資源（ PVCS ）。您也可以在後端層級定義範本、以建立自訂磁碟區名稱和自訂標籤；您建立、匯入或複製的任何磁碟區都會遵守這些範本。</block>
  <block id="97c781efba117c0e1d5363fc4b25ca4d" category="list-text">Trident 不支援使用含有儲存前置碼的 Slice 運算子。</block>
  <block id="d30011d07380d694abaa3a0701445be9" category="list-text">如果範本未產生唯一的磁碟區名稱、 Trident 會附加幾個隨機字元、以建立唯一的磁碟區名稱。</block>
  <block id="67b2f0b2bd7da526ee1d031a8d146585" category="list-text">如果 NAS 經濟 Volume 的自訂名稱長度超過 64 個字元、 Trident 會根據現有的命名慣例來命名磁碟區。對於所有其他 ONTAP 驅動程式、如果磁碟區名稱超過名稱限制、磁碟區建立程序就會失敗。</block>
  <block id="e784d9ded1cce64694895e336ef35234" category="paragraph">Trident 會建立持續 Volume （ PV ）、並將其與此持續 Volume Claim （ PVC ）相關聯。</block>
  <block id="c97c2c03f174086fc1172be741226250" category="list-text">如果 PV 附加至 Pod 、 Trident 會在儲存後端擴充磁碟區、重新掃描裝置、並調整檔案系統的大小。</block>
  <block id="8870cc012f196366d720ebdad2f5632f" category="list-text">當嘗試調整未附加 PV 的大小時、 Trident 會在儲存後端擴充磁碟區。在將永久虛擬磁碟綁定至Pod之後、Trident會重新掃描裝置並重新調整檔案系統的大小。然後、Kubernetes會在擴充作業成功完成後、更新PVc大小。</block>
  <block id="026f69e8eb7faab2f07a68365843746d" category="paragraph">您可以檢查 PVC 、 PV 和 Trident Volume 的大小、以驗證擴充是否正常運作：</block>
  <block id="36941664e357e5e47a63d528d3ff49b5" category="paragraph">您可以檢查 PVC 、 PV 和 Trident Volume 的大小、以驗證調整大小是否正常運作：</block>
  <block id="822f23137373a7a374fd33ef3863c2de" category="paragraph">您可以將磁碟區匯入 Trident 、以便：</block>
  <block id="15309597fffd67488a7a5dde3591144d" category="list-text">Trident 只能匯入 RW （讀寫）類型的 ONTAP Volume 。DP （資料保護）類型磁碟區是 SnapMirror 目的地磁碟區。您應該先中斷鏡射關係、再將磁碟區匯入 Trident 。</block>
  <block id="349d29de1123e1836103914780ffb39b" category="list-text">雖然必須在 PVC 上指定、但<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> Trident 在匯入期間不會使用此參數。建立磁碟區時會使用儲存類別、根據儲存特性從可用的集區中選取。由於該磁碟區已經存在、因此在匯入期間不需要選取任何集區。因此、即使磁碟區存在於與 PVC 中指定的儲存類別不相符的後端或集區、匯入也不會失敗。</block>
  <block id="f610f3c991a9fe41a30dec78ba76caa8" category="paragraph">Trident 支援使用和<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>驅動程式進行 Volume 匯入<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>。</block>
  <block id="2bde530216fea43a4e556d3bba5dce11" category="paragraph">使用<block ref="e2b9359adf7cdd62fc784b5090c3c452" prefix=" " category="inline-code"></block>引數時、 Trident 不會重新命名磁碟區。</block>
  <block id="df1e93e323319db2375e3d3dad7fb9cc" category="paragraph">Trident 支援使用驅動程式的 NetApp Element 軟體和 NetApp HCI Volume 匯入<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block>。</block>
  <block id="49fdf43d32dad9fda984acfedf0be04f" category="admonition">Element驅動程式支援重複的Volume名稱。不過、如果有重複的磁碟區名稱、 Trident 會傳回錯誤。因應措施是複製磁碟區、提供唯一的磁碟區名稱、然後匯入複製的磁碟區。</block>
  <block id="781d7167559669ccd02b24925b4be62e" category="paragraph">Trident 支援使用驅動程式進行 Volume 匯入<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block>。</block>
  <block id="91df12d96329d2a5cdfb509205e68b38" category="summary">Trident 提供數項功能來管理您的磁碟區。瞭解 Trident 為 Volume 提供的功能。</block>
  <block id="3f21653d19d6382928f806e17a3ab1c4" category="paragraph">瞭解 Trident 提供的管理磁碟區功能。</block>
  <block id="ca5acbb90042e065e5dd4eb793ef320c" category="paragraph">請參閱下列內容、瞭解如何使用 Trident 管理磁碟區。</block>
  <block id="bf320e716fd5e77836a28acbf01fd5f2" category="summary">Kubernetes 持續磁碟區（ PV ）的磁碟區快照可啟用磁碟區的時間點複本。您可以建立使用 Trident 建立的磁碟區快照、匯入在 Trident 外部建立的快照、從現有快照建立新的磁碟區、以及從快照復原磁碟區資料。</block>
  <block id="27aa53a8adee533e027b5b2a725716da" category="list-text"><block ref="e2d45d57c7e2941b65c6ccd64af4223e" prefix=" " category="inline-code"></block>指向 Trident CSI 驅動程式。</block>
  <block id="443fed0e44021bc800c6840b6a2c8191" category="paragraph">Trident 支援、<block ref="a3174ff04e144786ca73f65ec9b76f58" category="inline-link-macro-rx"></block>可讓叢集管理員建立<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block>物件、並匯入在 Trident 之外建立的快照。</block>
  <block id="5de65a931e7f0117030dde1d54eff5f4" category="paragraph">Trident 必須已建立或匯入快照的父磁碟區。</block>
  <block id="a06ecac9b140cf61cd5d4a82c88c488a" category="list-text">* 叢集管理： * 建立<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block>參照後端快照的物件。這會在 Trident 中啟動快照工作流程。</block>
  <block id="d480294e263bd9916f014824428ddbca" category="list-text">請在中<block ref="39133e4ee9648ecb1a2dae934a22788a" prefix=" " category="inline-code"></block>指定<block ref="62c99546614b1610927a47ea682b6d63" prefix=" " category="inline-code"></block>。這是通話中外部快照機提供給 Trident 的唯一資訊<block ref="b4dfa9524f461a609ad4726f69b847e9" prefix=" " category="inline-code"></block>。</block>
  <block id="3e36f7927fcc85da94d36bcb51457a89" category="list-text">* 內部處理（不需採取任何行動）： * 外部快照機可辨識新建立的<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block>、並執行<block ref="b4dfa9524f461a609ad4726f69b847e9" prefix=" " category="inline-code"></block>通話。Trident 會建立<block ref="9a303ae09fee10afe60e5fd9e00e5e45" prefix=" " category="inline-code"></block>。</block>
  <block id="c179bf71b229cad4b31c8b19407ab978" category="summary">使用 Trident 、您可以在主要命名空間中建立磁碟區、並在一或多個次要命名空間中共用該磁碟區。</block>
  <block id="eeef56d54787b9aa6bd579f2e856b658" category="paragraph">TridentVolume Reference CR 可讓您安全地跨一或多個 Kubernetes 命名空間共用 ReadWriteMany （ rwx ） NFS 磁碟區。此Kubernetes原生解決方案具有下列優點：</block>
  <block id="00315912b48f10a3906def68b6887f6c" category="paragraph">Trident 會建立 PV 及其後端 NFS 儲存磁碟區。</block>
  <block id="7f2c8022cfb81e20fa274d1e20f4ae7b" category="paragraph">Trident 會讀取<block ref="57c54cbee1c6ed3d5902aa1d8cd1e55a" prefix=" " category="inline-code"></block>目的地 PVC 上的附註、並將目的地 PV 建立為次級磁碟區、而不會有本身的儲存資源指向來源 PV 、並共用來源 PV 儲存資源。目的地的PVc和PV似乎正常連結。</block>
  <block id="a5b25f7f8c74c644f3484c2182ea8a25" category="paragraph">您可以刪除跨多個命名空間共用的磁碟區。Trident 將移除來源命名空間上的磁碟區存取權、並維護共用該磁碟區的其他命名空間的存取權。移除所有參照該 Volume 的命名空間時、 Trident 會刪除該 Volume 。</block>
  <block id="39e92ae6d270535c1cad298373650560" category="list-text">Trident 無法防止目的地命名空間寫入共用磁碟區。您應該使用檔案鎖定或其他程序來防止覆寫共用Volume資料。</block>
  <block id="b709b82e3d76fa5433fd3117387424b7" category="paragraph-title">SCSI over FC 工具</block>
  <block id="867cf4bbcb92ecc7017612aafa765813" category="inline-link-macro">設定 FC 擴大機、 FC-NVMe SAN 主機的方法</block>
  <block id="16649adc62ed952ba4dac811c548cbfb" category="paragraph">Trident 會嘗試自動偵測節點是否可以執行 iSCSI 或 NFS 服務。</block>
  <block id="ff577472362d5ec5388791cc868e283e" category="paragraph">Trident 會為節點建立事件、以識別探索到的服務。若要檢閱這些事件、請執行：</block>
  <block id="e0dbb340725a054b795eaa2c5ce9925a" category="paragraph">Trident 會識別 Trident 節點 CR 上每個節點啟用的服務。若要檢視探索到的服務、請執行：</block>
  <block id="5a89f68b37546fc775b3e4fdbaa83f86" category="paragraph">Trident 可以自動建立 iSCSI 工作階段、掃描 LUN 、探索多重路徑裝置、將其格式化、並將其裝載至 Pod 。</block>
  <block id="f31ad49d6d434380feb4017e7e67844c" category="paragraph">對於 ONTAP 系統、 Trident 每五分鐘執行一次 iSCSI 自我修復、以：</block>
  <block id="88857aef34da03584f9873d9ae451f35" category="list-text">*比較*所需狀態與目前狀態、以識別所需的維修。Trident 會決定維修優先順序、以及何時優先執行維修。</block>
  <block id="43b7f6020acce94258b8cd6f49d039e9" category="admonition">自我修復活動記錄位於個別 Dem隨 選裝置上的容器中<block ref="7883e3d8f80ff24d70c49bd975fb3f75" prefix=" " category="inline-code"></block>。若要檢視記錄、您必須在 Trident 安裝期間將其設<block ref="ad42f6697b035b7580e4fef93be20b4d" prefix=" " category="inline-code"></block>為「 true 」。</block>
  <block id="575a6c9926e4c10d0f01f5a7b5ae5af7" category="paragraph">Trident iSCSI 自我修復功能有助於防止：</block>
  <block id="dc5ea7c62b923ea94fb050bf49982b18" category="list-text">發生網路連線問題後、可能會發生過時或不正常的iSCSI工作階段。如果工作階段過時、 Trident 會在登出前等待七分鐘、以重新建立與入口網站的連線。</block>
  <block id="35a7465f650e4e342879c89b19aab955" category="paragraph">您可以設定下列 Trident iSCSI 自我修復設定、以修復過時的工作階段：</block>
  <block id="37ed104d69b44253f63f811d2ac61b38" category="admonition">Trident 會修改此<block ref="f0523c4334dbbc70205de4279475561a" prefix=" " category="inline-code"></block>值、確保 NVMe 在故障時不會放棄路徑。請勿變更此設定。</block>
  <block id="49c51de1f7ef1bb1a3f7996dce0bd162" category="summary">請使用此處提供的指標來疑難排解您在安裝和使用 Trident 時可能遇到的問題。</block>
  <block id="ff880370a59a3edf263703cf427ef61b" category="paragraph">對於 Trident 20.07 和 20.10 ，請使用<block ref="5d50f02b16b5f3c834b39c00b5adcf4f" prefix=" " category="inline-code"></block>代替<block ref="b9b2e8f293392f4f25fc8a59b9522d84" prefix=" " category="inline-code"></block>。</block>
  <block id="f61e7737805bc6c31f70cc744f0be580" category="paragraph">您可以完全移除 Trident 和所有建立的客戶需求日、以及相關的自訂資源。</block>
  <block id="bf33d5f4492b83e480e02a87c13bea8f" category="admonition">此動作無法復原。除非您想要全新安裝 Trident 、否則請勿這麼做。若要在不移除客戶需求日的情況下解除安裝 Trident <block ref="09e567d3102352bdd3a5975f49a136db" category="inline-link-macro-rx"></block>、請參閱。</block>
  <block id="7e8fc4df4a520d5e63be7a3cceaf49b6" category="paragraph">若要解除安裝 Trident 、並使用 Trident 操作員完全移除客戶需求日：</block>
  <block id="48402172a8740f09fa3a5295a3c776f2" category="paragraph">若要解除安裝 Trident 並使用 Helm 完全移除客戶需求日：</block>
  <block id="fca562606bcefc58d4a718783c1b96d2" category="paragraph">若要在使用解除安裝 Trident 後完全移除客戶需求日、請執行以下步驟<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block></block>
  <block id="4432cfcacafa1abcedd4043a54b77f9f" category="paragraph">請考慮將 Trident 託管命名空間（ NVMe 持續磁碟區）附加至 Pod 的案例。如果您直接從 ONTAP 後端刪除命名空間、則在嘗試刪除 Pod 之後、取消暫存程序會卡住。此案例不會影響 Kubernetes 叢集或其他功能。</block>
  <block id="65edeac74973a1ff99e0e74473ca1ac5" category="sidebar">Trident 是由 NetApp 維護的開放原始碼儲存資源配置程式與協調程式。它可讓您為Docker和Kubernetes所管理的容器化應用程式建立儲存磁碟區。</block>
  <block id="c2be0dce836d12b399a864c7019c6c72" category="sidebar">使用 Trident</block>
  <block id="c2cad626583e84ad7681ff1f879baed0" category="sidebar">Trident 影片</block>
  <block id="19cd85517cccf8e142cb03b4a1b778b8" category="sidebar">Trident 文件</block>
  <block id="cbe339e53da479584b62fcdaed7006c1" category="sidebar">Trident 總覽</block>
  <block id="c95d3f2a880ad1b81926c3a78c2294ed" category="sidebar">管理及監控 Trident</block>
  <block id="4182ceafe6e7afa67be49e639a8fa3a9" category="sidebar">Trident 整合</block>
  <block id="e41a00202d1138f85f18e0c7afdb0955" category="sidebar">在 EKS 叢集上設定 Trident EKS 附加元件</block>
  <block id="3bd49228e6aff48852b023fa1ceaf62c" category="paragraph">若要使用 Trident 運算子安裝 Trident 、請編輯<block ref="244895464fd1d6c7ff5a2044c324c0fc" prefix=" " category="inline-code"></block>以設定為<block ref="d19f2c0377f3ed7cab9377cf066cb7ef" prefix=" " category="inline-code"></block><block ref="9856712fdf7563a4074fc130ed9f0755" prefix=" " category="inline-code"></block>、並設定<block ref="89abe9fddbe3cf0f9bcd7779fe4aed69" prefix=" " category="inline-code"></block>為<block ref="90f8fb110d694743ec7a069beef76b7b" prefix=" " category="inline-code"></block>。</block>
  <block id="7ba174e1291062b960ec1b8607b6e1e2" category="paragraph">以下範例使用環境變數安裝 Trident 並設定<block ref="d19f2c0377f3ed7cab9377cf066cb7ef" prefix=" " category="inline-code"></block>為 GCP<block ref="e7b51407a2bfaa34b58afce0107e9a5f" prefix=" " category="inline-code"></block> 、並使用環境變數<block ref="fab50dca589d1a68fdf56bd4ae0b4a83" prefix=" " category="inline-code"></block>設定<block ref="89abe9fddbe3cf0f9bcd7779fe4aed69" prefix=" " category="inline-code"></block>：</block>
  <block id="bde178d22672aa38120646e529ed04b5" category="paragraph">以下範例會安裝 Trident 並將旗標設定<block ref="e33bb4eb32023da4a8ea7a1ba6927067" prefix=" " category="inline-code"></block>為<block ref="e7b51407a2bfaa34b58afce0107e9a5f" prefix=" " category="inline-code"></block>、和<block ref="c5af480af77c330e04a1fce1f6c2b03a" prefix=" " category="inline-code"></block><block ref="fab50dca589d1a68fdf56bd4ae0b4a83" prefix=" " category="inline-code"></block>：</block>
  <block id="dc3d22611e67d08cb39256f8980be582" category="cell">限制<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>後端建立新的 FlexVol 磁碟區以包含其 qtree 。只有預先存在的 FlexVols 可用於佈建新的 PV 。</block>
  <block id="eddc3ab7d283c02464f100ff837cf055" category="inline-link-macro">Trident 資源</block>
  <block id="01ba66c56fa9029a3ce0095f09b9b340" category="list-text"><block ref="01ba66c56fa9029a3ce0095f09b9b340" category="inline-link-macro-rx"></block></block>
  <block id="10c80ca6b662fb62c61b4f3551fa4460" category="paragraph">對於使用 SAN 儲存驅動程式的 ONTAP 後端、 Trident 可以設定雙向 CHAP 、並透過管理 CHAP 使用者名稱和機密<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。請參閱<block ref="647d5f494fdd01a14f263aa1b49a3db4" category="inline-link-macro-rx"></block>以瞭解 Trident 如何在 ONTAP 後端上設定 CHAP 。</block>
  <block id="98b1298645505c6ec838667dff651c81" category="cell">在 ONTAP NAS 經濟型後端使用 qtree 時、可要求的 FlexVol 大小上限。</block>
  <block id="7be7ec1f4262cda30e19c85af89449af" category="cell">qtree 的空間分配</block>
  <block id="bc78339d85241498c635b61d8f201ef9" category="cell">如果要求的磁碟區大小高於此值、則資源配置失敗。也會限制其管理 LUN 的最大磁碟區大小。</block>
  <block id="3f94255d3ae6517615821f8939ba6230" category="doc">管理授權與存取控制</block>
  <block id="a22c0a4dfca95968d88392eb0bbb2dcf" category="paragraph">叢集管理員一律可以存取預設命名空間中的資源<block ref="9a82c7a4099124e5bfaa83e7c5997bd4" prefix=" " category="inline-code"></block>，也可以存取所有其他命名空間中的資源。若要控制對資源和應用程式的存取，您需要建立額外的命名空間，並將資源和應用程式新增至這些命名空間。</block>
  <block id="661e3b2b32de1ab85fb426b5abec28f3" category="paragraph">請注意，沒有使用者可以在預設命名空間中建立應用程式資料管理 CRS<block ref="9a82c7a4099124e5bfaa83e7c5997bd4" prefix=" " category="inline-code"></block> 。您需要在應用程式命名空間中建立應用程式資料管理 CRS （最佳做法是在與其相關應用程式相同的命名空間中建立應用程式資料管理 CRS ）。</block>
  <block id="4516bb1529fba64216073cc95812839c" category="list-text">* AppVault* ：需要儲存庫認證資料</block>
  <block id="10e6811ca4c78900349b612176a3233b" category="list-text">* AutoSupportBundleSchedule* ：管理記錄收集排程</block>
  <block id="7cfd5c25f0cd486a1157966cad4acba7" category="paragraph">最佳做法是使用 RBAC 來限制系統管理員存取權限物件。</block>
  <block id="407b2fe2d3bbcc55c8ae895a2fd8263c" category="inline-link">Kubernetes RBAC 文件</block>
  <block id="280879df8b54b2167169ec47c5cabf6d" category="paragraph">如需 RBAC 如何規範資源和命名空間存取的詳細資訊，請參閱<block ref="4825a411217f39ad9486c7b5e7edfd2b" category="inline-link-rx"></block>。</block>
  <block id="1f8885e14663f7eb65b23f1fb65cf1ad" category="inline-link">Kubernetes 服務帳戶文件</block>
  <block id="6d2eefddf1d006b070ac00f2cf8d9f2e" category="paragraph">如需服務帳戶的相關資訊，請參閱<block ref="37bf82f0fc7d7e935aabd2fb73032b3c" category="inline-link-rx"></block>。</block>
  <block id="c8daba6f7a2139f5744d1f673acae2b4" category="section-title">範例：管理兩組使用者的存取權</block>
  <block id="9a9f2142e8d53ddda9013b6fc97827cd" category="paragraph">例如，組織有叢集管理員，一組工程設計使用者，以及一組行銷使用者。叢集管理員將完成下列工作，以建立一個環境，其中工程群組和行銷群組各自只能存取指派給各自命名空間的資源。</block>
  <block id="62e8eb1beb4089e76f084fa767746c24" category="section-title">步驟 1 ：建立命名空間以包含每個群組的資源</block>
  <block id="bff98f2ace11d8e7b9fe541ae444c93a" category="paragraph">建立命名空間可讓您以邏輯方式分隔資源，並更有效地控制誰有權存取這些資源。</block>
  <block id="34bc7fd01806723536ffab05992d77d0" category="list-text">為工程群組建立命名空間：</block>
  <block id="ba644a4cbff232b5b4157a0f8bfc30f8" category="list-text">為行銷群組建立命名空間：</block>
  <block id="aac00f41716d928be61ef3ff1cd6fc2d" category="section-title">步驟 2 ：建立新的服務帳戶，與每個命名空間中的資源互動</block>
  <block id="3e8da71376257c3915a88fb2bfe69a27" category="paragraph">您所建立的每個新命名空間都有預設服務帳戶，但您應該為每個使用者群組建立服務帳戶，以便日後在必要時在群組之間進一步分割 Privileges 。</block>
  <block id="7bd34dd5c1a41f3a7aeea2aaad2469b5" category="list-text">為工程群組建立服務帳戶：</block>
  <block id="37281883196948d16907e71598070c79" category="list-text">為行銷群組建立服務帳戶：</block>
  <block id="2cdbda2406e807bdae6ccf33ad2445f3" category="section-title">步驟 3 ：為每個新的服務帳戶建立秘密</block>
  <block id="a15042adaad3bebc86d46ef450a4f98c" category="paragraph">服務帳戶密碼是用來驗證服務帳戶，如果受到入侵，也可以輕鬆刪除和重新建立。</block>
  <block id="78a7dfb4e5b60d84d3c54ec150be8a80" category="list-text">為工程服務帳戶建立秘密：</block>
  <block id="b098f513abca683a5e1c36cbc8b244db" category="list-text">為行銷服務帳戶建立秘密：</block>
  <block id="d1732b3423240a19064951afa9a3266a" category="section-title">步驟 4 ：建立 RoleBinding 物件，將 ClusterRole 物件繫結至每個新的服務帳戶</block>
  <block id="067d8d99affb5418a3d899eba8658cc4" category="list-text">將 ClusterRole 繫結至工程服務帳戶：</block>
  <block id="b25ecd55b23c424058fdad947fe23b13" category="list-text">將 ClusterRole 連結至行銷服務帳戶：</block>
  <block id="574c7934280b498080dfc2272c570f69" category="section-title">步驟 5 ：測試權限</block>
  <block id="8d65423ec256f18737823ea6cedeae87" category="paragraph">測試權限是否正確。</block>
  <block id="7b0c0cd292b286167249cc067be6d47d" category="list-text">確認工程使用者可以存取工程資源：</block>
  <block id="37aa0c3d444b765e5080a77f572f9040" category="list-text">確認工程使用者無法存取行銷資源：</block>
  <block id="618ce5e44021c1c57c9655e5e3846eda" category="doc">使用 AppVault 物件來管理貯體</block>
  <block id="56ef2682280ac110060b881925a87b80" category="section-title">Google Cloud</block>
  <block id="1668ca1bd914c1d847f23b491319ac91" category="section-title">Microsoft Azure</block>
  <block id="cf04a02e37b774fc311a48f605c3c597" category="cell">Azure</block>
  <block id="50f66ecbc45488ee5826941bfbc50411" category="cell">GCP</block>
  <block id="485573baf8bfa9487485deb07780d89f" category="list-text">檢視 AppVault 物件的內容：</block>
  <block id="10dce9030ad8783afd2b4e831da49b7f" category="paragraph">* 輸出範例 * ：</block>
  <block id="72444a17ff17655124f96b02602fe90f" category="list-text">（可選）要查看每個資源的 AppVaultPath ，請使用標誌<block ref="a9b1c03a99224cbb5c6773ccbe51d4fb" prefix=" " category="inline-code"></block>。</block>
  <block id="eb5dcb495342ee5285be31fb17267ccc" category="section-title">移除 AppVault</block>
  <block id="086d4622dbc50dc37c51fc80568681a2" category="paragraph">您可以隨時移除 AppVault 物件。</block>
  <block id="79f2a1cdb1287644a5d3176157cc43c4" category="admonition">刪除 AppVault 物件之前，請勿移除<block ref="276c63528ef3085f91fb1bc80a3febc0" prefix=" " category="inline-code"></block> AppVault CR 中的機碼。如果您這麼做，可能會導致 AppVault 貯體中的剩餘資料，以及叢集中的孤立資源。</block>
  <block id="33850d305da8c5eb949c81e70e40a54d" category="open-title">使用 Kubernetes CLI 移除 AppVault</block>
  <block id="2b1100a071932a4cb5f33e22121f48fa" category="paragraph">在使用命令列公用程式之前，您必須先將其安裝在用來存取叢集的機器上。根據您的機器使用的是 x64 或 ARM CPU ，請遵循下列步驟。</block>
  <block id="852f04e90409df288c69ca8f37453383" category="open-title">下載適用於 Linux AMD64 CPU 的外掛程式</block>
  <block id="b64b2077b896969e7810dbb0a2de2f1a" category="open-title">下載適用於 Linux ARM64 CPU 的外掛程式</block>
  <block id="d58e744bd40cf0f8373ee5b2c7d11387" category="open-title">下載適用於 Mac AMD64 CPU 的外掛程式</block>
  <block id="fd3e558ef6c1af851bddabf0eb1945d7" category="open-title">下載 Mac ARM64 CPU 的外掛程式</block>
  <block id="b23c395acc963a69b0a5f06a20bb4887" category="section-title">檢視 Trident CLI 外掛程式說明</block>
  <block id="305f79cb740685921820521a57e525e5" category="paragraph">您可以使用內建的外掛程式說明功能，取得外掛程式功能的詳細說明：</block>
  <block id="09b4818c610e8f967a9f5257455a3a2a" category="list-text">使用說明功能檢視使用指南：</block>
  <block id="da9d072bec5b191d5b5120761a2094e5" category="section-title">啟用命令自動完成</block>
  <block id="df7d0aa2cf46fe870b9bba130ea4d964" category="open-title">啟用 Bash Shell 的自動完成功能</block>
  <block id="bbd32e1d32af84e3002666b13f548cce" category="list-text">在主目錄中建立新目錄以包含指令碼：</block>
  <block id="63f01fb9933705d6d795c4c690a6504c" category="list-text">將下載的指令碼移至<block ref="37476bab24bad3126a5edbc11fab761e" prefix=" " category="inline-code"></block>目錄：</block>
  <block id="4a76f80f250e570c9fd0b4b8b9e41486" category="list-text">將下列行新增至<block ref="b8cb707d54dfbd8ab64f0b1dc81b72e1" prefix=" " category="inline-code"></block>主目錄中的檔案：</block>
  <block id="51c2c8a3b8dd4aaaa1d5640e39860408" category="open-title">啟用 Z Shell 的自動完成功能</block>
  <block id="45dba4471beecdb4813778042a6ccfc2" category="list-text">將下載的指令碼移至<block ref="d6ca46a9bae5529cb8e845fb419ba1e0" prefix=" " category="inline-code"></block>目錄：</block>
  <block id="e2f12f24108169a5ab9aa9923f95a468" category="list-text">將下列行新增至<block ref="f0f9c4057b7322a99704208706a05ba7" prefix=" " category="inline-code"></block>主目錄中的檔案：</block>
  <block id="8eea62084ca7e541d918e823422bd82e" category="paragraph-title">結果</block>
  <block id="e984343e441956b7136d09919877b5ab" category="open-title">使用 CR 建立支援服務組合</block>
  <block id="dd942fa25b8e28c96c8d05e37b0f157e" category="list-text">建立自訂資源（ CR ）檔案並命名（例如<block ref="699c503b46d4ca3ec78905dff3704cac" prefix=" " category="inline-code"></block>）。</block>
  <block id="18924d9e76d2dc9a88bddb772904461d" category="list-text">設定下列屬性：</block>
  <block id="3dbbdf39618ebec771728a10e75c52f9" category="list-text">* metadata.name*: （ _required ）此自訂資源的名稱；為您的環境選擇唯一且合理的名稱。</block>
  <block id="1d18312b2c5bd000f0693d25f38bddc9" category="list-text">*spec.triggerType* ：（ _required _ ）決定是立即產生支援套件，還是排程產生。排定的套件產生時間為上午 12 點， UTC 。可能值：</block>
  <block id="2b7dabba0077abe3732e0418b048a56b" category="list-text">已排程</block>
  <block id="e1ba155a9f2e8c3be94020eef32a0301" category="list-text">手冊</block>
  <block id="b541a1c308699e3b9e58d7a1aa6d3ad6" category="list-text">*SPEC.uploadEnabled* ：（ _Optional_ ）控制是否應在支援服務組合產生後，將其上傳至 NetApp 支援網站。如果未指定，則默認爲<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>。可能值：</block>
  <block id="e836d7c4f6371da7534f60641286999b" category="list-text">否（預設）</block>
  <block id="fa3e867f8599e4541ced8b0ced5b2cf1" category="list-text">*spec.daWindowStart* ：（ _Optional_ ） RFC 3339 格式的日期字串，指定支援套件中所包含資料的視窗應開始的日期與時間。如果未指定，則預設為 24 小時前。您可以指定的最早時間是 7 天前。</block>
  <block id="139f344cca23a89c521bc7cc6c7100b8" category="paragraph">YAML 範例：</block>
  <block id="b69675775a82aaa1e3307ebbe6a45fc0" category="open-title">使用 CLI 建立支援服務包</block>
  <block id="2294988013d14e5c254422b8164d83ad" category="list-text">建立支援服務組合，以環境資訊取代括號中的值。<block ref="769627afa23a2b90f925b1091e474dc5" prefix=" " category="inline-code"></block>決定套件是立即建立，還是建立時間取決於排程，可以是<block ref="e1ba155a9f2e8c3be94020eef32a0301" prefix=" " category="inline-code"></block>或<block ref="2b7dabba0077abe3732e0418b048a56b" prefix=" " category="inline-code"></block>。預設設定為<block ref="e1ba155a9f2e8c3be94020eef32a0301" prefix=" " category="inline-code"></block>。</block>
  <block id="dfb8cfd789dde682f000a96e0aabb1f1" category="list-text">將下列影像拉到您的本機電腦，更新標記，然後將它們推送到您的私人登錄：</block>
  <block id="e0f6b701766eb28d805d7ba1e820f582" category="list-text">登入登錄：</block>
  <block id="814565bb5d7e7359fff967986fd4195a" category="list-text">建立用於私人登錄驗證的拉出密碼：</block>
  <block id="80b940e5c68d020c06f9dc2f188d2169" category="doc">定義管理應用程式</block>
  <block id="58bd941b0268654136e17a3f6361fa75" category="section-title">建立 AppVault CR</block>
  <block id="f5ddee36f3439fbf6875de509925b804" category="inline-link-macro">AppVault 自訂資源。</block>
  <block id="7eb786201a1068df31c2a8d7805c50bf" category="open-title">使用 CR 新增應用程式</block>
  <block id="b4b10aa7102ef4de9ba1d5672445c895" category="list-text">建立目的地應用程式 CR 檔案：</block>
  <block id="0f14679ea6b53d676a4e19300d32937e" category="list-text">建立自訂資源（ CR ）檔案並命名（例如<block ref="6e1c6964e1bb7e391ff353b09e122d80" prefix=" " category="inline-code"></block>）。</block>
  <block id="3b96edf2a12486fc5d9dfaf7e692cdfc" category="list-text">* metadata.name*: （ _required ）應用程式自訂資源的名稱。請注意您選擇的名稱，因為保護作業所需的其他 CR 檔案都會參照此值。</block>
  <block id="edb32c41feaaffb2d7ff10dac9d80312" category="open-title">使用 CLI 新增應用程式</block>
  <block id="0ef657dffb550796349fff7260ee7b1f" category="summary">您可以將備份或快照資料還原至不同的叢集或儲存類別</block>
  <block id="5d23a9c0c55a80ece74daa65c04f1d66" category="doc">移轉應用程式</block>
  <block id="85ff05ce333a3cc83e4b1bece0b1a885" category="admonition">當您移轉應用程式時，為應用程式設定的所有執行掛鉤都會隨應用程式一起移轉。如果存在還原後執行掛鉤，則會在還原作業中自動執行。</block>
  <block id="dea2f94d534ebdd522c0137cd11f63bf" category="section-title">備份與還原作業</block>
  <block id="b21f1727ed04fb70c8e47cb11cdfb2bb" category="paragraph">若要針對下列案例執行備份與還原作業，您可以自動化特定的備份與還原工作。</block>
  <block id="a9764be0f1589c38e0a7df19889c7d63" category="section-title">複製到同一個叢集</block>
  <block id="5a9889aaf704b3737fe054ecabd850fc" category="paragraph">若要將應用程式複製到同一個叢集，請建立快照或備份，然後將資料還原到同一個叢集。</block>
  <block id="365d382b2d9ecca9b0d40171c69b38ff" category="list-text">執行下列其中一項：</block>
  <block id="af9c364e0933200b7b8c1e7e13947ccf" category="inline-link-macro">建立快照</block>
  <block id="a73aa64574ccfae0cf05d9da96bd1301" category="list-text"><block ref="e078308a27dcac975eec5d2adaa1104c" category="inline-link-macro-rx"></block>。</block>
  <block id="f99b69945a176ffbedac86a22cf6c413" category="inline-link-macro">建立備份</block>
  <block id="d0b37af201761eb2698b45f7c3f6d0d8" category="list-text"><block ref="7d9cd4227c8376552577f7b664ce81bb" category="inline-link-macro-rx"></block>。</block>
  <block id="cf36005406fb9e7864efedea0a35a8a0" category="list-text">在同一個叢集上，視您建立的是快照或備份而定，請執行下列其中一項：</block>
  <block id="2d173330624878d1a02dc399b82aa10b" category="inline-link-macro">從快照還原資料</block>
  <block id="00b559822f9df33b751ce11389fb7c7a" category="list-text"><block ref="137b81ae6c60df62029e75ad69c6bacd" category="inline-link-macro-rx"></block>。</block>
  <block id="1c7b9a68982aa2ad5f1d69eeb5bdf99e" category="inline-link-macro">從備份還原資料</block>
  <block id="e27031b9d0bffffcf2abd2136eed21f5" category="list-text"><block ref="71bc4096317f8eb78a9951851bc1165b" category="inline-link-macro-rx"></block>。</block>
  <block id="403ecb1db6fa0f1bb20e787bb5f5dacd" category="section-title">複製到不同叢集</block>
  <block id="181aa092ab965b34bcee90e25056f876" category="section-title">將應用程式從一個儲存類別移轉至另一個儲存類別</block>
  <block id="f1ad7bca566917ee78958caa78fab3f5" category="paragraph">例如（從還原 CR 中排除機密）：</block>
  <block id="daf2d2aebeca09dea5ece5c9c1513383" category="open-title">使用 CR 還原快照</block>
  <block id="a35b06511e032bee46bbed064afa12dc" category="list-text">建立自訂資源（ CR ）檔案並命名為<block ref="fac6dff7f801a4983f4a536dbcbd40d7" prefix=" " category="inline-code"></block>。</block>
  <block id="3585700696abe40ccc0973202ddace0a" category="list-text">在您建立的檔案中，設定下列屬性：</block>
  <block id="ac6cdb13ccdd5d0ac3195b3301db572c" category="list-text">*spec.appArchivePath* ：在 AppVault 中儲存快照內容的路徑。您可以使用下列命令來尋找此路徑：</block>
  <block id="d2e7f59eea5f95f37b023a243745727d" category="list-text">*spec.appVaultRef* ：（ _required _ ）儲存快照內容的 AppVault 名稱。</block>
  <block id="33dc1feba43183f93ade318576611f4a" category="list-text">*spec.namespaceMapping*: 將還原作業的來源命名空間對應至目的地命名空間。以環境中的資訊取代<block ref="a6f7f0a873c27a67ee3194949076866b" prefix=" " category="inline-code"></block>和<block ref="2cfb071d6be7d4cf9e297100f62858fe" prefix=" " category="inline-code"></block>。</block>
  <block id="12ed8140e585382bd7caee15c2ebb002" category="list-text">或者，如果您只需要選取要還原的應用程式特定資源，請新增篩選功能，以包含或排除標記有特定標籤的資源：</block>
  <block id="15212a55e2108abef019ef0de4a2d413" category="list-text">*resourceFilter.resourceSelectionCriteria ：（篩選所需）用於<block ref="0daf9ee05d33b85e4cfc7be473c64e9b" prefix=" " category="inline-code"></block>包含或排除在 resourceMatchers 中定義的資源。新增下列資源配置工具參數、以定義要納入或排除的資源：</block>
  <block id="d9348d075dc7b3c91cff99d56dfc327b" category="inline-link">Kubernetes文件</block>
  <block id="bca1b1b2b1a229dc37dffa4f7012c02d" category="list-text">在您以正確的值填入檔案之後<block ref="fac6dff7f801a4983f4a536dbcbd40d7" prefix=" " category="inline-code"></block> 、請套用 CR ：</block>
  <block id="ffe607ccb2c74bd77fcfcd7f0ff7691e" category="open-title">使用 CLI 還原快照</block>
  <block id="a77b4ff586cfbf08c54732a1ced52e4f" category="list-text">將快照還原至不同的命名空間，以環境中的資訊取代方括號中的值。</block>
  <block id="4f7a601ab79eb07bd8f0460d0e4ebccf" category="list-text"><block ref="c322d3de29d2b0c5e2e011dad5e77df2" prefix=" " category="inline-code"></block>引數使用格式的命名空間和快照名稱<block ref="7310980de32cd5ca687291f4b01b2e19" prefix=" " category="inline-code"></block>。</block>
  <block id="9a3152a9bfe0e487c80e9e42ee22e9f0" category="list-text">此<block ref="65e11896cb6b19f7dcb2432e67c74725" prefix=" " category="inline-code"></block>引數使用以冒號分隔的命名空間，以格式將來源命名空間對應至正確的目的地命名空間<block ref="07c70c21dcae158a4b2f0d389a52981b" prefix=" " category="inline-code"></block>。</block>
  <block id="3909674c7e76459d193fe9c27f127cbf" category="summary">使用自動保護原則或以臨機操作的方式、擷取快照與備份資料、以保護所有應用程式。</block>
  <block id="ca73b42f56baa81e1c83e31ee5c53d42" category="doc">保護應用程式</block>
  <block id="2530ad97c013f5d8d9c69004a4e7ee67" category="section-title">建立隨需快照</block>
  <block id="9bbdcd6083ca1f29424ab7d4e6e6d3f5" category="paragraph">您可以隨時建立隨需快照。</block>
  <block id="ca5d8da21766c0b74083bb89d9b98f19" category="open-title">使用 CR 建立快照</block>
  <block id="d3455b82ff23d66412cff307dea26e95" category="list-text">建立自訂資源（ CR ）檔案並命名為<block ref="30f7bac2bbe029d2d24e82f27526854c" prefix=" " category="inline-code"></block>。</block>
  <block id="14c5017706ef7ba38dbfced0b670f7e4" category="list-text">*SPEC.applicationRef* ：要快照的應用程式的 Kubernetes 名稱。</block>
  <block id="92c5bebe15e018e9b60ed9fa2a5d7736" category="list-text">*spec.appVaultRef* ：（ _required _ ）應儲存快照內容（中繼資料）的 AppVault 名稱。</block>
  <block id="a9860c462819471295facd0a13fc4275" category="list-text">*spec.relaimersPolicy* ：（ _Optional_ ）定義刪除快照 CR 時，應用程式歸檔會發生什麼情況。這表示即使設定為，快照也<block ref="afece4245269582cb2f1009d4fb52047" prefix=" " category="inline-code"></block>會被刪除。有效選項：</block>
  <block id="ff5ca6a0665c8d286d507fe36b867e1c" category="list-text"><block ref="afece4245269582cb2f1009d4fb52047" prefix="" category="inline-code"></block> （預設）</block>
  <block id="c009f85498c5a7a2db78e1874e6dd4b1" category="list-text"><block ref="f2a6c498fb90ee345d997f888fce3b18" prefix="" category="inline-code"></block></block>
  <block id="e405f936b8c322965ea5098c0dbead5e" category="list-text">在您以正確的值填入檔案之後<block ref="30f7bac2bbe029d2d24e82f27526854c" prefix=" " category="inline-code"></block> 、請套用 CR ：</block>
  <block id="70e7d17c41da1ec8002b8b8735b5d0b2" category="open-title">使用 CLI 建立快照</block>
  <block id="210011bd2b9ec4d5301f86e4a42cd17a" category="list-text">建立快照，以您環境的資訊取代方括號中的值。例如：</block>
  <block id="6c4e6d5940a93fcf9cfb1c5d53280da3" category="section-title">建立隨選備份</block>
  <block id="f874973a64b67b3f5a5bb3aa28c5ed12" category="paragraph">您可以隨時備份應用程式。</block>
  <block id="e0babda055ca7a962e4010e772393eb7" category="open-title">使用 CR 建立備份</block>
  <block id="adfd482111138eb2dfed01cdbaf4bead" category="list-text">建立自訂資源（ CR ）檔案並命名為<block ref="a130741c8dff3b771a616715e2390607" prefix=" " category="inline-code"></block>。</block>
  <block id="888ea90f9844794ae90f13cbee8b341f" category="list-text">*SPEC.applicationRef* ：（ _required _ ）要備份的應用程式 Kubernetes 名稱。</block>
  <block id="df4c9919e99b5b20e10644af2e6480e1" category="list-text">*spec.appVaultRef* ：（ _required _ ）應儲存備份內容的 AppVault 名稱。</block>
  <block id="2c5daece4baabe00a1e913f6f4248b54" category="list-text">*spec.dataMover * ：（ _Optional_ ）字串，指出備份作業所使用的備份工具。可能的值（區分大小寫）：</block>
  <block id="2baffe938961bfb9edd7d7ddfd52e2e1" category="list-text"><block ref="5f1c05bdfa0fa9da52e78fce65f0891a" prefix="" category="inline-code"></block></block>
  <block id="02c4383beef4fc06361dc4ef7bd9762a" category="list-text"><block ref="d112b025f416527f157666baac7d0ff7" prefix="" category="inline-code"></block> （預設）</block>
  <block id="5a848fb25ba88be36b674bded99badbd" category="list-text">*spec.reClaimPolicy* ：（ _Optional_ ）定義備份從宣告中釋出時會發生什麼情況。可能值：</block>
  <block id="e3cdcd12b4f53ac42049007406401d18" category="list-text">在您以正確的值填入檔案之後<block ref="a130741c8dff3b771a616715e2390607" prefix=" " category="inline-code"></block> 、請套用 CR ：</block>
  <block id="4dd48cffc8290e0b33e5c4ee6ddc6dbb" category="open-title">使用 CLI 建立備份</block>
  <block id="25ccf268b4f889fe28d3f3de94aace02" category="list-text">建立備份，以您環境的資訊取代括號中的值。例如：</block>
  <block id="451d39e79b7f4418d96b486e79bbce7d" category="section-title">建立資料保護排程</block>
  <block id="1f3ba9ee33f6eeade259b37d0a9d4295" category="open-title">使用 CR 建立排程</block>
  <block id="0e94d109e3c6dd8f63d25b03253b5d5b" category="list-text">建立自訂資源（ CR ）檔案並命名為<block ref="8b0c6e1f32e0c117335dedae62b11dba" prefix=" " category="inline-code"></block>。</block>
  <block id="fd3508664419c1ac5449e5dc6073188b" category="list-text">*SPEC.applicationRef* ：要備份之應用程式的 Kubernetes 名稱。</block>
  <block id="da9137c7fbfdc9b7f02e3ca8def0431d" category="list-text">* spec.granularity*: 執行排程的頻率。可能的值、以及必要的相關欄位：</block>
  <block id="1326c499c45cd471c6075891c6573130" category="list-text">在您以正確的值填入檔案之後<block ref="8b0c6e1f32e0c117335dedae62b11dba" prefix=" " category="inline-code"></block> 、請套用 CR ：</block>
  <block id="6bb2ab2bbc2b0f3f5faec961628f6f4b" category="open-title">使用 CLI 建立排程</block>
  <block id="95e2bfc6f531a05575927e45b0a34558" category="list-text">建立保護排程，以環境資訊取代方括號中的值。例如：</block>
  <block id="efb44cfe1d5b8d9954ea045385675c66" category="section-title">刪除快照</block>
  <block id="a37bf6328466dc531288498c6041de5f" category="paragraph">刪除不再需要的排程或隨需快照。</block>
  <block id="3eb928cdf7a13317d47b6aff6e1777bc" category="list-text">移除與快照相關的 Snapshot CR ：</block>
  <block id="cb2cecbd9776fc0c17c7929541fe9404" category="section-title">刪除備份</block>
  <block id="2072fc95a1bd08ae58a002d5b61a84d0" category="paragraph">刪除不再需要的排程或隨需備份。</block>
  <block id="7b30bbf41be45c1c70a68e6dd971d83a" category="list-text">移除與備份相關的備份 CR ：</block>
  <block id="b4907a30deb60cd2f8ea2856235ce4d7" category="section-title">檢查備份作業的狀態</block>
  <block id="b030755f5014f11eb86aee527d4ef872" category="paragraph">您可以使用命令列來檢查正在進行，已完成或已失敗的備份作業狀態。</block>
  <block id="83fe182363ccdea33046e538aec4ac23" category="list-text">使用下列命令可擷取備份作業的狀態，以環境中的資訊取代方括號中的值：</block>
  <block id="bdd3c7731ba2eae7059bfebd0d56c7e3" category="section-title">啟用 NetApp 檔案（ anf ）作業的備份與還原</block>
  <block id="a3ba5a3fd33b03f148e52fd833cda7c3" category="paragraph">請確認下列事項：</block>
  <block id="a9910fb38baec2aa849c3ea6191b1cf9" category="list-text">您已<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block> 選擇儲存後端的預設儲存類別。</block>
  <block id="579cc8ac85c74501fbfa1bac4d013c1f" category="example-title">展開以進行組態步驟</block>
  <block id="b1927eae954479de09c736cae4ed08dd" category="list-text">如果 anf Volume 是在升級至 Trident 24.10 之前建立的，請在 Trident 中執行下列動作：</block>
  <block id="119a6ab21356c173b517e4baf8ab21d3" category="list-text">針對每個以 NetApp 檔案為基礎且與應用程式相關的 PV ，啟用快照目錄：</block>
  <block id="9cb0a94d3b3051cae7cda63d4c5aa1d6" category="list-text">確認已為每個相關的 PV 啟用快照目錄：</block>
  <block id="54472d1da4b0c6eadf8684e846b25dcc" category="paragraph">回應：</block>
  <block id="480c9b5f979d1ce95ea2a58b09826d1b" category="list-text">Amazon Elastic Kubernetes Service （ EKS ）</block>
  <block id="974030a30a48754684d05541fd5e96c9" category="list-text">Google Kubernetes Engine（GKE）</block>
  <block id="f3bd1985b243e9691bbbd63c6702344b" category="list-text">Microsoft Azure Kubernetes服務（英文）</block>
  <block id="b175d08ac03101cd40f077848d436e1f" category="list-text">Red Hat OpenShift</block>
  <block id="6577b94f9943e513915919cfd0dc5909" category="list-text">SUSE Rancher</block>
  <block id="c395793804bd9dfa82ff727781faf3c5" category="list-text">VMware Tanzu產品組合</block>
  <block id="1de3a8db0dcc39abe68ae2b506a8f0ac" category="list-text">上游Kubernetes</block>
  <block id="ca3930511e1c5997e851e891e33190ab" category="list-text">ONTAP 儲存陣列</block>
  <block id="e254891423d193d0e614eaf948880de5" category="paragraph">確保您的儲存後端符合下列需求：</block>
  <block id="1efa9b79a24750278cc3058eaf2ead00" category="list-text">確保您擁有 NetApp ONTAP 儲存後端。</block>
  <block id="c9a524733ac9eb25fbf1980538b5437d" category="list-text">請確定您已設定物件儲存貯體以儲存備份。</block>
  <block id="f4ce5a5f08fdc6de51b81cc305a21fd0" category="section-title">NAS 經濟容量需求</block>
  <block id="43da051477acee60af3ad54451d3d090" category="paragraph">某些應用程式與使用 Snapshot 目錄的磁碟區不相容。對於這些應用程式，您需要在 ONTAP 儲存系統上執行下列命令，以隱藏快照目錄：</block>
  <block id="beb2d6f4cedfc5b87a39d1766369fade" category="paragraph">您可以針對每個 NAS 經濟型磁碟區執行下列命令，以您要變更的磁碟區 UUID 取代，來啟用 Snapshot 目錄<block ref="a86374477aa0b3d451812bb6ced0458d" prefix=" " category="inline-code"></block>：</block>
  <block id="70117c3862b4c793cc80799862e6fde9" category="admonition">您可以將 Trident 後端組態選項設定為，為<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>新的磁碟區預設啟用快照目錄<block ref="7ad68fdac2eac069eb8ed0fc45b0fb74" prefix=" " category="inline-code"></block>。現有的磁碟區不受影響。</block>
  <block id="3ab436334531996382ccf17d7d3a4d69" category="section-title">SnapMirror 複寫需求</block>
  <block id="00ae925249b1dcd734cdb679b48bf8f7" category="list-text">NetApp ONTAP Select</block>
  <block id="0f0b99ea2f70cd363c2c6a279f74e760" category="list-text">NetApp Cloud Volumes ONTAP</block>
  <block id="9f91d52d37c43ec162560596ac851ec9" category="section-title">SnapMirror 複寫的 ONTAP 叢集需求</block>
  <block id="6ed8f95cb1dcd3baff756120151793a9" category="paragraph">如果您打算使用 SnapMirror 複寫，請確保 ONTAP 叢集符合下列需求：</block>
  <block id="ba84728ffba482ceb12371a53be2f636" category="inline-link">SnapMirror授權概述ONTAP</block>
  <block id="b677eb65f7f869d18b845725a133a8d5" category="list-text">* 授權 * ：使用資料保護套件的 ONTAP SnapMirror 非同步授權必須同時在來源和目的地 ONTAP 叢集上啟用。如需詳細資訊、請參閱<block ref="a7b9425cefc4a3715b38951f4b2b6b35" category="inline-link-rx"></block> 。</block>
  <block id="ed097f5d093bf5311313c62bfb2f2d5a" category="section-title">SnapMirror 複寫的對等考量</block>
  <block id="a56ca0c4752a7197e296cb9141e9be9f" category="paragraph">如果您計畫使用儲存後端對等，請確保您的環境符合下列需求：</block>
  <block id="9fecd08b776fdfca7b33426363edf913" category="inline-link">叢集與SVM對等概觀</block>
  <block id="ddae31913091b421eaff815ed1e19b4f" category="list-text">* 叢集與 SVM* ：必須對 ONTAP 儲存設備的後端進行對等處理。如需詳細資訊、請參閱<block ref="36ecaf21e9ca81a83e736deb4ff5c657" category="inline-link-rx"></block> 。</block>
  <block id="94ac6b3955eab183cb88ab17c91000eb" category="admonition">確保兩個 ONTAP 叢集之間複寫關係中使用的 SVM 名稱是唯一的。</block>
  <block id="57fe82c052fea1c269ca2b14e92e80d3" category="section-title">用於 SnapMirror 複寫的 Trident / ONTAP 組態</block>
  <block id="ff29014f3961a30f52557df7142d1a65" category="doc">還原應用程式</block>
  <block id="f346d32ba5d9c332bf8577bf1bacda07" category="admonition">當您還原應用程式時，為應用程式設定的所有執行掛鉤都會隨應用程式一起還原。如果存在還原後執行掛鉤，則會在還原作業中自動執行。</block>
  <block id="a082effb2d23d4eb077129001a77582f" category="section-title">從備份還原至不同的命名空間</block>
  <block id="5a3a68cc2fb27d13057472b4869353f1" category="open-title">使用 CR</block>
  <block id="0334c5d881452d9144d4edf93d44ff85" category="list-text">建立自訂資源（ CR ）檔案並命名為<block ref="aa3356b96c40153ef83fe9854ede7a70" prefix=" " category="inline-code"></block>。</block>
  <block id="8ebefb3e84a05b2e3bf54824870d776d" category="list-text">*spec.appArchivePath* ：儲存備份內容的 AppVault 內部路徑。您可以使用下列命令來尋找此路徑：</block>
  <block id="3f1db1c30ba33e5d04499f000ed77f97" category="list-text">*spec.appVaultRef* ：（ _required _ ）儲存備份內容的 AppVault 名稱。</block>
  <block id="a5085953f7b15a312b4e12827abc66e5" category="list-text">（ _Optional_ ）如果您只需要選取應用程式的某些資源來還原，請新增篩選功能，以包含或排除標記有特定標籤的資源：</block>
  <block id="be16b6e14200639734fb9694e3c0f655" category="list-text">*resourceMatchers[].group* ：（ _Optional_ ）要篩選的資源群組。</block>
  <block id="2162d9f0c97d87c37f838ea27ecb393a" category="list-text">*resourceMatchers[].cher* ：（ _Optional_ ）要篩選的資源種類。</block>
  <block id="862dca1a77422225d13abda4b7bf539b" category="list-text">*resourceMatchers[].version* ：（ _Optional_ ）要篩選的資源版本。</block>
  <block id="f5d1dcaf86934b4541162f010db1d3e1" category="list-text">要篩選之資源的 Kubernetes metadata.name 欄位中的 * resourceMatchers[].names* ：（ _Optional_ ）名稱。</block>
  <block id="19c69b04e9f9adb29979cc0ff90625b2" category="list-text">要篩選之資源的 Kubernetes metadata.name 欄位中的 * resourceMatchers[].names* ：（ _Optional_ ）命名空間。</block>
  <block id="cb4354b08a6a88b3c12671390a85c520" category="list-text">資源的 Kubernetes metadata.name 欄位中的 *resourceMatchers[].labelSelectors * ：（ _Optional_ ） Label 選取器字串，如中所定義<block ref="d4ce3da8407a7d8e148bb1287288e778" category="inline-link-rx"></block>。例如<block ref="6ea45baf659f1f35e51c8dc9005eac03" prefix=" " category="inline-code"></block>：。</block>
  <block id="18ad656f28db1ef6b2d76d21959ca243" category="list-text">在您以正確的值填入檔案之後<block ref="aa3356b96c40153ef83fe9854ede7a70" prefix=" " category="inline-code"></block> 、請套用 CR ：</block>
  <block id="8a9e0f8224695e94f0988f444488877b" category="open-title">使用CLI</block>
  <block id="6a07207e8441bfa8c4c36dc925112780" category="list-text">將備份還原至不同的命名空間，以環境中的資訊取代括弧中的值。此<block ref="65e11896cb6b19f7dcb2432e67c74725" prefix=" " category="inline-code"></block>引數使用以冒號分隔的命名空間，以格式將來源命名空間對應至正確的目的地命名空間<block ref="07c70c21dcae158a4b2f0d389a52981b" prefix=" " category="inline-code"></block>。例如：</block>
  <block id="0bfcabe961e72fea535a073143d53fad" category="section-title">從備份還原至原始命名空間</block>
  <block id="7260bc412b6c22c2589f01098c1f4430" category="paragraph">您可以隨時將備份還原至原始命名空間。</block>
  <block id="34653be4af07bad31b9a3775f18b1b5f" category="list-text">建立自訂資源（ CR ）檔案並命名為<block ref="59a09233aaa2a2c9e25fc46650bd6dee" prefix=" " category="inline-code"></block>。</block>
  <block id="349d4c53fe9d2e740d60f7ce8094c294" category="list-text">在您以正確的值填入檔案之後<block ref="59a09233aaa2a2c9e25fc46650bd6dee" prefix=" " category="inline-code"></block> 、請套用 CR ：</block>
  <block id="11d13ce9542ccbfd1e47138c96b125a1" category="list-text">將備份還原至原始命名空間，以環境中的資訊取代括弧中的值。<block ref="402051f4be0cc3aad33bcf3ac3d6532b" prefix=" " category="inline-code"></block>引數使用的名稱空間和備份名稱格式為<block ref="7310980de32cd5ca687291f4b01b2e19" prefix=" " category="inline-code"></block>。例如：</block>
  <block id="db4c6bfd26488f4d6ab2ec6129b067d8" category="section-title">從快照還原至不同的命名空間</block>
  <block id="941a76112ae80457a7a22ae552218be9" category="section-title">從快照還原至原始命名空間</block>
  <block id="a392e5395f0751460dc460cd6ec5e89d" category="paragraph">您可以隨時將快照還原至原始命名空間。</block>
  <block id="4d18dba9a79fbe92e2bb99f0a9300df3" category="list-text">建立自訂資源（ CR ）檔案並命名為<block ref="620b0dae36dbe6aeaae5d993f961c634" prefix=" " category="inline-code"></block>。</block>
  <block id="54625166c25afd8a6a484aaf2f346fbb" category="list-text">在您以正確的值填入檔案之後<block ref="620b0dae36dbe6aeaae5d993f961c634" prefix=" " category="inline-code"></block> 、請套用 CR ：</block>
  <block id="6bd960f94c189d42fef14b770c0ac909" category="list-text">將快照還原至原始命名空間，以環境中的資訊取代方括號中的值。例如：</block>
  <block id="ba2718de6be08337811d049982d9f03f" category="section-title">檢查還原作業的狀態</block>
  <block id="97dedb929a195e839af5f7d7f8ef0ec5" category="paragraph">您可以使用命令列來檢查進行中，已完成或已失敗的還原作業狀態。</block>
  <block id="c076e91339c1f092aaad1d36a9c18a7a" category="list-text">使用下列命令可擷取還原作業的狀態，以環境中的資訊取代方括號中的值：</block>
  <block id="ccd62d676165e34c2e9c6d088c06e70f" category="paragraph">執行攔截是一種自訂動作、可設定搭配託管應用程式的資料保護作業一起執行。例如、如果您有資料庫應用程式、您可以使用執行掛勾來暫停快照之前的所有資料庫交易、並在快照完成後繼續交易。如此可確保應用程式一致的快照。</block>
  <block id="83fbf1604bedff410ea11872b40ab9f0" category="section-title">執行掛勾的類型</block>
  <block id="9c6a9cc04a4d5840a5d237b232190a35" category="list-text">快照前</block>
  <block id="65db6b15c7f05c97a1647c11699053e3" category="list-text">快照後</block>
  <block id="0a2055495a94f091655a2e4d421cffe2" category="list-text">預先備份</block>
  <block id="cf6e97e89c4b36c29252fcb7b0728d2f" category="list-text">備份後</block>
  <block id="349b93d2884e6ca3d41d0d9dab41dcd8" category="list-text">還原後</block>
  <block id="0952ad82f36d650828c9197bb777ee05" category="list-text">容錯移轉後</block>
  <block id="a9f57378169166a88acf61a71442e5fb" category="section-title">執行順序</block>
  <block id="e8132483e0cae3565c87c193b3fd8f57" category="paragraph">執行資料保護作業時、執行掛機事件會依照下列順序發生：</block>
  <block id="4a6ccf1757fd10978b3fb28d81187dcc" category="list-text">任何適用的自訂操作前執行掛勾都會在適當的容器上執行。您可以視需要建立及執行任意數量的自訂操作前掛勾、但在作業之前執行這些掛勾的順序既不保證也無法設定。</block>
  <block id="cfbed2286711be0cf6dbc12aba602709" category="list-text">執行資料保護作業。</block>
  <block id="9465fae733e0b5fdcd6e532ef8a78b08" category="list-text">任何適用的自訂操作後執行掛勾都會在適當的容器上執行。您可以視需要建立及執行任意數量的自訂後置作業掛勾、但在作業後執行這些掛勾的順序並不保證也無法設定。</block>
  <block id="a4ce4f522b635b3063f4af5d138933cc" category="paragraph">如果您建立同一類型的多個執行掛勾（例如預先快照）、則無法保證這些掛勾的執行順序。不過、不同類型的掛勾的執行順序也有保證。例如，以下是具有所有不同類型勾點的組態執行順序：</block>
  <block id="25fcbdcc7c9fb7d2e1db9e64ef06804c" category="list-text">執行快照前掛勾</block>
  <block id="f098e888afa8ccb3f1ad3337c3b6eea1" category="list-text">快照後掛勾已執行</block>
  <block id="59b50be8e9e2ed1b0e1bccae54c76036" category="list-text">執行備份前掛勾</block>
  <block id="1f374d287bf615eef6eb9afd92b862f2" category="list-text">執行備份後掛勾</block>
  <block id="e807d528474129e76f18c5ce17a2c3d6" category="admonition">上述順序範例僅適用於執行不使用現有快照的備份時。</block>
  <block id="b74efcc6eafe1d8dec6ade34cfa13365" category="admonition">在正式作業環境中啟用執行攔截指令碼之前、請務必先進行測試。您可以使用'kubecl exec'命令來方便地測試指令碼。在正式作業環境中啟用執行掛勾之後、請測試所產生的快照和備份、以確保它們一致。您可以將應用程式複製到暫用命名空間、還原快照或備份、然後測試應用程式、藉此完成此作業。</block>
  <block id="f99748fb4b1cf592516b60937743c52d" category="section-title">關於自訂執行掛勾的重要注意事項</block>
  <block id="6b8e88c5f4231fbc6994f3a29dd893af" category="paragraph">規劃應用程式的執行掛勾時、請考量下列事項。</block>
  <block id="c9333604c0c05d7727ea70ec5f1b806b" category="list-text">執行攔截必須使用指令碼來執行動作。許多執行掛勾可以參照相同的指令碼。</block>
  <block id="6a7d60379bb9015c0bfe02adcc54d0b5" category="list-text">指令碼大小上限為96KB。</block>
  <block id="6b988caf78b1aa60f0402c611a1c8e2a" category="admonition">由於執行掛勾通常會減少或完全停用執行中應用程式的功能、因此您應該一律盡量縮短自訂執行掛勾執行所需的時間。如果您以相關的執行掛勾開始備份或快照作業、但隨後取消它、則如果備份或快照作業已經開始、仍允許掛勾執行。這表示備份後執行掛勾中使用的邏輯無法假設備份已完成。</block>
  <block id="99dc882fc0f61d1db87631ed9f156913" category="section-title">執行攔截篩選器</block>
  <block id="44db75fbdb91be494665aebf40107fcf" category="paragraph">當您新增或編輯應用程式的執行掛鉤時，您可以將篩選器新增至執行掛鉤，以管理掛鉤將符合的容器。篩選器對於在所有容器上使用相同容器映像的應用程式來說非常實用、但可能會將每個映像用於不同的用途（例如Elasticsearch）。篩選器可讓您建立執行攔截器在某些容器上執行的案例、但不一定所有容器都相同。如果您為單一執行掛勾建立多個篩選器、這些篩選器會與邏輯和運算子結合使用。每個執行掛機最多可有10個作用中篩選器。</block>
  <block id="7caae75448dbc59fcadd621099e170b3" category="inline-link">規則運算式2（RE2）語法支援</block>
  <block id="4c004df391027b81952b788a3802e37c" category="admonition">如果您將命名空間篩選器新增至執行掛勾、而執行還原或複製作業之後執行、且還原或複製來源與目的地位於不同的命名空間、則命名空間篩選器只會套用至目的地命名空間。</block>
  <block id="f1ec6389b6d19d3be02f29f4a7d29051" category="section-title">執行攔截範例</block>
  <block id="0370124d48bfc5af2def19c48f433283" category="inline-link">NetApp Verda GitHub專案</block>
  <block id="a59e4fa5cc01a3a4bdebbff4cec60b47" category="paragraph">請造訪<block ref="84d9961ef5a89731849bc2055780d0b6" category="inline-link-rx"></block> 下載熱門應用程式（例如 Apache Cassandra 和 Elasticsearch ）的實際執行連結。您也可以查看範例、瞭解如何建構您自己的自訂執行掛勾。</block>
  <block id="b103709bb8bab06f6db02c661d88466a" category="section-title">建立執行掛鉤</block>
  <block id="e39c63d5ded2742e4215d5e339fa729e" category="list-text">建立自訂資源（ CR ）檔案並命名為<block ref="ce6abb389eaae6953714e27f1dfde579" prefix=" " category="inline-code"></block>。</block>
  <block id="500ef917ae8cc36e9c85a2c0bc7d9337" category="list-text">*SPEC.applicationRef* ：（ _required _ ）要執行執行攔截的應用程式 Kubernetes 名稱。</block>
  <block id="5422fe7ebd8e2354557341f5b0c60905" category="list-text">*spec.Stage * ：（ _required _ ）一個字串，指出執行掛鉤應在動作期間執行的階段。可能值：</block>
  <block id="fb55a965b77791b31ffd2bb548f71080" category="list-text">準備</block>
  <block id="03d947a2158373c3b9d74325850cb8b9" category="list-text">貼文</block>
  <block id="e60e3d87a1e5f522bbc8419b61b46a94" category="list-text">*spec.ACTION* ：（ _required _ ）字串，表示執行攔截將採取的行動，前提是指定的任何執行攔截篩選條件都已相符。可能值：</block>
  <block id="3500ba09d0538297440ca620c9dd46bf" category="list-text">備份</block>
  <block id="2bd339d85ee3b33e513359ce781b60cc" category="list-text">還原</block>
  <block id="7388404ef116c3ff812bfd290b094d9e" category="list-text">容錯移轉</block>
  <block id="216715348d2815376ef6d68d1ae8d3a1" category="list-text">*spec.enabled* ：（ _Optional_ ）表示此執行掛鉤是否已啟用或停用。如果未指定，則預設值為 true 。</block>
  <block id="aa6776e9151e1848128d771057fdb5d1" category="list-text">*spec.hookSource* ：（ _required _ ）包含 base64 編碼 hook 指令碼的字串。</block>
  <block id="c2f4f9c36d367244147c02191649b33e" category="list-text">*spec.timeout* ：（ _Optional_ ）一個數字，定義允許執行掛鉤執行的時間（以分鐘為單位）。最小值為 1 分鐘，如果未指定，預設值為 25 分鐘。</block>
  <block id="327ca4bc755c7de7ac0d335364730679" category="list-text">*spec.arguments* ：（ _Optional_ ） YAML 引數清單，您可以為執行攔截器指定。</block>
  <block id="bf30a4b48b4b2636f15eacfc7159af33" category="list-text">*spec.mmatchingCriteria ：（ _Optional_ ）選擇性的條件金鑰值配對清單，每個配對組成執行掛機篩選器。每個執行掛鉤最多可新增 10 個篩選器。</block>
  <block id="9092d99fcac84905883e4e76cd55bfab" category="list-text">*spec.matchingCriteria.type* ：（ _Optional_ ）識別執行掛鉤篩選器類型的字串。可能值：</block>
  <block id="820b7ec56ed75f6138f5ddc10aec4747" category="list-text">ContainerImage</block>
  <block id="3d52068b047d2a094a1af32cb2e338d6" category="list-text">ContainerName</block>
  <block id="8fd1f588fe68392265ea3a8149ce05a3" category="list-text">PodName</block>
  <block id="d76694b319ab8227266d15f77f5f7aec" category="list-text">PodLabel</block>
  <block id="d84562295e02e89c17de04ba750d4c35" category="list-text">NamespaceName</block>
  <block id="011b50d44a6bb217bbe310071e727641" category="list-text">*spec.matchingCriteria.value* ：（ _Optional_ ）識別執行掛鉤篩選值的字串或規則運算式。</block>
  <block id="5b34802949c91e91f2c85f8ee1c129bd" category="list-text">在您以正確的值填入 CR 檔案之後，請套用 CR ：</block>
  <block id="de72143da28c8cafc0b906859f6e6d05" category="list-text">建立執行掛鉤，以環境資訊取代方括號中的值。例如：</block>
  <block id="73ff2f0e4c750901167edccad459407d" category="doc">使用 NetApp SnapMirror 複寫應用程式</block>
  <block id="40322a2a338856f04751d8d3bdb62496" category="section-title">設定複寫關係</block>
  <block id="f7c69ddccabddb0b74276d3c2a3086e0" category="paragraph">設定複寫關係涉及下列事項：</block>
  <block id="cc37bc9830a1edb8e50e296af8ade03b" category="list-text">選擇複寫排程（包括 Kubernetes 資源及持續磁碟區資料）</block>
  <block id="55960a396448d8f19fb182dfd2b04d90" category="list-text">設定拍攝快照的時間</block>
  <block id="7fe804bb721f10861ae38239b332f774" category="inline-link-macro">AppVault 自訂資源</block>
  <block id="bb557baccf285d1ab6b4cdc32daf5848" category="open-title">使用 CR 建立 AppVault</block>
  <block id="32429298e62d70d6afc71defdbdd3c42" category="list-text">建立自訂資源（ CR ）檔案並命名（例如<block ref="0992b18d0f3771479838d4ddbaa2b097" prefix=" " category="inline-code"></block>）。</block>
  <block id="4b60a832776a25dfdf74d5dac3d3111f" category="list-text">* metadata.name*: （ _required ） AppVault 自訂資源的名稱。請記下您選擇的名稱，因為複寫關係所需的其他 CR 檔案會參照此值。</block>
  <block id="2e65eb784535a1ecc4b75ea18e2863a6" category="list-text">* spec.providerConfig*: （ _required ）儲存使用指定供應商存取 AppVault 所需的組態。請為您的供應商選擇一個「鎖釦名稱」和任何其他必要的詳細資料。請記下您選擇的值，因為複寫關係所需的其他 CR 檔案會參照這些值。如需 AppVault CRS 與其他供應商的範例，請參閱<block ref="789b31b0a5cabea5de04107e65439f53" category="inline-link-macro-rx"></block>。</block>
  <block id="655a22501c6f6d02821989a81036e65e" category="list-text">* spec.providerCredentials*: （ _required _ ）會儲存使用指定提供者存取 AppVault 所需之任何認證的參考資料。</block>
  <block id="cb95e87ea13fe367aee43a64591dc23f" category="list-text">* spec.providerCredentials.valueFromSecret*: （ _required _ ）表示認證值應來自機密。</block>
  <block id="553f77a87c1f7385701bd0df77669571" category="list-text">*key* ：（ _required _ ）要從中選擇的密碼的有效金鑰。</block>
  <block id="cf3ae025f91646ac07aa5641d4e510cb" category="list-text">* 名稱 * ：（ _ 必要 _ ）包含此欄位值的機密名稱。必須位於相同的命名空間中。</block>
  <block id="0e022225fc6e6c1b2028f3a32bcc9dbc" category="list-text">* spec.providerCredentials.secretAccessKey*: （ _required _ ）存取提供者所用的存取金鑰。* 名稱 * 應與 * spec.providerCredentials.valueFromSecret.name* 相符。</block>
  <block id="3830f9aa0973251f5c2658ea2e742ee5" category="list-text">* spec.providerType*: （ _required _ ）決定提供備份的內容，例如 NetApp ONTAP S3 ，一般 S3 ， Google Cloud 或 Microsoft Azure 。可能值：</block>
  <block id="ac68bbf921d953d1cfab916cb6120864" category="list-text">AWS</block>
  <block id="03034eb1f294ef4f7a106ae02a31ae45" category="list-text">generic-S3</block>
  <block id="a4d3001255c12ffd187d9548a2c800aa" category="list-text">ONTAP S3</block>
  <block id="da8c660bc44b572ae5fc3157a93282cb" category="list-text">StorageGRID S3</block>
  <block id="8af3a24bfad8f2e7a06abec1e5bc710e" category="list-text">在您以正確的值填入檔案之後<block ref="0992b18d0f3771479838d4ddbaa2b097" prefix=" " category="inline-code"></block> 、請套用 CR ：</block>
  <block id="65b1402ebaf9b35766ab033225a55f41" category="open-title">使用 CLI 建立 AppVault</block>
  <block id="d686d91628b89b1ba45ca8bf5274eece" category="list-text">建立 AppVault ，以環境資訊取代方括號中的值：</block>
  <block id="93b7f025ad50fefb3f6b0c5ee86d6162" category="open-title">使用 CR 建立來源應用程式</block>
  <block id="793bc477cba966a8d3771d018030c3c4" category="list-text">建立自訂資源（ CR ）檔案並命名（例如<block ref="3e2c6ff026eba99761434b4f79aaa782" prefix=" " category="inline-code"></block>）。</block>
  <block id="3bf6684ac69fda7ed549f87ecb72678d" category="list-text">* metadata.name*: （ _required ）應用程式自訂資源的名稱。請記下您選擇的名稱，因為複寫關係所需的其他 CR 檔案會參照此值。</block>
  <block id="969353c1601d960362b65e2372b29251" category="list-text">* spec.includedNamespaces*: （ _required ）一組命名空間和相關標籤。使用命名空間名稱，並選擇性地使用標籤來縮小命名空間的範圍，以指定此處列出的命名空間中存在的資源。應用程式命名空間必須是此陣列的一部分。</block>
  <block id="7a4e65ca72b4d8d16a9df08725a64df9" category="paragraph">* YAML* 範例：</block>
  <block id="948be8a05d305f0b3dece0e8dcaf4546" category="list-text">在您以正確的值填入檔案之後<block ref="3e2c6ff026eba99761434b4f79aaa782" prefix=" " category="inline-code"></block> 、請套用 CR ：</block>
  <block id="677aa747b5e08444532c7cc040384124" category="open-title">使用 CLI 建立來源應用程式</block>
  <block id="feaddb5b204f8f8f1226cc6f02275f5c" category="list-text">建立來源應用程式。例如：</block>
  <block id="929d5ad53cad5d51ead7578004e2d5e5" category="list-text">建立來源應用程式的複寫排程：</block>
  <block id="57cc31c4785dfe52bb22cc8d375a3b67" category="list-text">建立自訂資源（ CR ）檔案並命名（例如<block ref="8898becea7c9a79dd32acb9c34818b46" prefix=" " category="inline-code"></block>）。</block>
  <block id="87918fdbe5607aeceec3ec53bc40a2f8" category="list-text">* metadata.name*: （ _required ）排程自訂資源的名稱。</block>
  <block id="3e23380d121194d4ed43d5587e33eeba" category="list-text">*spec.AppVaultRef* ：（ _required _ ）此值必須符合來源應用程式的 AppVault metadata.name 欄位。</block>
  <block id="565c53b27f6972afc514c3431a7fb733" category="list-text">*spec.backupRetention * ：（ _required _ ）此欄位為必填欄位，且值必須設為 0 。</block>
  <block id="e00228f2eaa851d908b74fd6e1cbb1ab" category="list-text">*spec.enabled* ：必須設置爲 true 。</block>
  <block id="b8e08f9f53492c0cf7c4c918c8c27185" category="list-text">* spec.granularity*: 必須設定為<block ref="90589c47f06eb971d548591f23c285af" prefix=" " category="inline-code"></block>。</block>
  <block id="8c33ed4b89c2cd001ffad0203fe3c3b6" category="list-text">*spec.recurrenceRule* ：以 UTC 時間和循環時間間隔定義開始日期。</block>
  <block id="35ef995e5b9fe2ba99491ff849d63302" category="list-text">*spec.snapshotRetention * ：必須設定為 2 。</block>
  <block id="7c6d1c687b69c90909ec8375ac84883e" category="list-text">在您以正確的值填入檔案之後<block ref="8898becea7c9a79dd32acb9c34818b46" prefix=" " category="inline-code"></block> 、請套用 CR ：</block>
  <block id="04a53b4d2f7e20d9df207bfb6beb6ee7" category="list-text">套用 CR ：</block>
  <block id="d5ab09bc69c7800783bce2e14f2e456f" category="list-text">建立自訂資源（ CR ）檔案並命名（例如<block ref="b851e4210e3875aa9242df636b0b3068" prefix=" " category="inline-code"></block>）。</block>
  <block id="7fab67e3c762a0a044dd84f11a740dd7" category="list-text">* spec.providerConfig*: （ _required ）儲存使用指定供應商存取 AppVault 所需的組態。請為您的供應商選擇<block ref="070a97dcde31faecac1fc843e205039c" prefix=" " category="inline-code"></block>和任何其他必要詳細資料。請記下您選擇的值，因為複寫關係所需的其他 CR 檔案會參照這些值。如需 AppVault CRS 與其他供應商的範例，請參閱<block ref="789b31b0a5cabea5de04107e65439f53" category="inline-link-macro-rx"></block>。</block>
  <block id="4758f7c104e1f75364dadc9f8310e51d" category="list-text">在您以正確的值填入檔案之後<block ref="b851e4210e3875aa9242df636b0b3068" prefix=" " category="inline-code"></block> 、請套用 CR ：</block>
  <block id="15e5c4ea8565e669f02393ab1d7b1021" category="open-title">使用 CR 建立 AppMirrorRelationship</block>
  <block id="3ca407ea70946200511f8d2e1008f20f" category="list-text">建立自訂資源（ CR ）檔案並命名（例如<block ref="e4fba3915616865173fe7feee130a30f" prefix=" " category="inline-code"></block>）。</block>
  <block id="52e868ab750f66344086c9bc5d6dadeb" category="list-text">* metadata.name:* （必要） AppMirrorRelationship 自訂資源的名稱。</block>
  <block id="d9ee8f59f7e4a770213d4728b012fa38" category="list-text">* spec.destinationAppVaultRef*: （ _required _ ）此值必須符合目的地叢集上目的地應用程式的 AppVault 名稱。</block>
  <block id="ad47c31cec730ddef75893f6207a8350" category="list-text">* spec.namespaceMapping*: （ _required _ ）目的地和來源命名空間必須符合各自應用程式 CR 中定義的應用程式命名空間。</block>
  <block id="0d2f17f43053f85c97752c575bb2af3e" category="list-text">*spec.sourceAppVaultRef* ：（ _required _ ）此值必須符合來源應用程式的 AppVault 名稱。</block>
  <block id="5c0044cad9c27e4f4742c4a031edd6eb" category="list-text">*spec.sourceApplicationName* ：（ _required _ ）此值必須符合您在來源應用程式 CR 中定義的來源應用程式名稱。</block>
  <block id="e1e70c108ffb369c9c05ac65820562c3" category="list-text">在您以正確的值填入檔案之後<block ref="e4fba3915616865173fe7feee130a30f" prefix=" " category="inline-code"></block> 、請套用 CR ：</block>
  <block id="d4c94febe4f13411fa761de57ad6cce6" category="open-title">使用 CLI 建立 AppMirrorRelationship</block>
  <block id="86d47ead9019d8e9c93c863f7ab4e41b" category="list-text">（ _Optional_ ）檢查複寫關係的狀態和狀態：</block>
  <block id="70cc2bec279e168711b67e789468c45c" category="section-title">容錯移轉至目的地叢集</block>
  <block id="2d258c624d61d2388efacfc246d2439e" category="list-text">儲存 CR 檔案。</block>
  <block id="66ccf267a388b1a30a7530a93ea5ce18" category="list-text">（ _Optional_ ）在容錯移轉應用程式上建立所需的任何保護排程。</block>
  <block id="ea7117a895b98283737d3855ef6a2adc" category="section-title">重新同步容錯移轉複寫關係</block>
  <block id="c91dda18aff454993264381ffa25993f" category="paragraph">重新同步作業會重新建立複寫關係。執行重新同步作業後，原始來源應用程式即成為執行中的應用程式，而對目的地叢集上執行中的應用程式所做的任何變更都會被捨棄。</block>
  <block id="86e073f24d64b270ed8fd6bac00280eb" category="paragraph">此程序會在重新建立複寫之前，停止目的地叢集上的應用程式。</block>
  <block id="63a5fb6889ac843fec3c274399995a88" category="admonition">在容錯移轉期間寫入目的地應用程式的任何資料都會遺失。</block>
  <block id="c7e41946fafafcb541aaa5a67635b607" category="list-text">如果您在目的地叢集上建立任何保護排程來保護容錯移轉應用程式，請將其移除。任何仍會導致磁碟區快照失敗的排程。</block>
  <block id="6e81bcb9e218ada350c173457300a0ed" category="section-title">反轉重新同步容錯移轉複寫關係</block>
  <block id="b29e882c5e41f060c9261101cb1cab06" category="paragraph">當您反向重新同步容錯移轉複寫關係時，目的地應用程式會變成來源應用程式，來源會變成目的地。在容錯移轉期間對目的地應用程式所做的變更會保留下來。</block>
  <block id="3c890586eb43d0d71cdcb47011358420" category="list-text">套用原先用來設定與相對叢集關係的 CR 檔案，以設定複寫關係。</block>
  <block id="8a427fa57d96e74516c008754320b521" category="list-text">在相對的叢集上設定複寫關係，設定反轉方向的值。</block>
  <block id="792322eb4a0bf1a122100fc009041d9b" category="section-title">反轉應用程式複寫方向</block>
  <block id="4625c1e6ccf2351ad9a08dcee33270c8" category="paragraph">在這種情況下、您要交換來源和目的地。</block>
  <block id="4f902591d45de06985f0af6d869c8a04" category="open-title">使用 CR 建立關機快照</block>
  <block id="1f6c30c2bcecec90eda54cd7038f326b" category="list-text">停用來源應用程式的保護原則排程。</block>
  <block id="4a4cfa535eb9cd705b5999ffaa6a738b" category="list-text">建立 ShutdownSnapshot CR 檔案：</block>
  <block id="92391ecdad41a6b33b04771b3e5e20bf" category="list-text">建立自訂資源（ CR ）檔案並命名（例如<block ref="9bab8384d1fd26e8737f71771039462f" prefix=" " category="inline-code"></block>）。</block>
  <block id="1b38935a45d4eaf71098501cbdc191df" category="list-text">* metadata.name*: （ _required ）自訂資源的名稱。</block>
  <block id="54c1687e91064a6e4cdc35b9a2d411a8" category="list-text">*spec.ApplicationRef* ：（ _required _ ）此值必須符合來源應用程式 CR 檔案的 metadata.name 欄位。</block>
  <block id="4390dd9bb73a0c56ac3c54b54b1fe51a" category="list-text">在您以正確的值填入檔案之後<block ref="9bab8384d1fd26e8737f71771039462f" prefix=" " category="inline-code"></block> 、請套用 CR ：</block>
  <block id="f450395b52edc310f6e53fe1a9e24477" category="open-title">使用 CLI 建立關機快照</block>
  <block id="01eb7f0adf446989c265a6179909de7b" category="list-text">建立關機快照，以環境資訊取代方括號中的值。例如：</block>
  <block id="bdd0666b03fe73dd725c0376fdb435e0" category="admonition">在容錯移轉程序的步驟 2 中，將欄位包含在<block ref="60464bee8fcac84cb209df68a2b05fba" prefix=" " category="inline-code"></block> AppMirrorRelationship CR 檔案中，並將其值設為您在上述步驟 3 中記錄的基礎名稱。</block>
  <block id="ab486212bb19e45c8e71532739574a22" category="list-text">在新的來源叢集上啟用保護排程。</block>
  <block id="aea4fd534bd3152673956c6bbd7c115c" category="paragraph">由於反向複寫，因此會發生下列動作：</block>
  <block id="a23cf6af7e31f808d57bb74c992226c6" category="list-text">原始來源應用程式的 Kubernetes 資源會擷取快照。</block>
  <block id="08c383efd49395a644fa60036a0853a2" category="list-text">刪除應用程式的Kubernetes資源（保留PVCS和PVs）、即可順利停止原始來源應用程式的Pod。</block>
  <block id="0053c8b169583fc7b29e0dfbe82d59fd" category="list-text">當 Pod 關機之後、應用程式的磁碟區快照就會被擷取和複寫。</block>
  <block id="b1907879d61e1f061c433469dfb8ddcf" category="list-text">SnapMirror關係中斷、使目的地磁碟區準備好進行讀寫。</block>
  <block id="b6c3873d17157e3e4a0b1ef02b3cef69" category="list-text">應用程式的 Kubernetes 資源會從關機前快照還原、並使用原始來源應用程式關機後複寫的 Volume 資料。</block>
  <block id="3cecdf93ba8c40eb3b09b7a7f9985e1d" category="list-text">複寫會以相反方向重新建立。</block>
  <block id="827d6f4840be3ba668aa3eaee7c11d8d" category="section-title">將應用程式容錯移轉至原始來源叢集</block>
  <block id="3a045f0ae84563b460627f43bb272936" category="paragraph">此程序從已完成容錯移轉至目的地的關係開始、並涉及下列步驟：</block>
  <block id="9cbd7771b861e31b5edb23d83de4758c" category="list-text">從容錯移轉狀態開始。</block>
  <block id="39d2beed854377dcad2ea22fe9e58477" category="section-title">刪除複寫關係</block>
  <block id="a6c87e2b66308cd117a39af0fdac9885" category="paragraph">您可以隨時刪除複寫關係。當您刪除應用程式複寫關係時，會產生兩個獨立的應用程式，兩者之間沒有任何關係。</block>
  <block id="c4407b1cc5192fe600872654a5ffe223" category="list-text">為 Kubernetes 原生工作流程新增 Trident 功能：</block>
  <block id="7e7397a7b79323762c61941fc0e6b5f9" category="list-text">資料保護</block>
  <block id="5866b98c049a53ea6dc7f50f9349f434" category="list-text">資料移轉</block>
  <block id="645a84975202e30700b572b49a5ee29d" category="list-text">災難恢復</block>
  <block id="11d5920d0c0b3a97e764f84dc92ef110" category="list-text">應用程式行動力</block>
  <block id="487dc96e91d89134e7a216bab529a019" category="paragraph">從 24.10 版本開始、 Astra Trident 將改為 Trident （ NetApp Trident ）品牌。這項品牌重塑不會影響 Trident 的任何功能，支援的平台或互通性。</block>
  <block id="a2d3ef10e2d8aae09270e11f8faea2d2" category="sidebar">進階資料管理與保護</block>
  <block id="1ae067a03c56065918252f36c73024d1" category="sidebar">管理及保護應用程式</block>
  <block id="c198f49680a4c22b6d731cdd7d7b513a" category="paragraph">您可以使用<block ref="cd4140d3de30b520500459331d08d2bf" prefix=" " category="inline-code"></block>命令檢閱安裝詳細資料，例如名稱，命名空間，圖表，狀態，應用程式版本和修訂版編號。</block>
  <block id="d43d72969793ea80734b71e9c2406b2a" category="list-text">* 保留叢集上的附加軟體 * –此選項會移除 Amazon EKS 對任何設定的管理。它也會移除 Amazon EKS 通知您更新的功能、並在您啟動更新後自動更新 Amazon EKS 附加元件。不過、它會保留叢集上的附加軟體。此選項可讓附加元件成為自我管理的安裝、而非 Amazon EKS 附加元件。有了這個選項、附加元件就不會停機。保留<block ref="4b4ac0f998920a46fd2015e11d01d3e7" prefix=" " category="inline-code"></block> 命令中的選項以保留附加元件。</block>
  <block id="03f2a9d8b5b9f1a03bc58b91a939d84f" category="paragraph"><block ref="ad43edaec055586043c762c9475bde5c" category="inline-link-macro-rx"></block> 是 Google Cloud 中的完全託管檔案儲存服務，可提供高效能的企業級檔案儲存。</block>
  <block id="0ce84605b24873b2ee81987302d60089" category="paragraph"><block ref="bc468e9b0072cb6f1552f9bc0a3b6063" category="inline-link-rx"></block>是一種雲端原生檔案服務，可透過 NFS 提供 NAS 磁碟區，提供 All Flash 效能。此服務可讓任何工作負載（包括舊版應用程式）在GCP雲端上執行。它提供完整的託管服務、提供一致的高效能、即時複製、資料保護、以及安全存取Google Compute Engine（GCE）執行個體。</block>
  <block id="afb432a9cb893dca3218bf5ed8f124b6" category="section-title">步驟 6 ：授予對 AppVault 物件的存取權</block>
  <block id="518792e00e0ca0d711657c9051ae8b45" category="paragraph">若要執行資料管理工作，例如備份和快照，叢集管理員必須將 AppVault 物件的存取權授予個別使用者。</block>
  <block id="3ce2b0dd65dc314e4d0ccf4ed02db5a7" category="list-text">建立並套用 AppVault 和加密組合 YAML 檔案，以授予使用者存取 AppVault 的權限。例如，下列 CR 將 AppVault 的存取權授予使用者<block ref="6ca05da537cc3daa1ec22134c0b69946" prefix=" " category="inline-code"></block>：</block>
  <block id="f1c648202447b3667edef5439e1a8c5e" category="list-text">建立並套用角色 CR ，讓叢集管理員能夠授與對命名空間中特定資源的存取權。例如：</block>
  <block id="2ebacf7e8f38b367350c5c91618a6e79" category="list-text">建立並套用 RoleBinding CR ，將權限繫結至使用者 eng-user 。例如：</block>
  <block id="dc3d0a515ce0266cb00eb5cc06c4fe94" category="list-text">確認權限正確。</block>
  <block id="b5c9b7c142e23b0f885d64628ec267ff" category="list-text">嘗試擷取所有命名空間的 AppVault 物件資訊：</block>
  <block id="d0848afd8553c34945705222a97a4553" category="paragraph">您應該會看到類似下列的輸出：</block>
  <block id="07337191562a62a775a853d9901903a6" category="list-text">測試以查看使用者是否能取得他們現在有權存取的 AppVault 資訊：</block>
  <block id="e7165fc51f62031fcae1d793899febaa" category="paragraph">您已授予 AppVault 權限的使用者應該能夠使用授權的 AppVault 物件來執行應用程式資料管理作業，而且不應能夠存取指派命名空間以外的任何資源，或建立他們無法存取的新資源。</block>
  <block id="753f99fdafabdea1282917a0d7df52d4" category="list-text">執行中的反向重新同步步驟<block ref="07428cadd63a52910df8ba314efe2f56" category="inline-xref-macro-rx"></block>。</block>
  <block id="fe411ea35c29677771dcaad52985fc08" category="list-text">反向重新同步複寫關係。</block>
  <block id="eb10e971ec83f13f35beb8166ae8958b" category="admonition">請勿執行正常的重新同步作業，因為這會捨棄在容錯移轉程序期間寫入目的地叢集的資料。</block>
  <block id="de5da2c7cfd6c7eda31703be01d3513e" category="list-text">反轉複寫方向。</block>
  <block id="be41e0ea028981dcba35343dcbd34991" category="list-text">執行<block ref="07428cadd63a52910df8ba314efe2f56" category="inline-xref-macro-rx"></block>步驟。</block>
  <block id="e3f67484570d0b1b5736841718c5ab22" category="list-text">執行<block ref="80fca82e419d46692dbbc4fbbcd0c990" category="inline-xref-macro-rx"></block>步驟。</block>
  <block id="51d8fa0a5eb3f269bad2a2a47a660a2d" category="paragraph">您現在可以搭配 Trident 使用光纖通道（ FC ）傳輸協定，在 ONTAP 系統上配置及管理儲存資源。</block>
  <block id="822b1839c387749c78601eebc94c8d7d" category="paragraph">設定 FC 所需的網路和節點設定。</block>
  <block id="f508b22c8fc4486b19fee39d5ded3841" category="section-title">網路設定</block>
  <block id="16fdd92def5a71313d6535c74ef67b81" category="inline-link-macro">網路介面顯示</block>
  <block id="cc7e69899d736126df9787634ad41870" category="list-text">取得啟動器（主機）介面的 WWPN 。</block>
  <block id="1089b965cabd19cfee7f3ef855fbd63d" category="paragraph">請參閱對應的主機作業系統公用程式。</block>
  <block id="6f58745fc3a341adae0772d30d9e508c" category="list-text">使用主機和目標的 WWPN 在 FC 交換器上設定分區。</block>
  <block id="54336aa51b161faac4d0ebb1b76b1536" category="paragraph">如需詳細資訊，請參閱重新輸入交換器廠商文件。</block>
  <block id="299f2e1a529559eb06c9dfbe12ccdea9" category="paragraph">如需詳細資訊，請參閱下列 ONTAP 文件：</block>
  <block id="d7281ba358054b30594dcd34819057a1" category="inline-link">Fibre Channel和FCoE分區總覽</block>
  <block id="bce9f24194c15bbf6b5ad6cd1d8d1899" category="list-text"><block ref="bce9f24194c15bbf6b5ad6cd1d8d1899" category="inline-link-rx"></block></block>
  <block id="9b9db0b6f6df6361aa97412feea7ae07" category="list-text"><block ref="1a83c479258a4b0e250085c944bae4de" category="inline-link-rx"></block></block>
  <block id="36b37761159ed00a729b4f6fab9a0f02" category="paragraph-title">安裝 FC 工具</block>
  <block id="f0ad3dc6a6ba17b1e77a2a4af657f22a" category="paragraph">使用作業系統的命令來安裝FC工具。</block>
  <block id="553ac32ac6bcab84d5384eda7468d415" category="paragraph">Kubernetes叢集中的所有工作節點都必須能夠掛載您已為Pod配置的磁碟區。若要準備工作節點，您必須根據您選擇的驅動程式來安裝 NFS ， iSCSI ， NVMe / TCP 或 FC 工具。</block>
  <block id="64467ac9530ff26c4e6495117175346d" category="admonition">使用 ONTAP NAS 經濟型和 24 個以上字元的 storagePrefix 時， qtree 將不會內嵌儲存前置字元，不過它會位於磁碟區名稱中。</block>
  <block id="0d28255dc96cb23d422741096c09ce8e" category="paragraph"><block ref="256d12880dee7515c7ed6253fd0a228a" prefix="" category="inline-code"></block><block ref="bd5ed83ae12ddcfe924a6af54a0be554" prefix=" " category="inline-code"></block></block>
  <block id="15286900a0d0667ffc4d515aeec6a1d2" category="list-text">將外掛程式二進位檔複製到路徑變數中定義的位置。例如，<block ref="7512824c50c61ea8d89d0f193a4f72d1" prefix=" " category="inline-code"></block>或<block ref="ad2e864ce1a99daa836c3449f3ba705d" prefix=" " category="inline-code"></block>（您可能需要提升的 Privileges ）：</block>
  <block id="cff063350a0daf1b0ee4c6c97eb2e2de" category="admonition">將備份還原至具有現有資源的不同命名空間，並不會改變任何與備份中共用名稱的資源。若要還原備份中的所有資源，請刪除並重新建立目標命名空間，或將備份還原至新的命名空間。</block>
  <block id="0ac202e458490a734271522fcedf4876" category="list-text">確定<block ref="8732863da72605a20ed96b4eee87a5fb" prefix=" " category="inline-code"></block>執行中：</block>
  <block id="69eeaf73fccab6d6abcba46bd6a3a3bf" category="list-text">確定<block ref="452b142235e718663e27bc4f162c14ca" prefix=" " category="inline-code"></block>已啟用並正在執行：</block>
  <block id="00ea3f7016d7b9a4ad023b106cc1e6d3" category="paragraph"><block ref="7e7b7908484dc2cebc13ec93d8042bd0" category="inline-link-macro-rx"></block>如果您使用<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> sanType<block ref="0f64d0456878c73cbec1ccea842a6f14" prefix=" " category="inline-code"></block> （ SCSI over FC ）。</block>
  <block id="2fc23e09b483dc4495beb473646c0273" category="list-text"><block ref="2fc23e09b483dc4495beb473646c0273" category="inline-link-macro-rx"></block></block>
  <block id="e132245ad28668c6b32dee21fb8a3820" category="list-text">取得目標介面的 WWPN 。如需詳細資訊、請參閱<block ref="92fd8fd0370792cd397ea6fdc3c8edb0" category="inline-link-rx"></block> 。</block>
  <block id="ab17e5f89eede1d0e6d8d31cc646b837" category="paragraph-title"><block ref="58f667aaf05f87159670e12bd9bc076b" category="inline-image-macro-rx" type="image"></block>準備工作節點</block>
  <block id="8f571d58ed95211be01ea993de3fee3e" category="paragraph-title"><block ref="54f425ce8d89f4ed6b8a546561af5d60" category="inline-image-macro-rx" type="image"></block>安裝 Trident</block>
  <block id="2fd92693952062fc00d949899370185d" category="section-title">定義應用程式</block>
  <block id="964ba319e15e38c5b0f3ee2a3dd4a8f8" category="list-text">建立應用程式 CR 以符合您的環境之後，請套用 CR 。例如：</block>
  <block id="acb14ba5b70eb330a1d4de9c6b7a325d" category="inline-link-macro">設定虛擬化</block>
  <block id="cedf2576eebff15fc6b30d5a7109eb6b" category="doc">還原和容錯移轉作業期間的命名空間註釋和標籤</block>
  <block id="131ff34387be167411ffda7d60b577e7" category="paragraph">在還原和容錯移轉作業期間，目的地命名空間中的標籤和註釋會與來源命名空間中的標籤和註釋相符。會新增來源命名空間中不存在的標籤或註釋，並覆寫已存在的任何標籤或註釋，以符合來源命名空間的值。只存在於目的地命名空間上的標籤或註釋會保持不變。</block>
  <block id="20f40e0b9308901dac07ce8a8efb3350" category="inline-link">OpenShift 安全性內容限制文件</block>
  <block id="6c83555d4261acb08ebbc5f24823dc7b" category="paragraph">您可以在執行還原或容錯移轉作業之前，先設定 Kubernetes 環境變數，以避免覆寫目的地命名空間中的特定註釋<block ref="1580ff61f204e9d56cd5324c7e9221ba" prefix=" " category="inline-code"></block>。例如：</block>
  <block id="1280c48f074ec68fd2281266662c9a3f" category="paragraph">以下範例提供來源和目的地命名空間，每個命名空間都有不同的註釋和標籤。您可以查看作業前後目的地命名空間的狀態，以及註釋和標籤在目的地命名空間中的組合或覆寫方式。</block>
  <block id="2cfe257f724ed59a07ab01918c828fb5" category="section-title">還原或容錯移轉作業之前</block>
  <block id="c972cd959174c84d137520d91c011446" category="paragraph">下表說明還原或容錯移轉作業之前的範例來源和目的地命名空間狀態：</block>
  <block id="b3ba0fe968ce39dcfc6fe8cc0f1b02da" category="cell">命名空間</block>
  <block id="933e469cb306a0ea9faabd3e4235d3be" category="cell">註釋</block>
  <block id="86a2c974d76e381c7efd2206939722b7" category="cell">命名空間 nS-1 （來源）</block>
  <block id="278dbe8403d8ebf0d4ec8f723ca24aa6" category="list-text">annotation.one / 機碼：「 updatedvalue 」</block>
  <block id="7217e7166d38adddcd72b9b1c9359148" category="list-text">annotation.b2/key ：「 true 」</block>
  <block id="a03c56a353af6ece3297a5fcad5250f2" category="list-text">環境 = 正式作業</block>
  <block id="d1642f369aa9d43205cf91975f1359d4" category="list-text">Compliance = HIPAA</block>
  <block id="fc10b995e3d1c13cbae652922eba0bb6" category="list-text">NAME=ns-1</block>
  <block id="58e6b4eeb688a71c985d2593769d2fda" category="cell">命名空間 nS-2 （目的地）</block>
  <block id="f0e6f2ec2d0d1aa7012e3b32889c034c" category="list-text">annotation.one / 機碼：「 true 」</block>
  <block id="1e678090acf06eb2bf74c38dee9d3317" category="list-text">annotation.the/key ：「 FALSE 」</block>
  <block id="ebbaf450aa5330e33917a8de9157e099" category="list-text">role = 資料庫</block>
  <block id="46c40b68ab6fcc817f5134602b1985e3" category="section-title">還原作業之後</block>
  <block id="15d6567aa33ad00e352de9164a741b8b" category="paragraph">下表說明還原或容錯移轉作業之後範例目的地命名空間的狀態。某些金鑰已新增，部分已覆寫，<block ref="b068931cc450442b63f5b3d276ea4297" prefix=" " category="inline-code"></block>標籤已更新以符合目的地命名空間：</block>
  <block id="a8306d4d1af4239dba9a6bcfd799eba7" category="list-text">NAME=nS-2</block>
  <block id="ac84b7596169ab3fb6c24e8a5c85c234" category="section-title">使用 KubeVirt VM 保護資料</block>
  <block id="08583ac87350c1205f57ca5d8c629482" category="list-text">更新 Trident Helm 儲存庫：</block>
  <block id="caf47630bbafdc416f6b6ecdb585e83e" category="list-text">凍結的檔案系統會在適用的情況下解除凍結。</block>
  <block id="1eb6c79d30a4cb086ad406cb25fec350" category="list-text">*resourceFilter.resourceMatchers* ：一組 resourceMatcher 物件。如果您在此陣列中定義多個元素，它們會比對為 OR 作業，而每個元素（群組，種類，版本）內的欄位會比對為 AND 作業。</block>
  <block id="effa92215c770083617150adc291c130" category="list-text">展開 * 選用組態設定 * ，並視需要修改。</block>
  <block id="a1f41e52e9ddbd9f87ecd032c237b1c0" category="inline-link-macro">SnapMirror 複寫</block>
  <block id="f6acb98f21e25882aaaa267339abcc92" category="admonition">您可以使用在不同叢集之間複寫應用程式<block ref="69314cba6d14bf88b8e850c978056766" category="inline-link-macro-rx"></block>。</block>
  <block id="fe961357dbe4b6bf8b5503f4919ea35c" category="list-text">請確定已在目的地叢集上設定包含備份之物件儲存貯體的 AppVault CR 。</block>
  <block id="baafbccab17d07f9ba18e7becb7c76d2" category="inline-link-macro">從備份還原資料</block>
  <block id="878bbf0662ed19ef900e4e06bfad92d2" category="list-text">在目的地叢集上<block ref="11860f9f3ec51316f8ebc9805806b6cd" category="inline-link-macro-rx"></block>，。</block>
  <block id="4a0207b6a74b63dcaaa4d58fe75ec431" category="list-text">*resourceFilter.resourceSelectionCriteria* ：（篩選所需）使用<block ref="f4d72a64acd8929c0cc9ed96a7a336cc" prefix=" " category="inline-code"></block>或包含或<block ref="843f2812f595e7ec7c5036e89fde02d6" prefix=" " category="inline-code"></block>排除在 resourceMatchers 中定義的資源。新增下列資源配置工具參數、以定義要納入或排除的資源：</block>
  <block id="b22804421b3e5bca94f2a9979721eb60" category="cell">具有此角色的 Google Cloud 服務帳戶的 API 金鑰<block ref="e50dbf86780cfad5e007e4a95a6aa71e" prefix=" " category="inline-code"></block> 。其中包含Google Cloud服務帳戶私密金鑰檔案（逐字複製到後端組態檔）的JSON-格式內容。<block ref="c9ff119073ea2567730fb42e3a4fe805" prefix=" " category="inline-code"></block>必須包含下列金鑰的金鑰值配對：<block ref="599dcce2998a6b40b1e38e8c6006cb0a" prefix=" " category="inline-code"></block><block ref="b098ad43c65e68f3d8ce27a3c7e6f6e2" prefix=" " category="inline-code"></block>、、<block ref="a4a9fd77bfb3720e66b510bef7ffe71a" prefix=" " category="inline-code"></block>、<block ref="2bfe9d72a4aae8f06a31025b7536be80" prefix=" " category="inline-code"></block>、<block ref="478cc0e49bfbb9ded4ffc7ea662d3968" prefix=" " category="inline-code"></block><block ref="98b215082431c21156af94f3aa69f838" prefix=" " category="inline-code"></block><block ref="8201fe8e688f4f948a62370fd1b411d4" prefix=" " category="inline-code"></block>、和<block ref="61426bc7fdd11e59a5c98e7ee37e3dbb" prefix=" " category="inline-code"></block>。</block>
  <block id="d0e48e9528072c6ff90b82adeab94dea" category="list-text">具有 Volumes Admin （ NetApp Volume 管理）角色的 Google Cloud 服務帳戶 <block ref="04bf1a6a0250bc9d4cba09ee34106dfc" prefix="(" category="inline-code"></block>。請參閱 <block ref="4f506c30a158c85db714d53536a12770" category="inline-link-macro-rx"></block>。</block>
  <block id="a13eeeef5ff2b7fe85692890fb5d28b3" category="open-title">Amazon S3 （ AWS ）</block>
  <block id="b2aa71ee04e531f0b6d1f084ba45f52f" category="open-title">一般S3</block>
  <block id="1716834171e243de0f898a67621b6624" category="open-title">ONTAP S3</block>
  <block id="79832d443dadeb6d3b0637941d6ac067" category="open-title">StorageGRID S3</block>
  <block id="6b4d16571162a69eb03c99cb132a69ec" category="section-title">AppVault CR 範例</block>
  <block id="d05c8b60cfd355fccac41017c33ca892" category="paragraph">您可以使用下列 CR 範例，為每個雲端供應商建立 AppVault 物件。</block>
  <block id="4db09810b323e73b4041a65c99bb14f8" category="paragraph">您可以使用下列 CLI 命令範例，為每個供應商建立 AppVault CRS 。</block>
  <block id="45d7099b61647936da59ccfbaa49ca5c" category="list-text">建立名為的檔案<block ref="e66ad8c89b28dc43a24e6e1689a79cdc" prefix=" " category="inline-code"></block>。</block>
  <block id="956fe3fe2ad4f9cb1b569d66b4ff1db5" category="list-text">套用檔案中的值<block ref="e66ad8c89b28dc43a24e6e1689a79cdc" prefix=" " category="inline-code"></block>：</block>
  <block id="7bbf9a1a0bbcbeb6a4fef133c3975079" category="paragraph">下次登入 Shell 時，您可以將命令自動完成功能與 tridentctl-Protect 外掛程式搭配使用。</block>
  <block id="0708d6413707329d6051a0456f0810ac" category="admonition">您可以使用<block ref="deb04333ae980bc0147681e476e1941c" prefix=" " category="inline-code"></block>來檢視此命令的詳細說明資訊。</block>
  <block id="375efef64643c8aa6bb8e0ba2159a82a" category="list-text">啟用外掛程式二進位檔的執行權限：</block>
  <block id="eefd51253afc93c1ad54658882a65dec" category="list-text">您也可以選擇將外掛程式二進位檔複製到主目錄中的某個位置。在這種情況下，建議您確保位置是 PATH 變數的一部分：</block>
  <block id="75b0e724fe59ed9d6eda0fcd4679bfee" category="admonition">將外掛程式複製到 PATH 變數中的某個位置，可讓您輸入或<block ref="e89ec374c6edc886ea12d28524834e68" prefix=" " category="inline-code"></block>從任何位置使用外掛程式<block ref="d4845d5856667a10aee97f3404a35627" prefix=" " category="inline-code"></block>。</block>
  <block id="9ac0dd27d420b7b48ca72e463ae95e18" category="inline-link">這些指示</block>
  <block id="9560d298aea880d389acf56a45410c4b" category="summary">您可以設定加密，以保護 Trident 和儲存後端之間的流量。</block>
  <block id="c994f1e00d22f7d8d4e7b3e7f50f8002" category="doc">Kerberos 執行中加密</block>
  <block id="c8ea4672c0efc6fee26c8648f609a829" category="paragraph">使用 Kerberos 在線上加密，您可以針對託管叢集與儲存後端之間的流量啟用加密，藉此改善資料存取安全性。</block>
  <block id="420bac2406e93da0c7c791aca209017d" category="paragraph">Trident 支援 ONTAP 的 Kerberos 加密作為儲存後端：</block>
  <block id="796f801ad41f96aeb2e1a1950ed629e4" category="list-text">* 內部部署 ONTAP * ： Trident 支援透過 NFSv3 和 NFSv4 連線進行 Kerberos 加密，從 Red Hat OpenShift 和上游 Kubernetes 叢集到內部部署 ONTAP 磁碟區。</block>
  <block id="0a710c309a5f6dc65b056833a5208521" category="paragraph">您可以建立、刪除、調整大小、快照、複製、 唯讀複製及匯入使用 NFS 加密的磁碟區。</block>
  <block id="2aff02c8ceb99a9445937af9d4d8f286" category="section-title">使用內部部署的 ONTAP 磁碟區來設定在線上 Kerberos 加密</block>
  <block id="330282591e8caa9814eb88ec524b89cf" category="paragraph">您可以在託管叢集與內部部署 ONTAP 儲存後端之間的儲存流量上啟用 Kerberos 加密。</block>
  <block id="daf34fb0fcb74d9bcf85abcebcc8e1f2" category="admonition">內部部署 ONTAP 儲存後端的 NFS 流量 Kerberos 加密僅支援使用<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>儲存驅動程式。</block>
  <block id="0ff02d27ae5cac1a12c6c403fd55443c" category="list-text">請確定您可以存取<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> 公用程式。</block>
  <block id="bef890ed7cc869346d4b483cd3e3ab00" category="list-text">確保您具有 ONTAP 儲存後端的管理員存取權。</block>
  <block id="160b05c1b85ce34d702a3568614baec1" category="list-text">確保您知道將從 ONTAP 儲存後端共用的磁碟區名稱。</block>
  <block id="9fe985de654739fa6f48edb0d49059b4" category="inline-link">NetApp NFSv4 增強與最佳實務指南</block>
  <block id="9c6a0d551d50340cca48e6cfa4355566" category="list-text">請確定您使用 Kerberos 加密的任何 NFSv4 磁碟區都已正確設定。請參閱的 NetApp NFSv4 網域組態一節（第 13 頁）<block ref="fcbfe3012009d21ef9ba8407142f85b6" category="inline-link-rx"></block>。</block>
  <block id="7c67bfc9153da2055f6d09209f9853c7" category="section-title">新增或修改 ONTAP 匯出原則</block>
  <block id="3afa4a2a4546fcf1b9a361d1bff9763b" category="paragraph">您需要將規則新增至現有的 ONTAP 匯出原則、或建立新的匯出原則、以支援 ONTAP 儲存 VM 根磁碟區的 Kerberos 加密、以及與上游 Kubernetes 叢集共用的任何 ONTAP 磁碟區。您新增的匯出原則規則或您建立的新匯出原則需要支援下列存取通訊協定和存取權限：</block>
  <block id="e21233a7f0d7fedb5883aea1dfed27cf" category="paragraph-title">存取傳輸協定</block>
  <block id="e10f51f4d0eb1b58929237c03db4b832" category="paragraph">使用 NFS 、 NFSv3 和 NFSv4 存取通訊協定來設定匯出原則。</block>
  <block id="baedff73fdfff23f65e8b80727cd3088" category="paragraph-title">存取詳細資料</block>
  <block id="892969be437eb53b05f372cc0ae74d6c" category="paragraph">您可以根據對磁碟區的需求、設定 Kerberos 加密的三個不同版本之一：</block>
  <block id="fda32d078836aa6e69a3497be5f9cdca" category="list-text">* Kerberos 5* - （驗證與加密）</block>
  <block id="7d55fc39e32469f330297f866ec40e41" category="list-text">* Kerberos 5i* - （身分識別保護的驗證與加密）</block>
  <block id="ec7a355c2dad88f01ddce6c662ff507f" category="list-text">* Kerberos 5p* - （身分識別與隱私保護的驗證與加密）</block>
  <block id="43c969c43b32e3dd3bcf607fcbe4eb43" category="paragraph">使用適當的存取權限來設定 ONTAP 匯出原則規則。例如、如果叢集將使用 Kerberos 5i 和 Kerberos 5p 加密混合安裝 NFS 磁碟區、請使用下列存取設定：</block>
  <block id="0370275db54735bcb50d5bfce36de4e6" category="cell">唯讀存取</block>
  <block id="dbdb2754b99a3cb725e62ef04c72ee06" category="cell">讀取 / 寫入存取權</block>
  <block id="a3a9521b6675631e988004e7b8ffe7b4" category="cell">超級使用者存取權</block>
  <block id="15395d0642f86c5992abbca5e56e2b29" category="cell">UNIX</block>
  <block id="00d23a76e43b46dae9ec7aa9dcbebb32" category="cell">已啟用</block>
  <block id="f22873ba6efee4accc10bd5a3d3ca9eb" category="cell">Kerberos 5i</block>
  <block id="a98fd9001be872cb9763c171625ee881" category="cell">Kerberos 5p</block>
  <block id="9a83b6e7170a551799b737b273fde5e1" category="paragraph">請參閱下列文件、瞭解如何建立 ONTAP 匯出原則和匯出原則規則：</block>
  <block id="bb53c6c29f127a298da7dd86bf00bb89" category="inline-link">建立匯出原則</block>
  <block id="2065c7b470f4d228b592158785fc8c0b" category="list-text"><block ref="2065c7b470f4d228b592158785fc8c0b" category="inline-link-rx"></block></block>
  <block id="8c47b652d31bca921bb367b0e3c5ec6d" category="inline-link">新增規則至匯出原則</block>
  <block id="249db3ace916cc1363d388978a8b6c5e" category="list-text"><block ref="249db3ace916cc1363d388978a8b6c5e" category="inline-link-rx"></block></block>
  <block id="c21c2b66c343dfe9db6298e59c2cc767" category="section-title">建立儲存後端</block>
  <block id="449396632614b1e0731c51704890f8bd" category="paragraph">您可以建立內含 Kerberos 加密功能的 Trident 儲存後端組態。</block>
  <block id="0848c0a5d21711a3f8967a344553c492" category="paragraph">當您建立設定 Kerberos 加密的儲存後端組態檔時、可以使用參數指定 Kerberos 加密的三個不同版本之一<block ref="21f59c061af833af5de20556ce76052d" prefix=" " category="inline-code"></block> ：</block>
  <block id="619885da64e4ba4b0df04a00d78079b7" category="list-text"><block ref="47587c842cb0a2574a5a4c7c644b006d" prefix="" category="inline-code"></block> （驗證與加密）</block>
  <block id="aa734ef649b1255faccfc198980bf49a" category="list-text"><block ref="600550ee922e257041b75142ddab2319" prefix="" category="inline-code"></block> （身分識別保護的驗證與加密）</block>
  <block id="4197df0e0ac8f9480069ee1e0dc22543" category="list-text"><block ref="b148e7f5a01830ae530070588af5e9e6" prefix="" category="inline-code"></block> （身分識別與隱私保護的驗證與加密）</block>
  <block id="c99e9f5ade1b20705438ad6882d112c2" category="paragraph">只指定一個 Kerberos 層級。如果您在參數清單中指定多個 Kerberos 加密層級、則只會使用第一個選項。</block>
  <block id="926a7d5402fb3ed0da8fcd630e3a8f8c" category="list-text">在託管叢集上、使用下列範例建立儲存後端組態檔案。以您環境的資訊取代括弧 &lt;&gt; 中的值：</block>
  <block id="2cd636101227e18554e5c5351bf5bbe3" category="list-text">使用您在上一個步驟中建立的組態檔來建立後端：</block>
  <block id="3204b0a88f0c8e6cb89ef2653173ddf1" category="paragraph">您可以建立儲存類別、以使用 Kerberos 加密來配置磁碟區。</block>
  <block id="03111bbdda72125f143e084557265c1c" category="paragraph">當您建立儲存類別物件時、可以使用下列參數、指定 Kerberos 加密的三個不同版本之一<block ref="e1d3d66c5926aa7fbc3186da8f9b476b" prefix=" " category="inline-code"></block> ：</block>
  <block id="85eee746a5d30d5149d419a3dfd2fe4e" category="list-text"><block ref="ebd2fabd7ee9d78e670334fba38c5a6b" prefix="" category="inline-code"></block> （驗證與加密）</block>
  <block id="24dac19871e9929a42267b538a60ebe5" category="list-text"><block ref="82f5845550ca9ab77ce797c16bd7bca1" prefix="" category="inline-code"></block> （身分識別保護的驗證與加密）</block>
  <block id="c36d9d41da2e174bfa8b3338450fb45c" category="list-text"><block ref="7a1dedb8f6c22fd4833b45267ad3b01a" prefix="" category="inline-code"></block> （身分識別與隱私保護的驗證與加密）</block>
  <block id="4a2e7c9ecf75ac18d4daec2783256280" category="paragraph">只指定一個 Kerberos 層級。如果您在參數清單中指定多個 Kerberos 加密層級、則只會使用第一個選項。如果您在儲存後端組態中指定的加密層級與您在儲存類別物件中指定的層級不同、則儲存類別物件會優先。</block>
  <block id="0bae6577bb0c45b6f2d82896713df9f9" category="list-text">使用以下範例建立 StorageClass Kubernetes 物件：</block>
  <block id="bd9c5e9bd5f130a6fbdbcaeb04656652" category="list-text">建立儲存類別：</block>
  <block id="2472867b1c2b8a486fe64cfc08afeba5" category="list-text">確定已建立儲存類別：</block>
  <block id="0a44f30bac4e15e0464a80627bef5882" category="section-title">配置 Volume</block>
  <block id="37bd6ab74d66efd877ea77c0e69e593c" category="paragraph">建立儲存後端和儲存類別之後、您現在可以配置 Volume 。有關說明，請參閱<block ref="70405bfb2744633a336a6c9abdd1df6e" category="inline-link-rx"></block>。</block>
  <block id="fe10ad21eb1ce607c403a8d609d5ab3e" category="section-title">使用 Azure NetApp Files 磁碟區設定在線上 Kerberos 加密</block>
  <block id="cd21e25bc313d3805456542eac624499" category="paragraph">您可以在託管叢集與單一 Azure NetApp Files 儲存後端或 Azure NetApp Files 儲存後端的虛擬集區之間的儲存流量上啟用 Kerberos 加密。</block>
  <block id="04379b5e9a5ec6b970752d2b8d0341c8" category="list-text">確保您已在託管的 Red Hat OpenShift 叢集上啟用 Trident 。</block>
  <block id="6c32a3d0f1a665987b98dde5a0f96d7d" category="inline-link">本文檔 Azure NetApp Files</block>
  <block id="aa63a31f222305a4ce10d8c1020ab1fd" category="list-text">請注意中的要求並遵循中的指示、以確保您已準備好 Azure NetApp Files 儲存後端進行 Kerberos 加密<block ref="54b351b1767d2d50eb8c87e19c20164c" category="inline-link-rx"></block>。</block>
  <block id="4f07c8d51fef64025d4b746305177733" category="paragraph">您可以建立包含 Kerberos 加密功能的 Azure NetApp Files 儲存後端組態。</block>
  <block id="5c6eaa8dd4c4134f6ad836e97ffdee13" category="paragraph">當您建立儲存後端組態檔案來設定 Kerberos 加密時、您可以加以定義、以便將其套用至下列兩種可能的層級之一：</block>
  <block id="bc0557be41ea94e344d7ece1f311b7d4" category="list-text">使用欄位的 * 儲存後端層級 *<block ref="6a60a6d9955ef9fce24cf4e86efed7af" prefix=" " category="inline-code"></block></block>
  <block id="e30ee9a2b9976217a5fe28b412fe04d6" category="list-text">使用欄位的 * 虛擬集區層級 *<block ref="533988f6253fcffab6270c1aafb50970" prefix=" " category="inline-code"></block></block>
  <block id="64864cec765a0e5c421369098904873c" category="paragraph">當您在虛擬集區層級定義組態時、會使用儲存類別中的標籤來選取集區。</block>
  <block id="082ccae8192fda90d271d92200b3a7dd" category="paragraph">在任一層級、您都可以指定 Kerberos 加密的三個不同版本之一：</block>
  <block id="853434fc4aabccb1e3341f56ef2a9424" category="list-text"><block ref="9ce0da43b8420d1a89f0d00da04312a2" prefix="" category="inline-code"></block> （驗證與加密）</block>
  <block id="44ea74e03aa9994870273996b8770ef6" category="list-text"><block ref="6bbaa5deea5e26abf8837d31bd265b6f" prefix="" category="inline-code"></block> （身分識別保護的驗證與加密）</block>
  <block id="e22427c81cd5155061fad66ed3f13f52" category="list-text"><block ref="42b55bed7d0514cd2e2189a3edc9d87b" prefix="" category="inline-code"></block> （身分識別與隱私保護的驗證與加密）</block>
  <block id="c51fc706f0eb21d747d3ff2e2bb6c38b" category="list-text">在託管叢集上、根據您需要定義儲存後端（儲存後端層級或虛擬集區層級）的位置、使用下列其中一個範例建立儲存後端組態檔案。以您環境的資訊取代括弧 &lt;&gt; 中的值：</block>
  <block id="d51a5db438981d465f8fecc7ecbeb054" category="open-title">儲存後端層級範例</block>
  <block id="83aab9b6ffc8c65b79350e009c49e5f4" category="open-title">虛擬集區層級範例</block>
  <block id="1738a6ff1f0b418ce16cf74aabdceff1" category="section-title">從快照進行原位磁碟區還原</block>
  <block id="f29961e077241efec95d259658aa48f1" category="paragraph">Trident 使用（ TASR ） CR 從快照提供快速的原位磁碟區還原<block ref="2aabb3b01d0d54317a9eeef910e001f6" prefix=" " category="inline-code"></block>。此 CR 是 Kubernetes 的必要行動、在作業完成後不會持續存在。</block>
  <block id="e0bc0596a7d966cd8dab3ee0e924c9b5" category="paragraph">您必須擁有受約束的 PVC 和可用的 Volume 快照。</block>
  <block id="d785d18f53979794a4ef9e08d186e3c4" category="list-text">確認 PVC 狀態為「已連結」。</block>
  <block id="d0f2b7254060d8a37c98c1eb4289586d" category="list-text">驗證 Volume 快照是否已準備就緒可供使用。</block>
  <block id="da6aadede1bc870c9042c660fdf93f25" category="list-text">建立 TASR CR 。本示例爲 PVC 和 Volume Snapshot 創建 CR<block ref="30520f4f96804df83914260b79f55962" prefix=" " category="inline-code"></block><block ref="06f2874897d3ec8426ec85e0ffda5544" prefix=" " category="inline-code"></block>。</block>
  <block id="68fb76b60d3c1f9302a04ef3eb761c08" category="admonition">TASR CR 必須位於 PVC 與 VS 所在的命名空間中。</block>
  <block id="0c9991859e53bf37c58a2fd1233eb478" category="list-text">套用 CR 以從快照還原。此示例從 Snapshot 恢復<block ref="30520f4f96804df83914260b79f55962" prefix=" " category="inline-code"></block>。</block>
  <block id="91f853f4fc1dc83a1a2f28c65af59d28" category="list-text">在大多數情況下， Trident 不會在發生故障時自動重試作業。您需要再次執行此作業。</block>
  <block id="c83b74c2020dd836f5b401ecda0da78c" category="list-text">不具備管理員存取權限的 Kubernetes 使用者可能必須獲得管理員的權限、才能在其應用程式命名空間中建立 TASR CR 。</block>
  <block id="cff310c77e35cf2f693ebbb39c78e89f" category="summary">Trident 支援在來源磁碟區和目的地磁碟區之間建立鏡射關係，以複寫磁碟區以進行災難恢復。</block>
  <block id="50e2eea9ba53d70147772db1c5d25f79" category="doc">使用 SnapMirror 複寫磁碟區</block>
  <block id="a682d8ef86abcae6c5a1db6186c5f02b" category="list-text">建立磁碟區之間的鏡射關係（ PVCS ）</block>
  <block id="31a8f98d3378661a5b8abf15438f0bca" category="list-text">移除磁碟區之間的鏡射關係</block>
  <block id="a6349012892be516e5729d501a9649a7" category="list-text">中斷鏡射關係</block>
  <block id="2597cb6d27f572bb6d7d2fd15f414795" category="list-text">在災難情況（容錯移轉）期間提升次要 Volume</block>
  <block id="40f7c55be912a395aed2502927d3fcfa" category="list-text">在計畫性容錯移轉或移轉期間、將應用程式從叢集無損移轉至叢集</block>
  <block id="d193cd9a2432eca22e5cf0d06dcee1e6" category="section-title">複寫先決條件</block>
  <block id="55be807bf2be012ff44a04449cc5e8a8" category="paragraph">在您開始之前、請確定符合下列先決條件：</block>
  <block id="3404cce75db90acf6a9d52860721a139" category="list-title">叢集 ONTAP</block>
  <block id="fbcc2a3b7506e5e36eb6f61b69bb75da" category="list-text">* Trident * ： Trident 22.10 版或更新版本必須同時存在於使用 ONTAP 作為後端的來源叢集和目的地 Kubernetes 叢集上。</block>
  <block id="5cc8ada79224d850ecd22fd22e550c47" category="list-title">對等關係</block>
  <block id="02b05cdd8f0a8c426f307085cc1004f7" category="list-text">* 叢集與 SVM* ：必須對 ONTAP 儲存設備的後端進行對等處理。如需詳細資訊、請參閱<block ref="60333a598df416e49fbceb5a88dce370" category="inline-link-rx"></block> 。</block>
  <block id="792f00dfd96560df18fe1c6b56861893" category="list-text">* Trident 和 SVM* ：對等的遠端 SVM 必須可用於目的地叢集上的 Trident 。</block>
  <block id="0c5e1b5bc54261ccadd2a72af1047ded" category="list-title">支援的驅動程式</block>
  <block id="3ce5b83f8896ef0d2e356d3972ec8898" category="section-title">建立鏡射 PVC</block>
  <block id="427a1ab7f39ee4f2dd7a0b7e35f572da" category="paragraph">請遵循下列步驟、並使用 CRD 範例在主要和次要磁碟區之間建立鏡射關係。</block>
  <block id="4dc69f665f0d76c17a577a352dd15b25" category="list-text">在主 Kubernetes 叢集上執行下列步驟：</block>
  <block id="cffc5263be00a76539edeeff72190d54" category="list-text">使用參數建立 StorageClass 物件<block ref="23041ca302bab724a5a0a4ee923c745d" prefix=" " category="inline-code"></block> 。</block>
  <block id="f1fe26832c26eb686c85bd72da8a62f1" category="list-text">使用先前建立的 StorageClass 建立 PVC 。</block>
  <block id="a306778c7affcc4dd2329c7f1e9a6389" category="list-text">使用本機資訊建立 MirrorRelationship CR 。</block>
  <block id="12551ccb4392cf7715384812c34ff7dc" category="paragraph">Trident 會擷取磁碟區的內部資訊和磁碟區目前的資料保護（ DP ）狀態，然後填入 MirrorRelationship 的狀態欄位。</block>
  <block id="7e36329a511f28054ceb0cb2aba7de3a" category="list-text">取得 TridentMirrorRelationship CR 以取得 PVC 的內部名稱和 SVM 。</block>
  <block id="ce01c03f932076e82348fc5aaefacc7d" category="list-text">在次 Kubernetes 叢集上執行下列步驟：</block>
  <block id="dbe7fac150e57be9bc0d8e046792f4c3" category="list-text">使用 trident.netapp.io/replication: true 參數建立 StorageClass 。</block>
  <block id="01d68e0f9630c032dc8a33358e46e65b" category="list-text">使用目的地和來源資訊建立 MirrorRelationship CR 。</block>
  <block id="b4dcd7f617380594be36d544e6823841" category="paragraph">Trident 將使用設定的關係原則名稱（或 ONTAP 的預設值）建立 SnapMirror 關係，並將其初始化。</block>
  <block id="4ba5d2a91c95149a7ad924ebd0d9503d" category="list-text">使用先前建立的 StorageClass 建立 PVC 、作為次要（ SnapMirror 目的地）。</block>
  <block id="14c271d9e62dcf6baaab0fde456f080f" category="paragraph">Trident 會檢查 TridentMirrorRelationship CRD ，如果關係不存在，則無法建立 Volume 。如果存在這種關係， Trident 將確保新的 FlexVol volume 放置在與 MirrorRelationship 中定義的遠端 SVM 對等的 SVM 上。</block>
  <block id="e71d1a5cbaac30e63ed507e4b62c705f" category="section-title">Volume 複寫狀態</block>
  <block id="d802b3b47bb3c6b52714c9817598fcb8" category="paragraph">Trident Mirror Relationship （ TMR ）是一種 CRD 、代表 PVC 之間複寫關係的一端。目的地 TMR 具有狀態，可告知 Trident 所需的狀態。目的地 TMR 有下列狀態：</block>
  <block id="546afd3b22376f948ae8d790e441d7da" category="list-text">* 建立 * ：本機 PVC 是鏡射關係的目的地 Volume 、這是新的關係。</block>
  <block id="724cfb5ec8bac42a80699bb79c4eccb9" category="list-text">* 升級 * ：本機 PVC 為可讀寫且可掛載、目前無鏡射關係。</block>
  <block id="d323366aa32e60d08a0f93bda543af47" category="list-text">* 重新建立 * ：本機 PVC 是鏡射關係的目的地 Volume 、先前也屬於該鏡射關係。</block>
  <block id="4c3cd5b62a43e82e03fffa6b238ed918" category="list-text">如果目的地磁碟區與來源磁碟區有任何關係、則必須使用重新建立的狀態、因為它會覆寫目的地磁碟區內容。</block>
  <block id="b2e7dc07859cd924ca5706b299986e57" category="list-text">如果磁碟區先前未與來源建立關係、則重新建立的狀態將會失敗。</block>
  <block id="93f9c6ccc7d85e709509db31891ae5eb" category="section-title">在非計畫性容錯移轉期間升級次要 PVC</block>
  <block id="4a76c8d930ec18b5aedc26b5d8e5246f" category="paragraph">在次 Kubernetes 叢集上執行下列步驟：</block>
  <block id="78ac02218b5a9367bdcb4881538477cc" category="list-text">將 TridentMirrorRelationship 的 _spec.state_ 欄位更新為<block ref="1fe57d6202c7cfbb0ee344b1e0a6fb37" prefix=" " category="inline-code"></block>。</block>
  <block id="ffe4cfc202d643b50342b93a4a11a82f" category="section-title">在規劃的容錯移轉期間升級次要 PVC</block>
  <block id="1d60b89a076d7f30b8efdef50e842f68" category="paragraph">在計畫性容錯移轉（移轉）期間、請執行下列步驟來升級次要 PVC ：</block>
  <block id="3310d9a60c164accb7c262ab6e9fbc65" category="list-text">在主要 Kubernetes 叢集上、建立 PVC 的快照、並等待快照建立完成。</block>
  <block id="8b17b79902950942165541a8ab704363" category="list-text">在主要 Kubernetes 叢集上、建立 SnapshotInfo CR 以取得內部詳細資料。</block>
  <block id="678346d79faaa65b2da52e6d7ddce845" category="list-text">在次要 Kubernetes 叢集上、將 _TridentMirrorRelationationship _ CR 的 _spec.state_ 欄位更新為 _updated_ 、 _spec.promotedSnapshotHandle_ 更新為快照的內部名稱。</block>
  <block id="7b007b14980acd66e9301e02a5670f47" category="list-text">在次要 Kubernetes 叢集上、確認要升級的 TridentMirrorRelationship 狀態（ STATUS.STATUS 欄位）。</block>
  <block id="f69101c0107c4bbf8f0ccc9141beb68b" category="section-title">在容錯移轉後還原鏡射關係</block>
  <block id="9a023cbe1d3be933d8edb6228f9901ce" category="paragraph">還原鏡射關係之前、請先選擇要設為新主要的一面。</block>
  <block id="1c7011adbcc0afa258396aff4f10266b" category="list-text">在次要 Kubernetes 叢集上、確保已更新 TridentMirrorRelationship 上 _spec.remoteVolumeHandle_ 欄位的值。</block>
  <block id="ffb25f01fda2538ae98bc0c4b4d465a6" category="list-text">在次 Kubernetes 叢集上、將 TridentMirrorRelationship 的 _spec.mirror 欄位更新為<block ref="036bbe13de7250844b100bc381b59214" prefix=" " category="inline-code"></block>。</block>
  <block id="41a593c0bede63aac2726a18e4599087" category="section-title">其他作業</block>
  <block id="567147b40ff26562a6dfcddbde29e62e" category="paragraph">Trident 支援在主要和次要磁碟區上執行下列作業：</block>
  <block id="253093d00b66ff2357df5085c04b2758" category="section-title">將主要 PVC 複製到新的次要 PVC</block>
  <block id="301dcece9e67241c29ebbbac8a94274e" category="paragraph">請確定您已擁有主要 PVC 和次要 PVC 。</block>
  <block id="7f1c32cba6b98d1db7f3dfda1df76189" category="list-text">從已建立的次要（目的地）叢集刪除 PersistentVolume Claim 和 TridentMirrorRelationship CRD 。</block>
  <block id="e655fd5342cff178f54ae5f5b2a3b7b6" category="list-text">從主（來源）叢集刪除 TridentMirrorRelationship CRD 。</block>
  <block id="3eb69a135044d3f308d140dccb1dbe5e" category="list-text">在主要（來源）叢集上建立新的 TridentMirrorRelationship CRD 、以用於您要建立的新次要（目的地） PVC 。</block>
  <block id="92c650dfb6284b5d24ed0e83a2338fa0" category="section-title">調整鏡射、主要或次要 PVC 的大小</block>
  <block id="66990a43216d28b5b6818b021d397574" category="paragraph">PVC 可以正常調整大小、如果資料量超過目前大小、 ONTAP 會自動擴充任何目的地 flevxols 。</block>
  <block id="4e2626fed5da19a4be8255f16a331609" category="section-title">從 PVC 移除複寫</block>
  <block id="e1abf7fa65d845d34c33d593ed070453" category="paragraph">若要移除複寫、請在目前的次要磁碟區上執行下列其中一項作業：</block>
  <block id="b3dd2c563dffb09f03c72bc16a72be62" category="list-text">刪除次要 PVC 上的 MirrorRelationship 。這會中斷複寫關係。</block>
  <block id="413ab8e64d0d4ccb3f08ef2a8653a525" category="list-text">或者、將 spec.state 欄位更新為 _updated_ 。</block>
  <block id="c00cff9971607d7a0409066a0ecc3bcd" category="section-title">刪除 PVC （先前已鏡射）</block>
  <block id="e52ffc7f9894586bbf7c4260d92073c4" category="paragraph">Trident 會檢查複寫的 PVCS ，並在嘗試刪除磁碟區之前先釋放複寫關係。</block>
  <block id="8ec9c60105332c1be8facc42b496e14b" category="section-title">刪除 TMR</block>
  <block id="a956a14d229badbbde1032651b3586fd" category="paragraph">刪除鏡射關係一側的 TMR 會導致其餘 TMR 在 Trident 完成刪除之前轉換至 _升 遷狀態。如果選取要刪除的 TMR 已處於 _Promive_ 狀態，則沒有現有的鏡射關係， TMR 將會移除，而 Trident 會將本機 PVC 升級為 _ReadWrite_ 。此刪除作業會在 ONTAP 中針對本機磁碟區釋出 SnapMirror 中繼資料。如果此磁碟區在未來的鏡射關係中使用、則在建立新的鏡射關係時、它必須使用具有 _ 建立 _ 磁碟區複寫狀態的新 TMR 。</block>
  <block id="d41660149eb8930ad76a1dfe3dc5f2e3" category="section-title">當 ONTAP 連線時、請更新鏡射關係</block>
  <block id="7079164c5ba86439b0719782591106dd" category="paragraph">建立鏡射關係之後、可以隨時更新它們。您可以使用<block ref="abb3a949c6d70e3e5d92f4ad2bf143a3" prefix=" " category="inline-code"></block> 或<block ref="ff0b4e3d4dfe8f6074b6943947345d4d" prefix=" " category="inline-code"></block> 欄位來更新關聯。將目的地 Volume 升級為一般 ReadWrite Volume 時、您可以使用 _promotedSnapshotHandle_ 來指定特定快照、將目前的 Volume 還原至。</block>
  <block id="4eecab048a7c90cfb92e0f04884686e8" category="section-title">當 ONTAP 離線時更新鏡射關係</block>
  <block id="e782fcb9f3e7e8fa8b5ccdb3169c0e42" category="paragraph">您可以使用 CRD 來執行 SnapMirror 更新，而無需 Trident 直接連線至 ONTAP 叢集。請參閱下列 TridentActionMirrorUpdate 範例格式：</block>
  <block id="bc08468157c4a9e3a30eed7ba64cc309" category="paragraph"><block ref="1f9dfae8a369525bce4996df40963532" prefix="" category="inline-code"></block> 反映 TridentActionMirrorUpdate CRD 的狀態。它可以取自 _sued_ 、 _in progress_ 或 _Failed_ 的值。</block>
  <block id="239be7c008105ac7fd4ca34940e848dd" category="list-text">在節點集區上設定的 GKE 叢集和 GKE 中繼資料伺服器上設定的工作負載身分識別。</block>
  <block id="cf1b0c32b7f8d889140a0a7a048bc29b" category="list-text">具有 Google Cloud NetApp Volumes 管理員（角色 / NetApp 。管理）角色或自訂角色的 GCP 服務帳戶。</block>
  <block id="b70329a4cd0d7e433e8af087eebce89a" category="list-text">安裝的 Trident 包含 cloudProvider ，可指定「 GCP 」和 cloudIdentity ，以指定新的 GCP 服務帳戶。以下是一個範例。</block>
  <block id="73a8d79444c307e1446b60eb6a9ba8f1" category="paragraph">在設定 AWS EKS 的 Trident 附加元件之前、請確定您具有下列項目：</block>
  <block id="5c48b2cb013af0c5d292d6bc5659074c" category="section-title">使用 CLI 安裝 / 解除安裝 Trident EKS 附加元件</block>
  <block id="1095f7331744c1accf45762c2da50a60" category="paragraph">Trident 簡化了 Kubernetes 中適用於 NetApp ONTAP 儲存管理的 Amazon FSX 、讓開發人員和管理員能夠專注於應用程式部署。</block>
  <block id="aa9c9ff1836c624104eb3a256a7b8b69" category="section-title">透過 helm 安裝 Trident</block>
  <block id="b0e9da2f71a439472cddf0553ae43edc" category="section-title">透過 EKS 附加元件安裝 Trident</block>
  <block id="03023c37f6d85929cf0151fe858d3183" category="paragraph">Trident EKS 附加元件包含最新的安全性修補程式、錯誤修正、並經過 AWS 驗證、可與 Amazon EKS 搭配使用。EKS 附加元件可讓您持續確保 Amazon EKS 叢集安全穩定、並減少安裝、設定及更新附加元件所需的工作量。</block>
  <block id="16a9eb0d1ef7d37ab7459bc9a67a8102" category="section-title">啟用 AWS 的 Trident 附加元件</block>
  <block id="1d5144e260d8c4ece3c5d47a77d84c11" category="section-title">更新 Trident EKS 附加元件</block>
  <block id="ccab466451ff5a867710cce1b28c33a0" category="section-title">解除安裝 / 移除 Trident EKS 附加元件</block>
  <block id="d1548585dadda37a28905a23e22cf65d" category="section-title">從備份還原至不同的叢集</block>
  <block id="7fa8874b1f645ca2af9d81b51985b8fb" category="paragraph">如果原始叢集發生問題，您可以將備份還原至不同的叢集。</block>
  <block id="dd4ee610bd1d035c73bc0cbcd80e46da" category="paragraph">確保符合下列先決條件：</block>
  <block id="b20f8883edb9068c67a2faeb3c083d38" category="list-text">目的地叢集可存取與儲存備份的來源叢集相同 AppVault 的儲存區路徑。</block>
  <block id="1ff83a5266e9e025c2984e0c10dea90e" category="admonition">確保目的地叢集上存在用於應用程式還原的命名空間。</block>
  <block id="8d433ae9a21c49e9e5433ebd408605c0" category="list-text">從目的地叢集檢視可用 AppVault 的備份內容：</block>
  <block id="378e6f0ba7080535a4462b5311befb40" category="paragraph">執行此命令會顯示 AppVault 中的可用備份，包括其原始叢集，對應的應用程式名稱，時間戳記和歸檔路徑。</block>
  <block id="053aba80de03f3fdf626d1c858342330" category="list-text">使用 AppVault 名稱和歸檔路徑將應用程式還原至目的地叢集：</block>
  <block id="fceebbe32c1f7b24c54d6a4e8a0fa776" category="admonition">如果無法使用 BackupRestore CR ，您可以使用步驟 2 所述的命令來檢視備份內容。</block>
  <block id="4ef55c1fec2de9218af40d16cbc021a4" category="list-text">使用下列命令還原應用程式，將方括號中的值取代為您環境中的資訊。命名空間對應引數使用以冒號分隔的命名空間，將來源命名空間對應到正確的目的地命名空間，格式為 source1:dest1 ， source2:dest2 。例如：</block>
  <block id="41ee1e1e674f49a8e3c78fc5517b1b83" category="inline-link">Trident 24.10</block>
  <block id="330905133ec61fb32dbdb0593cf466a2" category="list-text"><block ref="330905133ec61fb32dbdb0593cf466a2" category="inline-link-rx"></block></block>
  <block id="14151311f8b442ecc7db1533868dccd9" category="paragraph">雖然不建議使用相同的後端 SVM 來執行兩個 Trident 執行個體。在安裝期間為每個執行個體指定唯一的磁碟區名稱、及 / 或在檔案中指定唯一的<block ref="641b2675465e765661450709e2351a8e" prefix=" " category="inline-code"></block>參數<block ref="57a3822fdb39e72cdc47d89fd04ce467" prefix=" " category="inline-code"></block>。這是為了確保兩個執行個體不使用相同的 FlexVol volume 。</block>
  <block id="c45e7f5f358ba554413458272da37266" category="paragraph"><block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>驅動程式在同一個 FlexVol volume 中最多建立 200 個 qtree （可設定在 50 到 300 之間），每個叢集節點建立 100,000 個 qtree ，每個叢集建立 2.4M 。當您輸入由經濟駕駛人服務的新<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block>項目時，駕駛會查看是否已有 FlexVol volume 可為新的 Qtree 提供服務。如果 FlexVol volume 不存在，無法為 Qtree 提供服務，則會建立新的 FlexVol volume 。</block>
  <block id="53f6fbaa0c2bc4ebb4fc98f8a0337c54" category="paragraph">這也可在驅動程式上使用，但在 FlexVol volume 層級精細度上使用<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>，而不是在 qtree 層級精細度上使用。若要啟用由 Trident 提供快照磁碟區的功能、請將後端參數選項設定為 ONTAP 後端<block ref="0a236e7685e50a59df980d0a30929d6c" prefix=" " category="inline-code"></block>上定義的所需快照原則。Trident 不知道儲存控制器所拍攝的任何快照。</block>
  <block id="68d4b8621bcc2d9eae1a68dc27dfa485" category="inline-link-macro">25.02</block>
  <block id="eaaf7bd308bf6f27888c8d18ba11417d" category="cell">2028 年 2 月</block>
  <block id="5956c33dbd8c8ed6e363f54092a9d544" category="paragraph"><block ref="5956c33dbd8c8ed6e363f54092a9d544" category="inline-link-macro-rx"></block></block>
  <block id="9574cb59de58a7e6882179620abd42fd" category="list-text">對於<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>驅動程式， PV 會對應至在共享 FlexVol Volume Volume Volume ， PV 的 Volume Snapshot 上建立的 LUN ，這是透過執行相關 LUN 的 FlexClones 來達成的。ONTAP FlexClone 技術讓您幾乎可以立即建立最大資料集的複本。複本會與其父實體共用資料區塊、除了中繼資料所需的儲存空間外、不需要使用任何儲存設備。</block>
  <block id="20215ca4c00abcf8fb731d0f856d0e91" category="section-title">FC工具</block>
  <block id="fb2a1518f6d194cef3caaff16d0f8ee4" category="admonition">請勿將（包括預設值）用於<block ref="ed66bef2b107983b6e4066fddf8c45c3" prefix=" " category="inline-code"></block>元素後端。根據預設、<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block>驅動程式會忽略此設定、而不使用前置碼。NetApp 建議您使用特定的 TenantId 來進行 Docker Volume 對應，或是使用包含 Docker 版本，驅動程式資訊和 Docker 原始名稱的屬性資料，以供任何名稱佔用。</block>
  <block id="ede78805a80cf9b2284aa458924e07b2" category="paragraph">* ONTAP SAN 驅動程式 * ：請勿指定 iSCSI 或 FC 。Trident 使用<block ref="2de2f329c45219df280af5a70ed7a17c" category="inline-link-macro-rx"></block>來探索建立多重路徑工作階段所需的 iSCSI 或 FC 生命負載。如果明確定義、就會產生警告<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block>。</block>
  <block id="c024b0a80a0f117a251e956f7b09ac4e" category="cell">* 僅支援<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>驅動程式。 *用於選擇<block ref="39eea648dab96b0ee6022dabb38bc420" prefix=" " category="inline-code"></block> iSCSI 、<block ref="eac89e2640666fd1076a776e4b748fae" prefix=" " category="inline-code"></block> NVMe / TCP 或<block ref="0f64d0456878c73cbec1ccea842a6f14" prefix=" " category="inline-code"></block> SCSI over Fibre Channel （ FC ）。</block>
  <block id="36212bd37512e583deabaefb464f77f9" category="paragraph">要使用的分層原則，預設為<block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block>。</block>
  <block id="b52d90bca507da030b84d478b8b8f150" category="paragraph"><block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>和<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>驅動程式會為每個 Docker Volume 建立 ONTAP FlexVol 。ONTAP 每個叢集節點最多可支援 1000 個 FlexVols ，叢集最多 12 ， 000 個 FlexVol Volume 。如果您的 Docker Volume 需求符合這項限制，則<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>由於 FlexVols 提供的額外功能（例如 Docker Volume 精細快照和複製），因此驅動程式是首選的 NAS 解決方案。</block>
  <block id="35bf5cbb6338abecc1fe5e2fddecc6fa" category="example-title">SCSI over FC 範例，適用於 &lt;code&gt; ONTAP － &lt;/code&gt; 驅動程式</block>
  <block id="58c4d5bb52050e96221a67cebc52a666" category="paragraph">NFS ， iSCSI 和 FC 的 Volume Create 選項包括：</block>
  <block id="72291962244c35e29a2e95cd6bd139bf" category="list-text">使用快照原則建立磁碟區，並接受 ONTAP 的預設快照保留（通常為 5% ）：</block>
  <block id="90de0fd1d09f4fc27d99667555a8a12f" category="paragraph">ONTAP 系統具有 All Flash ，混合式或全硬碟組態，並提供許多不同的部署模式：內部部署 FAS ， AFF 和 ASA 叢集， ONTAP Select 和 Cloud Volumes ONTAP 。Trident 支援這些 ONTAP 部署模式。</block>
  <block id="bde4e01f8df98626e0dc1c36a8e06a5a" category="admonition">在將安裝了 Trident 的 Kubernetes 叢集從 1.25 升級至 1.26 或更新版本之前<block ref="1b428bb9b9fe27db6cd8932526864634" category="inline-link-macro-rx"></block>、請參閱。</block>
  <block id="8f323a9e5c0c5162cc6e0d48e0cb1850" category="paragraph-title">支援的儲存驅動程式：</block>
  <block id="8321592ce24c8a122ecf26a63cfca407" category="list-text">ONTAP-NAS</block>
  <block id="caafdf62a2c609bfa5316118231a1007" category="list-text">ONTAP NAS 經濟效益</block>
  <block id="188c0d870c5f930d042bdaa1f1fc3573" category="list-text">ONTAP SAN （ iSCSI ， FCP ， NVMe over TCP ）</block>
  <block id="1bbe28a8ef9b1c85d07b013af0628d36" category="list-text">ONTAP SAN 經濟型（僅限 iSCSI ）</block>
  <block id="db526afc657fdfec1ca176eb9d281f89" category="list-title">要考量的重點：</block>
  <block id="f97169869bcbff98d85a1b7ec1d7b5f8" category="list-text">對於需要 rwx 存取模式的即時移轉工作流程，支援下列組合：</block>
  <block id="d3701dd5a7c831a74d496a90c3a65f13" category="list-text">NFS +<block ref="7f5db5e0500761cacd6f89838e2ebdc5" prefix=" " category="inline-code"></block></block>
  <block id="42c7d371004c0674ae717618c4a08508" category="list-text">iSCSI +<block ref="1467a571dd94848f616edc4a0c33b927" prefix=" " category="inline-code"></block> （原始裝置）</block>
  <block id="e031968b595722f16da97146c3a92c69" category="list-text">NVMe / TCP +<block ref="1467a571dd94848f616edc4a0c33b927" prefix=" " category="inline-code"></block> （原始裝置）</block>
  <block id="381edc20137f75d1e418981c1361fd2c" category="list-text">FC +<block ref="1467a571dd94848f616edc4a0c33b927" prefix=" " category="inline-code"></block> （原始裝置）</block>
  <block id="97949d2167cfb02925ebeb5fbc18e41c" category="admonition">使用<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>或<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>驅動程式時，您需要將後端組態中的參數設定<block ref="323e871cfe2e70ead9c713e8f3164f8f" prefix=" " category="inline-code"></block>為<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>，以便 Trident 可以使用受管理的匯出原則套用的污染來限制從 Kubernetes 節點的存取。</block>
  <block id="f27e6cf95381139bd9916c64f178d212" category="list-text">對於運行 Kubernetes 1.24 的羣集，請使用 <block ref="ccef28639b5a7d8b851d32c1ca719ce3" category="inline-link-macro-rx"></block>。</block>
  <block id="b9f6abf28d1518cdaae0ed7e29a5727e" category="list-text">對於運行 Kubernetes 1.25 或更高版本的羣集，請使用 <block ref="d1039b29d019902f70f499d65ede99cb" category="inline-link-macro-rx"></block>。</block>
  <block id="701fc71f0daf0d596d98b3af41d195dd" category="list-text">內部部署 NetApp FAS ， AFF 和 ASA 叢集</block>
  <block id="405c5315f2ee81c7d907857a97bc9ccc" category="list-text">將備份產出工件放在 FlexVol volume 上</block>
  <block id="f4d58905240b9c44d84e6ee73c8499ac" category="admonition">NetApp 建議您保護 FlexVol 所在的 SVM ，並與另一個 SVM 建立 SnapMirror 關係。</block>
  <block id="2e465fe2a334bfbbd0254091d76e5cf5" category="cell">NO腳 註： 3[]</block>
  <block id="c2f3f489a00553e7a01d369c103c7251" category="cell">否</block>
  <block id="60fa17e80af13d37b16c3991f5b175a6" category="verse-content-simple">上表的註腳： Yesporte:1[] ：非由 Trident 管理 Yesporte:2[] ：由 Trident 管理，但非 PV 精細 NO腳 註 :3[] ：非由 Trident 管理，非 PV 精細腳註： 4[] ：支援原始區塊磁碟區 Yesport:5[] ：由 Trident 支援</block>
  <block id="ce8f76b595bb8163817ad21f0d964fe2" category="admonition">Kubernetes 樹內置備程式目前不支援 NFS ， iSCSI 或 FC PV 的 Volume resize 作業。Trident 支援擴充 NFS ， iSCSI 和 FC 磁碟區。</block>
  <block id="1b5e17f09c6b94c6a943765fe4bf9d6c" category="list-text">基於效能理由， NetApp 建議工作節點支援進階加密標準新指令（ AES-NI ）。若要驗證AES-NI支援、請執行下列命令：</block>
  <block id="8d102642e270f6e890338a2cfc4a188d" category="paragraph">例如，雙節點 ONTAP 叢集最多可裝載 2000 個 FlexVol 磁碟區。將最大Volume數設為1250似乎非常合理。不過、如果只有<block ref="acf6cbef6ee0ef07ee3fe13269233be8" category="inline-link-rx"></block>一個節點指派給 SVM 、或是無法針對一個節點指派的集合體進行資源配置（例如、由於容量）、則另一個節點會成為所有 Trident 資源配置 Volume 的目標。這表示在達到該值之前、可能會達到該節點的磁碟區限制<block ref="1829fafb02997aa2b4d309a69b7cdbfa" prefix=" " category="inline-code"></block>、進而影響使用該節點的 Trident 和其他磁碟區作業。*您可以確保叢集中每個節點的集合體都指派給Trident使用的SVM、數量相等、藉此避免這種情況。*</block>
  <block id="f3497351aae46692e603fedb2f2cd146" category="inline-link">ONTAP 命令參照</block>
  <block id="94ac1e66ef8b79949d7fe240ca1fc49e" category="paragraph">如需 QoS 原則群組的詳細資訊，請<block ref="c7075dcfeceb3e1e55c7a25ddec6d166" category="inline-link-rx"></block>參閱。</block>
  <block id="6146d9e1c8e067801be76f7b7027b42f" category="paragraph">限制對 Trident 所建立的 NFS 磁碟區， iSCSI LUN 和 FC LUN 的存取，是 Kubernetes 部署安全性態勢的重要元件。這樣做可防止非Kubernetes叢集一部分的主機存取磁碟區、並可能意外修改資料。</block>
  <block id="fe7898282075be6913421f0b11f5c0e1" category="inline-link">SAN 管理</block>
  <block id="cd2793aaeed5e7f0429f516ecf5eb130" category="list-text"><block ref="8a4b824281db82475bec9857f32bde41" category="inline-link-rx"></block>（適用於 iSCSI ）</block>
  <block id="23db1fababbb1ae99bf5bf19e6f6f47b" category="list-text">NetApp 建議複製閒置磁碟區。</block>
  <block id="3ca0a694ceba360e6f67566a611b37fb" category="paragraph">Volume 是資源配置的基本單位，包括 NFS 共用， iSCSI 和 FC LUN 等後端端點。在 Kubernetes 中、這些直接對應到<block ref="3f91308865b7567ae097573f6d0519e9" prefix=" " category="inline-code"></block>。建立磁碟區時、請確定它有一個儲存類別、決定該磁碟區可以配置的位置及大小。</block>
  <block id="f732fd09d1f97b63aaad6d5a80382f0c" category="list-text">新增對 iSCSI 的 ONTAP ASA R2 支援。</block>
  <block id="87959ecf0c52ae4baca9f7e962286ec1" category="list-text">新增在非正常節點關機案例中強制分離 ONTAP NAS 磁碟區的支援。新的 ONTAP NAS 磁碟區現在將使用由 Trident 管理的每個磁碟區匯出原則。提供升級路徑，讓現有的磁碟區在解除發佈時轉換至新的匯出原則模型，而不會影響作用中的工作負載。</block>
  <block id="09abe7a508b1461d2b42cd082e9680aa" category="list-text">新增 cloneFromSnapshot 註釋。</block>
  <block id="9746cecbe2eafd28277700bbaea79ccf" category="list-text">新增跨命名空間磁碟區複製支援。</block>
  <block id="1cd9d07d7ac9faf3b1d1e464094fed79" category="list-text">增強的 iSCSI 自我修復掃描修正功能，可透過精確的主機，通道，目標和 LUN ID 來初始化重新掃描。</block>
  <block id="c2653fd16e9e4da4d4d738616dcb956a" category="list-text">增加了對 Kubernetes 1.32 的支援。</block>
  <block id="2e110255627afe2fff57458d9bb2205b" category="list-text">* OpenShift* ：</block>
  <block id="ddbeca6e89eb34fdc94eeec79b9f6a43" category="list-text">新增對 ROSA 叢集上的 RHCOS 自動 iSCSI 節點準備的支援。</block>
  <block id="e5f47a8bc4c6e320936843808b4b8392" category="list-text">在 ONTAP SAN 驅動程式上新增光纖通道支援。</block>
  <block id="00a0b47f2d2eb76897798a0b983daf88" category="list-text">新增 NVMe LUKS 支援。</block>
  <block id="890fc08a388302375744ade0476c1409" category="list-text">已切換至所有基礎映像的暫存映像。</block>
  <block id="d6dc63ac67744b1aac236b69c66dfde2" category="inline-link-macro">問題 #961</block>
  <block id="35805c702a0d37de58fd020d28318c88" category="list-text">已新增 iSCSI 連線狀態探索和記錄功能，可在 iSCSI 工作階段應登入時進行，但不會（<block ref="0939f851f18acedadb7fdffdec6d140b" category="inline-link-macro-rx"></block>）。</block>
  <block id="121a804f61cdaf83f9c80e5b2ecf5658" category="list-text">使用 googoogle 雲端 NetApp 磁碟區驅動程式新增對 SMB 磁碟區的支援。</block>
  <block id="92ce3c86905470d0feaa428d8438bf74" category="list-text">新增支援，允許 ONTAP 磁碟區在刪除時略過恢復佇列。</block>
  <block id="7b97d5f955a87ceaab8fdc5ee542dd5d" category="list-text">新增支援以取代標籤，取代預設影像。</block>
  <block id="8064b658df7d1098fbc06c88a182a398" category="list-text">新增映像拉取秘密旗標至 Tridentctl 安裝程式。</block>
  <block id="a6b7ff9774a7997f58d8eeff9907ae1f" category="inline-link-macro">問題 #965</block>
  <block id="6cb0e6987f921e8d1b11fc9850d89d90" category="list-text">修復自動匯出原則中遺失的節點 IP 位址（<block ref="54a0e12625c53fbb79b83159edf0dab4" category="inline-link-macro-rx"></block>）。</block>
  <block id="2ad835ef65ba9fef1c3b178d86eb59b1" category="list-text">為節省 ONTAP NAS 成本，提早將自動匯出原則切換至每個 Volume 原則。</block>
  <block id="a794d83b092a8031769c2bcf2a88ceb5" category="inline-link-macro">問題 #913</block>
  <block id="cfc9cd0ab1d20f67db270bed8d63126c" category="list-text">固定後端組態認證，可支援所有可用的 AWS ARN 分割區（<block ref="00fe04b68c89d56b5fe9076943919a54" category="inline-link-macro-rx"></block>）。</block>
  <block id="375e43b9a6d4ec413731b638ec0945b5" category="inline-link-macro">問題 #924</block>
  <block id="50da178eec9235ba0a85999374d51cba" category="list-text">新增選項可在 Trident 運算子（）中停用自動組態設定器協調<block ref="95579fcabb606a95f307c6ba89588c08" category="inline-link-macro-rx"></block>。</block>
  <block id="16aa6756a13a48723b3d2bc4bf50c104" category="inline-link-macro">問題 #976</block>
  <block id="60b04b91abae29736bd23b21579be5cb" category="list-text">增加安全性 CSI 調整容器的 Context （<block ref="a97be45bfcdf3eeaee81dc9917811f8f" category="inline-link-macro-rx"></block>）。</block>
  <block id="7df125a00671c08a40e0225c8e7bfe51" category="list-text">新增在 Kubevirt 環境的應用程式層級控制凍結行為的功能。</block>
  <block id="bde8e1e3de96ead9884d920004bad3bf" category="list-text">新增了設定 AutoSupport Proxy 連線的支援。</block>
  <block id="3a3a7f688efad3284b8088de98d9c990" category="list-text">新增定義資料移動器加密機密的功能（ Kopia / Restic ）。</block>
  <block id="7bd24598cff0819911511e7a4114afc9" category="list-text">新增了手動執行掛鉤的功能。</block>
  <block id="b5b9bc3aab84e4b648c1432f95ac9294" category="list-text">新增 AppVault 物件的 HTTP / HTTPS 外傳 Proxy 支援。</block>
  <block id="e7ce2b289382a615113880a71867a2fb" category="list-text">延伸資源篩選器可啟用叢集範圍資源的排除。</block>
  <block id="230ae1ea7310e8fa80a6cd9e6208085e" category="list-text">在 S3 AppVault 認證中新增對 AWS 工作階段權杖的支援。</block>
  <block id="639c61df343e77e3de0b8188942cb635" category="list-text">在快照前執行攔截之後新增資源集合支援。</block>
  <block id="31ddfac7cfd4824f2708b4b925145a29" category="list-text">改善暫存磁碟區的管理，以略過 ONTAP 磁碟區恢復佇列。</block>
  <block id="b9b8b880b51afd88c2f4e04a85fe762e" category="list-text">SCC 註釋現在會還原為原始值。</block>
  <block id="b045f8636f0c21a7fefb437149e20dc9" category="list-text">支援平行作業，提升還原效率。</block>
  <block id="8f35f1b8a50531165f36731d30906b11" category="list-text">強化支援大型應用程式的執行掛機逾時。</block>
  <block id="c7e79f1db15a592daab7f7427aef79d5" category="section-title">24.10 的變更</block>
  <block id="b4da90c52a04dd004929d86ec62cc931" category="list-text">在 ONTAP SAN 驅動程式上新增光纖通道支援的技術預覽。</block>
  <block id="bf8ced7df51ab8a52eb2f62a26930270" category="list-text">在 Trident 中新增支援，預設使用 REST ，而非 ONTAP 9.15.1 版及更新版本的 ONTAPI （ ZAPI ）。</block>
  <block id="629823c949babd4c929b5092cd5e2745" category="list-text">固定式 Trident ，可在 ONTAP SAN 驅動程式調整大小的作業期間，防止 FlexVol 磁碟區縮小。</block>
  <block id="f327f341da3048e9e44264cc06a32d7e" category="list-text">新增 Amazon FSX 特性至 ONTAP 驅動程式，以啟用與 AWS IAM 和 SecretsManager 的整合，並讓 Trident 能夠刪除具有備份功能的 FSX 磁碟區（<block ref="7c3258c670b686f5f475bd6b06dfec79" category="inline-link-macro-rx"></block>）。</block>
  <block id="0f6d5d982c20f6f746c8e4019cc039f8" category="list-text">修正了 ONTAPI （ ZAPI ）要求，確保在節點暫存作業期間取得 LUN 屬性以識別和修正軌跡 iSCSI 裝置時，會查詢 LUN 序號。</block>
  <block id="1ae87fd6923d3446058e089c56a6c49d" category="list-text">將 Amazon FSX for NetApp ONTAP 的 SMB Volume 支援新增至 ONTAP NAS 儲存驅動程式。</block>
  <block id="4e48fbbb41f5d5816d9638612c6e4171" category="list-text">在管理多個 FlexVol 磁碟區時，改善 ONTAP NAS 經濟型儲存驅動程式的效能</block>
  <block id="bf5d13740edaf72b96d340da8b520aa2" category="paragraph">瞭解 Google Cloud NetApp Volumes 的後端組態選項，並檢閱組態範例。</block>
  <block id="a61f1a0c3100fa19040c465723b8d138" category="example-title">SMB 磁碟區的組態</block>
  <block id="d7532ab2cf050869a37a3b301475208c" category="paragraph">您現在可以將 Google Cloud NetApp Volumes 設定為 Trident 的後端。您可以使用 Google Cloud NetApp Volumes 後端來附加 NFS 和 SMB 磁碟區。</block>
  <block id="e996b7ab8a2ede8d8b06fc99b3a11062" category="cell"><block ref="8321592ce24c8a122ecf26a63cfca407" prefix="" category="inline-code"></block>、<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>或<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block></block>
  <block id="891bc9d98980555712816ab85ae4a747" category="list-text"><block ref="323e871cfe2e70ead9c713e8f3164f8f" prefix="" category="inline-code"></block>設定為<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>。這表示 Trident 會為使用此後端為 SVM 佈建的每個 Volume 建立匯出原則<block ref="3568c00ad84b08a31b2dfadbfd8ee221" prefix=" " category="inline-code"></block>、並使用位址區塊來處理規則的新增和刪除<block ref="c108f084ab28ac46ad3787ba09ae8304" prefix=" " category="inline-code"></block>。在磁碟區附加至節點之前、該磁碟區會使用沒有規則的空匯出原則、以防止不必要的存取該磁碟區。當磁碟區發佈至節點 Trident 時、會建立一個匯出原則、其名稱與包含指定 CIDR 區塊內節點 IP 的基礎 qtree 相同。這些 IP 也會新增至父 FlexVol volume 所使用的匯出原則</block>
  <block id="ce3bd20884ed2b4f4a604d922dbb0dd9" category="admonition">您必須在 SVM 上同時設定 NFS 和 SMB/CIFS 通訊協定，才能為 ONTAP 內部部署叢集建立<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> SMB Volume 。若未設定上述任一種通訊協定、將導致 SMB 磁碟區建立失敗。</block>
  <block id="b6de3e094a7f00742b82e2ac02d7d167" category="cell"><block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix="" category="inline-code"></block>或<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block></block>
  <block id="b42a873c5558eb05b643cf896aa6e1a4" category="paragraph">叢集或 SVM 管理 LIF 的 IP 位址。</block>
  <block id="3dba01512ea96ad84a108f0fc949477a" category="paragraph">您可以指定完整網域名稱（FQDN）。</block>
  <block id="fcc539559cb740199f02074f11b246c3" category="paragraph">如果使用 IPv6 旗標安裝 Trident 、則可設定為使用 IPv6 位址。IPv6 位址必須以方括弧定義，例如<block ref="33e9328e92e3ef05629093b4693b3925" prefix=" " category="inline-code"></block>。</block>
  <block id="3b4dab2ec7635dde859482b32c23ab9f" category="paragraph">如需無縫 MetroCluster 之間的互通性<block ref="41195e18a4a81a05f5c5a6be365a5602" category="inline-xref-macro-rx"></block>、請參閱。</block>
  <block id="2c8c9fb51502e9a1b2d2539b4d21a27b" category="cell">傳輸協定LIF的IP位址。如果使用 IPv6 旗標安裝 Trident 、則可設定為使用 IPv6 位址。IPv6 位址必須以方括弧定義，例如<block ref="33e9328e92e3ef05629093b4693b3925" prefix=" " category="inline-code"></block>。* 請勿指定 iSCSI 。 *Trident 使用<block ref="2de2f329c45219df280af5a70ed7a17c" category="inline-link-macro-rx"></block>來探索建立多重路徑工作階段所需的 iSCSI 生命。如果明確定義、就會產生警告<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block>。* MetroCluster 省略。 *請參閱<block ref="41195e18a4a81a05f5c5a6be365a5602" category="inline-xref-macro-rx"></block>。</block>
  <block id="1f5f7f2866fe3a2c557b2ea38e4c2137" category="cell">用於選擇<block ref="39eea648dab96b0ee6022dabb38bc420" prefix=" " category="inline-code"></block> iSCSI 、<block ref="eac89e2640666fd1076a776e4b748fae" prefix=" " category="inline-code"></block> NVMe / TCP 或<block ref="0f64d0456878c73cbec1ccea842a6f14" prefix=" " category="inline-code"></block> SCSI over Fibre Channel （ FC ）。</block>
  <block id="b1b6ee25d859768bce6271cfb4265c37" category="admonition">如果您在 NetApp ONTAP 上搭配 Trident 使用 Amazon FSX ， NetApp 建議您指定生命體的 DNS 名稱，而非 IP 位址。</block>
  <block id="d5be4c1bab384a780d2912d10b295308" category="paragraph">若要無縫切換和切換，請使用並省略<block ref="924ff83ff1e671bacfb07ff12b845703" prefix=" " category="inline-code"></block>參數來指定 SVM<block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix=" " category="inline-code"></block> 。例如：</block>
  <block id="c905ec8a79a58aa12ad3c7ae35e3127d" category="example-title">SCSI over FC （ FCP ）範例</block>
  <block id="aecb281656d93e34b85fc03341498ff2" category="paragraph">您必須在 ONTAP 後端設定具有 FC 的 SVM 。這是 FC 的基本後端組態。</block>
  <block id="d502f4db20ef2dbccab335781e870976" category="example-title">formatOptions ONTAP - SAN 經濟型驅動程式範例</block>
  <block id="54ed52257df13a4cb85caecc569dfeff" category="paragraph">Trident 會在「意見」欄位中設定資源配置標籤。在 FlexVol volume Trident 上設定的註解會將虛擬集區上的所有標籤複製到資源配置時的儲存磁碟區。為了方便起見、儲存管理員可以針對每個虛擬資源池定義標籤、並依標籤將磁碟區分組。</block>
  <block id="684e3a49585228dba75783996b7b6fe7" category="admonition">更新後端的 CHAP 機密時、您必須使用<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>來更新後端。請勿使用 ONTAP CLI 或 ONTAP 系統管理員更新儲存叢集上的認證，因為 Trident 將無法取得這些變更。</block>
  <block id="1f04e6944e16311a300b742aa0cfb55c" category="paragraph">iSCSI SCSI over FC</block>
  <block id="acb2e9160652c3e412ead9e870d11c9b" category="summary">將 Trident EKS 附加元件新增至 Kubernetes 叢集。</block>
  <block id="a2aa5421f278a17c32520d5a0b59edb2" category="doc">在 EKS 叢集上設定 Trident EKS 附加元件</block>
  <block id="c4a27aca3b599e184c25bae01c45a9ec" category="paragraph">NetApp Trident 簡化了 Kubernetes 中適用於 NetApp ONTAP 儲存管理的 Amazon FSX ，讓開發人員和管理員能夠專注於應用程式部署。NetApp Trident EKS 附加元件包含最新的安全性修補程式，錯誤修正，並經過 AWS 驗證，可與 Amazon EKS 搭配使用。EKS 附加元件可讓您持續確保 Amazon EKS 叢集安全穩定、並減少安裝、設定及更新附加元件所需的工作量。</block>
  <block id="1ed7790b15234cd5e801f2adf2a3dcd8" category="inline-link-macro">Amazon EKS 附加元件</block>
  <block id="cf83ec5a1f7760b5f6841c88c08cd788" category="list-text">具有附加元件使用權限的 Amazon EKS 叢集帳戶。請參閱 <block ref="40db0d27bd24093e06ae540834459d19" category="inline-link-macro-rx"></block>。</block>
  <block id="1264c0dc5af1ae65d165b02064fb48da" category="list-text">請務必建立 IAM 角色和 AWS 密碼，讓 EKS Pod 能夠存取 AWS 資源。有關說明，請參閱<block ref="0243716974e666f2f8c61577b454990b" category="inline-link-macro-rx"></block>。</block>
  <block id="5125c17a3f7aca891b87dc6ad4b9aa93" category="list-text">在 EKS Kubernetes 叢集上，瀏覽至 * 附加元件 * 索引標籤。</block>
  <block id="07a5364a7a995818398d39d8d5f84d64" category="list-text">找到 * NetApp Trident * 並選取 Trident 附加元件的核取方塊，然後按一下 * 下一步 * 。</block>
  <block id="7f3424d52d579a5a23fa5102f22de8bd" category="list-text">執行下列命令，確認叢集上已正確安裝 Trident ：</block>
  <block id="5b06ec175e810e88c7f4e485931d2ce9" category="list-text">繼續設定並設定儲存後端。如需相關資訊，請參閱 <block ref="a2c0b79bf795dfa2b95204a4216320db" category="inline-link-macro-rx"></block>。</block>
  <block id="2f3961a883aa613983c8f34a8add7695" category="paragraph-title">使用 CLI 安裝 NetApp Trident EKS 附加元件：</block>
  <block id="fa1234b3e3fcccb885405485ab5cbefb" category="paragraph-title">使用 CLI 解除安裝 NetApp Trident EKS 附加元件：</block>
  <block id="aa8e98bf63904518342c90bd49a9ea9c" category="paragraph">下列命令會解除安裝 Trident EKS 附加元件：</block>
  <block id="e462cafda39f4eb6d1800486fc401348" category="cell">如果要求的磁碟區大小高於此值、則資源配置失敗。也會限制其管理 qtree 和 LUN 的最大磁碟區大小，而且此<block ref="8b08152c170e621ffcc8bfac7c4d6785" prefix=" " category="inline-code"></block>選項可讓您自訂每個 FlexVol volume 的最大 qtree 數量</block>
  <block id="e992eb9afeef39efec8f68b68ffade1d" category="paragraph">* 政策 JSON 範例 * ：</block>
  <block id="54fe765490f6a1e88df34666a34bd7de" category="paragraph">* 信任關係 .json 檔案： *</block>
  <block id="383e53c41c71ed73661ac56b250f6ba3" category="paragraph">更新檔案中的下列值<block ref="d19984a25b3e536a13a6bc3036325ffd" prefix=" " category="inline-code"></block>：</block>
  <block id="e6fd9d7b1a119dcc259f2b06b2a2168c" category="list-text">* &lt;account_id&gt; * - 您的 AWS 帳戶 ID</block>
  <block id="799fd029d6ab8a846f662458a1f8df55" category="list-text">* &lt;oidc_provider&gt; * - EKS 叢集的 OIDC 。您可以執行下列項目來取得 oidc_provider ：</block>
  <block id="053db598e2fbb7aa26ff7edbf6139941" category="paragraph">* 使用 IAM 原則附加 IAM 角色 * ：</block>
  <block id="069097b4881e6034a743e694f616726d" category="paragraph">建立角色後，請使用以下命令將原則（在上述步驟中建立）附加至角色：</block>
  <block id="02b550dde0cf971ab3461242774691c7" category="paragraph">* 驗證 OICD 提供者是否已關聯 * ：</block>
  <block id="25c5ea267b4be122e562399076209238" category="paragraph">確認您的 OIDC 供應商與您的叢集相關聯。您可以使用下列命令來驗證：</block>
  <block id="7c3f89bd6bb66984ef17d4765bf1f65a" category="open-title">eksctl</block>
  <block id="bc04665b1c712547a7dcc87033ae7152" category="paragraph">您可以使用下列其中一種方法來安裝 Trident ：</block>
  <block id="a01b2c45a64c7d0c2a2aa3ce418eaa04" category="inline-link-macro">啟用 CSI Volume 的快照功能</block>
  <block id="9adc02aa546c3838bddb73a67ebaa4e2" category="paragraph">如果您想要使用快照功能，請安裝 CSI Snapshot 控制器附加元件。如需詳細資訊、請參閱 <block ref="d2fce68a585fb4c517040885fb7393e9" category="inline-link-macro-rx"></block> 。</block>
  <block id="df5baf46554bffd06bf1e8e9ae5e6b52" category="paragraph">下列範例命令會安裝 Trident EKS 附加元件：</block>
  <block id="87d54c3153674640af4f36dd72f8953a" category="list-text">在 * Configure Trident by NetApp * 頁面上、執行下列步驟：</block>
  <block id="7d91a8c58620fc2b878600d5ab834bda" category="list-text">* 從叢集完全移除附加軟體 * – NetApp 建議您只有在叢集上沒有任何相關資源的情況下，才從叢集移除 Amazon EKS 附加元件。從命令中移除<block ref="4b4ac0f998920a46fd2015e11d01d3e7" prefix=" " category="inline-code"></block> 選項<block ref="099af53f601532dbd31e0ea99ffdeb64" prefix=" " category="inline-code"></block> 以移除附加元件。</block>
  <block id="996d0bc5ff30cfbcef97caeaf2c6b353" category="paragraph">若要建立儲存後端，您需要以 JSON 或 YAML 格式建立組態檔案。檔案需要指定您想要的儲存類型（ NAS 或 SAN ），檔案系統和 SVM ，才能從中取得，以及如何驗證。以下範例說明如何定義 NAS 型儲存設備，以及如何使用 AWS 密碼將認證儲存至您要使用的 SVM ：</block>
  <block id="301909df91f724e7a48b15a1b5d05fa2" category="paragraph">執行下列命令以建立及驗證 Trident 後端組態（ TBC ）：</block>
  <block id="d072ff8aa34f8a629a86f50ed8e738e5" category="list-text">從 yaml 檔案建立 Trident 後端組態（ TBC ），然後執行下列命令：</block>
  <block id="f695eae3342584490d4ff28ac968bd5b" category="list-text">驗證已成功建立 Trident 後端組態（ TBC ）：</block>
  <block id="1189a90ab4944cc8e995186943355be8" category="paragraph">建立組態檔案後，請執行此命令，在 EKS 中建立：</block>
  <block id="91997590df030f7b1753ee07ed8a9857" category="paragraph">若要驗證狀態，請執行此命令：</block>
  <block id="2001e2e03a90bd5c85ca8982c01a0500" category="cell">每個 FlexVol volume 的最大 LUN 數必須在 [50 ， 200] 範圍內。僅限 SAN 。</block>
  <block id="14ed525d625786e77d722ce4d08ee599" category="cell">每個 FlexVol volume 的最大 qtree 數必須在範圍 [50 ， 300]</block>
  <block id="9a30deaecbfde403e36a8a700d09e3e1" category="cell">使用ONTAP Isrest API的布林參數。設為<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>時、 Trident 將使用 ONTAP REST API 與後端通訊。此功能需要ONTAP 使用更新版本的版本。此外、使用的 ONTAP 登入角色必須具有應用程式存取權<block ref="a9ba4dc88fa11d44cc7c0c918d174778" prefix=" " category="inline-code"></block> 。這是預先定義的和角色所滿足<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block><block ref="fdb6ba311fad29ec53069808f10ebef4" prefix=" " category="inline-code"></block> 的。</block>
  <block id="43d8d272a15eda3f1fbfcedc2408b697" category="paragraph">若要在 AWS Bottlerocket 上佈建 NFSv3 磁碟區，請將必要的新增<block ref="e1d3d66c5926aa7fbc3186da8f9b476b" prefix=" " category="inline-code"></block>至儲存類別：</block>
  <block id="2b00559f1e8a052e6ec27fd2da2fc0ef" category="paragraph-title">可存取 RWX 的 PVC</block>
  <block id="627d563f4445675e960fd39150a292ba" category="paragraph">檔案系統是Amazon FSX的主要資源、類似ONTAP 於內部部署的一個叢集。在每個SVM中、您可以建立一個或多個磁碟區、這些磁碟區是儲存檔案系統中檔案和資料夾的資料容器。Amazon FSX for NetApp ONTAP 將以雲端託管檔案系統的形式提供。新的檔案系統類型稱為* NetApp ONTAP Sing*。</block>
  <block id="e5fd3b07dfde2732fc5e3a9d4e7c5370" category="section-title">已測試的 Amazon Machine 映像（ Amis ）</block>
  <block id="af2fcef81914e3ce8b2cbe1ab832c879" category="cell">Ami</block>
  <block id="c07ee5debf5f3a3fef16c1ee5e8e4942" category="cell">NAS</block>
  <block id="12b1f0215cde9ea0ca4aac0c3ade3a96" category="cell">NAS 經濟效益</block>
  <block id="b2f628a87c3b04816210b608f76d5fa0" category="cell">AL2023_x86_64_STANDARD</block>
  <block id="c1dfeb2129506a6914b9c6c3c0cdb647" category="cell">AL2_x86_64</block>
  <block id="9cfc5bb3d7caf552b74c3e5295bb5f11" category="cell">是 **</block>
  <block id="e732f4cda23726735e2b2cf9bc3ba76f" category="cell">BOTTLEROCKET_x86_64</block>
  <block id="01a9a3b8d0fcae3055dc91935e8ec6c6" category="cell">是*</block>
  <block id="382b0f5185773fa0f67a8ed8056c7759" category="cell">不適用</block>
  <block id="1566bc91a0bfa1dbeba46107fc54f756" category="cell">AL2023_ARM_64_STANDARD</block>
  <block id="e3b9c2e4d8176e1074a9511b580d6396" category="cell">AL2_ARM_64</block>
  <block id="a28322bc0e8a38770a1af7cc1d4a9ad9" category="cell">BOTTLEROCKET_ARM_64</block>
  <block id="07e5351dce8b6c8e3f72745762bac773" category="paragraph">* 使用 * 執行的測試：</block>
  <block id="583a5d19bce672251a82cb390b576d1a" category="list-text">對於 NAS ， NFSv3 和 NFSv4.1 都已經過測試。</block>
  <block id="8dba245dcac3bf8acf6067e0d62d01cb" category="list-text">僅針對 SAN 進行 iSCSI 測試，非 NVMe 型。</block>
  <block id="6eee4bc92cc38369e7271225ec488e82" category="paragraph">* 已執行的測試 * ：</block>
  <block id="0524d900ed906479235e99cfc10e1cb6" category="list-text">建立：儲存類別， PVC ， Pod</block>
  <block id="12dbb8a3d281738c9cc213bc80fa2343" category="list-text">刪除： Pod ， PVC （一般， qtree /LUN –經濟， NAS 搭配 AWS 備份）</block>
  <block id="c50cb71bc70d27f0ecf850ff18d11479" category="summary">使用 Trident ，您可以使用同一個 K8s 叢集中不同命名空間的現有磁碟區或 Volume 快照來建立新的磁碟區。</block>
  <block id="fc61af20b92225aae2a169587940eb14" category="doc">跨命名空間複製磁碟區</block>
  <block id="7d3b4ba16dd9908f0a9572976f62cb92" category="paragraph">使用 Trident ，您可以使用同一個 Kubernetes 叢集中不同命名空間中的現有磁碟區或磁碟區快照來建立新的磁碟區。</block>
  <block id="12bf911acc3865647e24aa6cc61fad9d" category="paragraph">在複製磁碟區之前，請確定來源和目的地後端的類型相同，而且具有相同的儲存類別。</block>
  <block id="9e556d1188a1d7d3f911546d9c8f70f1" category="paragraph-title"><block ref="58f667aaf05f87159670e12bd9bc076b" category="inline-image-macro-rx" type="image"></block>設定來源 PVC 來複製磁碟區</block>
  <block id="4f371bbe8ba542b2ca00eb9f3a3a2716" category="paragraph-title"><block ref="beadfa85a2fdca06b91edc1131c603e6" category="inline-image-macro-rx" type="image"></block>在目的地命名空間中建立複製 PVC</block>
  <block id="a77fe76c8980416f14767484ab56a324" category="paragraph">目的地命名空間的擁有者會建立 PVC ，從來源命名空間複製 PVC 。</block>
  <block id="b739008e44cdaf094f62931a68086bb5" category="paragraph">為了確保安全性，跨命名空間複製磁碟區需要來源命名空間擁有者，叢集管理員和目的地命名空間擁有者共同作業和採取行動。使用者角色會在每個步驟中指定。</block>
  <block id="6558f904ce916da3190d62209965d0ee" category="list-text">* 來源命名空間擁有者： * <block ref="30520f4f96804df83914260b79f55962" prefix="(" category="inline-code"></block>在來源命名空間中建立 PVC <block ref="612897f0683dd83be850731b14801182" prefix="(" category="inline-code"></block>），可授予與目的地命名空間共用的權限<block ref="6fde1ba4470caca933058264dbfdea2e" prefix="(" category="inline-code"></block><block ref="176dbae9b2594398063073fa2462e819" prefix=" " category="inline-code"></block>。</block>
  <block id="848c08c0dad8da2f2f28ca678bbfbf1f" category="list-text">您可以使用以逗號分隔的清單、將永久虛擬儲存設備共用至多個命名空間。例如<block ref="01066aa74fe32f5dae708937da0fdc6f" prefix=" " category="inline-code"></block>：。</block>
  <block id="e49c2aab2a070ab6ebb8b78acc7d3685" category="list-text">您可以使用共用所有命名空間<block ref="3389dae361af79b04c9c8e7057f60cc6" prefix=" " category="inline-code"></block>。例如、<block ref="b50a7cdb2a6c7bc49cf0ac66428e8a33" prefix=" " category="inline-code"></block></block>
  <block id="6844c666d46d26f14f45880c3b8cd2ec" category="list-text">您可以隨時更新 PVC 以納入<block ref="176dbae9b2594398063073fa2462e819" prefix=" " category="inline-code"></block>附註。</block>
  <block id="b49d0358b75283a3c4f7a2e7229fc097" category="list-text">* 目的地命名空間擁有者： * <block ref="3f6857fc20ae2372499a71869ac3fe7e" prefix="(" category="inline-code"></block>在目的地命名空間中建立 PVC <block ref="6fde1ba4470caca933058264dbfdea2e" prefix="(" category="inline-code"></block>）使用<block ref="77167d63af133b47bca3bbacd580fa44" prefix=" " category="inline-code"></block>或<block ref="bfd2f3d7d043509924eaac702957a99d" prefix=" " category="inline-code"></block>和<block ref="2413b30c8869ee9ac5b416f44004a212" prefix=" " category="inline-code"></block>註釋來指定來源 PVC 。</block>
  <block id="188811e4b8b33253d84403cd9a1fcfa9" category="list-text">對於使用 ONTAP NAS 經濟型驅動程式配置的 PVC ，不支援唯讀複本。</block>
  <block id="18554a6310d1d501f5fdbbbc7a0cd7c6" category="summary">Trident 可讓 Kubernetes 使用者在建立磁碟區之後擴充其容量。尋找擴充 iSCSI ， FC 和 NFS 磁碟區所需組態的相關資訊。</block>
  <block id="1dea918d41199b513b961287c6579f4f" category="section-title">展開FC Volume</block>
  <block id="213524ddd0b0daf2a171ee47c3596e00" category="paragraph">您可以使用 CSI 資源配置程式來擴充 FC 持續 Volume （ PV ）。</block>
  <block id="7ff05a6f045c4cd794027d9a80f2ee93" category="admonition">驅動程式支援 FC Volume 擴充<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>，需要 Kubernetes 1.16 及更新版本。</block>
  <block id="7e60a488a5dff73b203319b9ad63006e" category="paragraph">將 PV 附加至 Pod 、以便調整大小。調整 FC PV 的大小有兩種情況：</block>
  <block id="82ffd98bd5aacd62bc72d8aca0f53528" category="paragraph">使用驅動程式建立的每個磁碟區都<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>是 ONTAP 叢集上的 FlexVol volume 。使用驅動程式匯入 FlexVol 磁碟區<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>的運作方式相同。ONTAP 叢集上已存在的 FlexVol Volume 可匯入為<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> PVC 。同樣地、 FlexGroup Vols 也可以匯入為<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> PVCS 。</block>
  <block id="76f6a2d1bd679fa4c1b485fed91cd412" category="paragraph">對於託管卷， Trident 將 FlexVol volume 重命名爲格式，並將 FlexVol volume 中的 LUN<block ref="1793051c27c3288cfb3a1c86e4e41b41" prefix=" " category="inline-code"></block> 重命名爲<block ref="b1a57c8f543d163276a264ab84f98485" prefix=" " category="inline-code"></block>。</block>
  <block id="4e0dca66d693b4377c93d787e9d5176a" category="paragraph">下列範例會匯入<block ref="9c263b72b293041bdc16e8711bb55a99" prefix=" " category="inline-code"></block>後端上的 FlexVol volume<block ref="5461c7e570fd7b4318a37f0dceb291c1" prefix=" " category="inline-code"></block> ：</block>
  <block id="aa39e6a781613c350b8408df39aa0171" category="paragraph">Trident 支援使用驅動程式進行 Volume 匯入<block ref="94594b2ccbc8e0d220ad37504461650b" prefix=" " category="inline-code"></block>。</block>
  <block id="89df083c083e8cfa84ef1517f2b9e609" category="paragraph-title">Google Cloud NetApp Volumes 範例</block>
  <block id="3312627a317726be3901705d655e8582" category="paragraph">以下示例將使用 Volume<block ref="acdf8df0c694db089171ecaf51f80166" prefix=" " category="inline-code"></block> 在後端導入一個<block ref="94594b2ccbc8e0d220ad37504461650b" prefix=" " category="inline-code"></block> Volume<block ref="c082d32d434314708cccf35dd974ac32" prefix=" " category="inline-code"></block> 。</block>
  <block id="94154cfb6a6056267c34a431cd1a4224" category="paragraph">下列範例會在兩個磁碟區位於同一個區域時匯入<block ref="94594b2ccbc8e0d220ad37504461650b" prefix=" " category="inline-code"></block> Volume ：</block>
  <block id="93c5b0ed9261693ca8644540ac8a1cd9" category="admonition">NetApp 建議使用 ONTAP 9.12 或更新版本來處理 NVMe / TCP 。</block>
  <block id="d019fe86b16ae6b783603693309fb4c6" category="section-title">FC 磁碟區上的 SCSI</block>
  <block id="09b3e69fece0c8fed98cbfa4f60560d0" category="paragraph">確保 AWS 工作階段權杖到期時間足以應付任何長期執行的 S3 備份作業。如果 Token 在備份作業期間過期，作業可能會失敗。</block>
  <block id="5eb831e0d78e65bcd3dba1b12bc07037" category="inline-link">AWS API 文件</block>
  <block id="acc296a904bd0d4d976a52cfe9fe9b8c" category="list-text">如需檢查目前工作階段權杖到期時間的詳細資訊，請參閱<block ref="718365c4473e4015a2556ceb49bc6d0e" category="inline-link-rx"></block>。</block>
  <block id="47700faecc8b055ea48413402a7add11" category="inline-link">AWS IAM 文件</block>
  <block id="40a9530583ad3747ca30675858b0a6cd" category="list-text">如需 AWS 資源認證的詳細資訊，請參閱<block ref="101809cc7793764f39e2d5fc223ea04c" category="inline-link-rx"></block>。</block>
  <block id="00d3f03654bed141c3478449f1760762" category="paragraph">確保 AWS 工作階段權杖到期時間足以執行任何長時間執行的 S3 還原作業。如果 Token 在還原作業期間過期，作業可能會失敗。</block>
  <block id="0c2517d08c2a451f035c427a4dc895e1" category="summary">以下是此版本的已知問題。</block>
  <block id="34515f1d88b10d0db0a78eba6c533394" category="paragraph">已知問題可識別可能導致您無法成功使用本產品版本的問題。</block>
  <block id="825cc355a6b503245e0d84d26f0e16d1" category="paragraph">下列已知問題會影響目前的版本：</block>
  <block id="dd298b4e9bfcd54db2048c92819679ad" category="section-title">還原大型檔案的還原還原備份可能會失敗</block>
  <block id="7fc5875d06887df5109a87a0ada90eca" category="section-title">設定 AppVault 驗證和密碼</block>
  <block id="8e2c4d33f50c044b257a84cd65ff1c79" category="section-title">資料移動器儲存庫密碼</block>
  <block id="e64d157c7a9e337d525d51f62d9d0809" category="section-title">建立資料移動者儲存庫密碼機密</block>
  <block id="571768fad7edd9c4f57173c592c1f86c" category="section-title">適用於雲端供應商的 AppVault 主要世代範例</block>
  <block id="3e2db83ddd4087c64413cfd7c14100b6" category="section-title">AppVault 建立範例</block>
  <block id="80b938565b2e1ff14bd06e780149b085" category="paragraph">以下是每個提供者的 AppVault 定義範例。</block>
  <block id="dd180e899bea0f9a0eb538e256c19673" category="list-text">您可以選擇性地指定 Kubernetes 機密，其中包含 Restic 和 Kopia 儲存庫加密的自訂密碼。如需詳細資訊、請參閱 <block ref="7bf3b37360a9f432b37d8ac6c9f10cd4" category="inline-xref-macro-rx"></block> 。</block>
  <block id="2b7c7776f596f179d63bae82e841e9fe" category="list-text">對於 S3 AppVault 物件，您可以選擇使用金鑰來指定傳出 S3 流量的外傳 Proxy URL<block ref="ea739eb21b9424ad95fb5cd1b3ee7d1c" prefix=" " category="inline-code"></block> 。</block>
  <block id="99313bdb05c30c161eb80ae8dc89265f" category="list-text">對於 S3 AppVault 物件，您可以選擇使用引數，為輸出 S3 流量指定外傳 Proxy URL<block ref="c0b36cdbc2185c1fe6ee0b0c177312da" prefix=" " category="inline-code"></block> 。</block>
  <block id="aafdbe511f8dcfce152fe32eec4b84a8" category="section-title">檢視 AppVault 資訊</block>
  <block id="df0ecee897380da18617ddb170abdeb0" category="paragraph">以下範例組態檔顯示可用的設定，並包含每個資源限制的預設值：</block>
  <block id="73d4542a63a157d0b7e3093eabec8fc9" category="section-title">自訂安全性內容限制</block>
  <block id="2708058a93672fbaa8bcf3e785e87b21" category="list-text">建立名為的檔案<block ref="12cbdc8aa1f61a2cee8eff2b77c0e113" prefix=" " category="inline-code"></block>。</block>
  <block id="468f17ddccd3b34c0d539404233a5e45" category="list-text">將 SCC 選項新增至檔案，並根據環境需求修改參數。</block>
  <block id="616d9e371ad293e03cb7d5ad25d66c80" category="paragraph">以下範例顯示 SCC 選項參數的預設值：</block>
  <block id="0c98fb0c406324f0a1aa95f76be6abee" category="paragraph">下表說明 SCC 選項的參數：</block>
  <block id="4241afd729bbb74051e3cba55f164b0d" category="cell">決定是否可以建立 SCC 資源。只有在設定為<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>且 Helm 安裝程序識別 OpenShift 環境時，才會建立 SCC 資源<block ref="aac82cc6424e9b52c84a0dbdc2518a15" prefix=" " category="inline-code"></block>。如果未在 OpenShift 上操作，或如果設為<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>，則<block ref="aac82cc6424e9b52c84a0dbdc2518a15" prefix=" " category="inline-code"></block>不會建立任何 SCC 資源。</block>
  <block id="fd9cec0b7219b39de0235d899bf5b2c0" category="cell">指定SCC的名稱。</block>
  <block id="141351edcf12ef25b127186a711471ce" category="cell">Trident 保護工作</block>
  <block id="b988295c268025b49dfb3df26171ddc3" category="cell">優先順序</block>
  <block id="18dbc63582d575814786eb13d8baf787" category="cell">定義 SCC 的優先順序。優先順序值較高的 SCC 會在值較低之前進行評估。</block>
  <block id="c4ca4238a0b923820dcc509a6f75849b" category="cell">1</block>
  <block id="ee747b6b4f133aa926c072d073f4a8d5" category="list-text">套用檔案中的值<block ref="12cbdc8aa1f61a2cee8eff2b77c0e113" prefix=" " category="inline-code"></block>：</block>
  <block id="54b43aeb73b3f5136e6febff4f374663" category="paragraph">這會將預設值取代為檔案中指定的值<block ref="12cbdc8aa1f61a2cee8eff2b77c0e113" prefix=" " category="inline-code"></block>。</block>
  <block id="e131fc2359f1f35a2fdb476c3f19bfdd" category="list-text">建立名為的檔案<block ref="7eec75c3fd904f84005cd47f3bed0e47" prefix=" " category="inline-code"></block>。</block>
  <block id="785a1066f4a7291f0bd0c65d4529e79f" category="list-text">將 nodeSelector 選項新增至檔案，並修改檔案以新增或變更節點標籤，以根據環境需求加以限制。例如，下列檔案包含預設的作業系統限制，但也針對特定區域和應用程式名稱：</block>
  <block id="0b3a205b675b10deddbe1e4c76c36e22" category="list-text">套用檔案中的值<block ref="7eec75c3fd904f84005cd47f3bed0e47" prefix=" " category="inline-code"></block>：</block>
  <block id="86ff3a8cca72a77f236198059cede1b6" category="paragraph">這會將預設限制取代為您在檔案中指定的限制<block ref="7eec75c3fd904f84005cd47f3bed0e47" prefix=" " category="inline-code"></block>。</block>
  <block id="1fdb8b98325df025bfd256fc475c0986" category="paragraph">如果您需要在建立應用程式之後套用此註釋，可以使用下列命令：</block>
  <block id="221764e612f482dbef981bc478028287" category="list-text">使用下列其中一個範例建立及套用應用程式定義，以環境中的資訊取代方括號中的值。您可以在應用程式定義中加入命名空間和資源，使用以逗號分隔的清單，以及範例中所示的引數。</block>
  <block id="26f08cf1da862c1ae831c562f3621d09" category="paragraph">若要在使用 CLI 建立應用程式時指定評註，您可以使用此<block ref="3164592cacced1f14eeb788e764306a8" prefix=" " category="inline-code"></block>旗標。</block>
  <block id="1ab026b6049460749549c7e94872c903" category="list-text">建立應用程式，並使用通用設定來執行檔案系統凍結行為：</block>
  <block id="5c69fd9a5297da7a82e38395fe1ca096" category="list-text">建立應用程式並設定檔案系統凍結行為的本機應用程式設定：</block>
  <block id="c2c21ce64dd4770c44c8642d322a5424" category="admonition">如果叢集範圍的資源在應用程式定義中明確參照，或是具有任何應用程式命名空間的參照，則這些資源會包含在備份，快照或複製中。</block>
  <block id="2358fb4006fff416413cb9bfc04e4b73" category="list-text">確保 AWS 工作階段權杖到期時間足以執行任何長時間執行的還原作業。如果 Token 在還原作業期間過期，作業可能會失敗。</block>
  <block id="df710f89ebb9e663bd3d66607a0bf413" category="inline-link">AWS 文件</block>
  <block id="f3aa7db516c38030a276a5895520407a" category="list-text">如需 AWS 資源認證的詳細資訊，請參閱<block ref="968595e57d50a64e3fbe0f06bc16cb91" category="inline-link-rx"></block>。</block>
  <block id="3094ed24e92fa43f93a063b74aba1810" category="admonition">如果快照前執行攔截器新增，變更或移除 Kubernetes 資源，則這些變更會包含在快照或備份中，以及任何後續還原作業中。</block>
  <block id="d323f0b96d7cc15909a8faf8b343f7a0" category="section-title">手動執行掛鉤</block>
  <block id="b634452964a2a438acc2e266661043f1" category="paragraph">您可以手動執行掛鉤以進行測試，或是在故障後需要手動重新執行掛鉤。您需要擁有擁有者，管理員或成員權限，才能手動執行掛鉤。</block>
  <block id="b363e23f5ecd8c7994b0a821469e303c" category="paragraph">手動執行掛鉤包含兩個基本步驟：</block>
  <block id="799527cc898bf9953cb450f2b50e3184" category="list-text">建立資源備份，收集資源並建立資源備份，以判斷攔截的執行位置</block>
  <block id="d65fd71b39d33804450847f69ddd69c0" category="list-text">在備份上執行執行掛鉤</block>
  <block id="d07d4b96979a15c6dea6fb4556200241" category="example-title">步驟 1 ：建立資源備份</block>
  <block id="32f56b6a11303c523e67b3ef5e70618e" category="list-text">建立自訂資源（ CR ）檔案並命名為<block ref="1f13ad2055ef28f62611a4ced3a8da82" prefix=" " category="inline-code"></block>。</block>
  <block id="10f8657004606b105a7612de4504c293" category="list-text">*spec.applicationRef* ：（ _required _ ）要建立資源備份的應用程式 Kubernetes 名稱。</block>
  <block id="854d053ea53b0a9b6012fe3af98a11f9" category="list-text">檢視備份狀態。您可以重複使用此範例命令，直到作業完成為止：</block>
  <block id="5c04e29edc18bc5ad81fc61dec5eee00" category="list-text">確認備份成功：</block>
  <block id="163cbd835d00fc0fb13923332a76e532" category="example-title">步驟 2 ：執行掛鉤</block>
  <block id="89666a2351b355f4191600de4436dfe7" category="list-text">建立自訂資源（ CR ）檔案並命名為<block ref="433572a415d5824f82d7e7c9a0829077" prefix=" " category="inline-code"></block>。</block>
  <block id="3e0977039522c796fb780d1c0155fdb7" category="list-text">*SPEC.applicationRef* ：（ _required _ ）請確保此值符合您在步驟 1 中建立的 ResourceBackup CR 應用程式名稱。</block>
  <block id="c4f09daab57e7cc61e19e7da88f84edc" category="list-text">*spec.appVaultRef* ：（ _required _ ）請確保此值符合您在步驟 1 中建立的 ResourceBackup CR 的 apVaultRef 。</block>
  <block id="021c431bf5a7e31ec81f982db93aa9f3" category="list-text">*spec.appArchivePath* ：確保此值與您在步驟 1 中建立的 ResourceBackup CR 中的 appArchivePath 相符。</block>
  <block id="e2399671182dcd28bddf5d44b11f7af2" category="list-text">*spec.Stage * ：（ _required _ ）一個字串，指出執行掛鉤應在動作期間執行的階段。此掛鉤掃描不會在任何其他階段執行掛鉤。可能值：</block>
  <block id="aa9f056f37cdee5e5bcd47f7bc3ac1ba" category="list-text">建立手動執行攔截執行要求：</block>
  <block id="42e563c466d27e9d4943ef1acd3703b7" category="list-text">檢查執行攔截執行的狀態。您可以重複執行此命令，直到作業完成為止：</block>
  <block id="8430f2c56dfc9e79fcaf741392d54499" category="list-text">說明 exechooksrun 物件以查看最終詳細資料和狀態：</block>
  <block id="4fc9faf161c64ed80d0fb8ca9aa0882e" category="admonition">視您使用的資料移動器而定，您只需要加入該資料移動器的對應密碼。例如，如果您使用 Restic ，而且不打算在未來使用 Kopia ，則在建立機密時，只能包含 Restic 密碼。</block>
  <block id="6a346946ba0777d650b6e41a4c30c7b6" category="paragraph">請確定您已刪除要刪除的 AppVault 所使用的所有快照和備份 CRS 。</block>
  <block id="6d0450323deb4880d88d2da4155d7c76" category="paragraph">AlertManager 是一項服務，可擷取 Prometheus 等工具所傳送的警示，並將其路由至您設定的目的地。</block>
  <block id="45501c075fe75338b712d61db6d82f54" category="paragraph">這些步驟所包含的組態和指南僅為範例，您需要自訂以符合您的環境。請參閱下列正式文件，以取得特定指示與支援：</block>
  <block id="d9bdb1d7869cec3eaa75aaa48b414845" category="inline-link">Kube-state指標文件</block>
  <block id="28b29a811fcff582b069060bb6104048" category="list-text"><block ref="28b29a811fcff582b069060bb6104048" category="inline-link-rx"></block></block>
  <block id="695c33d174e4ad444d82403015632550" category="inline-link">Prometheus 文件</block>
  <block id="94fa5821707b81f95ad49b7f10d2d4d6" category="list-text"><block ref="94fa5821707b81f95ad49b7f10d2d4d6" category="inline-link-rx"></block></block>
  <block id="853d2b8407eda505e00a8014afdb0ddf" category="inline-link">AlertManager 文件</block>
  <block id="e23d8cb1d9d009a1aa298e95526efcd3" category="list-text"><block ref="e23d8cb1d9d009a1aa298e95526efcd3" category="inline-link-rx"></block></block>
  <block id="b246a1443f359b6da345c33e0b25f47a" category="section-title">步驟 1 ：安裝監控工具</block>
  <block id="2a2c51a8db12ee75c90da4a3fb0e1a0b" category="section-title">安裝 kube 狀態度量</block>
  <block id="016aa0f0550f5a0506cb61b61568e043" category="paragraph">您可以使用 Helm 來安裝 kube 狀態度量。</block>
  <block id="ea6a84ebff4515f07a0f260b7cce7b83" category="list-text">新增 kube 狀態指標 Helm 圖表。例如：</block>
  <block id="d6cff887be77b3dc5c6f689b93bb9b32" category="list-text">為 Helm 圖表建立組態檔（例如<block ref="1da0bbdfeb5bb05830055a1515d9e2a9" prefix=" " category="inline-code"></block>）。您可以自訂下列範例組態，以符合您的環境：</block>
  <block id="cf5cf09f9422112814f7fa967e303283" category="listing-title">測量數據 -config.yaml ： Kube-state 度量 Helm 圖表組態</block>
  <block id="eca99dda7e2a747b75c232f5c3e314a0" category="list-text">部署 Helm 圖表以安裝 kube 狀態度量。例如：</block>
  <block id="1b61aa1e4c2991758aa9c5bea0047156" category="inline-link">Kube-state 度量自訂資源文件</block>
  <block id="88b8613d339947a37e41b1f514dcc42c" category="section-title">安裝Prometheus</block>
  <block id="6cfabcb4c640f9570382e21ec242a3c0" category="paragraph">您可以依照中的指示來安裝 Prometheus<block ref="9c3dd7b31d363d10addc1dc55a338e01" category="inline-link-rx"></block> 。</block>
  <block id="7d512717b3f318d83bbce6f09e891a6f" category="section-title">安裝 AlertManager</block>
  <block id="ee3b7d497a79c10fe3b10cda25267876" category="paragraph">您可以依照中的指示安裝 AlertManager<block ref="34c399dcb7431f049905523dd168baa8" category="inline-link-rx"></block> 。</block>
  <block id="9147f13af253be263e759a06097eea20" category="section-title">步驟 2 ：設定監控工具以共同作業</block>
  <block id="73be38664a808318efe65c02c4ce747c" category="paragraph">安裝監控工具之後，您需要將它們設定為一起運作。</block>
  <block id="68f04b43068f22f98aaa6513240dd2b5" category="paragraph">現在， Prometheus 可以從 kube-state 度量收集度量，並可傳送警示給 Alertmanager 。您現在已準備好設定觸發警示的條件，以及應傳送警示的位置。</block>
  <block id="a42cb9abdbaf69f90fba5592304008cd" category="section-title">步驟 3 ：設定警示和警示目的地</block>
  <block id="1138a7ff5cea0f83ce07834c8e02315c" category="paragraph">設定工具以共同作業之後，您需要設定觸發警示的資訊類型，以及應傳送警示的位置。</block>
  <block id="917045fa08d9c44ee88951e8cdb4023b" category="section-title">警示範例：備份失敗</block>
  <block id="e8665bc518bf7a6d63332be811e8f6cb" category="section-title">設定 AlertManager 以傳送警示至其他頻道</block>
  <block id="c9272f0d68fac2055ba2d71be6c87b1b" category="paragraph">以下範例將警示管理員設定為傳送通知至 Slack 頻道。若要根據您的環境自訂此範例，請將金鑰的值取代為<block ref="aa8106611bcfe43fec48e6d1d371de52" prefix=" " category="inline-code"></block>您環境中使用的 Slack Webhook URL ：</block>
  <block id="d110d36251c4dd04b7da5ef237ac6063" category="inline-link">Kopia 文件</block>
  <block id="7491b3d3a4aa89a2dd6445477c6b6e0a" category="list-text">對於 Amazon S3 （ AWS ） AppVault 物件，您可以選擇性地指定一個工作區權杖，如果您使用單一登入（ SSO ）進行驗證，這會很有用。當您在中為提供者產生金鑰時<block ref="cd932e77bb3df9634d58b2fd34398b6f" category="inline-xref-macro-rx"></block>，就會建立此權杖。</block>
  <block id="620026f954fdad541c9d19554476345c" category="list-text">移除 AppVault 物件，以要移除的 AppVault 物件名稱取代<block ref="bf09cf3bd2a9288a0bdf3d1b89b770a1" prefix=" " category="inline-code"></block>：</block>
  <block id="c14fd2bf15bccb33c362aafa6a463f49" category="section-title">我是否需要在 ONTAP 後端定義檔案中同時定義管理和 DataLIFs ？</block>
  <block id="7279808725b91afce38762e4e1a8108b" category="paragraph">管理LIF為必填項目。DataLIF 會有所不同：</block>
  <block id="adfb1f23733ff9ee458d139c1df9f86f" category="list-text">ONTAP NAS ： NetApp 建議指定<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block>。如果未提供， Trident 會從 SVM 擷取 dataLIFs 。您可以指定完整網域名稱（ FQDN ），以用於 NFS 裝載作業，讓您建立循環 DNS ，以便在多個 dataLIFs 之間進行負載平衡。如<block ref="879dc93198c7c5e8ce7148b6d1205d73" category="inline-link-macro-rx"></block>需詳細資訊、請參閱</block>
  <block id="565b6e5803bd2aeffbb1b529ae150998" category="section-title">管理與 DataLIFs 是否可以使用 IPv6 位址？</block>
  <block id="4464ed822c0b46fd0bb406f3addad477" category="section-title">是否能在後端更新 DataLIF ？</block>
  <block id="6299c4ccad2894e1fc64eb6059df19b8" category="paragraph">您只能在和<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>上更新 DataLIF<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> 。</block>
  <block id="50738c79b08f93cc8be7f7ee1a3ac387" category="paragraph">* ONTAP NAS 驅動程序 * ： NetApp 建議指定<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block>。如果未提供， Trident 會從 SVM 擷取 dataLIFs 。您可以指定完整網域名稱（ FQDN ），以用於 NFS 裝載作業，讓您建立循環 DNS ，以便在多個 dataLIFs 之間進行負載平衡。</block>
  <block id="2455735b04a718daf96631c95e2d2d2c" category="paragraph">在 AKS 叢集上使用託管身分識別或雲端身分識別時、請設定為<block ref="71d36c46e340ad9137b2691e267f5ecd" prefix=" " category="inline-code"></block>。在 EKS 叢集上使用雲端身分識別時設為<block ref="907695ffaef2806fea589c7d8d044679" prefix=" " category="inline-code"></block>。在 GKE 叢集上使用雲端身分識別時設為<block ref="9856712fdf7563a4074fc130ed9f0755" prefix=" " category="inline-code"></block>。</block>
  <block id="d73f3637b8d6ba73db2eed6c626bb0f7" category="paragraph">在 AKS 叢集上使用雲端身分識別時、請設定為工作負載身分識別（「 azure.Workload .idental/client-id ： XXXXXXXX-xxxx-xxxx-xxxx-xxxx-xxxx-xxxxxxx 」）。在 EKS 叢集上使用雲端身分識別時、請設定為 AWS IAM 角色（「 eks.amazonaws.com/role-arn: arn:AWS:iam::123456 ：角色 Trident 角色」）。在 GKE 叢集上使用雲端身分識別時，請設定為雲端身分識別（「 iam.GKE 。 IO/GCP 服務帳戶： xxxx@mygcpproject.iam.gserviceaccount.com 」）。</block>
  <block id="f39a4edd3567c3db7a288d4b8203dbee" category="cell">NFS主機的主機名稱或IP位址。這應該設定為虛擬機器的 dataLIF 。</block>
  <block id="7a6f34ea0b1eec52267ce30c62d910ba" category="cell">NFS主機的主機名稱或IP位址。這應該設定為 SVM 的 dataLIF 。</block>
  <block id="65066f84c75170b9c4abad6591a73548" category="inline-link">在 dataLIF 上啟用 Kerberos</block>
  <block id="3d2c78553d28b3786f4ec9e513e0adba" category="list-text">請確定您已準備好 ONTAP 儲存 VM 、以支援 NFS 磁碟區的 Kerberos 加密。請參閱<block ref="27faba9d44bb486b2290a75aafcee5c1" category="inline-link-rx"></block> 以取得指示。</block>
  <block id="fdbf43c52ad3e72902872b8ada5c6dde" category="paragraph">此<block ref="d51321f13693d09d4a9cbb2758b42d12" prefix=" " category="inline-code"></block>功能可讓 NFS 用戶端查詢 SVM 以取得可用 NFS 匯出清單。部署至 Kubernetes 叢集的 Pod 可針對發出<block ref="55fb64f15dd3d0c53de3a4d095218569" prefix=" " category="inline-code"></block>命令，並接收可用掛載清單，包括無法存取的掛載。雖然這本身並不是安全威脅、但它確實提供不必要的資訊、可能有助於未獲授權的使用者連線至NFS匯出。</block>
  <block id="fcb4221a7bd32f5d31d2e30a8443eac9" category="list-text">設定或<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>驅動程式時，不應再指定 DataLIFs<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> 。</block>
  <block id="3165be312bab247f04681069367db65a" category="list-text">修正 ONTAP SAN 後端的特定 SLM 問題，以確保僅發佈屬於報告節點的 datahLIFs 子集。</block>
  <block id="a478d15e95ddd4ce45d4fe0b98b651a6" category="list-text">ONTAP SAN IPv6 DataLIFs 現在可以在使用方括號指定的情況下運作。</block>
  <block id="a7080c23e8c14c73db47d3f3e492003c" category="paragraph"><block ref="9e6b25667a12ee82b7da8f90b3adfb4d" prefix="" category="inline-code"></block><block ref="e831869c37ce314b5ade82786bf3348f" prefix=" " category="inline-code"></block></block>
  <block id="762a96bc52f41b6b53a4e2d27fd14560" category="cell">傳輸協定LIF的IP位址。NetApp 建議指定<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block>。如果未提供， Trident 會從 SVM 擷取 dataLIFs 。您可以指定完整網域名稱（ FQDN ），以用於 NFS 裝載作業，讓您建立循環 DNS ，以便在多個 dataLIFs 之間進行負載平衡。可在初始設定之後變更。請參閱 <block ref="b2c939cb81e81d99a25f4be74f517f2f" category="inline-xref-macro-rx"></block>。如果使用 IPv6 旗標安裝 Trident 、則可設定為使用 IPv6 位址。IPv6 位址必須以方括弧定義，例如<block ref="33e9328e92e3ef05629093b4693b3925" prefix=" " category="inline-code"></block>。* MetroCluster 省略。 *請參閱<block ref="41195e18a4a81a05f5c5a6be365a5602" category="inline-xref-macro-rx"></block>。</block>
  <block id="6e7bd344d0c1260e0145e18171b598bb" category="paragraph">您可以在初始設定後變更 dataLIF ，方法是執行下列命令，以更新的 dataLIF 提供新的後端 JSON 檔案。</block>
  <block id="df9bc5d5fd5d258576244d9b760ef3d9" category="admonition">如果 PVCS 連接到一個或多個 Pod ，您必須關閉所有對應的 Pod ，然後重新啟動，新的 dataLIF 才會生效。</block>
  <block id="a2b356ce90145d5d188d7705a9797bc1" category="cell">傳輸協定LIF的IP位址。* ONTAP NAS 驅動程式 * ： NetApp 建議指定 dataLIF 。如果未提供， Trident 會從 SVM 擷取 dataLIFs 。您可以指定完整網域名稱（ FQDN ），以用於 NFS 裝載作業，讓您建立循環 DNS ，以便在多個 dataLIFs 之間進行負載平衡。可在初始設定之後變更。請參閱 <block ref="b2c939cb81e81d99a25f4be74f517f2f" category="inline-xref-macro-rx"></block>。*《SAN驅動程式*：請勿指定用於iSCSI》ONTAP 。Trident 使用 ONTAP 選擇性 LUN 對應來探索建立多重路徑工作階段所需的 iSCI 生命。如果明確定義dataLIF、就會產生警告。如果使用 IPv6 旗標安裝 Trident 、則可設定為使用 IPv6 位址。IPv6位址必須以方括弧來定義、例如[28e8：d9fb：a825：b7bf：69a8：d02f：9e7b：3555]。</block>
  <block id="a0c3ccd8e55dd8a4f5f5ad3a5269e331" category="admonition">如果您尚未熟悉<block ref="13aad4b6f98e790ff55e578921fa5ede" category="inline-link-macro-rx"></block>、現在正是您熟悉的好時機。</block>
  <block id="f54758d5b91452d3103cc1017fa70d71" category="admonition">有關 Kubernetes 叢集上 Trident 架構的詳細資訊<block ref="2e4686c52a7aa47e7bc2aa3cfa953fbe" category="inline-link-macro-rx"></block>、請參閱。</block>
  <block id="50a4fd89cedf0068776b972ce96fcceb" category="cell">使用ONTAP Isrest API的布林參數。<block ref="14d839191d1ecf387a15b5b0c802a8ae" prefix=" " category="inline-code"></block>設為<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>時， Trident 會使用 ONTAP REST API 與後端通訊；設為<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>時， Trident 會使用 ONTAPI （ ZAPI ）呼叫與後端通訊。此功能需要ONTAP 使用更新版本的版本。此外、使用的 ONTAP 登入角色必須具有應用程式存取權<block ref="045ed0306c61104cb0777ccd31ce648b" prefix=" " category="inline-code"></block> 。這是預先定義的和角色所滿足<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block><block ref="fdb6ba311fad29ec53069808f10ebef4" prefix=" " category="inline-code"></block> 的。從 Trident 24.06 版本和 ONTAP 9.15.1 或更新版本開始，<block ref="14d839191d1ecf387a15b5b0c802a8ae" prefix=" " category="inline-code"></block>依預設會設定為<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>；變更<block ref="14d839191d1ecf387a15b5b0c802a8ae" prefix=" " category="inline-code"></block>為<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>使用 ONTAPI （ ZAPI ）呼叫。</block>
  <block id="fc1d748db1b5b488ce7af7d17ea15d55" category="inline-link-macro">軟體版本支援</block>
  <block id="897b6a6a21c73524107071aff80ed94e" category="inline-link-macro">解除鎖定無縫 iSCSI 儲存整合： ROSA 叢集 for AWS 上的 FSxN 指南</block>
  <block id="6dc79a8e11fda729083bb4e518de411f" category="inline-link-macro">Trident 推出光纖通道支援</block>
  <block id="a706b02fe1ef4870ecc8b588cbe37989" category="inline-link-macro">適用於 OpenShift 虛擬化 VM 的毀損一致備份與還原作業</block>
  <block id="938cab8cf5785dfe0cd9ba76b4cae8f0" category="list-text">2025 年 3 月 13 日：<block ref="94b3904630a42c759a6ceb844d104a7a" category="inline-link-macro-rx"></block></block>
  <block id="20e2f4e6733d3ac5dd3cfb83506a2882" category="inline-link-macro">使用 NetApp Trident 將 GitOps 模式延伸至應用程式資料保護</block>
  <block id="ccd722b2b8950bc9aa2b92826dcc4664" category="list-text">2025 年 3 月 11 日：<block ref="751073ae4d07c4adc8a15e872b137421" category="inline-link-macro-rx"></block></block>
  <block id="bc057a27d4d8047073d6f5fa802c9c2b" category="inline-link-macro">Trident 25.02 ：以令人興奮的新功能提升 Red Hat OpenShift 體驗</block>
  <block id="fb68b473f5b70bc40e206ef882be4c63" category="list-text">2025 年 3 月 3 日：<block ref="ce0fc75766d0530b76aaabf87dc1b463" category="inline-link-macro-rx"></block></block>
  <block id="244fede3edf8f2ab57f281d777777961" category="list-text">* spec.includedNamespaces*: （ _required ）使用命名空間和標籤選取器來指定應用程式使用的命名空間和資源。應用程式命名空間必須是此清單的一部分。標籤選取器為選用項目，可用於篩選每個指定命名空間內的資源。</block>
  <block id="cc8aa03bb88101c1901ab425b29a1901" category="list-text">* spec.includedClusterScopedResources*: （ _Optional_ ）使用此屬性來指定要包含在應用程式定義中的叢集範圍資源。此屬性可讓您根據這些資源的群組，版本，種類和標籤來選取這些資源。</block>
  <block id="eba6898a839f426c3106a97f94614eb9" category="list-text">*groupVersionKind* ：（ _required _ ）指定叢集範圍資源的 API 群組，版本及種類。</block>
  <block id="8d8a8010684a930aa7760c829cad4141" category="list-text">*labelSelector * ：（ _Optional_ ）根據叢集範圍的資源標籤來篩選資源。</block>
  <block id="47edbb9e6d6e6e874eb40c274a0e2e0f" category="sidebar">部落格文章</block>
  <block id="4a5fadb6b0890cea5e8d53c37411aaf0" category="cell"><block ref="bc35d038baf172a19349f289d31fbf9d" prefix="" category="inline-code"></block></block>
  <block id="022571ee546e1a953d857961a8cd0442" category="paragraph">建立 PersistentVolume Claim （ PVC ），使用設定的 Kubernetes StorageClass 要求存取 PV 。然後、您可以將 PV 掛載至 Pod 。</block>
  <block id="f79367bddbaecd3962f7c740a1b2178f" category="paragraph"><block ref="b1b93f46fc69df9fe663c091f4d6c2b4" category="inline-link-rx"></block>（ PVC ）是存取叢集上 PersistentVolume 的要求。</block>
  <block id="79a251ee7369fdcdb0847d35254afcf8" category="paragraph">建立 PVC 之後，您可以將磁碟區裝入 Pod 。</block>
  <block id="a305c8fb2137d8a4a767905590079e89" category="section-title">建立 PVC</block>
  <block id="06034bca671a3028021f1a722aac7b41" category="paragraph">設定 Kubernetes StorageClass 物件並建立儲存類別、以指示 Trident 如何配置磁碟區。建立 PersistentVolume Claim （ PVC ），使用設定的 Kubernetes StorageClass 要求存取 PV 。然後、您可以將 PV 掛載至 Pod 。</block>
  <block id="5de805965faeb85a54098223ea3a3334" category="paragraph">建立 PVC 之後，您可以將磁碟區裝入 Pod 。</block>
  <block id="89fb75fa5ae260c326092b78970469ed" category="list-text">在左側導航窗格中，選擇 *Clusters* 。</block>
  <block id="abdaa0762abc2037a71287c94bceae14" category="list-text">選取您要設定 NetApp Trident CSI 附加元件的叢集名稱。</block>
  <block id="691da62871e09bf9c944f36b9de07889" category="list-text">選取 * 附加元件 * ，然後選取 * 取得更多附加元件 * 。</block>
  <block id="e6cd86d61f4639c8a27006c6c29b3e9f" category="list-text">選擇*下一步*。</block>
  <block id="ce7f62393ec7cbcc106793e2c9ab41e8" category="list-text">選取您要更新 NetApp Trident CSI 附加元件的叢集名稱。</block>
  <block id="f90a2b79ab21cae46f34d96bb4501334" category="list-text">選取 * 附加元件 * 索引標籤。</block>
  <block id="38b15bc2ab2d3588a9a19b123eaec1b5" category="list-text">選取 * Trident by NetApp * ，然後選取 * 編輯 * 。</block>
  <block id="302ef561e28f7d7cd13d1042cece78e1" category="list-text">選取*儲存變更*。</block>
  <block id="b7cd6be51eaf277b357ed1c976d66d06" category="list-text">在左導覽窗格中，選取 * 叢集 * 。</block>
  <block id="1ca28d22337393f531c7c8028230ed76" category="list-text">選取您要移除 NetApp Trident CSI 附加元件的叢集名稱。</block>
  <block id="85f27397ddcaf9ec996f312d1d89ecf9" category="list-text">選擇 *Add-ons* 標籤，然後選擇 Trident by NetApp * 。 *</block>
  <block id="6f99fa9b2e1f4893851a8aeb82d171f9" category="list-text">選擇*移除*。</block>
  <block id="f8c91efdaebc08b292c83903943a18c8" category="admonition">如果您為衝突解決方法選取「覆寫」、則現有附加元件的一或多個設定可以使用 Amazon EKS 附加元件設定覆寫。如果您未啟用此選項、且與現有設定發生衝突、則作業將會失敗。您可以使用產生的錯誤訊息來疑難排解衝突。選取此選項之前、請確定 Amazon EKS 附加元件不會管理您需要自行管理的設定。</block>
  <block id="3b19f031abb1ee1e70a3d19640060ff8" category="cell">指定要儲存在 AWS Secrets Manager 中的 FSX SVM 認證。-<block ref="b068931cc450442b63f5b3d276ea4297" prefix=" " category="inline-code"></block>：機密的 Amazon 資源名稱（ ARN ）、其中包含 SVM 的認證。-<block ref="599dcce2998a6b40b1e38e8c6006cb0a" prefix=" " category="inline-code"></block>：設為<block ref="eb301fdabb7b8996ba898845d5546121" prefix=" " category="inline-code"></block>。如需詳細資訊、請參閱 <block ref="e10af1024bf046058eef4c68dff3462a" category="inline-link-macro-rx"></block> 。</block>
  <block id="f62b661d066f6d5a24622ec3438e051b" category="example-title">搭配 Secrets Manager 的 AWS FSX for ONTAP 組態</block>
  <block id="88f9965484e8785ad82e1b99cdae3ab3" category="section-title">建立 AWS Secrets Manager 密碼</block>
  <block id="646ed389b399156cbfb4923c9d8fbf95" category="paragraph">由於 Trident 將針對 FSX Vserver 發行 API ，以便為您管理儲存設備，因此需要認證才能這麼做。傳遞這些認證的安全方法是透過 AWS Secrets Manager 密碼。因此，如果您還沒有，就必須建立 AWS Secrets Manager 密碼，其中包含 vsadmin 帳戶的認證。</block>
  <block id="360f6e9d45a33dadfdb2b47fa3a32110" category="paragraph">此範例建立 AWS Secrets Manager 密碼來儲存 Trident CSI 認證：</block>
  <block id="1cb68d4d58173447ddb7517b51d352a9" category="paragraph">Trident 也需要 AWS 權限才能正確執行。因此，您需要建立一個原則，讓 Trident 擁有所需的權限。</block>
  <block id="49512d524988e02360eaf4f4bb2ad8f3" category="paragraph">如果輸出為空，請使用下列命令將 IAM OIDC 與叢集建立關聯：</block>
  <block id="fa1c8065dc4d2b862bfba881472c0aac" category="admonition">取代<block ref="2befb7722283d545949c6220c6548fe4" prefix=" " category="inline-code"></block>前一步驟所建立角色的 ARN 。</block>
  <block id="44308ffe82692c268b99d3caefca907e" category="list-text">檢查 FSxN Trident CSI 附加元件的目前版本。以叢集名稱取代<block ref="e2eb89f0ffaf521a0d2eeaffca04d117" prefix=" " category="inline-code"></block>。</block>
  <block id="a1dc4a2136ed260b34021d64aaa6980a" category="list-text">將附加元件更新至上一個步驟輸出中可用更新所傳回的版本。</block>
  <block id="0ca34892a0e67f37b07d196ec272007d" category="list-text">NetApp 不建議在所有 ONTAP 驅動程式中使用 FlexVol 自動擴充， ONTAP SAN 除外。作為因應措施， Trident 支援使用快照保留，並據此擴充 FlexVol 磁碟區。</block>
  <block id="67ed8fb72dc668ae9c7c1114df8f02ed" category="paragraph">請參閱<block ref="ee9d56c9130a1d3814c95b35eb7c82a4" category="inline-link-macro-rx"></block>如需設定 FC 和 FC-NVMe SAN 主機的詳細資訊，。</block>
  <block id="1b9fede0aad66dda6d8b01b66280fff4" category="paragraph">* 要考慮的要點 * ： * OpenShift 和 KubeVirt 環境支援 SCSI over FC 。* Docker 不支援 SCSI over FC 。* iSCSI 自我修復不適用於 FC 上的 SCSI 。</block>
  <block id="5e6c49c79d451ce5d17472c430c69454" category="admonition">確保<block ref="dd5ff67ba72768d33f75e645aa2b8e56" prefix=" " category="inline-code"></block>包含<block ref="2a81b35478c9ccb4f9392dcc40edb8e6" prefix=" " category="inline-code"></block>在<block ref="a4a918a45181164207929d52aec36aec" prefix=" " category="inline-code"></block>中。</block>
  <block id="ce3d3f85c4d1d4dd7826863d9428b4e5" category="admonition">如需 Trident 的說明，請使用建立支援服務組合<block ref="1d41e2024c69110ad6054ffc785ca8e0" prefix=" " category="inline-code"></block>，並將其傳送至 NetApp 支援部門。</block>
  <block id="8ef3114bf1395e8f04d7b3404982499e" category="list-text">您可以將 NVE 加密旗標設定為<block ref="9d4568c009d203ab10e33ea9953a0264" prefix=" " category="inline-code"></block>建立啟用 NAE 的磁碟區。</block>
  <block id="351e2b20bd9ea864b69cd832f3a4a5df" category="list-text">如果後端未啟用 NAE ，則除非在後端組態中將 NVE 加密旗標設為（預設值），否則在 Trident 中配置的任何 Volume 都將啟用 NVE<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block> 。</block>
  <block id="a346cffc17b34fc56f3020d8b33d30c3" category="paragraph">建立儲存類別和 PVC 時，您可以將 PV 掛載到 Pod 。本節列出範例命令和組態，以將 PV 附加至 Pod 。</block>
  <block id="f253a45a33bc62e467efd426699d9025" category="paragraph">精靈啟動後，您可以使用 Docker CLI 介面來建立和管理磁碟區。</block>
  <block id="a0ba0b0d751124c646a352594c7e9d7b" category="paragraph">其餘的驅動程式可能會遇到競爭條件等問題，導致在沒有明確「贏家」的情況下，為單一要求建立大量磁碟區；例如， Element 具有允許磁碟區擁有相同名稱但不同 ID 的功能。</block>
  <block id="8904f6454065d44212063d39eeae5f07" category="paragraph">精細控制 NFS 裝載選項；預設為「 -o nfsver=3 」。* 僅適用於<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>和<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>驅動程式 * 。<block ref="71f7a3f48cfd3876cffba401813b7db0" category="inline-link-rx"></block>。</block>
  <block id="6a3f2fe5a221ff5e914123b7d1d207ac" category="paragraph">Snapshot 保留百分比，預設為「」接受 ONTAP 預設值</block>
  <block id="5c43de330169c269435e59a6b0ec6a2e" category="paragraph">此<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>驅動程式會在自動管理的 FlexVol Volume 集區內，以 ONTAP qtree 的形式建立 Docker Volume 。qtree的擴充能力大幅提升、每個叢集節點最多可達100、000個、每個叢集最多可達2、400、000個、而犧牲了部分功能。此<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>驅動程式不支援 Docker Volume 精細快照或複製。</block>
  <block id="a21d144a1c4c6283532b218d06e428b5" category="admonition">Docker swarm 目前不支援此<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>驅動程式，因為 Docker swarm 不會在多個節點之間協調磁碟區建立。</block>
  <block id="a742d54fecc7e60d5a6c56568622bf9d" category="paragraph">此<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>驅動程式會在自動管理的 FlexVol 磁碟區的共用集區中，將 Docker 磁碟區建立為 ONTAP LUN 。如此FlexVol 一來、每個支援不只侷限於一個LUN、而且能為SAN工作負載提供更好的擴充性。根據儲存陣列的不同、ONTAP 每個叢集最多可支援16384個LUN。由於磁碟區是下方的LUN、因此此驅動程式支援Docker磁碟區精細快照和複製。</block>
  <block id="8d848c284e4e3a777487dbfd26724083" category="paragraph">有關適用於 FlexGroups 的 FlexGroups 和工作負載的資訊，請參閱<block ref="fd26d63759e7985cecb8814cdedc189b" category="inline-link-rx"></block>。</block>
  <block id="9e2ebdd267bef148382aa48682e06bc5" category="paragraph">若要在同一個環境中取得進階功能和大規模功能，您可以使用執行多個 Docker Volume 外掛程式執行個體，其中一個使用，另<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>一個使用<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>。</block>
  <block id="86c8f953c394c19d7db6f6cf9882490e" category="paragraph"><block ref="6594f00105facbc68b3a919300221cc8" prefix="" category="inline-code"></block></block>
  <block id="fc03ab18d43301d015d44d432ae97eee" category="paragraph"><block ref="576b5b6204cfa4837c36a45307295380" prefix="" category="inline-code"></block><block ref="6d1394abf99896b6835a3be55cc2adce" prefix=" " category="inline-code"></block></block>
  <block id="ff0444fca20d2b690849631c3206bc5a" category="paragraph"><block ref="9e7d4cc1e0a49fb0aadd14f9a159a7ec" prefix="" category="inline-code"></block></block>
  <block id="839d5cbe0fec88e102ab7dee46577ac7" category="paragraph">這會將快照原則設定為所需的值。預設值為<block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block>、表示不會自動為磁碟區建立任何快照。除非您的儲存管理員修改，否則所有 ONTAP 系統上都會有一個名為「預設」的原則，該原則會建立並保留六個小時，兩個每日快照和兩個每週快照。瀏覽到磁碟區任何目錄中的目錄、即可恢復快照中保留的資料<block ref="a15da8cecb1f1192c4d913b8ba676121" prefix=" " category="inline-code"></block>。</block>
  <block id="c515dd3a067f21589c3e11d31e32462b" category="list-text">區塊儲存驅動程式的 _rwx 存取模式 _ ： ONTAP SAN （ iSCSI ， NVMe / TCP ， FC ）和 ONTAP SAN 經濟（ iSCSI ）驅動程式僅支援「 volumemode ：區塊」（原始裝置）。對於這些驅動程式，無法使用此參數，因為這些<block ref="8da9b296683a7538d85fc38fcb987292" prefix=" " category="inline-code"></block>磁碟區是以原始裝置模式提供。</block>
  <block id="de4b458ce26c7e2479c45bb915c621b5" category="paragraph">如果您在建立 PVC 時收到「找不到容量集區」錯誤，您的應用程式註冊可能沒有相關的必要權限和資源（子網路，虛擬網路，容量集區）。如果啟用除錯功能、 Trident 會記錄建立後端時所探索到的 Azure 資源。確認使用的角色是否適當。</block>
  <block id="1c52b877ebb92e642f84ee1628240247" category="cell">永遠為「 SolidFire - SAN 」</block>
  <block id="31079062306e509fbecf7a2bd9485187" category="cell">「 SolidFire _ 」 + 儲存（ iSCSI ） IP 位址</block>
  <block id="1ed25c6118740d8ddd80ea0ce520e808" category="cell">尋找名為「 Trident 」的存取群組 ID</block>
  <block id="c72dc6713f14ba2541824417f46e1cd6" category="cell">疑難排解時要使用的偵錯旗標。例如、 ｛ "api" ： false 、 "method" ： true}</block>
  <block id="cc1ae9a700356c7c519b4aee7dcbf53b" category="cell">"10.0.0.1 " ， "[2001:1234:abcd::fefe]</block>
  <block id="1925cd490b13f25205214eccfe51fccd" category="admonition">如果您使用的是「 vsadmin 」認證，則必須是 SVM 的認<block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix=" " category="inline-code"></block>證；如果使用的是「 admin 」認證，則必須是叢集的認證<block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix=" " category="inline-code"></block>。</block>
  <block id="470fa5f00d398bad1d1874a9b4d59d7b" category="cell">"["0.0.0/0" ， ":/0"]"</block>
  <block id="1e8d899088cef4cd1758075ac2b63721" category="cell">為快照保留的磁碟區百分比「 0 」</block>
  <block id="d8d01124b8b3fe614b475ad96fca4635" category="cell">如果<block ref="0a236e7685e50a59df980d0a30929d6c" prefix=" " category="inline-code"></block>是<block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block>，<block ref="2954e92a9b4d0e998fe4893f8141649a" prefix=" " category="inline-code"></block></block>
  <block id="5a71b77feca506fc8eba218b4e65048b" category="paragraph">Trident 會從快照還原資料。您可以驗證快照還原狀態：</block>
  <block id="9d577c00c4cbb5d99e7a8a6589113669" category="paragraph">刪除含相關快照的持續 Volume 時，對應的 Trident Volume 會更新為「刪除狀態」。移除磁碟區快照以刪除 Trident 磁碟區。</block>
  <block id="27e9bd9989c090489f69126b9910d7d8" category="list-text">您也可以在後端定義中加入、以取得每個後端的偵錯記錄<block ref="effa2d809c72dcb6cce15a1e0b040e63" prefix=" " category="inline-code"></block>。例如、在 Trident 記錄檔中包括<block ref="825a719baa5b5b7445c98535815fac39" prefix=" " category="inline-code"></block>以取得 API 呼叫和方法傳輸。現有的後端可以<block ref="effa2d809c72dcb6cce15a1e0b040e63" prefix=" " category="inline-code"></block>使用設定<block ref="ad782b779edfd8199198bed41b3e3b6b" prefix=" " category="inline-code"></block>。</block>
  <block id="1e8493e925b9f37d24c0573c08c6643a" category="list-text">在來源叢集上，為來源應用程式建立 AppVault 。視您的儲存供應商而定，請修改中的範例<block ref="789b31b0a5cabea5de04107e65439f53" category="inline-link-macro-rx"></block>以符合您的環境：</block>
  <block id="a42a308559809e0fc20b13ea51d5d3d4" category="list-text">在來源叢集上，建立來源應用程式 CR ：</block>
  <block id="85d88f09b637997959adc6d50a42d56f" category="list-text">在目的地叢集上，建立與您在來源叢集上套用的 AppVault CR 相同的來源應用程式 AppVault CR ，並命名該應用程式（例如<block ref="3ad9e8b652d0a9a977e2534bf143ea29" prefix=" " category="inline-code"></block>）。</block>
  <block id="8af8219e9797756f7e348dd40e365632" category="list-text">為目的地叢集上的目的地應用程式建立目的地 AppVault CR 。視您的儲存供應商而定，請修改中的範例<block ref="789b31b0a5cabea5de04107e65439f53" category="inline-link-macro-rx"></block>以符合您的環境：</block>
  <block id="f454fc9c64d31c07a352c043fe184940" category="list-text">在目的地叢集上，建立 AppMirrorRelationship CR 檔案：</block>
  <block id="3d9dc864aeb5b914422a6a665c53ceeb" category="list-text">（ _Optional_ ）在目的地叢集上，檢查複寫關係的狀態和狀態：</block>
  <block id="fe07abfd92e0d0809a7eb71ce3f79b4b" category="list-text">在目標叢集上，編輯 AppMirrorRelationship CR 檔案（例如<block ref="e4fba3915616865173fe7feee130a30f" prefix=" " category="inline-code"></block>），並將 * spec.desiredState* 的值變更為<block ref="2c42d7d277f63fcbe64b041b997ceaed" prefix=" " category="inline-code"></block>。</block>
  <block id="2ebd442ba9080ba8f10b660fd69bb379" category="list-text">選用：在來源叢集上，建立來源應用程式的快照。如此可確保擷取來源叢集的最新變更。</block>
  <block id="4d77fef9f6bd1f87593e41a1d32a7ea4" category="list-text">在目標叢集上，編輯 AppMirrorRelationship CR 檔案（例如<block ref="e4fba3915616865173fe7feee130a30f" prefix=" " category="inline-code"></block>），並將 spec.desiredState 的值變更為<block ref="072f9734fceb02f516b50d4174ac0f18" prefix=" " category="inline-code"></block>。</block>
  <block id="cd7eea117bba074d0250983f81bb10e4" category="list-text">在原始目的地叢集上，刪除 AppMirrorRelationship CR 。這會導致目的地成為來源。如果新的目的地叢集上還有任何保護排程，請將其移除。</block>
  <block id="5ca8234bb17898bdaa8421e9bab83a0b" category="list-text">請確定新目的地（原始來源叢集）已同時使用 AppVault CRS 進行設定。</block>
  <block id="e319bd320145e358af8fd5dbada2d800" category="list-text">在來源叢集上，建立關機快照：</block>
  <block id="47d8460d4aa2253d733ecb9b355e4319" category="list-text">在來源叢集上，關機快照完成後，取得關機快照的狀態：</block>
  <block id="00e7f88da8b7690738f8546262d2fe54" category="list-text">在來源叢集上，使用下列命令尋找 * shutdownsnapshot .status.appArchivePath* 的值，並記錄檔案路徑的最後一部分（也稱為 basename ；這將是最後一條斜線之後的所有項目）：</block>
  <block id="579f2feb3d9edaa336d3ccb69c3fb855" category="list-text">執行容錯移轉，從新的目的地叢集移轉至新的來源叢集，並進行下列變更：</block>
  <block id="23b4dec181e41ab3962cf73b28ffe58c" category="list-text">在目前的目標叢集上，刪除 AppMirrorRelationship CR ：</block>
  <block id="6935ea1d99a0c26f0e4cddb80f444849" category="summary">如果您使用 Red Hat OpenShift ，則可以使用運算子來安裝 Trident 。</block>
  <block id="c282cc9924716a0ecdcc1864c8821950" category="doc">從 Trident 社群營運商切換至 OpenShift 認證營運商</block>
  <block id="92da9bfce4b6635fcf5d3f3725accbbc" category="paragraph">若要從 NetApp 社群 Trident 營運商切換至 Red Hat OpenShift 認證 Trident 營運商，您必須先解除安裝社群營運商，然後使用 OperatorHub 安裝認證營運商。</block>
  <block id="cec1c482e499b4748371d5e19359dacd" category="inline-link-macro">準備好您的環境以進行 Trident 安裝</block>
  <block id="82c3da1e712e572f424c3b7bf7dafcaf" category="section-title">解除安裝 NetApp Trident 社群營運者</block>
  <block id="ae76609b28371ddbc9f46be837040994" category="list-text">使用 OpenShift 主控台瀏覽至 OperatorHub 。</block>
  <block id="349838fb1d851d3e2014b9fe39203275" category="image-alt">安裝</block>
  <block id="2d8d10c295f87a1f17d2f37a4df9688d" category="list-text">尋找 NetApp Trident 社群業者。</block>
  <block id="e1b3a07c6ba67335c1564ff539f1f885" category="admonition">請勿選取 * 刪除此運算子的所有運算元執行個體 * 。</block>
  <block id="615da270425b5ecb4fe6ddeed9358880" category="list-text">按一下*解除安裝*。</block>
  <block id="c7afcce8432c7e249a80e803d2a81180" category="section-title">安裝 OpenShift 認證操作員</block>
  <block id="6eaf33f9c2387a07f89fc20e19acffaa" category="list-text">瀏覽至 Red Hat OperatorHub 。</block>
  <block id="cccebca328e4674a8888d5dc22f61e0d" category="list-text">搜尋並選擇 NetApp Trident 運算子。</block>
  <block id="9872de8cf3e5ac67cae81e5c17eaa5cc" category="list-text">依照畫面上的指示安裝操作人員。</block>
  <block id="52b8ffce119fe77b28034f2fdd35eb5f" category="section-title">驗證</block>
  <block id="ba8b537f098a607b7119fc78961300eb" category="list-text">檢查主控台的 OperatorHub ，確保已成功安裝新的認證營運者。</block>
  <block id="838483eae18a7bca44c25a90dc7f55c3" category="doc">使用 OpenShift OperatorHub 安裝 Trident</block>
  <block id="d569da5fb14cad502f71e232cdfcb4e4" category="paragraph">如果您使用 Red Hat OpenShift ，則可以使用 Red Hat 認證的營運者來安裝 NetApp Trident 。請使用此程序，從 Red Hat OpenShift Container Platform 安裝 Trident 。</block>
  <block id="516a493e6df274ac5512ffaab7234ebf" category="section-title">尋找並安裝 Trident 營運商</block>
  <block id="7a200e69eab0d67b215ea6e3c6081797" category="list-text">瀏覽至 OpenShift OperatorHub 並搜尋 NetApp Trident 。</block>
  <block id="9838ab5306db947832d94d1cd49a486a" category="list-text">從已安裝操作員清單中選取 Trident 操作員。</block>
  <block id="b5a7424a278ddd01fa4e381b58d1e00d" category="list-text">如果您要從運算子刪除所有的運算元執行個體，請選取此選項。</block>
  <block id="28ed84868f638999e59e306d6b87b07c" category="admonition">如果未選中 * 刪除此運算符的所有操作數實例 * 複選框，則不會卸載 Trident 。</block>
  <block id="0e9e7400617f4a815b5ec92f2030b580" category="sidebar">使用 OpenShift 認證營運商進行安裝</block>
  <block id="93e4eff1c01241084bfc9427074bacea" category="sidebar">使用 OpenShift OperatorHub 安裝 Trident</block>
  <block id="c9e3d6c8fc80db4773cf69e205f2b571" category="sidebar">從 Trident 社群營運商切換至 OpenShift 認證營運商</block>
  <block id="88f2acec92adfdf94ffec73a8fda60a6" category="paragraph">只需幾個步驟即可設定磁碟區複製。</block>
  <block id="e44a637a848aa60ef27cfc477d692412" category="paragraph">Trident 會建立 PV 及其後端儲存磁碟區。</block>
  <block id="9f965f02f635b760a84c43d43aba854f" category="paragraph">開始安裝之前<block ref="a24ee29cd883cbf52de58a68b0fed1a7" category="inline-link-macro-rx"></block>，。</block>
  <block id="d72c3d84865c2955b89cbf6e0ec00ada" category="inline-link-macro">問題 #983</block>
  <block id="ac76c3fcac41a10bd5f709108875e6c6" category="list-text">解決了 Trident 運算符中使用非默認映像註冊表時 sidecar 映像名稱和版本錯誤填充的問題（<block ref="524f95fe3800e5d3ef82e615d679c539" category="inline-link-macro-rx"></block>）。</block>
  <block id="7bc2d7846b2e95d3f64a4d4f4b53cc3c" category="list-text">解決了在 ONTAP 容錯移轉恢復期間多重路徑工作階段無法恢復的問題（<block ref="0939f851f18acedadb7fdffdec6d140b" category="inline-link-macro-rx"></block>）。</block>
  <block id="212dff1a74c955a52357c5a67478720d" category="section-title">25.02 的變更</block>
  <block id="ef5363598e9b6f09c42a4f11b7798e31" category="section-title">24.10.1 的變更</block>
  <block id="fe28e2a5f749261aca15de7b9e5841d0" category="list-text">* Kubernetes* ：增加了對 Kubernetes 1.32 的支援。</block>
  <block id="3da21bcb163e7e142caada3e22ac014f" category="list-text">已更新 Trident 和 Trident ASUP 相依性，以解決 CVE-2024-45337 和 CVE-2024-45310 的問題。</block>
  <block id="eeda04a5133a10ebd4956c7d83dfd389" category="list-text">在 iSCSI 自我修復期間，移除間歇性不佳的非 CHAP 入口網站登出 (<block ref="0939f851f18acedadb7fdffdec6d140b" category="inline-link-macro-rx"></block>) 。</block>
  <block id="78937357687a7b0292ed689d4e420485" category="inline-link">Red Hat 說明文件</block>
  <block id="89e30b0f2c0e48835ff872a994fc749c" category="list-text">當使用搭配 FC PV 執行 RHEL/Red Hat Enterprise Linux CoreOS （ RHCOS ）的工作節點時，請在 StorageClass 中指定<block ref="70f68bb2f748b85de6526bfe236ea1e9" prefix=" " category="inline-code"></block> mountOption 以執行內嵌空間回收。請參閱<block ref="65c95aeda8cb0b26307f9839dd3fefbf" category="inline-link-rx"></block>。</block>
  <block id="e80b6a304e29d5dfcb9150f47d69db94" category="section-title">Trident 支援 KubeVirt 和 OpenShift 虛擬化</block>
  <block id="cffd29fb8e17cb30625130ee24cd667d" category="paragraph">Trident 支援下列適用於 KubeVirt 和 OpenShift 虛擬化的 ONTAP 驅動程式：</block>
  <block id="0ae326ef84f2a6bc4be48951f88c0162" category="list-text">將儲存類別更新為在 OpenShift 虛擬化環境中使用<block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix=" " category="inline-code"></block>參數（例如：<block ref="6db865adcb81b7cf881ff9839476f850" prefix=" " category="inline-code"></block>）。如有需要，請將 Volume 模式設定為使用中的參數<block ref="c6dda2fd1e6d70d582099348cfe6c847" prefix=" " category="inline-code"></block>明確封鎖<block ref="1467a571dd94848f616edc4a0c33b927" prefix=" " category="inline-code"></block>，以通知 CDI 建立區塊資料磁碟區。</block>
  <block id="2bf380408feee0a9443f217c907f0681" category="inline-link-macro">Red Hat OpenShift 記錄文件</block>
  <block id="796814ebd3d324fe438f0c699c37c89e" category="admonition">下表僅包含與記錄服務相關的儲存組態變數。您可以找到其他選項、這些選項<block ref="202ad309c67a74272d432350a2d0cf76" category="inline-link-macro-rx"></block>應根據您的部署進行檢閱、設定及使用。</block>
  <block id="3a298688c4d78e1b7532d3859cd16a57" category="inline-link-macro">Red Hat OpenShift Container Platform 3.11 文件</block>
  <block id="620fb6046d1af07a3df48b291902887c" category="paragraph">不過、如果您在初始安裝之後進行部署、Ansible將需要使用元件方針。此程序可能會隨著 OpenShift 的不同版本而稍有變更、因此請務必閱讀並遵循<block ref="87091f5bcd27af3d8592e461d451be85" category="inline-link-macro-rx"></block>您的版本。</block>
  <block id="95c7854cff26589ad1555baa8672c001" category="inline-link-macro">Red Hat 的 OpenShift 部署指南</block>
  <block id="757eaf1f1a551aabeb24f57705261f85" category="paragraph">上述變數及部署程序可能會隨OpenShift的每個版本而變更。請務必檢閱並遵循<block ref="1b29818189b1aff318eccaee960b09cb" category="inline-link-macro-rx"></block>您的版本、以便針對您的環境進行設定。</block>
  <block id="4e602d306baa843baf9ed9bd9ce452b1" category="list-text">新增對 ONTAP 驅動程式 OpenShift 虛擬化的支援。</block>
  <block id="814077b936b9bc9d2731d0f5fd50fde3" category="list-text">若要執行iSCSI PV的線上空間回收、工作節點上的基礎作業系統可能需要將掛載選項傳遞至磁碟區。對於需要的 RHEL/Red Hat Enterprise Linux CoreOS （ RHCOS ）執行個體而言，這是正確的做法<block ref="70f68bb2f748b85de6526bfe236ea1e9" prefix=" " category="inline-code"></block><block ref="2ee633fb26bfccf07d490458d29f92a2" category="inline-link-rx"></block>；請確保在您的^] 中包含「丟棄掛載選項」，以支援線上區塊捨棄<block ref="15699dd651c6fec3ed329f2bf55d54b4" category="inline-link-rx"></block><block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix="[" category="inline-code"></block>。</block>
  <block id="de6d7aa94730ba882f7284ac8e07a0d1" category="paragraph">如果您使用的是驅動程式組合、則應該安裝所有必要的驅動程式工具。Red Hat Enterprise Linux CoreOS （ RHCOS ）的最新版本預設會安裝工具。</block>
  <block id="ce557c2f93da665463decf7b19e61b7b" category="list-text">當使用搭配 iSCSI PV 執行 RHEL/Red Hat Enterprise Linux CoreOS （ RHCOS ）的工作節點時，請在 StorageClass 中指定<block ref="70f68bb2f748b85de6526bfe236ea1e9" prefix=" " category="inline-code"></block> mountOption 以執行內嵌空間回收。請參閱<block ref="65c95aeda8cb0b26307f9839dd3fefbf" category="inline-link-rx"></block>。</block>
  <block id="3992b498f2510c20f4dc0df9804e6038" category="list-text">使用 Red Hat Enterprise Linux CoreOS （ RHCOS ）時，請確保<block ref="3fe4dc8de876aca2c78fa0cd9c6d0b65" prefix=" " category="inline-code"></block>已在工作節點上啟用，並依預設啟動。您可以使用OpenShift機器組態或修改點火模板來完成此作業。</block>
  <block id="aaa0c40b2c8011bdffe750a1ba36c398" category="paragraph">使用<block ref="296026821ada2ab8aebcf13547a63df5" prefix=" " category="inline-code"></block>、<block ref="e12fdd044232e643620eed06bf33c7af" prefix=" " category="inline-code"></block>和<block ref="1ad68a6a046942b7c1666aed825df70a" prefix=" " category="inline-code"></block>，您可以指定 SMB 磁碟區並提供所需的 Active Directory 認證。任何具有任何 / 無權限的 Active Directory 使用者 / 密碼都可用於節點階段密碼。</block>
  <block id="1e0e0f35966b4297310419e9023a837b" category="admonition">如果 Trident 已從這個後端佈建磁碟區和快照、但該後端仍存在、則刪除後端將會阻止新磁碟區由其進行佈建。後端將繼續存在於「刪除」狀態。</block>
  <block id="e441c0f153e5f2e8328aa8c2e9badf45" category="list-text">將 kube 狀態指標與 Prometheus 整合。編輯 Prometheus 配置文件<block ref="aacdd9a7e2029a243488dbd0c49c5bbb" prefix="(" category="inline-code"></block>）並添加 kube 狀態指標服務信息。例如：</block>
  <block id="ce813b4c1248ec7e0f14b08f1a037497" category="listing-title">prometheus.yaml：kube-state-metrics 服務與 Prometheus 的集成</block>
  <block id="934a401d15e7226d8cb60e2a12f28611" category="list-text">設定 Prometheus 將警示路由至 AlertManager 。編輯 Prometheus 配置文件<block ref="aacdd9a7e2029a243488dbd0c49c5bbb" prefix="(" category="inline-code"></block>）並添加以下部分：</block>
  <block id="2a88bf2582239d12cc0700d3c6857519" category="listing-title">prometheus.yaml：向 Alertmanager 發送警報</block>
  <block id="ae9aa1ddb34419c7b7b7f49feba7fb45" category="paragraph">以下範例定義當備份自訂資源的狀態設定為 5 秒或更長時間時觸發的關鍵警示<block ref="902b0d55fddef6f8d651fe1035b7d4bd" prefix=" " category="inline-code"></block>。您可以自訂此範例以符合您的環境，並將此 YAML 片段包含在組態檔案中<block ref="aacdd9a7e2029a243488dbd0c49c5bbb" prefix=" " category="inline-code"></block>：</block>
  <block id="62c242d2e7dfd83a58d8ccf60227d68f" category="listing-title">rules.yaml：定義失敗備份的 Prometheus 警報</block>
  <block id="70694773feb2b23c45e7ff7a6a3c3c8b" category="paragraph">您可以將 AlertManager 設定為傳送通知給其他通道，例如電子郵件， PagerDuty ， Microsoft 團隊或其他通知服務，方法是在檔案中指定個別的組態<block ref="9001eaececb0884cbeb80659e81340ad" prefix=" " category="inline-code"></block>。</block>
  <block id="965357e3c90ccf3fba01174c6508d562" category="listing-title">alertmanager.yaml：向 Slack 頻道發送警報</block>
  <block id="02c19b7bc038d2af238bbd729bc3d9c4" category="list-text">手動建立 AppVault CR 時，使用 *spec.dataMoverPasswordSecretRef* 欄位指定金鑰。</block>
  <block id="d2a7dc5804ec844f3f7bfb903e97693f" category="section-title">S3 相容於儲存 IAM 權限</block>
  <block id="d9b7f314625fb7dcf35c741afe65b676" category="inline-link">Amazon S3 文檔</block>
  <block id="46d663191f16f782a681e5f6702a09d4" category="list-text">對於所有 ONTAP 後端，Trident 要求至少將一個聚合分配給 SVM。</block>
  <block id="782b4a6bf31d7d564f002ed80e56a970" category="doc">資料移動器逾時註釋</block>
  <block id="2cf4114566459ea3b3a5ac507cb86fd9" category="paragraph">在備份和復原作業期間，您可以使用註釋<block ref="f49fa3f76b2a4fcdf04dff369d417d84" prefix=" " category="inline-code"></block>配置資料移動操作的逾時時間。此註解指定資料移動器在逾時前等待特定操作完成的最長時間（以秒為單位）。這在網路問題或其他因素可能導致資料移動操作停滯的情況下尤其有用。它有助於檢測和處理停滯的操作，而不是為整個過程設定通用逾時。例如，如果由於網路問題導致磁碟區資料復原沒有進展，則該操作將根據指定的時長逾時。</block>
  <block id="c2b7f24f4ddbaedb4e3d9e19f77eebac" category="paragraph">您可以在 YAML 檔案中使用此註釋，如下所示：</block>
  <block id="14a0e26cbe187a4754f8b523ffba6073" category="paragraph">在此範例中，註解失敗<block ref="ec2a2895b09b6030ec8cc1b3c43ddc4d" prefix=" " category="inline-code"></block>如果恢復操作在 2 秒內沒有進展，則停止操作。</block>
  <block id="c49aaf233c16f1193a8d683c17866eea" category="admonition">如果註釋值小於或等於0，則操作將立即失敗。</block>
  <block id="5ac5b84505fffb8149e9d0cb84ddedbe" category="admonition">在恢復操作期間，任何<block ref="890b633d48ac6398f14ae722463da08b" prefix=" " category="inline-code"></block>為虛擬機器 (VM) 所建立的資料不會被復原。</block>
  <block id="4d1a32c0e466ff9011c60655b98dbf71" category="inline-link-macro">使用 Amazon EKS 外掛程式自動為 FSx for ONTAP 設定 Trident 後端</block>
  <block id="607ed18429282657fb3f6b377df32f8c" category="inline-link-macro">NetApp Trident 與 Google Cloud NetApp Volumes 的 SMB 協議</block>
  <block id="ee031d295c711ed3119e4ca1bf2829b1" category="inline-link-macro">釋放 NetApp ASA r2 系統對 Kubernetes 區塊儲存的強大功能</block>
  <block id="a1862e00d8111386cdf238bd23bb97db" category="inline-link">Trident 25.02</block>
  <block id="25bdd2f6eb0ca7663bf4152396a74a09" category="list-text"><block ref="25bdd2f6eb0ca7663bf4152396a74a09" category="inline-link-rx"></block></block>
  <block id="e26bc895e5bb00237e35bd08e101a228" category="inline-link-macro">25.06</block>
  <block id="e388180fa8946253a28286d92fcbc393" category="cell">2028 年 6 月</block>
  <block id="61a3094d46fa14bffb9067eeb8d3405a" category="paragraph"><block ref="61a3094d46fa14bffb9067eeb8d3405a" category="inline-link-macro-rx"></block></block>
  <block id="d7ccfdca42aadc41314f5df3ed2e4cbf" category="list-text">使用<block ref="0562418e6d9a76d0dd22b2f186a2203d" prefix=" " category="inline-code"></block> 並指定部署和映像登錄位置的名稱。您 <block ref="57de9a35aeedde82408b1e047030d221" category="inline-link-macro-rx"></block> 可以位於一個登錄或不同的登錄中、但所有 CSI 映像都必須位於同一個登錄中。在範例中<block ref="5c9befb508998ce21883733ce6ab129f" prefix=" " category="inline-code"></block>、是您要安裝的 Trident 版本。</block>
  <block id="9632d6ad86670e70a32c6b93e85ad9f4" category="paragraph">例如，若要變更的預設值<block ref="ad42f6697b035b7580e4fef93be20b4d" prefix=" " category="inline-code"></block>，請執行下列命令，其中<block ref="5c9befb508998ce21883733ce6ab129f" prefix=" " category="inline-code"></block>是您要安裝的 Trident 版本：</block>
  <block id="b34ad03c5088f36033c20b21d9aae4c2" category="list-text">使用<block ref="0562418e6d9a76d0dd22b2f186a2203d" prefix=" " category="inline-code"></block>並指定部署名稱、如下例所示、其中<block ref="5c9befb508998ce21883733ce6ab129f" prefix=" " category="inline-code"></block>是您要安裝的 Trident 版本。</block>
  <block id="d180bc23594b2a81a598da69af7136af" category="list-text">如果您 <block ref="538f4beb16c8502421a8389e199d34ce" category="inline-link-macro-rx"></block>是、您可以在單一步驟中使用<block ref="9ba27131bd1269499334744b89769fac" prefix=" " category="inline-code"></block> 進行升級。如果您未新增 Helm repo 或無法使用它來升級：</block>
  <block id="843e8c92f2887fa83e4564f86e6a7ca0" category="list-text">您可以直接升級至安裝版本的四個版本範圍內的任何目標版本。例如、您可以直接從 24.06 （或任何 24.06 點版本）升級至 25.06 。</block>
  <block id="d4ea8129c0158e8c6ac0b3bb00a333e5" category="list-text">如果您要從四個版本的外部版本升級、請執行多步驟升級。使用升級說明從升級至最新版本、以符合四個版本的 <block ref="a799aa6eaf3a5192b34ea19f24bb716f" category="inline-link-macro-rx"></block> 視窗。例如、如果您執行的是 23.07 、而且想要升級至 25.06 ：</block>
  <block id="96643a0b653f3484db440bd905d8e591" category="list-text">第一次從 23.07 升級至 24.06 。</block>
  <block id="0d5f6bd4062e1e564fa83bfc5eb6a64c" category="list-text">然後從 24.06 升級至 25.06 。</block>
  <block id="bc08c4a5eed12311fe8187fb000dd58a" category="paragraph">有關 Amazon S3 策略的更多信息，請參閱<block ref="61017e44ea21b481e69f04f8ac510768" category="inline-link-rx"></block> 。</block>
  <block id="2508b93e69f47b3a094284dbdc9a09de" category="list-text">（可選）新增包含或排除標有特定標籤的資源的過濾：</block>
  <block id="b4d332d25d8164d8387707934254781d" category="admonition">當兩者<block ref="a25777d0a6883efb33950a7cd7a8f9b9" prefix=" " category="inline-code"></block>和<block ref="2021b5ec814a388ca04af6c6d6c2d16f" prefix=" " category="inline-code"></block>被使用， <block ref="a25777d0a6883efb33950a7cd7a8f9b9" prefix=" " category="inline-code"></block>首先運行，然後<block ref="2021b5ec814a388ca04af6c6d6c2d16f" prefix=" " category="inline-code"></block>應用於結果資源。</block>
  <block id="6b556cca1436ef5909ccaa59f5aae989" category="paragraph">您可以使用<block ref="e80c5db95c437e3b5acee80112bd1f1a" prefix=" " category="inline-code"></block>和<block ref="484f02b530e920abf065e3f27b7a6d80" prefix=" " category="inline-code"></block>用於包含或排除資源的標誌<block ref="303a9ae359153efd5b4c1067cd875175" prefix=" " category="inline-code"></block>例如群組、類型、版本、標籤、名稱和命名空間，如下例所示：</block>
  <block id="13001655f60b86601d45076ffb7e8cb4" category="list-text">*spec.snapshotRef*：（可選）：用作備份來源的快照的名稱。如果未提供，將會建立並備份暫存快照。</block>
  <block id="93b1107cde6ba041513cd9ccf7b4bae0" category="paragraph">您可以選擇性地使用<block ref="53f5240b338c91a0568f15e2562a35de" prefix=" " category="inline-code"></block>旗標來指定備份是否應為非遞增備份。依預設，所有備份都是遞增備份。使用此旗標時，備份會變成非遞增備份。最佳做法是定期執行完整備份，然後在完整備份之間執行遞增備份，以將與還原相關的風險降至最低。</block>
  <block id="ab5807fb06fd654f730a4ed5a02bb950" category="paragraph">您可以將旗標設定<block ref="61df7cc86eb24ab1300f0e74e74bb50c" prefix=" " category="inline-code"></block>為持續完整備份，或根據需求自訂旗標<block ref="f9f90eeaf400d228facde6bc48da5cfb" prefix=" " category="inline-code"></block>。例如，如果您選擇每日精細度，則可以指定應在星期一進行完整備份。例如，使用<block ref="d416cce9d6bcb838c8958b9fbb84dffa" prefix=" " category="inline-code"></block>排程在週一和週四進行完整備份。</block>
  <block id="396e0c641a3eb6083fa0ba7badcff8ac" category="admonition">確保回收策略設定為<block ref="f2a6c498fb90ee345d997f888fce3b18" prefix=" " category="inline-code"></block>從物件儲存中刪除所有備份資料。該策略的預設值是<block ref="afece4245269582cb2f1009d4fb52047" prefix=" " category="inline-code"></block>以避免意外資料遺失。如果政策沒有改變<block ref="f2a6c498fb90ee345d997f888fce3b18" prefix=" " category="inline-code"></block> ，備份資料將保留在物件儲存中，需要手動刪除。</block>
  <block id="28b0a2e1fa7af6d4a2a83bc61c130c0f" category="list-text">確保連接到叢集的 NetApp 儲存裝置使用 Trident 24.02 或更新版本（建議使用 Trident 24.10）。</block>
  <block id="070b998f5495f2da2fb3ac5053772d1e" category="list-text"><block ref="8321592ce24c8a122ecf26a63cfca407" prefix="" category="inline-code"></block> ：NFS</block>
  <block id="48af35aa41f6c14dcd31a429e161cd45" category="list-text"><block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix="" category="inline-code"></block> ：iSCSI</block>
  <block id="af09466318992e13530265625ea96e63" category="list-text"><block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix="" category="inline-code"></block> ：足球俱樂部</block>
  <block id="53b96f55224c3a6f51becdf09ad8ffe6" category="list-text"><block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix="" category="inline-code"></block> ：NVMe/TCP（要求最低 ONTAP 版本 9.15.1）</block>
  <block id="a167444fdea2847400372052380975f2" category="inline-link-macro">ONTAP One 隨附授權</block>
  <block id="e25ea621e214708b88885c09ed9b5b9b" category="paragraph">從 ONTAP 9.10.1 開始、所有授權都會以 NetApp 授權檔案（ NLF ）的形式交付、這是一個可啟用多項功能的單一檔案。如需詳細資訊、請參閱 <block ref="99e347051ec17074ee747e0bde509d7d" category="inline-link-macro-rx"></block> 。</block>
  <block id="afafd0e230868b7ce6a0a4fcf57ee6d2" category="admonition">僅支援 SnapMirror 非同步保護。</block>
  <block id="39741179a069c04c2421056e0f2b56fa" category="list-text">*NetApp Trident 與 SVM*：對等遠端 SVM 必須可供目標叢集上的 NetApp Trident 使用。</block>
  <block id="961ce5b35a999d2dc3f7e386f74eb614" category="list-text">對於 qtree 卷，支援從備份還原到其他命名空間或原始命名空間。但是，對於 qtree 卷，不支援從快照還原到其他命名空間或原始命名空間。</block>
  <block id="ffbfa7c1456b1cb991affd8a76d54fd1" category="section-title">支持的註釋</block>
  <block id="738d4e5947ef1239f584cd47619cf356" category="paragraph">本節列出了系統中支援配置各種行為的註解。如果使用者未明確設定註解，系統將使用預設值。</block>
  <block id="f49fa3f76b2a4fcdf04dff369d417d84" category="cell">protected.trident.netapp.io/data-mover-timeout-sec</block>
  <block id="a666ad37acca2b6a0ee400d7b2acf088" category="cell">允許資料移動設備操作停止的最長時間（以秒為單位）。</block>
  <block id="3b2f6f0bb673ee02e8aafe624e2e971f" category="cell">protected.trident.netapp.io/kopia-content-cache-size-limit-mb</block>
  <block id="f044e4dc5e5fdde631180451c25a973c" category="cell">Kopia 內容快取的最大大小限制（以兆位元組為單位）。</block>
  <block id="0ae48837f8ebc5da6e90828852d02027" category="admonition">25.06 及更高版本不需要此步驟。</block>
  <block id="ed98e5c2a168d1606df0370fe371df28" category="paragraph">從版本 24.10 升級時，升級期間執行的快照可能會失敗。此失敗不會阻止將來建立快照（無論是手動快照還是計劃快照）。如果升級期間快照失敗，您可以手動建立新快照以確保應用程式受到保護。</block>
  <block id="756accba0f305693c47126f932bd7ac6" category="paragraph">為避免潛在的故障，您可以在升級前停用所有快照計劃，然後在升級後重新啟用。但是，這會導致升級期間遺失所有計劃的快照。</block>
  <block id="8e903b2b577c535f6f70248f34e61228" category="list-text">運行此命令將 CRD 的管理從<block ref="23901a54edbcff97a89483ac3112545c" prefix=" " category="inline-code"></block>到<block ref="9a82c7a4099124e5bfaa83e7c5997bd4" prefix=" " category="inline-code"></block> ：</block>
  <block id="da4df818678014568aed9623276fd9f5" category="list-text">運行此命令刪除<block ref="23901a54edbcff97a89483ac3112545c" prefix=" " category="inline-code"></block>圖表：</block>
  <block id="aeea10a9d4e3d29e20b749a201f0ae46" category="admonition">不要卸載<block ref="23901a54edbcff97a89483ac3112545c" prefix=" " category="inline-code"></block>圖表使用 Helm，因為這可能會刪除您的 CRD 和任何相關資料。</block>
  <block id="685db7ca1bcc71c55d1592c71e464158" category="section-title">故障轉移和反向操作期間的執行掛鉤</block>
  <block id="bfc5a6b94bc23ccc51c85a2aa1cb71b4" category="paragraph">當使用 AppMirror 關係保護您的應用程式時，您應該在故障轉移和反轉操作期間注意與執行掛鉤相關的特定行為。</block>
  <block id="3d11bc959173dddd2997400e7bdf4d67" category="list-text">在故障轉移期間，執行掛鉤會自動從來源叢集複製到目標叢集。您無需手動重新建立它們。故障轉移後，執行掛鉤仍存在於應用程式中，並將在任何相關操作期間執行。</block>
  <block id="ba9dd6212c2e02686051fbf28e548584" category="list-text">在反向同步或反向重新同步期間，應用程式上所有現有的執行鉤子都將被移除。當來源應用程式成為目標應用程式時，這些執行鉤子將失效，並將被刪除以阻止其執行。</block>
  <block id="9399bd959f53d5a7d8671b597df92df2" category="paragraph">除了下面提供的計劃外，建議建立一個單獨的每日快照計劃，保留期為 7 天，以便在對等 ONTAP 叢集之間維護通用快照。這可確保快照最多可用 7 天，但保留期可根據使用者需求自訂。</block>
  <block id="bd8250ba3a5ac73f1ca0ba8c92937c5a" category="paragraph">如果發生故障轉移，系統可以使用這些快照最多 7 天進行反向操作。這種方法使反向過程更快、更有效率，因為只會傳輸自上次快照以來所做的更改，而不是所有資料。</block>
  <block id="af22b57fbc1d302d6a0b83cb06ce9e6a" category="paragraph">如果應用程式的現有計劃已經滿足所需的保留要求，則不需要額外的計劃。</block>
  <block id="e995d56efd9e31d97825dd79be4d1383" category="inline-link-macro">瞭解 ASA R2 儲存系統</block>
  <block id="19bf8687ff63071d6f6661c290cba7c2" category="admonition">ASA r2 系統不支援 LUKS 加密。有關 ASA r2 系統的信息，請參閱<block ref="40f055dd42976ff294174231df35e37e" category="inline-link-macro-rx"></block> 。</block>
  <block id="9470f4768dd90ef0be0fb76cb2f6e04b" category="admonition">避免複製與其他 StorageClass 關聯的 PVC。請在同一 StorageClass 內執行複製操作，以確保相容性並防止意外行為。</block>
  <block id="0f3fb6e27b9de1539a220130039ade03" category="admonition">VolumeSnapshot 的生命週期與來源 PVC 無關：即使來源 PVC 被刪除，快照仍然存在。刪除具有相關快照的永久虛擬磁碟時、Trident會將此永久虛擬磁碟的備份磁碟區標示為*刪除*狀態、但不會將其完全移除。刪除所有相關的快照時、即會移除該磁碟區。</block>
  <block id="24cf288d698c32f6be78d78ed4ae2da4" category="section-title">Kubernetes<block ref="b05416d74805ad470e82fbd185a80f60" prefix=" " category="inline-code"></block> 物件</block>
  <block id="03925a5c554c5613d08fccbd8b32b9f8" category="paragraph">Kubernetes<block ref="b05416d74805ad470e82fbd185a80f60" prefix=" " category="inline-code"></block> 物件類似於<block ref="19476662cd814e0aa085eca121de89b8" prefix=" " category="inline-code"></block>。它們有助於定義多種儲存類別，並被磁碟區組快照引用，以將快照與所需的快照類別關聯。每個磁碟區組快照都與單一磁碟區組快照類別相關聯。</block>
  <block id="fff4777b7ca5b9c8c8cf5e2bcba4f07c" category="paragraph">一個<block ref="b05416d74805ad470e82fbd185a80f60" prefix=" " category="inline-code"></block>應由管理員定義，以便建立快照群組。卷冊組快照類別使用以下定義建立：</block>
  <block id="8245adeb076e6d9db9f6ac77dfb4c7e3" category="paragraph">由 Trident 處理。<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block>指定必須刪除群組快照時要採取的動作。當<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block>設定為<block ref="f2a6c498fb90ee345d997f888fce3b18" prefix=" " category="inline-code"></block> ，刪除快照時，磁碟區組快照物件以及儲存叢集上的底層快照也將被刪除。或者、將其設定為<block ref="afece4245269582cb2f1009d4fb52047" prefix=" " category="inline-code"></block>表示<block ref="4a238bd658ede8bc190a54f7df8c3483" prefix=" " category="inline-code"></block>保留實體快照。</block>
  <block id="0eb0a72ef062acee4c89d5b3ff32da7f" category="section-title">Kubernetes<block ref="7afb2b9a0abcf6292858fe2f3450e700" prefix=" " category="inline-code"></block> 物件</block>
  <block id="94d3b435d2b11531835e041026e7588f" category="paragraph">Kubernetes <block ref="7afb2b9a0abcf6292858fe2f3450e700" prefix=" " category="inline-code"></block>物件是建立多個磁碟區快照的請求。正如 PVC 代表使用者對磁碟區的請求一樣，磁碟區組快照是使用者為現有 PVC 建立快照的請求。</block>
  <block id="317c0b5a54de9fa8dd62802a550228c3" category="paragraph">當磁碟區組快照請求到達時，Trident 會自動管理後端磁碟區的群組快照的創建，並透過建立唯一的<block ref="4a238bd658ede8bc190a54f7df8c3483" prefix=" " category="inline-code"></block>目的。您可以從現有的PVCS建立快照、並在建立新的PVCS時、將快照作為DataSource使用。</block>
  <block id="3edcdec1ed853ba69f1224c7c43702c5" category="admonition">VolumeGroupSnapshot 的生命週期與來源 PVC 無關：即使來源 PVC 被刪除，快照仍然有效。刪除具有相關快照的永久虛擬磁碟時、Trident會將此永久虛擬磁碟的備份磁碟區標示為*刪除*狀態、但不會將其完全移除。當所有關聯的快照都被刪除時，磁碟區組快照也會被移除。</block>
  <block id="8ea50d112474393280399a928479890a" category="section-title">Kubernetes<block ref="4a238bd658ede8bc190a54f7df8c3483" prefix=" " category="inline-code"></block> 物件</block>
  <block id="bf0839da8b1efda893b043a219a1630e" category="paragraph">Kubernetes <block ref="4a238bd658ede8bc190a54f7df8c3483" prefix=" " category="inline-code"></block>物件表示從已配置的磁碟區中取得的群組快照。它類似於<block ref="858e55ea2e6429120a862313c50a9f5f" prefix=" " category="inline-code"></block>、表示儲存叢集上的已佈建快照。與和<block ref="858e55ea2e6429120a862313c50a9f5f" prefix=" " category="inline-code"></block>物件類似<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block>、建立快照時、<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block>物件會維護對物件的一對一對應<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block>、而物件已要求建立快照。</block>
  <block id="85cb66a45776909e333f8847ee91255d" category="paragraph">這<block ref="4a238bd658ede8bc190a54f7df8c3483" prefix=" " category="inline-code"></block>物件包含識別快照群組的詳細信息，例如<block ref="e8dbdd2405d28658285ebd383044be1a" prefix=" " category="inline-code"></block>以及儲存系統上現有的各個volumeSnapshotHandles。</block>
  <block id="a4314d759b2ba28d3d385366f2595052" category="paragraph">當快照請求到達時，Trident 會在後端建立磁碟區組快照。建立卷宗組快照後，Trident 會配置一個<block ref="4a238bd658ede8bc190a54f7df8c3483" prefix=" " category="inline-code"></block>對象，從而將快照公開給 Kubernetes API。</block>
  <block id="fc679dfce4052095eac6de2f7f86cd16" category="paragraph">發行說明提供有關 NetApp Trident 最新版本中的新功能、增強功能和錯誤修復的資訊。</block>
  <block id="b73e3aa94514d51e32ca4c9fa306ce1e" category="inline-link-macro">使用磁碟區組快照</block>
  <block id="d5bb517310bc551b239857e32401ac1f" category="inline-link-macro">啟用安全 SMB</block>
  <block id="6bcdf917188bd0a976b410952a796d4b" category="list-text">增強 Trident 節點並發性，以提高 iSCSI 磁碟區節點作業的可擴充性。</block>
  <block id="03384ffa27aceef186890eaae584f3c4" category="list-text">額外<block ref="b5073479eb6368548b299ea4d08aa8b7" prefix=" " category="inline-code"></block>打開 LUKS 磁碟區時允許丟棄/TRIM 命令以回收空間。</block>
  <block id="f216940dceac21552e55089b0f450059" category="list-text">格式化 LUKS 加密磁碟區時的效能增強。</block>
  <block id="aca9eafb022610d731f3f94197f227fd" category="list-text">增強了對失​​敗但部分格式化的 LUKS 設備的 LUKS 清理。</block>
  <block id="fdba6fb56d2b6fb4d3d2af782f7f8e33" category="list-text">增強了 Trident 節點冪等性，用於 NVMe 卷的連接和分離。</block>
  <block id="ab129514c6ec5bf9326f9283a0c4b73d" category="list-text">額外<block ref="93e2011fcb40991e51f3f8427fdcfb82" prefix=" " category="inline-code"></block>欄位到 ONTAP-SAN-Economy 驅動程式的 Trident 磁碟區配置。</block>
  <block id="78eb403f568b0e64b07699199ebc4992" category="admonition">不適用於生產環境。</block>
  <block id="3dd4403c2b5ea69ecfbe030e29eee853" category="list-text">[技術預覽] 透過以下方式啟用並發 Trident 控制器操作<block ref="663f61c1cf47f8a531c8d769e8bf59f4" prefix=" " category="inline-code"></block>功能標誌。這允許控制器操作並行運行，從而提高繁忙或大型環境中的效能。</block>
  <block id="8a54b5275af086a6a2bb3983856d3f56" category="admonition">此功能尚處於實驗階段，目前支援使用 ONTAP-SAN 驅動程式（iSCSI 和 FCP 協定）的有限平行工作流程。</block>
  <block id="969ab4db9d9d63b4573cc75a0b550b21" category="list-text">[技術預覽] 使用 ANF 驅動程式新增了手動 QOS 支援。</block>
  <block id="fa420d9ecbb50720fc93ab14f7943b42" category="list-text">修正了 CSI NodeExpandVolume 的問題，當底層 SCSI 磁碟不可用時，多路徑裝置可能會出現大小不一致的情況。</block>
  <block id="69e0fec3be54a3b91103c8c7b788339f" category="list-text">修正了無法清理 ONTAP-NAS 和 ONTAP-NAS-Economy 驅動程式的重複匯出策略的問題。</block>
  <block id="6e02211c85412fa0d990bce8af9e671f" category="list-text">修正了 GCNV 卷預設為 NFSv3 的問題<block ref="e477739f39dbd2f1e1c5268912135e92" prefix=" " category="inline-code"></block>未設定；現在 NFSv3 和 NFSv4 協定均受支援。如果<block ref="e477739f39dbd2f1e1c5268912135e92" prefix=" " category="inline-code"></block>如果未提供，則將使用主機的預設 NFS 版本（NFSv3 或 NFSv4）。</block>
  <block id="aaa014969ef27003313b67f83fe7091d" category="inline-link-macro">問題 #831</block>
  <block id="cd620e798a4bbf9171d504843ebb70d0" category="list-text">修正了使用 Kustomize 安裝 Trident 時出現的部署問題（ <block ref="ae3bb668f87d2aa74a2bfe43dedc0001" category="inline-link-macro-rx"></block> ）。</block>
  <block id="81a9708305846c55b26ba31f647ab071" category="inline-link-macro">問題 #1016</block>
  <block id="11cdedcfa10c010ee258407d4a2535c9" category="list-text">修正了從快照建立的 PVC 缺少匯出策略的問題（ <block ref="dfbabc79dc25039e80d49a5ce74702bc" category="inline-link-macro-rx"></block> ）。</block>
  <block id="1e655d3e31833883db169632edf4c07d" category="list-text">修正了 ANF 磁碟區大小未自動與 1 GiB 增量對齊的問題。</block>
  <block id="c2c862a452feb157ea36fc61c62cb6d5" category="list-text">修正了將 NFSv3 與 Bottlerocket 結合使用時的問題。</block>
  <block id="d3c869af5d0f4ee5e35def393587ffea" category="inline-link-macro">問題 #1008</block>
  <block id="1d85be817e7793c5b5423dbe7a618b9b" category="list-text">修正了 ONTAP-NAS-Economy 磁碟區儘管調整大小失敗但仍可擴展至 300 TB 的問題。</block>
  <block id="9bfdfc993711fd8c92649ae6040af106" category="list-text">修正了使用 ONTAP REST API 時克隆分割操作同步完成的問題。</block>
  <block id="d7061136425214e6ed7ba38910be5772" category="section-title">棄用：</block>
  <block id="eb0a31990fe8d3afbb4177136e0a9c3b" category="list-text">*Kubernetes*：將最低支援的 Kubernetes 更新至 v1.27。</block>
  <block id="df6370ee6ad8bc05b4c28dc223a119ea" category="list-text">改善了復原時間，提供了更頻繁的完整備份的選項。</block>
  <block id="6d133839389fad9d044a57e7cd98852e" category="list-text">透過 Group-Version-Kind (GVK) 過濾提高了應用程式定義和選擇性恢復的粒度。</block>
  <block id="d22659d02ebeb222423ac210fcf66e17" category="list-text">將 AppMirrorRelationship (AMR) 與 NetApp SnapMirror 結合使用時可實現高效的重新同步和反向複製，以避免完整的 PVC 複製。</block>
  <block id="9f36be3db329921235443aaf292d3420" category="list-text">增加了使用 EKS Pod Identity 建立 AppVault 儲存桶的功能，無需使用 EKS 叢集的儲存桶憑證指定機密。</block>
  <block id="608712f29e31abc332f5d43892969412" category="list-text">如果需要，新增了在復原命名空間中跳過復原標籤和註解的功能。</block>
  <block id="6d520f4b800d8a65184cb0662edd01eb" category="list-text">AppMirrorRelationship (AMR) 現在將檢查來源 PVC 擴展並根據需要對目標 PVC 執行適當的擴展。</block>
  <block id="68782d548164f602a09d8cf18a70a1a6" category="list-text">修正了先前快照的快照註解值被套用到新快照的錯誤。現在所有快照註解均已正確套用。</block>
  <block id="dec377bcea0a22bcf50bcfa52f5bd102" category="list-text">如果未定義，則預設定義資料移動器加密（Kopia / Restic）的秘密。</block>
  <block id="2b587d6f0a98259d243f20158ba733b9" category="list-text">為 S3 appvault 建立新增了改進的驗證和錯誤訊息。</block>
  <block id="38ada36ef84c3af0ce6c4562c412938e" category="list-text">AppMirrorRelationship (AMR) 現在只複製處於 Bound 狀態的 PV，以避免嘗試失敗。</block>
  <block id="e06ab528ad98b563963e366c18280c8d" category="list-text">修正了在具有大量備份的 AppVault 上取得 AppVaultContent 時顯示錯誤的問題。</block>
  <block id="8009158785ac016dca3550bd3aadcf47" category="list-text">KubeVirt VMSnapshots 被排除在復原和故障轉移操作之外，以避免故障。</block>
  <block id="96c54179d89a7223d86e09ea0181939b" category="list-text">修正了 Kopia 的問題：由於 Kopia 預設保留計劃覆蓋了用戶在計劃中設定的計劃，導致快照過早刪除。</block>
  <block id="ccc6e323e1b274244c3180ae807ca261" category="section-title">25.02.1 的變更</block>
  <block id="6830d19c259617eba954cda2aa1d541d" category="cell"><block ref="c860a3f92e27bd5d0798ef97b9454101" prefix="" category="inline-code"></block></block>
  <block id="3c26595dc5f4e2d90bc81b000429b6a7" category="cell">具有 SMB 共用完全存取權限的 Active Directory 管理員使用者或使用者群組。使用此參數可為 SMB 共用提供具有完全控制權的管理員權限。</block>
  <block id="007eb2831357fc17158f683f6dcff454" category="section-title">安全 SMB 範例</block>
  <block id="d31bd17463bbf5861b916a74d031385b" category="section-title">使用 ontap-nas 驅動程式的後端配置</block>
  <block id="0f4ec0551cca9ca01494fc00becd7670" category="section-title">使用 ontap-nas-economy 驅動程式的後端配置</block>
  <block id="423fe93aaec50040bb6be02e84f7efdf" category="section-title">具有儲存池的後端配置</block>
  <block id="932c29a089501176987cc43435fb9490" category="section-title">採用 ontap-nas 驅動程式的儲存類別範例</block>
  <block id="6710620e6b99c9d38a3eae8738824721" category="admonition">確保添加<block ref="4ab6864fc58ecd8b598ee10dfe2ac311" prefix=" " category="inline-code"></block>啟用安全 SMB。如果沒有註釋，安全 SMB 就無法運作，無論後端或 PVC 中設定了什麼配置。</block>
  <block id="df600c813a46f3b822f7e5f064845591" category="section-title">採用 ontap-nas-economy 驅動程式的儲存類別範例</block>
  <block id="14026c1ce10412c2adbe88758af8fecd" category="section-title">具有單一 AD 使用者的 PVC 範例</block>
  <block id="6588dbd33e470b3f0858ad0b7d2075c2" category="section-title">具有多個 AD 使用者的 PVC 範例</block>
  <block id="353061699a2e052736b77ea68a2871e3" category="paragraph">從 25.06 版本開始，NetApp Trident 支援使用以下方式建立的 SMB 磁碟區的安全性配置<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>和<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>後端。啟用安全 SMB 後，您可以使用存取控制清單 (ACL) 為 Active Directory (AD) 使用者和使用者群組提供對 SMB 共用的受控存取。</block>
  <block id="fad725216d945a6443f15949ae73b316" category="list-title">值得記住的重點</block>
  <block id="fc531b442f38e267ff561d8bd20a3d71" category="list-text">輸入<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>不支援卷。</block>
  <block id="ae588b4a9791f58d2c577c52692f45d9" category="list-text">僅支援唯讀克隆<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>卷。</block>
  <block id="250a0cf82016b0cf28e3072852df48ed" category="list-text">如果啟用了安全 SMB，Trident 將忽略後端提到的 SMB 共用。</block>
  <block id="87275c5e346f7178346f0399a6ceb9de" category="list-text">更新 PVC 註解、儲存類別註解和後端欄位不會更新 SMB 共用 ACL。</block>
  <block id="972efd467b8594821be7b5680a32c911" category="list-text">克隆 PVC 註釋中指定的 SMB 共用 ACL 將優先於來源 PVC 中的 ACL。</block>
  <block id="a3a338c1a9eb99aaf1ddaad940b0c906" category="list-text">啟用安全 SMB 時，請確保提供有效的 AD 使用者。無效使用者將不會被加入到 ACL。</block>
  <block id="4dcf9ab5a157e5be3f0891588273273e" category="list-text">如果您在後端、儲存類別和 PVC 中為同一個 AD 使用者提供不同的權限，則權限優先權為：PVC、儲存類別、後端。</block>
  <block id="e56268d5a3bb9869b9e76613edc53128" category="list-text">安全 SMB 支持<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>託管磁碟區匯入，不適用於非託管磁碟區匯入。</block>
  <block id="315910c69a0b41f8011b0ed2cbf00430" category="list-text">在 TridentBackendConfig 中指定 adAdminUser，如下例所示：</block>
  <block id="73f6ef8943a1983b789b024c7bfecf20" category="list-text">在儲存類別中加入註解。</block>
  <block id="f89369f9c30ff9c8236b833fb1b96aef" category="paragraph">添加<block ref="b85be3102972ffc22dfe9101b510b6f3" prefix=" " category="inline-code"></block>註解到儲存類，以啟用安全 SMB 而不會失敗。為註釋指定的使用者值<block ref="b85be3102972ffc22dfe9101b510b6f3" prefix=" " category="inline-code"></block>應該與<block ref="e47a193687dde960f6b6f80d394142a3" prefix=" " category="inline-code"></block>秘密。您可以選擇以下其中之一<block ref="5fd754a88e37f6a57427226bb237f59b" prefix=" " category="inline-code"></block> ： <block ref="f28185d762af16471070289c69f72331" prefix=" " category="inline-code"></block> ， <block ref="eb399bcaca686f8609137153307eecf1" prefix=" " category="inline-code"></block> ， 或者<block ref="ecae13117d6f0584c25a9da6c8f8415e" prefix=" " category="inline-code"></block> 。預設權限是<block ref="f28185d762af16471070289c69f72331" prefix=" " category="inline-code"></block> 。</block>
  <block id="79731e026bd64a3983c4d0a2b46c0516" category="list-text">建立PVC。</block>
  <block id="151c5a9798f5c6d94a52ac5bce7f9436" category="paragraph">以下範例建立 PVC：</block>
  <block id="fde1abb5537b55c34521d414267b3f70" category="inline-link-macro">ASA r2 系統</block>
  <block id="3cc22aeaf9742834647a32871fcf9142" category="inline-link-macro">詳細了解 ASA r2 系統與其他 ONTAP 系統之間的差異</block>
  <block id="ad622c65f52f8bde8780fec7bcab74a6" category="cell">使用CHAP驗證iSCSI以供ONTAP 支援不支援的SAN驅動程式使用[布林值]。設為<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>、讓 Trident 設定並使用雙向 CHAP 做為後端所指定 SVM 的預設驗證。如 <block ref="866e591dc2a03ecc454dad25a664ca86" category="inline-link-macro-rx"></block> 需詳細資訊、請參閱。*不支援 FCP 或 NVMe/TCP。 *</block>
  <block id="8ecd39a3ee998e2e8b3b033dc8756c23" category="paragraph">*不要指定 ASA r2 系統*。</block>
  <block id="e35a87c3115267331b4387f1e07a5e0a" category="cell">如果使用率高於此百分比、則無法進行資源配置。如果您使用 Amazon FSX for NetApp ONTAP 後端、請勿指定<block ref="d57551b1efacf8a7be84b4d10c5a6e99" prefix=" " category="inline-code"></block>。提供的<block ref="679500f227997b45be97e3ca8115c678" prefix=" " category="inline-code"></block>和<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block>不包含使用 Trident 擷取彙總使用量並加以限制所需的權限。*不要指定 ASA r2 系統*。</block>
  <block id="3964653e783e46fb3a1ae3dc4aaa54ad" category="paragraph">*支援<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>和<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>帶有 iSCSI 協定的驅動程式。 **此外，在使用 iSCSI 和 NVMe/TCP 協定時，支援 ASA r2 系統。 *</block>
  <block id="bf1a2c4f1b2b258c38cce886d156e3c6" category="cell">"true" *如果指定，則設定為<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>適用於 ASA r2 系統*。</block>
  <block id="4ff68efad333313447b8808c20a63224" category="cell">空間保留模式；「無」（精簡）或「 Volume （大量）」（粗）。*設定為<block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block>適用於 ASA r2* 系統。</block>
  <block id="d5ff78b8f84bf2feac9559d3c4a5d31c" category="cell">要使用的 Snapshot 原則。*設定為<block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block>適用於 ASA r2 系統*。</block>
  <block id="a75bcbe76d1f50305372e9c85d59b73c" category="cell">保留給快照的磁碟區百分比。*不要為 ASA r2 系統指定*。</block>
  <block id="c2ae626eaa4dcf2be1d158758d5f789a" category="cell">“false” *如果指定，則設定為<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>適用於 ASA r2 系統*。</block>
  <block id="317afded0cc22ff8de16ceec60d3e0ed" category="cell">"" *設定為<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>適用於 ASA r2 系統*。</block>
  <block id="d716a23a6e731bf750989a45cf32a804" category="cell">分層策略使用「無」 *不要為 ASA r2 系統指定*。</block>
  <block id="9e925e9341b490bfd3b4c4ca3b0c1ef2" category="inline-link-macro">這</block>
  <block id="6fddcf0bbb95fe4fb7de4f5f2e53ee74" category="paragraph">Kubernetes 持久性磁碟區 (PV) 磁碟區組快照 NetApp Trident 提供了建立多個磁碟區（一組磁碟區快照）的功能。此磁碟區組快照代表在同一​​時間點建立的多個磁碟區的副本。</block>
  <block id="9c3e7c7a7d7349669946d43b4988c3ed" category="admonition">VolumeGroupSnapshot 是 Kubernetes 中的一個 Beta 功能，包含 Beta 版 API。 VolumeGroupSnapshot所需的最低版本為 Kubernetes 1.32。</block>
  <block id="54100cbc57b96027d8dd74891c09bf53" category="section-title">建立卷宗組快照</block>
  <block id="5b01a9092d1abd7706608bb162c6b8b5" category="list-text">確保您的 Kubernetes 版本是 K8s 1.32 或更高版本。</block>
  <block id="16a63a09f76aeddeabaee67b10b15b73" category="paragraph">如果您的 Kubernetes 發行版不包含外部快照控制器和 CRD，請參閱<block ref="048c22f74eff12037af96b48becdf135" category="inline-xref-macro-rx"></block> 。</block>
  <block id="1f8b4b5fe121a8bf806f02d7e43e97b5" category="admonition">如果在 GKE 環境中建立按需磁碟區組快照，請不要建立快照控制器。GKE使用內建的隱藏式快照控制器。</block>
  <block id="651dc2c39783e984f4c34a8de9e5bdf1" category="list-text">在快照控制器 YAML 中，設定<block ref="ba99addb5e4a87e02dbb279026aee6f0" prefix=" " category="inline-code"></block>功能門控設定為“true”，以確保磁碟區組快照已啟用。</block>
  <block id="8a30cbf1912a9801e2b44d7e46629b37" category="list-text">在建立磁碟區組快照之前，建立所需的磁碟區組快照類別。</block>
  <block id="044fa4af347bac1f72b867321db43dc5" category="list-text">確保所有 PVC/磁碟區都在同一個 SVM 上，以便能夠建立 VolumeGroupSnapshot。</block>
  <block id="b05416d74805ad470e82fbd185a80f60" category="inline-link-macro">卷冊組快照類</block>
  <block id="4142b8b09dc7a34d6ec584224ea12401" category="list-text">在創建 VolumeGroupSnapshot 之前建立一個 VolumeGroupSnapshotClass。如需詳細資訊、請 <block ref="4379abd46d192befbb8bdad98f8a5d59" category="inline-link-macro-rx"></block>參閱。</block>
  <block id="62db7d93a1dcd7da96e447092fe6fc94" category="list-text">使用現有儲存類別建立具有所需標籤的 PVC，或將這些標籤新增至現有 PVC。</block>
  <block id="e7593a56264dced725b58e1dcee9feba" category="paragraph">以下範例使用以下方式建立 PVC <block ref="75b2ada4942bd6bef7c0a52dd98f7481" prefix=" " category="inline-code"></block>作為資料來源和標籤<block ref="976d0352c3b3c8881b2f195b2b26322b" prefix=" " category="inline-code"></block> .根據您的要求定義標籤鍵和值。</block>
  <block id="88ee2eefee7a24d49764bba2f82da06c" category="list-text">建立具有相同標籤的 VolumeGroupSnapshot <block ref="976d0352c3b3c8881b2f195b2b26322b" prefix="(" category="inline-code"></block> ) 在 PVC 中指定。</block>
  <block id="9d802b9a265ada16030457d797e599c4" category="paragraph">此範例建立磁碟區組快照：</block>
  <block id="52d80f524a1f3e7aa3025bacef197f8a" category="section-title">使用群組快照恢復磁碟區數據</block>
  <block id="ee9a128a343c337cf14116c1aecbb76c" category="paragraph">您可以使用作為磁碟區組快照的一部分所建立的各個快照來還原各個持久性磁碟區。您無法將磁碟區組快照作為一個整體進行還原。</block>
  <block id="76716637a3c3927e6595526c04493e52" category="paragraph">如需更多資訊、請參閱 <block ref="614ee046be6d137fe1c3eadbaba6d9fe" category="inline-link-macro-rx"></block>。</block>
  <block id="8b278511419cd00303a31bff3e658d7b" category="section-title">刪除與群組快照關聯的 PV</block>
  <block id="3f0f9a5202405094b6d608bca6feef12" category="paragraph">刪除群組磁碟區快照時：</block>
  <block id="24c108ca3f67c96a3a0fc4a98ab3f465" category="list-text">您可以刪除整個 VolumeGroupSnapshots，而不是刪除群組中的單一快照。</block>
  <block id="f3a07fd55b2a15dd2fe4a64f0a2e01e1" category="list-text">如果在持久卷存在快照的情況下刪除了該持久卷，Trident 會將該卷移至「刪除」狀態，因為必須先刪除快照，然後才能安全刪除該卷。</block>
  <block id="982deda5497c5c5a268ba1212d419648" category="list-text">如果已使用分組快照建立了克隆，然後要刪除該群組，則會開始克隆拆分操作，並且在拆分完成之前無法刪除該群組。</block>
  <block id="4379abd46d192befbb8bdad98f8a5d59" category="list-text"><block ref="4379abd46d192befbb8bdad98f8a5d59" category="inline-link-macro-rx"></block></block>
  <block id="d075b47d76ffc95cce31e3ff1a3bf887" category="paragraph">Trident 支援一個叢集上的來源磁碟區與對等叢集上的目的地磁碟區之間的鏡射關係，以便複寫資料以進行災難恢復。  您可以使用名為 Trident 鏡像關係 (TMR) 的命名空間自訂資源定義 (CRD) 來執行下列操作：</block>
  <block id="2d78d4f2531b53f3a4980133900540f7" category="paragraph">NetApp Trident 支援使用 NetApp SnapMirror 技術進行磁碟區複製，使用由下列驅動程式支援的儲存類別：** <block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> ：NFS** <block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> ：iSCSI** <block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> ： FC ** <block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> ：NVMe/TCP（要求最低 ONTAP 版本 9.15.1）</block>
  <block id="a6d2a1b8501003e74309a1ac77e249d4" category="admonition">ASA r2 系統不支援使用 SnapMirror 進行磁碟區複製。有關 ASA r2 系統的信息，請參閱<block ref="40f055dd42976ff294174231df35e37e" category="inline-link-macro-rx"></block> 。</block>
  <block id="b2b0186a010875b0d453752a8aa06a4c" category="section-title">為服務帳戶關聯 (IRSA) 建立 Pod Identity 或 IAM 角色</block>
  <block id="152bceec6d4e34c053208d61763334bc" category="paragraph">您可以使用 EKS Pod Identity 設定 Kubernetes 服務帳戶，使其代入 AWS Identity and Access Management (IAM) 角色，或使用 IAM 角色進行服務帳戶關聯 (IRSA)。任何已配置為使用該服務帳戶的 Pod 都可以存取該角色有權存取的任何 AWS 服務。</block>
  <block id="0522426ad683048758e710700760f5a9" category="open-title">Pod 身份</block>
  <block id="acbe8cfddfd64fba35512f543affb372" category="paragraph">Amazon EKS Pod Identity 關聯提供了管理應用程式憑證的能力，類似於 Amazon EC2 執行個體設定檔向 Amazon EC2 執行個體提供憑證的方式。</block>
  <block id="870d5f69e46397da39e4d5bc6a55edc4" category="paragraph">*在您的 EKS 叢集上安裝 Pod Identity*：</block>
  <block id="3a735289083f3ebf5b12bf1252f47e70" category="paragraph">您可以透過 AWS 主控台或使用下列 AWS CLI 指令建立 Pod 身分：</block>
  <block id="6b12dab36e102678866ee1a9295bf251" category="inline-link-macro">設定 Amazon EKS Pod Identity Agent</block>
  <block id="f0e49b3188e2241a1fd992e7697df37f" category="paragraph">更多資訊請參閱<block ref="223f02a97a1894440d2727b156e834b6" category="inline-link-macro-rx"></block> 。</block>
  <block id="4fcddd38c3384849e906ff198dca9a35" category="paragraph">*創建 trust-relationship.json*：</block>
  <block id="9eaa0d9301ed8e0e6ec8d359da513e09" category="paragraph">建立 trust-relationship.json 文件，使 EKS 服務主體能夠承擔 Pod Identity 的此角色。然後建立一個具有以下信任策略的角色：</block>
  <block id="c256d9b106d5b83ccc940e1c11d40213" category="paragraph">*trust-relationship.json 文件*：</block>
  <block id="d5bcbf5d17aa3658058051153a3abb49" category="paragraph">*將角色策略附加到 IAM 角色*：</block>
  <block id="5855de3e8f302cffda094dad3434d14d" category="paragraph">將上一個步驟中的角色策略附加到已建立的 IAM 角色：</block>
  <block id="ae33daeae7be898405819838f197197f" category="paragraph">*建立 pod 身分關聯*：</block>
  <block id="bfb2fc1510ac240a94b2b84a57023dfd" category="paragraph">在 IAM 角色和 Trident 服務帳戶（trident-controller）之間建立 pod 身分關聯</block>
  <block id="37d9be75a57d7c290f4624befaf41cba" category="open-title">服務帳戶關聯 (IRSA) 的 IAM 角色</block>
  <block id="58b24f910cf7a97cc3ea8486155b2ee3" category="paragraph">*使用 AWS CLI*：</block>
  <block id="4411692a55eac3faa65c355f682424c8" category="paragraph">*如果您使用 eksctl*，請使用下列範例為 EKS 中的服務帳戶建立 IAM 角色：</block>
  <block id="de756da101866f0bf66d3cfdb32b337b" category="list-text">使用下列範例安裝 Trident：</block>
  <block id="3840ce271260ab4b489b1664491a7ae0" category="open-title">服務帳戶協會 (IRSA)</block>
  <block id="682fae06c762bb51c348b65f07930993" category="list-text">設定「雲端提供者」和「雲端身分」的值：</block>
  <block id="eff2bb231132a96a28f9d538ef100a34" category="paragraph">如果您打算使用 iSCSI，請確保在用戶端電腦上啟用了 iSCSI。如果您使用的是 AL2023 工作節點作業系統，則可以透過在 helm 安裝中新增 node prep 參數來自動安裝 iSCSI 用戶端：</block>
  <block id="586ac0fdd530431245eb98eb3aa882f4" category="list-text">請依照以下步驟選擇附加元件：</block>
  <block id="b2bd1d3671dec54e9318ab4475e27324" category="list-text">向下捲動至 *AWS Marketplace 附加元件* 部分，然後在搜尋框中輸入 *「Trident」*。</block>
  <block id="93883402b9e962f4416b72849cb667c9" category="list-text">選取 NetApp 的 Trident 方塊右上角的核取方塊。</block>
  <block id="77b0a7753de002b03ddc52594a9208ee" category="list-text">如果您使用 IRSA 驗證，請確保設定可選組態設定中可用的設定值：</block>
  <block id="4881bf2869ec064993ab03177d502022" category="list-text">依照 *附加元件配置模式*，將 *配置值* 部分中的 *configurationValues* 參數設定為您在上一個步驟中建立的角色 ARN（值應採用以下格式）：</block>
  <block id="7347242fe06ebf43402a11cc7e289da8" category="paragraph">*1.創建<block ref="feef18acfb11dc53b7100577c6d640c4" prefix=" " category="inline-code"></block>文件*：</block>
  <block id="ac85dba04837be45d97d83025fa9bef9" category="paragraph">*對於 Pod Identity，請使用以下格式*：</block>
  <block id="08ec33a477c6b216472cd10065483760" category="paragraph">*對於 IRSA 驗證，請使用以下格式*：</block>
  <block id="895c408250687425783cbd96dd25276d" category="paragraph">*2.安裝 Trident EKS 外掛程式。 *</block>
  <block id="3cec1ada82beb8b8e724d5114558490c" category="paragraph">EKS 叢集支援各種作業系統，但 AWS 已針對容器和 EKS 最佳化某些 Amazon Machine 映像（ Amis ）。以下 AMI 已通過 NetApp Trident 25.02 測試。</block>
  <block id="e5d0cb04635aeb2a6f06f54da8303683" category="admonition">如果此處未列出您想要的 AMI ，並不表示不支援，只是表示尚未測試。此清單可作為已知可運行的 AMI 的指南。</block>
  <block id="324844cd8fa64fd82920fe6f11dc588d" category="list-text">2025年5月9日： <block ref="86b6d8d044348a051fe7477baf34debb" category="inline-link-macro-rx"></block></block>
  <block id="cbe74dc7c890979d924675df2fa27a35" category="list-text">增加了對 CSI 卷組快照的支持<block ref="ee21100dace47d83bcefcb7dea09cdd3" prefix=" " category="inline-code"></block>適用於 ONTAP-SAN iSCSI 驅動程式的磁碟區組快照 Kubernetes API。請參閱。 <block ref="b136941d5c2c98d5e9ff86fd07e97048" category="inline-link-macro-rx"></block></block>
  <block id="674d1c5daba14e57bb12199e316a830d" category="list-text">為 ONTAP-NAS 和 ONTAP-NAS-Economy 磁碟區新增了安全的 SMB 支援。 ActiveDirectory 使用者和群組現在可以與 SMB 磁碟區一起使用，以增強安全性。請參閱。 <block ref="4f989a35378d98430cb4c4899de0cc08" category="inline-link-macro-rx"></block></block>
  <block id="68e904dfe8bbc558c556cc39aaca54b6" category="list-text">增加了對使用 SnapMirror 對 NVMe 後端進行磁碟區複製的支援。請參閱。 <block ref="0837d9a30d067376d83aa60bb79334f8" category="inline-link-macro-rx"></block></block>
  <block id="b71ccf1062cee8c376a7eb37e3c42603" category="cell">啟用LUKS加密。請參閱 <block ref="569f9f91cdcc19909b8acbf6f423daf7" category="inline-link-macro-rx"></block>。</block>
  <block id="af4e755c6284fa61e563c93320e97aaa" category="paragraph">Trident使用下列連接埠在 Kubernetes 內部進行通訊：</block>
  <block id="ef46cb32ba76d79fbc7bfb7586fff578" category="list-text">確保您已升級至最新版本<block ref="452b142235e718663e27bc4f162c14ca" prefix=" " category="inline-code"></block> 。</block>
  <block id="aa56a1d260c6089f006323437ab5613f" category="list-text">建議的最小FlexGroup成員/磁碟區大小為 100 GiB。</block>
  <block id="006ae665d682a3f9a5488cf901070b36" category="list-text">建立一個 10 GiB 卷：</block>
  <block id="865cd97dd9f832e1d9213d79b236a1ab" category="list-text">建立一個帶有快照的 100 GiB 磁碟區：</block>
  <block id="6c374189e15747b9b59cf004c2d1d7f2" category="paragraph">最小磁碟區大小為 20 MiB。</block>
  <block id="32ba3ea0fdfbd643c0ee55450e506969" category="paragraph">卷的大小，預設為 1 GiB 或配置條目...“defaults”：{“size”：“5G”}。</block>
  <block id="fb489bd0bae5618bdc73d177f2d64e38" category="list-text">創建 10 GiB 黃金卷：</block>
  <block id="81271f59b907de8227da8c807392b336" category="list-text">創建 100 GiB 青銅卷：</block>
  <block id="e19486e0f435d5132bb0d59bf69d3994" category="list-text">覆蓋預設卷大小。請參閱以下範例，使用驅動程式建立 20 GiB 的磁碟區：</block>
  <block id="193dc4f3e19f36ad5c6f2ad43ea53a42" category="list-text">在 LUKS LUN 中添加了 18 MiB 開銷，以確保報告的 PVC 大小可用。</block>
  <block id="85034b8ca1df8fbc112b8206cf773406" category="list-text">ONTAP驅動程式現在接受低於 20 MiB 的磁碟區大小（ <block ref="91ddf20e925712134071a4cc83fc66a3" category="inline-link-macro-rx"></block> ）。</block>
  <block id="b4d452ddff320a381a09f71d2351e4c6" category="cell"><block ref="d6f0e0bdb2f24a4f559dd8f512235cb3" prefix="" category="inline-code"></block></block>
  <block id="06b9281e396db002010bde1de57262eb" category="cell">汽車</block>
  <block id="ae4d8eab27ac4c80edb95b30fc583854" category="cell"><block ref="08566efed9fdb13392ea1b11d6b533a4" prefix="" category="inline-code"></block></block>
  <block id="3eef9a5398f4b353f217625ca5768cc0" category="cell"><block ref="60f649f49ce41c3f0123ddceb5c9f688" prefix="" category="inline-code"></block></block>
  <block id="b70d8bcceb91e3665bafe307a5b97682" category="example-title">具有手動 QoS 容量池的後端範例</block>
  <block id="a9d0225032890b6fff6306b9c33e2cc9" category="paragraph">對於快照預留 = 50% 且 PVC 請求 = 5 GiB 的情況，總磁碟區大小為 5/.5 = 10 GiB，可用大小為 5 GiB，這正是使用者在 PVC 請求中請求的大小。 <block ref="0c5606ed319753bb2d86a485f23c8f6d" prefix=" " category="inline-code"></block>命令應顯示與此範例類似的結果：</block>
  <block id="b2badedae3a2fdd602b26112668ed612" category="paragraph">升級Trident時，先前安裝的現有後端將以上述方式設定磁碟區。對於升級前建立的捲，您應該調整其大小以觀察到變更。例如，一個 2 GiB 的 PVC 包含<block ref="01d8e11bde220373533705ed26796e25" prefix=" " category="inline-code"></block>先前的結果是卷提供了 1 GiB 的可寫空間。例如，將磁碟區大小調整為 3 GiB，將在 6 GiB 的磁碟區上為應用程式提供 3 GiB 的可寫入空間。</block>
  <block id="d3b60a0dd59d810307a1e694f1de96a1" category="paragraph">1.1 是Trident為容納 LUN 元資料而額外添加到FlexVol 的10%。對於<block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix=" " category="inline-code"></block> = 5%，PVC 請求 = 5 GiB，則總磁碟區大小為 5.79 GiB，可用大小為 5.5 GiB。 <block ref="0c5606ed319753bb2d86a485f23c8f6d" prefix=" " category="inline-code"></block>命令應顯示與此範例類似的結果：</block>
  <block id="d16fccbbd08210b8ff7b8b31329268bb" category="paragraph">Trident應該為該 PVC 建立一個 20 MiB 的 NFS PV：</block>
  <block id="59dd268b21bd1a23faa29555b52ba22b" category="paragraph">若要將新建立的 20 MiB PV 調整為 1 GiB，請編輯 PVC 並設定<block ref="02b011e6fe36e26e5f7365ba08bf5a48" prefix=" " category="inline-code"></block>至 1 GiB：</block>
  <block id="55b94ed9b78fb336b981481557e7d219" category="list-text">2025年4月15日： <block ref="1d74efb61b1c97b9032a1222a24185b1" category="inline-link-macro-rx"></block></block>
  <block id="38873c8c72328929e064d07375c3bb64" category="inline-link-macro">利用Trident 25.02 的光纖通道協定實現 Kubernetes 上的持久存儲</block>
  <block id="c6fc47f295f8e48564562b41d6234e74" category="list-text">2025年4月14日： <block ref="519219109d85923b9dfc4c314bbb8b20" category="inline-link-macro-rx"></block></block>
  <block id="f752aa3cc1916f79a2806e72dfc8b4b5" category="list-text">2025年4月14日： <block ref="e28ddf0afaf73832b19731c7248b6de5" category="inline-link-macro-rx"></block></block>
  <block id="e828b47619f791883b7abff60a3529bc" category="inline-link-macro">使用新的認證操作員簡化 Red Hat OpenShift 上的Trident安裝</block>
  <block id="02062222c04c114bc7fc20acf792eca9" category="list-text">2025年3月31日： <block ref="20f7b4cad613435492a1b3cb3c26a028" category="inline-link-macro-rx"></block></block>
  <block id="7259adf488b8a65d6f49febc93ff44f1" category="inline-link-macro">使用Google Cloud NetApp Volumes為 SMB 設定Trident</block>
  <block id="1759bd5240df424d309ad71c96b867f8" category="list-text">2025年3月27日： <block ref="90bc67f83290246dad8f0bc76fd49c2c" category="inline-link-macro-rx"></block></block>
  <block id="b6bbcc8be7319fca806d894645c63253" category="list-text">2025年3月5日： <block ref="c5953f971a0752feeb8ffbf7d9258789" category="inline-link-macro-rx"></block></block>
  <block id="469a8897f90d7e07ede75ff9b199e586" category="inline-link-macro">使用Trident、GKE 和Google Cloud NetApp Volumes部署雲端身份</block>
  <block id="cb2e2f8e2789874710f34e485efc824e" category="list-text">2025年2月27日： <block ref="46c84c372fb557e16383c0494f1255f5" category="inline-link-macro-rx"></block></block>
  <block id="869493e7a782c2bac6bf8778d6bf749e" category="list-text">2024年12月12日： <block ref="5c3a9e150bc491524071eb191093dabe" category="inline-link-macro-rx"></block></block>
  <block id="0d5eeacaefc73b7986c8f85945c72129" category="inline-link-macro">NetApp Trident與Google Cloud NetApp Volumes</block>
  <block id="02104a16ef3fcf06a78872f4f5aea5d2" category="inline-link-macro">使用Trident在 AWS 上將Amazon FSx for NetApp ONTAP與 Red Hat OpenShift 服務 (ROSA) 結合使用</block>
  <block id="e2218d0205cdf02ed15039a9eb215920" category="list-text">2024年10月29日： <block ref="ecf88162cd631914aa447c7edeaa2e6e" category="inline-link-macro-rx"></block></block>
  <block id="e7eb7f68cb5a04d95a6152e9d6ab37ec" category="inline-link-macro">使用 ROSA 上的 OpenShift 虛擬化和Amazon FSx for NetApp ONTAP即時遷移虛擬機</block>
  <block id="96788723465bd45962aba2ba495bac79" category="list-text">2024年10月29日： <block ref="231a583c773a423673d617a1071353b9" category="inline-link-macro-rx"></block></block>
  <block id="c5b6456f211505596899eb36c3ee09e4" category="inline-link-macro">使用 NVMe/TCP 在 Amazon EKS 上為現代容器化應用程式使用ONTAP存儲</block>
  <block id="3373d53eb859a1fef914c3f5ca7b306d" category="list-text">2024年7月8日： <block ref="0549a17fef857ef2806f9656f7495ac5" category="inline-link-macro-rx"></block></block>
  <block id="782250194e3b8d07e3c01ee076d7abd9" category="inline-link-macro">使用Google Cloud NetApp Volumes Flex 和Astra Trident實現 Kubernetes 無縫存儲</block>
  <block id="1c3ec9ce23b462e81e392f144f8c6527" category="list-text">2024年7月1日： <block ref="48908e9b9a4cb59db7244b631bf66632" category="inline-link-macro-rx"></block></block>
  <block id="c0575ecf088b36655f7a582773399ba0" category="inline-link-macro">ONTAP作為 OpenShift 中整合映像註冊表的後端存儲</block>
  <block id="fa465e5731c44ee6dc77398eecb4493d" category="list-text">2024年6月11日： <block ref="99a2855a4f47b1b3fc2dd744ecb3c177" category="inline-link-macro-rx"></block></block>
  <block id="351257ff03e16ff522106900a9f35e9e" category="inline-link-macro">使用NetApp Trident Protect 進行 OpenShift 虛擬化災難復原</block>
  <block id="cc48e904c9802b69a8760ed8f894b251" category="list-text">2025年5月16日： <block ref="a57e639cf15650353686ed7219eb274b" category="inline-link-macro-rx"></block></block>
  <block id="8f18e786e2a2dd5d70390afe4c75e024" category="inline-link-macro">Trident Protect 升級：Kubernetes 複製保護與災難復原</block>
  <block id="ae7986fef0bfa9c9a4f730ee6bb5e0ac" category="list-text">2025年4月3日： <block ref="4ca932fa6234c864106756a287da48ac" category="inline-link-macro-rx"></block></block>
  <block id="9c292a7d893942317e3d566cb6f6776c" category="paragraph">在應用程式上執行資料保護操作時，您需要手動或從命令列建立 AppVault CR。 AppVaultCR 特定於您的環境，您可以使用本頁上的範例作為建立 AppVault CR 的指南。</block>
  <block id="05e673132e6ddc1f638835fcde244ff1" category="paragraph">在建立 AppVault CR 之前，請確保您選擇的 AppVault 和資料移動器可以向提供者和任何相關資源進行驗證。</block>
  <block id="1850a20880f300b00b10477bfcbd6087" category="list-text">請將密碼保存在安全的地方。您將需要它來還原同一叢集或其他叢集上的資料。如果集群或<block ref="9a82c7a4099124e5bfaa83e7c5997bd4" prefix=" " category="inline-code"></block>命名空間被刪除後，沒有密碼您將無法還原備份或快照。</block>
  <block id="9509f036573c9b78acc044938588f7c4" category="paragraph">以下範例指令安裝Trident EKS 附加元件：<block ref="f235325f054788c50b512241d68cb329" prefix=" " category="inline-code"></block> （附專用版本）</block>
  <block id="cedb5a7bb4fc5e3e014ce0b58a3d5095" category="cell">iSCSI經濟型</block>
  <block id="27a75f24043645e5e4d2b91bad951706" category="list-text">* 如果不重新啟動節點，則無法刪除 PV</block>
  <block id="029fec6571d8c4d36438994c07941953" category="list-text">** 不適用於Trident版本 25.02 的 NFSv3。</block>
  <block id="87e881298a8d8cc2b3ffd068da55a0c1" category="list-text">EKS版本：1.32</block>
  <block id="38ec877f215b7bc2eb836f279c3374c5" category="list-text">安裝方法：Helm 25.06 和 AWS 附加元件 25.06</block>
  <block id="54cae3576f4c4ef43a60a75276a7afdb" category="paragraph">使用Trident<block ref="30e4ebd32bc870aef019efda0672389c" category="inline-link-macro-rx"></block>您可以一步驟部署Trident操作員並安裝Trident 。</block>
  <block id="5912b080dcb9b431aedfe3f22784a527" category="paragraph">可以使用以下字元來定義虛擬池標籤：</block>
  <block id="89ff245fa0048aa9d5eeb6153a82f880" category="list-text">大寫字母<block ref="0c43922c2fd0b2886820ce8d59d0a425" prefix=" " category="inline-code"></block></block>
  <block id="568787cc8b0bed04e060c362d705b747" category="list-text">小寫字母<block ref="dcb844fadbceca7867ca91e26174469b" prefix=" " category="inline-code"></block></block>
  <block id="99be75de31964ff7afed59629c2827c9" category="list-text">數位<block ref="415d01607bfb64fa0b7efaf0fe064e86" prefix=" " category="inline-code"></block></block>
  <block id="f0fbfac7ddb67830c39dcddb2e0101aa" category="list-text">底線<block ref="b14a7b8059d9c055954c92674ce60032" prefix=" " category="inline-code"></block></block>
  <block id="c76231732eebaec2e2411ed7cfd30e2c" category="list-text">連字符<block ref="336d5ebc5436534e61d16e63ddfca327" prefix=" " category="inline-code"></block></block>
  <block id="e2cc5e54cd44b8315b1324dec48b3d79" category="paragraph">您可以透過還原備份資料在叢集之間或不同的儲存類別之間遷移您的應用程式。</block>
  <block id="259898c4a16b145b9fb12c18949c2e58" category="paragraph">您可以透過將備份還原到目標儲存類，將應用程式從一個儲存類別遷移到另一個儲存類別。</block>
  <block id="15910dd29963e5df5f2b5879472bcc00" category="admonition">SnapshotRestore 支持<block ref="b57d666629acffb30cc697faadc136b5" prefix=" " category="inline-code"></block>屬性，但僅當來源和目標儲存類別使用相同的儲存後端。如果您嘗試恢復到<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>如果使用不同的儲存後端，則復原操作將會失敗。</block>
  <block id="3fbccf21ba46fe754417d45e7396e0e4" category="paragraph">您可以使用進階設定（例如註解、命名空間設定和儲存選項）自訂復原操作，以滿足您的特定要求。</block>
  <block id="52391deb129507aac52d6fb22aaf137c" category="section-title">支援的字段</block>
  <block id="c87f7398b288400e3d2c984a3d997d7b" category="paragraph">本節介紹可用於恢復操作的其他欄位。</block>
  <block id="11162de38772a3876602bb4d9d213f43" category="section-title">儲存類別映射</block>
  <block id="b48c8c7ca3eb5e63afdfe6bbd74a35c9" category="paragraph">這<block ref="b57d666629acffb30cc697faadc136b5" prefix=" " category="inline-code"></block>屬性定義從來源應用程式中的現有儲存類別到目標叢集上的新儲存類別的對應。您可以在具有不同儲存類別的叢集之間移轉應用程式時或變更 BackupRestore 作業的儲存後端時使用此功能。</block>
  <block id="27f5153068cecd37b6fa4a136586658d" category="sidebar">使用進階設定</block>
  <block id="dcc6257f6685a427757ede81b2086cb2" category="admonition">從 OpenShift 4.19 開始，此功能支援的最低Trident版本為 25.06.1。</block>
  <block id="56f0b7f1d902abcea5e9a924acc8cf68" category="list-text">修正了從子系統取消映射之前未檢查 NQN 的問題。</block>
  <block id="74ede3b036d836536636c89ae6208dc1" category="list-text">修正了多次嘗試關閉 LUKS 裝置導致無法分離磁碟區的問題。</block>
  <block id="e593abd973cbfe8b821587be547d75a8" category="list-text">修正了當裝置路徑自建立以來發生變化時 iSCSI 磁碟區取消暫存的問題。</block>
  <block id="ba928ee331d175497be64b1981e81596" category="list-text">阻止跨儲存類別的磁碟區克隆。</block>
  <block id="4f8bdbf86c4afec9c1de4e403735e1df" category="list-text">*OpenShift*：修正了 OCP 4.19 中 iSCSI 節點準備失敗的問題。</block>
  <block id="4437218698cd37b58221a09f0b779bab" category="list-text">增加了使用SolidFire後端克隆卷時的超時時間（<block ref="ff387119bc332768d9a3831513d005d5" category="inline-link-macro-rx"></block> ）。</block>
  <block id="3dca4d7450a120a0a20749c485d209b2" category="section-title">25.06 中的變化</block>
  <block id="70fec01f1a76dbea74bd12ad8fb20151" category="list-text">點選* NetApp Trident* 開啟安裝設定。</block>
  <block id="1ad8c45e73d79fb1d5606c962d0f3cda" category="list-text">選擇所需的選項，然後按一下「*安裝*」以開啟操作員配置。</block>
  <block id="3bcd8afe0d2e66ac8ee08b64d8ab5aa9" category="admonition">請確保選擇最新的 Operator 版本。</block>
  <block id="e1834934410991eaa116cd9cffd2e554" category="list-text">保留所有參數，然後按一下“*安裝*”。</block>
  <block id="a1e30a9991b9e8abb01ef39a2da53ae9" category="paragraph">安裝完成後，Operator 將顯示在已安裝的 Operator 清單中並可供使用。</block>
  <block id="8b29df4adf6fbbaec0828beed4564d1b" category="list-text">按一下「查看操作員」以查看操作員的詳細資料。</block>
  <block id="7c7ed74fe0c2134a4029358fd7840eaa" category="list-text">在 * Trident Orchestrator* 下，按一下 *建立實例*。</block>
  <block id="7b61a3bcc8bbd41470bf0de7fcfd839e" category="list-text">按一下「YAML 檢視」並將以下內容貼上到表單中：</block>
  <block id="9152cfa618e086866a5af7caaed0d2bd" category="list-text">Red Hat Enterprise Linux CoreOS (RHCOS) 未啟用和設定 iSCSI。</block>
  <block id="5df2f935f2bc3df2c6378f665b3d6659" category="list-text">您可以新增<block ref="e9a7558decb5e432d8b7c4d536cc9876" prefix=" " category="inline-code"></block>在所有 OpenShift 工作節點上配置和啟用 iSCSI 和 Multipath 服務的參數。</block>
  <block id="f61306bfa8c6de676059739358d4479f" category="list-text">按一下「建立」； Trident Orchestrator 將會完全安裝。</block>
  <block id="7f95b6a9d45bd5ee11107a5abb5dd69c" category="section-title">卸載Trident操作員</block>
  <block id="b94d4c5305d8d32a875a24a5b1501274" category="admonition">對於使用SolidFire的客戶，請不要升級到 25.06.1，因為取消發布捲時有已知問題。  25.06.2 即將發布以解決此問題。</block>
  <block id="4011c398b0ff3b95197b4f4713f3216e" category="list-text">使用<block ref="defd1e55f93269ac9278afc086951ba8" prefix=" " category="inline-code"></block>命令和更新的路徑<block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block>文件。</block>
  <block id="f05848de69e82db6963b7b9c5322a67f" category="paragraph">*例子*：<block ref="7aa76d5ff854a67029ba30d1a11e1e53" prefix=" " category="inline-code"></block></block>
  <block id="b8331cd182c8a703fc1ad6851d01da14" category="list-text">填充後<block ref="699c503b46d4ca3ec78905dff3704cac" prefix=" " category="inline-code"></block>具有正確值的文件，應用 CR：</block>
  <block id="a2a6b0573b13313f05c747e88489eec6" category="section-title">監視和檢索支援包</block>
  <block id="4ff0609d2c162c23c5b740871050dda7" category="paragraph">使用任一方法建立支援包後，您可以監視其產生進度並將其檢索到本機系統。</block>
  <block id="8aadefe9cc0cc86a02267b80b207f617" category="list-text">等待<block ref="f9826424ec573cdc9bb51c0f5cb897b0" prefix=" " category="inline-code"></block>到達<block ref="07ca5050e697392c9ed47e6453f1453f" prefix=" " category="inline-code"></block>狀態。您可以使用以下命令監控產生進度：</block>
  <block id="3bea11acf8836689dcfed98dab0d1b2e" category="list-text">將支援包檢索到您的本機系統。從已完成的AutoSupport套件中取得複製指令：</block>
  <block id="ada844bd6c6a80bfce3dc4e9178eef4a" category="paragraph">找到<block ref="768c4e4d1692df1d92007f61dbeb0a6a" prefix=" " category="inline-code"></block>從輸出執行命令並運行它，用您喜歡的本機目錄取代目標參數。</block>
  <block id="f928067a28069be4d1f767db45a657cb" category="paragraph">使用ONTAP REST API 的布林參數。</block>
  <block id="19d6e9263401c68c1dd92f3647e19255" category="paragraph"><block ref="14d839191d1ecf387a15b5b0c802a8ae" prefix="" category="inline-code"></block>當設定為<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>， Trident使用ONTAP REST API 與後端通訊；當設定為<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>， Trident使用 ONTAPI（ZAPI）呼叫與後端進行通訊。此功能需要ONTAP 9.11.1 及更高版本。此外，使用的ONTAP登入角色必須具有訪問<block ref="045ed0306c61104cb0777ccd31ce648b" prefix=" " category="inline-code"></block>應用。這是透過預定義的<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block>和<block ref="fdb6ba311fad29ec53069808f10ebef4" prefix=" " category="inline-code"></block>角色。從Trident 24.06 版本和ONTAP 9.15.1 或更高版本開始，<block ref="14d839191d1ecf387a15b5b0c802a8ae" prefix=" " category="inline-code"></block>設定為<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>預設；改變<block ref="14d839191d1ecf387a15b5b0c802a8ae" prefix=" " category="inline-code"></block>到<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>使用 ONTAPI (ZAPI) 呼叫。</block>
  <block id="39a2e6c36a2ad2c2884bcd5d8f474fbb" category="paragraph"><block ref="14d839191d1ecf387a15b5b0c802a8ae" prefix="" category="inline-code"></block>完全符合 NVMe/TCP 的要求。</block>
  <block id="6f95f26584cb2bbbc9c25ed197bf9234" category="admonition">NVMe 僅支援ONTAP REST API，不支援 ONTAPI (ZAPI)。</block>
  <block id="32653402e1251f3e6f9db04a67492d01" category="paragraph">*如果指定，則始終設定為<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>適用於ASA r2 系統*。</block>
  <block id="e1b6f2a617a63649b238c99a6557a915" category="list-text">NVMe 原生支援的 DH-HMAC-CHAP</block>
  <block id="7fbe6e40125b7d1b2f5c5c05044e7526" category="section-title">啟用基於憑證的身份驗證</block>
  <block id="42f93278b0d15c8d0f6613813bf586d5" category="section-title">使用雙向 CHAP 驗證連接</block>
  <block id="9ffdb95250e26c7a6b468126ac7c75b0" category="section-title">工作原理</block>
  <block id="81f2df0265026a1a04bda5484798a10d" category="section-title">輪換憑證並更新後端</block>
  <block id="4bdb23ea513714e3ddde2986c05c669f" category="inline-link-macro">增強資料一致性：使用Trident在 OpenShift 虛擬化中使用磁碟區組快照</block>
  <block id="a21cecd213989d401167ec6cfba8d998" category="list-text">2024年11月11日： <block ref="daed3e0cfbeb06368e36167c5fc4f468" category="inline-link-macro-rx"></block></block>
  <block id="dcae39a3bdbd6a2685507ccc14623d62" category="list-text">將 Prometheus ServiceMonitor CRD 應用到叢集：</block>
  <block id="710d51eba716c95765550f52a1c4fd61" category="cell"><block ref="4aff31f193e6ea4df2a1c4f841bad5d6" prefix="" category="inline-code"></block></block>
  <block id="68087b4c898b9466dc989d8086e173dc" category="cell">覆寫大多數 Kubernetes API 操作的預設 180 秒逾時（如果非零，則以秒為單位）。</block>
  <block id="bd3dd99c8eae44e2ae2bfc8f00dc3db0" category="cell"><block ref="045117b0e0a11a242b9765e79cbf113f" prefix="" category="inline-code"></block></block>
  <block id="44a97f581d6467983edc4e5900722f32" category="list-text">如果您有一個基於手動操作員的部署，並且想要使用基於 Helm 的Trident操作員部署，則應先手動卸載操作員，然後執行 Helm 安裝。這使得 Helm 能夠使用所需的標籤和註解來部署Trident運算子。如果不這樣做，基於 Helm 的Trident操作員部署將因標籤驗證錯誤和註解驗證錯誤而失敗。</block>
  <block id="96fa331785e435bbddfc7f404fa5ce84" category="list-text">如果你有一個<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>基於部署，無需卸載Trident即可進行基於 Helm 或基於 Operator 的部署。</block>
  <block id="ebc465247274e830568c785a604321aa" category="paragraph">Kubernetes 操作逾時。</block>
  <block id="487b75b94dd20a59c7005f9de6a6c4a0" category="admonition">這<block ref="d5276bb17ae062102e883a18454c2f1b" prefix=" " category="inline-code"></block>參數僅適用於Trident安裝。</block>
  <block id="0784343c721b59e3c2426a1b76297982" category="admonition">這<block ref="b958a6de9ca123713491252f2ab02f59" prefix=" " category="inline-code"></block>參數僅適用於Trident安裝。</block>
  <block id="a7532dec52b4d581a8873a3048e6e181" category="paragraph">您可以自訂AutoSupport設定和命名空間過濾以滿足您的特定要求。下表描述了可用的配置參數：</block>
  <block id="1fceae4a3c0d1966481601a7ac4d1f83" category="cell">自動支援代理</block>
  <block id="d93069a68fb6f0fccb979fdae4a99614" category="cell">為NetApp AutoSupport連線配置代理 URL。使用此功能透過代理伺服器路由支援包上傳。例子：<block ref="3753b9fc3cbe6d0d91c7b449cad0b465" prefix=" " category="inline-code"></block> 。</block>
  <block id="c692f16bd0ca5b695511534a2e1eebfb" category="cell">自動支援.不安全</block>
  <block id="ecf5fdf2786d609376e95f541c7dcdfa" category="cell">設定為時跳過AutoSupport代理連線的 TLS 驗證<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>。僅用於不安全的代理連線。  (預設:<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block> )</block>
  <block id="4dd202185370b5db00de876ba19c1bd1" category="cell">自動支援已啟用</block>
  <block id="22416353aff9ef4322e1ee858f418ae4" category="cell">恢復跳過命名空間註釋</block>
  <block id="a91c3b0476974e9ec186952f05c189f1" category="cell">若要從備份和復原作業中排除的命名空間註解的逗號分隔清單。允許您根據註釋過濾命名空間。</block>
  <block id="8028cf835d9b72ff2d6f835934c25568" category="cell">restoreSkipNamespaceLabels</block>
  <block id="3f1cf3db23b5a0d9cdd2db63b9b30061" category="cell">若要從備份和復原作業中排除的命名空間標籤的逗號分隔清單。允許您根據標籤過濾命名空間。</block>
  <block id="4afdb4a6c604cf0a9b830ec8cb0430c9" category="paragraph">您可以使用 YAML 設定檔或命令列標誌來設定這些選項：</block>
  <block id="bfb59a2948710affa80485c4339915a0" category="open-title">使用 YAML 文件</block>
  <block id="edd355ced63179ed49206f4f87774b11" category="list-text">建立設定檔並命名<block ref="ba05023d0f1b5d4b64b6cad4cf9a7ecd" prefix=" " category="inline-code"></block>。</block>
  <block id="68691c61fb4efdab4eca4a7e06fa75c7" category="list-text">在您建立的文件中，新增您想要自訂的設定選項。</block>
  <block id="8050ee75d62c0711ec176f9e1481041b" category="list-text">填充後<block ref="ba05023d0f1b5d4b64b6cad4cf9a7ecd" prefix=" " category="inline-code"></block>具有正確值的文件，應用設定檔：</block>
  <block id="2ee46f1547524b1cfc2f8b760b44c719" category="open-title">使用 CLI 標誌</block>
  <block id="fc7791ffb26e7154ff5b48ab1b14bf8b" category="list-text">使用以下命令<block ref="8b5806248570dbb13e7d3bc5e6c0ee37" prefix=" " category="inline-code"></block>標誌來指定單一參數：</block>
  <block id="b3d3f9a2121425d368b2e48af67d611a" category="list-text">叢集管理員：確保已建立適當的 RBAC，以授予目標命名空間擁有者在目標命名空間中建立 TridentVolumeReference CR 的權限<block ref="6fde1ba4470caca933058264dbfdea2e" prefix="(" category="inline-code"></block>）。</block>
  <block id="74e502e81d780e5b5d204969a0d44635" category="list-text">*叢集管理員：*確保已建立適當的 RBAC，以授予目標命名空間擁有者在目標命名空間中建立 TridentVolumeReference CR 的權限。</block>
  <block id="955d6e7ec20d5d3fcf83f82552f7d6e0" category="section-title">用於 Amazon S3（AWS）驗證的 EKS Pod Identity</block>
  <block id="6aa9f6ea95e8a0a226da6a3727f18bb1" category="list-text">您的 EKS 叢集已啟用 Pod Identity。</block>
  <block id="ecadca4297640c38809298ae5d418fff" category="list-text">您已建立具有必要的 S3 儲存桶權限的 IAM 角色。要了解更多信息，請參閱<block ref="d40f70e9b63b2ee09271e4f02ea6bf6d" category="inline-link-macro-rx"></block>。</block>
  <block id="5b71e41c96f404db1afa2e12eecd6500" category="list-text"><block ref="91bb592c84ad55997a90ac08be4392a4" prefix="" category="inline-code"></block></block>
  <block id="1aa00347a52b15ca93b318123bc06e86" category="list-text"><block ref="f7466ebc5710cc1f7aebdb3c2347f9e6" prefix="" category="inline-code"></block></block>
  <block id="7a9c1f2789b528ff73c69693fde3ecba" category="list-text"><block ref="12cb7c67caac3126c1f43145ffe66ca6" prefix="" category="inline-code"></block></block>
  <block id="71f3c1257dc9ab0b34ac201e2acb022c" category="list-text"><block ref="4853ba7c1c1c3978e9d7142231fc12a6" prefix="" category="inline-code"></block></block>
  <block id="aeb8fd34d676c01d8d9e00ea6a66b661" category="inline-link">AWS EKS Pod Identity 文檔</block>
  <block id="a1c4fb1e42d1fc14a6fe64030e00a952" category="paragraph">有關啟用 Pod Identity 以及將 IAM 角色與服務帳戶關聯的詳細說明，請參閱<block ref="66ae84e756b5258fa5896e42189a8ba2" category="inline-link-rx"></block>。</block>
  <block id="cedc87a271db7f699ec07464bfd0a9ee" category="paragraph">*AppVault 設定* 使用 EKS Pod Identity 時，請使用下列設定來設定您的 AppVault CR<block ref="df9bc6a254da3cea83fc8b7c71c71ea9" prefix=" " category="inline-code"></block>標記而不是明確的憑證：</block>
  <block id="ed69194cde8739a857f51b02498a0c27" category="paragraph">定義 AppVault CR 時，您需要包含憑證以存取提供者託管的資源，除非您使用 IAM 驗證。如何產生憑證金鑰將根據提供者的不同而有所不同。以下是幾個提供者的命令列金鑰產生範例。您可以使用下列範例為每個雲端提供者的憑證建立金鑰。</block>
  <block id="0d96febdd171c11830ca8b96c7a4f8e4" category="admonition">對於使用 Pod Identity 和 Kopia 資料移動器的 EKS 環境，您可以刪除<block ref="84695890ad88faf0bb2d6cdae8c01d51" prefix=" " category="inline-code"></block>部分並添加<block ref="df9bc6a254da3cea83fc8b7c71c71ea9" prefix=" " category="inline-code"></block>根據<block ref="c0828e0381730befd1f7a025057c74fb" prefix=" " category="inline-code"></block>配置。</block>
  <block id="3d939b5d63f5846e5d71053999d3972e" category="paragraph">Trident安裝程式會建立一個 Kubernetes ClusterRole，該角色對 Kubernetes 叢集的 PersistentVolume、PersistentVolumeClaim、StorageClass 和 Secret 資源有特定的存取權。請參閱<block ref="ddc7df443077796093efdaf5a64d03cd" category="inline-link-macro-rx"></block> 。</block>
  <block id="65f1acff2714c57d7d22160c1e0604ae" category="list-text">配置所需的附加元件設定。</block>
  <block id="a77e64d999da7477c22c11d171944968" category="list-text">如果您使用 IRSA（服務帳戶的 IAM 角色），請參閱其他設定步驟<block ref="75a5fb22d89ca2450e7a1cb8fb11e3d1" category="inline-link-macro-rx"></block>。</block>
  <block id="b2a83c40e86c786c07c31acad2909e42" category="admonition">*如果您使用 Pod Identity 關聯，請跳過這些步驟。 *</block>
  <block id="346a92db06c8942d8b2bd2e2de5c2796" category="paragraph">這<block ref="da3f7f170e13df7f56e057fc4226aa85" category="inline-link-rx"></block>物件將Trident標識為用於該類別的供應器，並指示Trident如何供應磁碟區。使用此範例為使用 NFS 的磁碟區設定 Storageclass（有關屬性的完整列表，請參閱下面的Trident屬性部分）：</block>
  <block id="7cb76a35f0ca09eacd7393285baf81df" category="paragraph">使用此範例為使用 iSCSI 的磁碟區設定 Storageclass：</block>
  <block id="4789829a93714df585353f631620ef1d" category="paragraph-title">使用 iSCSI 範例的 PVC</block>
  <block id="325b282cbc15cc9dcde1a69271472526" category="paragraph">此範例展示了具有 RWO 存取權限的 iSCSI 基本 PVC，它與名為<block ref="63f9100803e1f67a5e33cbd5da9dbb33" prefix=" " category="inline-code"></block>。</block>
  <block id="4aac510e801e497da3b150682838f5f7" category="section-title">建立PVC</block>
  <block id="3b30a7aea8a6f98824f61888e8628449" category="inline-link-macro">Red Hat 擴充更新支援 (EUS) 發布生命週期</block>
  <block id="6b62784ed0975ba9ec1e2f69af860e25" category="admonition">Trident繼續支援舊版 OpenShift 版本，與<block ref="d73f30265a77d175825591fd08508146" category="inline-link-macro-rx"></block>，即使它們依賴上游不再受官方支援的 Kubernetes 版本。在這種情況下安裝Trident時，您可以放心地忽略有關 Kubernetes 版本的任何警告訊息。</block>
  <block id="4efb4e385545dd4fb4a8cf16e5ef7763" category="paragraph">保護策略透過按照定義的計劃建立快照、備份或兩者來保護應用程式。您可以選擇每小時、每天、每周和每月建立快照和備份，並可以指定要保留的副本數量。您可以使用 full-backup-rule 註解來排程非增量式完整備份。預設情況下，所有備份都是增量的。定期執行完整備份以及其間的增量備份有助於降低與復原相關的風險。</block>
  <block id="71f68550bd8133367f60c4ea58f6680d" category="list-text">您可以透過設定<block ref="90d510783632c9f8604cd880d9f84137" prefix=" " category="inline-code"></block>歸零，<block ref="460d2880d85882a9c98985b9b97c15f8" prefix=" " category="inline-code"></block>為大於零的值。環境<block ref="460d2880d85882a9c98985b9b97c15f8" prefix=" " category="inline-code"></block>為零意味著任何計劃的備份仍將建立快照，但這些快照是臨時的，並在備份完成後立即刪除。</block>
  <block id="50b9f8f4650a278b466928c2105fc23a" category="list-text"><block ref="769cb50c95fd3a43c659aa73aba99e5b" prefix="" category="inline-code"></block>（要求您指定<block ref="aadd5cec42dbc02d51f62a1095401f59" prefix=" " category="inline-code"></block>)</block>
  <block id="03b866ae4a8a50619a4126154196606b" category="list-text"><block ref="c512b685438f41daa7386329a3b8f8d3" prefix="" category="inline-code"></block>（要求您指定<block ref="aadd5cec42dbc02d51f62a1095401f59" prefix=" " category="inline-code"></block>和<block ref="9199af27775b1a2a876e6d7b25540711" prefix=" " category="inline-code"></block>)</block>
  <block id="2cfd34c47c4dbe46650e40185474bd21" category="list-text"><block ref="6c25e6a6da95b3d583c6ec4c3f82ed4d" prefix="" category="inline-code"></block>（要求您指定<block ref="d5870327522a71f5b75f9d3793d0dc97" prefix=" " category="inline-code"></block>， 和<block ref="4a04848e0e6e9423892ebc93ae61842d" prefix=" " category="inline-code"></block>)</block>
  <block id="e36f4a95a41882feb14dd016e82700bc" category="list-text"><block ref="9030e39f00132d583da4122532e509e9" prefix="" category="inline-code"></block>（要求您指定<block ref="d5870327522a71f5b75f9d3793d0dc97" prefix=" " category="inline-code"></block>， 和<block ref="9a7606959f42328ceeef95d70c353158" prefix=" " category="inline-code"></block>)</block>
  <block id="8461dc1f0cf640973db2ba7288efba21" category="list-text"><block ref="90589c47f06eb971d548591f23c285af" prefix="" category="inline-code"></block></block>
  <block id="85b77ce1b7f65fe79fd40e5b53ba60f5" category="list-text">*spec.dayOfMonth*：（可選）計畫應運行的月份日期（1 - 31）。如果粒度設定為<block ref="9030e39f00132d583da4122532e509e9" prefix=" " category="inline-code"></block>。該值必須以字串形式提供。</block>
  <block id="c3d0b5531d946d2ff5d8deeeec3e7984" category="list-text">*spec.dayOfWeek*：（可選）計畫應運行的星期幾（0 - 7）。值 0 或 7 表示星期日。如果粒度設定為<block ref="6c25e6a6da95b3d583c6ec4c3f82ed4d" prefix=" " category="inline-code"></block>。該值必須以字串形式提供。</block>
  <block id="6bacf4f9c6600aa7f82b6f6b4f8a85e0" category="list-text">*spec.hour*：（可選）計畫應運行的小時數（0 - 23）。如果粒度設定為<block ref="c512b685438f41daa7386329a3b8f8d3" prefix=" " category="inline-code"></block>，<block ref="6c25e6a6da95b3d583c6ec4c3f82ed4d" prefix=" " category="inline-code"></block> ， 或者<block ref="9030e39f00132d583da4122532e509e9" prefix=" " category="inline-code"></block>。該值必須以字串形式提供。</block>
  <block id="7793fda5cb73b26f1ecdca11dcd1383e" category="list-text">*spec.minute*：（可選）計畫應運行的小時中的分鐘數（0 - 59）。如果粒度設定為<block ref="769cb50c95fd3a43c659aa73aba99e5b" prefix=" " category="inline-code"></block>，<block ref="c512b685438f41daa7386329a3b8f8d3" prefix=" " category="inline-code"></block> ，<block ref="6c25e6a6da95b3d583c6ec4c3f82ed4d" prefix=" " category="inline-code"></block> ， 或者<block ref="9030e39f00132d583da4122532e509e9" prefix=" " category="inline-code"></block>。該值必須以字串形式提供。</block>
  <block id="16220401716289e6ffa12bfc49da1d84" category="paragraph">備份和快照計劃的範例 YAML：</block>
  <block id="ce230d4d200ba39549537496edaaef6a" category="paragraph">僅快照計劃的範例 YAML：</block>
  <block id="19c776919085070d66d199dd494adbbf" category="paragraph">對於僅快照計劃，設置<block ref="39c61d5d6dee0f5540cfcb77307edd90" prefix=" " category="inline-code"></block>並指定一個大於 0 的值<block ref="2c3fac80fc69264c6dbace5f18065639" prefix=" " category="inline-code"></block>。</block>
  <block id="aff5adfa33a9913ad2ab5d578c3f08c8" category="cell">“300”</block>
  <block id="9d397fb20eca1ebda087637e32a30a7b" category="cell">“1000”</block>
  <block id="c58ac3825b86aa7d2974a07f7fa6034e" category="cell"><block ref="ddb26827be8b4407890c3c9d97a1cfaa" prefix="" category="inline-code"></block></block>
  <block id="5e7f36ac5097702b7b261f47121e2fca" category="paragraph">控制器與 Kubernetes API 伺服器通訊時所使用的每秒查詢數 (QPS) 限制。  Burst 值會根據 QPS 值自動設定。</block>
  <block id="2ab2e58818cb444e3077fcc7704f7079" category="cell"><block ref="f899139df5e1059396431415e770c6dd" prefix="" category="inline-code"></block>; 選修的</block>
  <block id="a8e3858ca6cf43d168887f0054576cb6" category="list-text"><block ref="88e6af50844241df09da1b4f0fed0dc1" prefix="" category="inline-code"></block>：自動支援遙測的容器映像（預設為「netapp/trident autosupport:&lt;current-version&gt;」）。<block ref="21e377b6d1724ef73707d1b42de99ab3" prefix=" " category="inline-code"></block> ：用於發送自動支援遙測的代理程式的位址/連接埠。<block ref="8ef3d4e948c6061ad15793e3bfd2660f" prefix=" " category="inline-code"></block> ：嘗試在節點上安裝所需的軟體包。<block ref="5de93c87952cd098700fb8d46daed4d6" prefix=" " category="inline-code"></block> ：無需安裝任何東西即可產生 YAML 檔案。<block ref="914071b8934b1d6035495f1ed02aa5fd" prefix=" " category="inline-code"></block> ，<block ref="0c113ca6d57519b559ba5a426be3c6b6" prefix=" " category="inline-code"></block> ：安裝幫助。<block ref="a6bd80a942dd6d1c4d4b8aa4bd064415" prefix=" " category="inline-code"></block> ：覆蓋Trident控制器的 REST API 的 HTTP 請求逾時（預設為 1 分 30 秒）。<block ref="22f97752ec243e2f8fb13a584ff48f0d" prefix=" " category="inline-code"></block> ：內部影像註冊表的位址/連接埠。<block ref="af58b91b0e366d67d75550c28c8b73bd" prefix=" " category="inline-code"></block> ：所有 Kubernetes 操作的逾時時間（預設為 3m0s）。<block ref="931fef57514fa5bc71c5c9784dcb35b2" prefix=" " category="inline-code"></block> ：kubelet 內部狀態的主機位置（預設為「/var/lib/kubelet」）。<block ref="ad595b91ed4748510a60df1c00ce5bd6" prefix=" " category="inline-code"></block> ： Trident日誌格式（文字、json）（預設「文字」）。<block ref="1606f6268af560ddbfffdd3790afb4d2" prefix=" " category="inline-code"></block> ：使Trident能夠準備 Kubernetes 叢集的節點，以使用指定的資料儲存協定管理磁碟區。*現在，<block ref="39eea648dab96b0ee6022dabb38bc420" prefix=" " category="inline-code"></block>是唯一支援的值。從 OpenShift 4.19 開始，此功能支援的最低Trident版本為 25.06.1。 *<block ref="120a4fcacf73dd87df1de81c4d7a2526" prefix=" " category="inline-code"></block> ： Trident使用的舊版 PV 的名稱，確保其不存在（預設為「trident」）。<block ref="12ea064968b15f51e1c1a7444fe9f227" prefix=" " category="inline-code"></block> ： Trident使用的舊式 PVC 的名稱，確保其不存在（預設為「trident」）。<block ref="284e51f7c35ac8708577507873ff928e" prefix=" " category="inline-code"></block> ：不要自動將自動支援包傳送到NetApp （預設為 true）。<block ref="61bce13717a9d6da0266dbc3e2b1e642" prefix=" " category="inline-code"></block> ：安裝期間停用大部分輸出。<block ref="356c2fa7142c3aee4cd6204d96ea0890" prefix=" " category="inline-code"></block> ：要安裝的Trident映像。<block ref="8a3f78e98fdbc7da7e036e7ae4598a23" prefix=" " category="inline-code"></block> ：Kubernetes API 請求的每秒查詢數 (QPS) 限制（預設 100；可選）。<block ref="8026926641b283123174e50f80da83de" prefix=" " category="inline-code"></block> ：使用安裝目錄中存在的任何現有 YAML 檔案。<block ref="4a4ef9f92e69acc000120379678aadcf" prefix=" " category="inline-code"></block> ：使用 IPv6 進行 Trident 的通訊。</block>
  <block id="85be3851760f745038ec3bba18d62914" category="list-text">新增了新標誌<block ref="8a3f78e98fdbc7da7e036e7ae4598a23" prefix=" " category="inline-code"></block>安裝程式設定Trident與 Kubernetes API 伺服器通訊所使用的 QPS 值。</block>
  <block id="d7a2654dbfab5a9156d117ed5f38d69d" category="cell"><block ref="b061e443e106870da185a3681948cf1b" prefix="" category="inline-code"></block></block>
  <block id="8f6c08227a11c89c47d71368ee8be24b" category="paragraph">支援並發Trident控制器操作以提高吞吐量。</block>
  <block id="bf514a22294dc1e674b6fafac9463f62" category="cell">使Trident能夠準備 Kubernetes 叢集的節點，以使用指定的資料儲存協定管理磁碟區。 *現在，<block ref="39eea648dab96b0ee6022dabb38bc420" prefix=" " category="inline-code"></block>是唯一支援的值。 *注意：從 OpenShift 4.19 開始，此功能支援的最低Trident版本為 25.06.1。</block>
  <block id="efb39fa310a7096844b88691811796ed" category="example-title">啟用並發Trident控制器操作</block>
  <block id="e6bd8d0922b2f21a4aea7439cad54ba6" category="paragraph">為了啟用並發Trident控制器操作以提高吞吐量，請新增<block ref="663f61c1cf47f8a531c8d769e8bf59f4" prefix=" " category="inline-code"></block>如本例所示，在安裝過程中選擇此選項。</block>
  <block id="6b37510d663e6eea4cd2d594f41e9e80" category="section-title">同時使用Trident SAN/iSCSI 和 EBS-CSI 驅動程式</block>
  <block id="dd601ed3d730aa713757843173c1c8c5" category="paragraph">如果您打算將 ontap-san 驅動程式（例如 iSCSI）與 AWS（EKS、ROSA、EC2 或任何其他執行個體）一起使用，則節點上所需的多路徑配置可能會與 Amazon Elastic Block Store (EBS) CSI 驅動程式衝突。為了確保多路徑功能不會幹擾同一節點上的 EBS 磁碟，您需要在多路徑設定中排除 EBS。這個例子展示了<block ref="9ac80d53ede05256c28cf9e043eb423c" prefix=" " category="inline-code"></block>包含所需Trident設定的文件，同時將 EBS 磁碟排除在多路徑之外：</block>
  <block id="3e49406f91b1756e000630d03496d0da" category="list-text">*Kubernetes*：修正了從 Kubernetes 節點分離磁碟區時發現不正確的 iSCSI 裝置的嚴重問題。</block>
  <block id="76adb46eab5f5dd5b58c3c8a62320c12" category="section-title">25.06.1 中的變更</block>
  <block id="618fab30e005e12b783d70218c18af46" category="paragraph">您可以從叢集範圍的Trident操作員安裝升級到另一個叢集範圍的Trident操作員安裝。所有Trident版本都使用叢集範圍的運算元。</block>
  <block id="723dc7fd3bdd515b6046b390cb3bc388" category="list-text">更新<block ref="9fa80de5781893b057ff1d535201893b" prefix=" " category="inline-code"></block>，<block ref="244895464fd1d6c7ff5a2044c324c0fc" prefix=" " category="inline-code"></block> ， 和<block ref="36b3316c230e2ae6e23e806fff5277a2" prefix=" " category="inline-code"></block>使用您要升級到的版本（例如 25.06）的註冊表和圖像路徑以及正確的金鑰。</block>
  <block id="b162e08e74f97a30264a0b1a8c613b78" category="list-text">刪除用於安裝目前Trident實例的Trident操作員。例如，如果您從 25.02 升級，請執行以下命令：</block>
  <block id="31bb2a9401efa36d10c52fa5f70fb6bc" category="list-text">使用適合您環境的正確 bundle YAML 檔案安裝Trident ，其中 _&lt;bundle.yaml&gt;_ 是<block ref="bd2cc8575fe69c7f775292759380c838" prefix=" " category="inline-code"></block>或者<block ref="5a02ebff4889c2de0379a0fb10bed282" prefix=" " category="inline-code"></block>根據您的 Kubernetes 版本。例如，如果您正在安裝Trident 25.06.0，請執行下列命令：</block>
  <block id="6c352d855b7a2a90e6e0514063875d1a" category="list-text">編輯三叉戟項圈以包含圖像 25.06.0。</block>
  <block id="2094195fd55afe126d43ae0e716d1274" category="admonition">跨命名空間克隆僅支援<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>和<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>儲存驅動程式。不支援只讀克隆。</block>
  <block id="ac359e2f52a664608f09a2e7a47ec527" category="paragraph">強制分離適用於<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>，<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> ，<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> ， 和<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>僅有的。在啟用強制分離之前，必須在 Kubernetes 叢集上啟用非正常節點關閉 (NGNS)。Kubernetes 1.28 以上版本預設啟用 NGNS。有關詳細信息，請參閱<block ref="a0c86c823d7e699cfc277c93de351a2d" category="inline-link-macro-rx"></block> 。</block>
  <block id="04bed90b9e7d65b6d7dd48211e0a9f6c" category="paragraph">創建<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>自訂資源定義（CRD）。您將創建一個<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>稍後自訂資源。使用適當的 CRD YAML 版本<block ref="91ff3926f7c7983bb4a56689f631e6c9" prefix=" " category="inline-code"></block>創建<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>CRD：</block>
  <block id="ef2305a5dae85359e321280954448fc1" category="paragraph">創建<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>自訂資源定義（CRD）。您將創建一個<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>稍後自訂資源。使用適當的 CRD YAML 版本<block ref="91ff3926f7c7983bb4a56689f631e6c9" prefix=" " category="inline-code"></block>創建<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>CRD。</block>
  <block id="62fd283f8b260923bfb8cde9c318b507" category="section-title">SnapMirror複製的 Kubernetes 叢集要求</block>
  <block id="03ba2e33bef23ce0f974f7521e636992" category="paragraph">確保您的 Kubernetes 叢集符合以下要求：</block>
  <block id="da635a644d2727b18debb9ea48c169b6" category="list-text">*AppVault 可存取性*：來源叢集和目標叢集都必須具有網路存取權限，才能從 AppVault 讀取和寫入應用程式物件複製。</block>
  <block id="debae13e33c5f861b21b322eed48bf3f" category="list-text">*網路連線*：設定防火牆規則、儲存桶權限和 IP 允許列表，以實現跨 WAN 的叢集和 AppVault 之間的通訊。</block>
  <block id="35d8960b4053e461085ad015f6805d14" category="admonition">許多企業環境在 WAN 連線中實施嚴格的防火牆策略。在配置複製之前，請與您的基礎設施團隊驗證這些網路需求。</block>
  <block id="996b8601627b0cb893a41930ccbbeb4b" category="paragraph">Trident為 Kubernetes 使用者提供了在建立磁碟區後擴充磁碟區的能力。尋找有關擴展 iSCSI、NFS、SMB、NVMe/TCP 和 FC 磁碟區所需的配置的資訊。</block>
  <block id="1b4288d16f58084404fbffe338e680fb" category="paragraph">Trident支援使用卷宗導入<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> （iSCSI、NVMe/TCP 和 FC）和<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> 司機。</block>
  <block id="19cfd1d1df86c48cee153f9fbaa31f0f" category="paragraph">Trident可以匯入包含單一 LUN 的ONTAP SAN FlexVol磁碟區。這與<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> 驅動程序，它為每個 PVC 建立一個FlexVol volume，並在FlexVol volume內建立一個 LUN。Trident導入FlexVol volume並將其與 PVC 定義關聯。Trident可以導入<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> 包含多個 LUN 的磁碟區。</block>
  <block id="e214c4610b9128a251097b5d36c60e8b" category="list-text">Trident不支援使用<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> 司機。</block>
  <block id="ed323fee394548d260c31d933876b771" category="section-title">當預期啟用“v4.2-xattrs”時，NFSv4.2 用戶端在升級ONTAP後報告“無效參數”</block>
  <block id="b9785b666a04771c63b539840201a4db" category="paragraph">升級ONTAP後，NFSv4.2 用戶端在嘗試掛載 NFSv4.2 匯出時可能會報告「無效參數」錯誤。當<block ref="5a54626559918ca9ebb6414eebaa97bf" prefix=" " category="inline-code"></block> SVM 上未啟用該選項。.解決方法啟用<block ref="5a54626559918ca9ebb6414eebaa97bf" prefix=" " category="inline-code"></block> 選項或升級至ONTAP 9.12.1 或更高版本，預設此選項為啟用。</block>
  <block id="65cfb19ed2b3d296782fbfdd6b7075b1" category="list-text">Trident現已支援 Kubernetes 1.34。在升級 Kubernetes 之前先升級Trident 。</block>
  <block id="e69ddc8f5253cd0167cca555b0f0fd9c" category="list-text">Kubernetes 1.27 - 1.34</block>
  <block id="844c50b4f1aab48821867a1209be687b" category="admonition">雖然Trident在 Rancher Kubernetes Engine 2 (RKE2) 版本 1.27.x - 1.34.x 上受支持，但Trident目前僅在 RKE2 v1.28.5+rke2r1 上獲得認證。</block>
  <block id="27f15237580e8f85cd2846baf40ad83b" category="paragraph">1.27 - 1.34</block>
  <block id="73b1fe6d150d74c875ee4a368dd3b1a9" category="cell">v1.27.0、v1.28.0、v1.29.0、v1.30.0、v1.31.0、v1.32.0、v1.33.0、v1.34.0</block>
  <block id="431f7ca0be64e2c321d4d4be79b721aa" category="inline-link-macro">使用 Active Directory 憑證向後端 SVM 驗證Trident 的身份</block>
  <block id="ebce82cad933beb695765f374ca16800" category="cell">用於連接到叢集/SVM 的使用者名稱。用於基於憑證的身份驗證。有關 Active Directory 驗證，請參閱 <block ref="c266761f957eda011224921a8539eded" category="inline-link-macro-rx"></block>。</block>
  <block id="c48567e30df98d399ca8a25594294caa" category="cell">連接到叢集/SVM 的密碼。用於基於憑證的身份驗證。有關 Active Directory 驗證，請參閱 <block ref="c266761f957eda011224921a8539eded" category="inline-link-macro-rx"></block>。</block>
  <block id="50d0e6e4ea5256d25a55581de47b2a0f" category="cell">與ONTAP叢集通訊所需的使用者名稱。用於基於憑證的身份驗證。有關 Active Directory 驗證，請參閱 <block ref="c266761f957eda011224921a8539eded" category="inline-link-macro-rx"></block>。</block>
  <block id="dece0a70145f48ad3b540f19d6ed5df8" category="cell">與ONTAP集群通訊所需的密碼。用於基於憑證的身份驗證。有關 Active Directory 驗證，請參閱 <block ref="c266761f957eda011224921a8539eded" category="inline-link-macro-rx"></block>。</block>
  <block id="27e5aeb0225e5a43e4c8c17f706a0a14" category="inline-link-macro">在ONTAP中設定 Active Directory 網域控制站存取</block>
  <block id="2d6f3231a7f0c1252294552c9ce9c1e0" category="paragraph">您可以設定Trident以使用 Active Directory (AD) 憑證對後端 SVM 進行驗證。在 AD 帳戶可以存取 SVM 之前，您必須設定 AD 網域控制站對叢集或 SVM 的存取權限。對於使用 AD 帳戶進行叢集管理，您必須建立網域隧道。參考 <block ref="affb415ae65d1b8ff6d4848fb0c01200" category="inline-link-macro-rx"></block> 了解詳情。</block>
  <block id="fca3ffea6534176432f58b5a22ed22e1" category="list-title">步驟</block>
  <block id="fa349cdbbc85b9c18e91508e377f8475" category="list-text">為後端 SVM 配置網域名稱系統 (DNS) 設定：</block>
  <block id="1ffd05fea44ee961865d2fb5edc44bed" category="paragraph"><block ref="c3a0bdbd7b81f16edc3a67d3fbf4564b" prefix="" category="inline-code"></block></block>
  <block id="c1ddcdee488a34a4b44c78f926dfee75" category="list-text">執行下列命令在 Active Directory 中為 SVM 建立電腦帳戶：</block>
  <block id="1e1b13ed7ccf639907d02e773fed43f5" category="paragraph"><block ref="c53a082488a948b7a70806546ba7211d" prefix="" category="inline-code"></block></block>
  <block id="34dd5efc5c883d290ed743abcc3fccb1" category="list-text">使用此命令建立 AD 使用者或群組來管理叢集或 SVM</block>
  <block id="82a5f11771bfe77a499bcb96a45ce13f" category="paragraph"><block ref="22ec37652eb447176b3d5645ac4a7dbb" prefix="" category="inline-code"></block></block>
  <block id="743fda998716813dc210d0fd0c3f2b65" category="list-text">在Trident後端設定檔中，設定<block ref="14c4b06b824ec593239362517f538b29" prefix=" " category="inline-code"></block> 和<block ref="5f4dcc3b5aa765d61d8327deb882cf99" prefix=" " category="inline-code"></block> 參數分別為 AD 使用者或群組名稱和密碼。</block>
  <block id="66896c99fb06e0b6c86498b249f8217a" category="cell">如果請求的磁碟區大小大於此值，則配置失敗。</block>
  <block id="0a963df5db280495b1f394e5035b3ddd" category="cell"><block ref="fd94acda3d48b098f39b5364b959552d" prefix="" category="inline-code"></block></block>
  <block id="0989a9fc8f98336f0d088b735c709a10" category="paragraph">刪除磁碟區時，繞過儲存中的復原佇列，立即刪除磁碟區。</block>
  <block id="fc9d6fd2d8db223be4a7484a8619f26b" category="paragraph">``</block>
  <block id="7cf94358f605f1f7e8dbc9526c3af907" category="cell">trident.netapp.io/skipRecoveryQueue</block>
  <block id="fd94acda3d48b098f39b5364b959552d" category="cell">跳過恢復隊列</block>
  <block id="7ea9fc727097fba59345a8e9de8695fa" category="cell">ontap-nas、ontap-nas-economy、ontap-nas-flexgroup、ontap-san、ontap-san-economy</block>
  <block id="3fb1fa434932281b37117e0b0718830d" category="paragraph">如果您使用的不是Trident 25.10 版本，則可以根據以下資訊取得先前版本的文件：<block ref="6d47e9235a19453f00cf246917b9e162" category="inline-link-macro-rx"></block> 。</block>
  <block id="2f2d18de2d892d2628bd1d6072de9b16" category="inline-link">Trident25.06</block>
  <block id="9266010dfc4c6c6414f01708ce347cc8" category="list-text"><block ref="9266010dfc4c6c6414f01708ce347cc8" category="inline-link-rx"></block></block>
  <block id="6437a2e69fcb32c6cdefec8d1f3273ba" category="paragraph">截至今日，我們的產品已提供按需快照支援。<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> ，<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> ，<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> ，<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> ，<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> ， 和<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block>後端驅動程式。</block>
  <block id="58ae73775a90ed0f630510fb5ac16d15" category="inline-link-macro">25.10</block>
  <block id="9067fce7e82eb78564685065686e7c0a" category="paragraph"><block ref="9067fce7e82eb78564685065686e7c0a" category="inline-link-macro-rx"></block></block>
  <block id="aa75b9e0eb36cf30277e6412f699e516" category="cell">2028年10月</block>
  <block id="07a0c4f99cfe65cec75fbd8213b75633" category="paragraph"><block ref="07a0c4f99cfe65cec75fbd8213b75633" category="inline-link-macro-rx"></block></block>
  <block id="8b9ee3820f7179994c867a6cd7d1d378" category="summary">Trident是由NetApp維護的開源儲存配置器和編排器。它允許您為由 Docker 和 Kubernetes 管理的容器化應用程式建立儲存磁碟區。**請閱讀發行說明，以了解有關升級到Trident 25.10 的重要資訊。 **</block>
  <block id="3396bf6761709c7c8fca5d0fadc63d7e" category="doc">Trident 25.10 文檔</block>
  <block id="d11ec52e40490f88487a9042fdcfbce4" category="list-text">對於<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>，<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> ， 和<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block>在驅動程式中，每個持久性磁碟區 (PV) 都會對應到一個FlexVol volume。因此，磁碟區快照被創建為NetApp快照。NetApp快照技術比同類快照技術具有更高的穩定性、可擴展性、可恢復性和效能。這些快照副本在創建所需時間和儲存空間方面都非常有效率。</block>
  <block id="493d70b01045b3860d249e304254b4c7" category="paragraph">使用Trident，您可以利用 VolumeSnapshots 從中建立新的 PV。使用FlexClone技術從這些快照建立 PV（適用於受支援的ONTAP後端）執行。從快照建立 PV 時，後備磁碟區是快照父磁碟區的FlexClone 。這<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block>驅動程式使用 Element 軟體磁碟區克隆從快照建立 PV。它在這裡從 Element 快照創建一個克隆。</block>
  <block id="25f96c73018ecdf4416a2540508d0a38" category="paragraph">使用時<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>，<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> ， 和<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block>儲存驅動程序， Trident可以克隆磁碟區。使用時<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>或者<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>驅動程式不支援克隆。從現有磁碟區建立新磁碟區將建立一個新的快照。</block>
  <block id="6ee9f47ba3ae173d8bb74106620d9108" category="paragraph">NetApp Trident支援在所有流行的NetApp儲存平台（包括公有雲和本機）上使用和管理儲存資源，包括本機ONTAP叢集（AFF、 FAS和ASA）、 ONTAP Select、 Cloud Volumes ONTAP、Element 軟體（NetApp HCI、 SolidFire ）、 Azure NetApp Files ONTAP 、Element 軟體（ NetApp HCI 、 SolidFire）、 Azure NetApp Files和Amazon FSx for NetApp ONTAP。</block>
  <block id="c51e83bb218f1a11360d19989cc8e7dd" category="list-text">NetApp 有限支援下的本機FAS、 AFF或ASA r2（iSCSI、NVMe/TCP 和 FC）叢集版本。看<block ref="50931d770a2149cdd08c9f8b08c33f00" category="inline-link-macro-rx"></block>。</block>
  <block id="8f83acda25105c19b3eeb3c4d237ac45" category="section-title">Trident 25.10 所需的容器鏡像</block>
  <block id="c707950f03771f414f81ae094c2a267c" category="list-text">docker.io/netapp/trident:25.10.0</block>
  <block id="a83aae835c84331f16ea2f7ab7c6b32b" category="list-text">docker.io/netapp/trident-autosupport:25.10</block>
  <block id="85cacb03f2d374d44118baf0147c92d6" category="list-text">registry.k8s.io/sig-storage/csi-provisioner:v5.3.0</block>
  <block id="04405dc8db6e17d7853c7b251f054223" category="list-text">registry.k8s.io/sig-storage/csi-attacher:v4.10.0</block>
  <block id="8ca2a31d7227b3df1183df9f930d889e" category="list-text">registry.k8s.io/sig-storage/csi-resizer:v1.14.0</block>
  <block id="d49d35d0964102edd30044f046d62050" category="list-text">registry.k8s.io/sig-storage/csi-node-driver-registrar:v2.15.0</block>
  <block id="6abe296459a351f6d3067ba3a8b8041b" category="list-text">docker.io/netapp/trident-operator:25.10.0（選購）</block>
  <block id="a3bfe8b87df4b85184ac2c726bd7b15e" category="list-text"><block ref="1a368feb8bb72ef66bb194b43d0a15b3" prefix="" category="inline-code"></block>*</block>
  <block id="e344165681ff8191ed4faed24ded7cc3" category="paragraph">Trident在叢集中的每個工作節點上以單一控制器 pod 和節點 pod 的形式運作。節點 pod 必須運行在您希望掛載Trident磁碟區的任何主機上。</block>
  <block id="2cfd796902655e533881e53b6b9743ed" category="inline-link-macro">使用Trident實現有狀態應用程式的故障轉移自動化</block>
  <block id="37192895ab9e45a1476b492913427f2b" category="cell"><block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix="" category="inline-code"></block>，<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> ，<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> ， 和<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>僅有的。與 Kubernetes 非優雅節點關閉 (NGNS) 配合使用，使叢集管理員能夠在節點發生故障時安全地將掛載磁碟區的工作負載遷移到新節點。有關信息，請參閱<block ref="b527eafc73367312d2cf15ed698bf909" category="inline-link-macro-rx"></block>。</block>
  <block id="60585d23d0424100e875c835ca11617b" category="cell"><block ref="32cb6d68d6f79ec1ffc0f6c142f98724" prefix="" category="inline-code"></block></block>
  <block id="31542891665c698b01e329860640e5c7" category="cell"><block ref="28bf9671a0ee5fcfc79204f771e26222" prefix="" category="inline-code"></block></block>
  <block id="8cc9b564860a969e1ea13bb42dd266a6" category="admonition">*技術預覽*：此功能為實驗性功能，目前除了現有的ONTAP -SAN 驅動程式（統一ONTAP 9 中的 iSCSI 和 FCP 協定）技術預覽版外，還支援ONTAP-NAS（僅限 NFS）和ONTAP -SAN（統一ONTAP 9 中的 NVMe）驅動程式的有限並行工作流程。</block>
  <block id="0a765e0aea70531f5419d2305575e409" category="list-text">請勿變更任何容器或欄位的名稱。</block>
  <block id="6ed7c34275f3763b87b8daa44ab9b370" category="list-text">請勿更改縮排 - YAML 縮排對於正確解析至關重要。</block>
  <block id="f05348d9f0179ff54962820167e5bf76" category="list-text">預設不套用任何限制－只有請求才有預設值，如果未指定則會自動套用。</block>
  <block id="e88be9be38b264da972dbe7aed0d8b93" category="list-text">容器名稱依其在 pod 規格中的顯示方式列出。</block>
  <block id="ea59db5901a073416d8796bed04dddb5" category="list-text">邊車列在每個主貨櫃下方。</block>
  <block id="46dae802e97f6d812c44ca5bb195ea47" category="list-text">查看TORC的<block ref="7b54c4f2d7fe24eb4666be34acbf75ac" prefix=" " category="inline-code"></block>用於查看目前應用值的欄位。</block>
  <block id="4a60d2fff997f6f3d9f8c6079b571355" category="section-title">關於Trident 25.10 的關鍵信息</block>
  <block id="90c0ecd3ada12b8e2971f5a66c8850b9" category="cell">允許啟用強制分離功能。您可以透過與節點健康檢查 (NHC) 操作符整合來自動執行強制分離程序。有關信息，請參閱<block ref="b527eafc73367312d2cf15ed698bf909" category="inline-link-macro-rx"></block>。</block>
  <block id="c1ece52281680ed5cdb19a2c782c2f54" category="cell"><block ref="55b558c7ef820e6e00e5993b9e55d93b" prefix="" category="inline-code"></block></block>
  <block id="ca805cfeede3ffd0058179d42f85ee4e" category="paragraph">設定 Kubernetes 對Trident控制器、節點和操作員 pod 的資源限制和請求。您可以為每個容器和邊車配置 CPU 和內存，以管理 Kubernetes 中的資源分配。</block>
  <block id="b3cced1be48d0693b2f46bcda2fa2c69" category="inline-link-macro">Pod 和容器的資源管理</block>
  <block id="7f63543d9b500b3e7393819885f5f1e9" category="paragraph">有關配置資源請求和限制的更多信息，請參閱<block ref="de686d97b32164bdc56086e6c13cb3a8" category="inline-link-macro-rx"></block>。</block>
  <block id="4bd9e59a927ee617750858c374fbd520" category="list-text">預設不套用任何限制－只有請求才有預設值。</block>
  <block id="f30810552abf03525fcde528c58a7732" category="list-text">預設不套用任何限制－只有請求才有預設值，如果未指定則會自動套用。</block>
  <block id="6e3335c4209c3f574d11a55c3c410b51" category="cell"><block ref="511a93ba3f22794b25bb3e8095217c70" prefix="" category="inline-code"></block></block>
  <block id="cca021b5f438a6d9183c226d38fb5a5a" category="cell">為 Prometheus 指標端點啟用 HTTPS。</block>
  <block id="47e2815ddaeccbcfa3ba4dfe88ab9cb3" category="paragraph">為Trident控制器啟用主機聯網功能。在多宿主網路中，當需要分離前端和後端流量時，這非常有用。</block>
  <block id="5305ee1fa605f73597adfacd52531aac" category="section-title">關於Trident10的關鍵訊息</block>
  <block id="077208648087e4b2216fa5c97d2c9869" category="paragraph">在<block ref="02f3115b006f7541a477d52ea8c0f861" prefix=" " category="inline-code"></block>， 更新<block ref="23e32d1bd77e7bd89ad56d9805b235f4" prefix=" " category="inline-code"></block>反映您的影像註冊位置。你的<block ref="57de9a35aeedde82408b1e047030d221" category="inline-link-macro-rx"></block>CSI 映像檔可以位於同一個登錄檔或不同的登錄檔中，但所有 CSI 映像必須位於同一個登錄檔中。例如：</block>
  <block id="987644f856423d363e0c4d97c607d177" category="list-text"><block ref="8845b59d1ba2d787251f9e1e834fe7cb" prefix="" category="inline-code"></block>如果您的所有圖片都位於同一個註冊表中。</block>
  <block id="bfff829a19a446d3e874073827db4b1d" category="list-text"><block ref="94f29a685c906a2ad670b937fffaaf11" prefix="" category="inline-code"></block>如果您的Trident鏡像與 CSI 映像位於不同的登錄檔。</block>
  <block id="13421cd669efb1bbf8db0c5eac94e4d0" category="paragraph">有關信息，請參閱<block ref="b527eafc73367312d2cf15ed698bf909" category="inline-link-macro-rx"></block>。</block>
  <block id="196e168efbb56cd8b229b8c03e801ea3" category="list-text">使用<block ref="cd01e1bae83933b9c59c914bc71332ac" prefix=" " category="inline-code"></block>其中命令<block ref="a9bf50a881c5d6e503f43683efad1e38" prefix=" " category="inline-code"></block>反映您想要升級到的版本。</block>
  <block id="b1cbc96f53c677765633caf5af4dd9c7" category="list-text">（選用）若要啟用偵錯日誌記錄（建議用於故障排除），請使用：</block>
  <block id="a75138553dd56a4327fa0da9256c6130" category="paragraph">偵錯日誌記錄有助於NetApp支援人員排除故障，而無需變更日誌等級或重現問題。</block>
  <block id="acbe525f4ec795ff5a3b0f861d110760" category="admonition">要取得 Helm Chart，首先需要在可以存取網路的電腦上下載 Helm Chart。<block ref="647ef8ddeca7869e0a7beea8e1dd05ed" prefix=" " category="inline-code"></block>然後複製結果<block ref="c265d889aefa7f1eafd4a9d64a5611ae" prefix=" " category="inline-code"></block> 將檔案複製到您的離線環境並進行安裝<block ref="222083e2a3b7f539cdb75386d59d4681" prefix=" " category="inline-code"></block> 而不是在最後一步使用存儲庫引用。</block>
  <block id="b12f855d5509dac4b79afc31e54cc96f" category="admonition">這<block ref="990dc1a09e10c7b5378e6bc8a1956cb8" prefix=" " category="inline-code"></block>和<block ref="0d9b54b29da54379cca6b8782b9faae5" prefix=" " category="inline-code"></block>這些值適用於所有組件影像，包括<block ref="337f1ae6c2a69673e695c10040714cd4" prefix=" " category="inline-code"></block>和<block ref="a3b6861798228b46d8f1400c35806e4c" prefix=" " category="inline-code"></block>。如果您將鏡像推送到註冊表中的特定儲存庫路徑（例如，<block ref="9ced4e1438bfae120b7503d1459e84a0" prefix=" " category="inline-code"></block>），請在登錄欄位中包含完整路徑。這將確保所有圖像都從此處提取。<block ref="52da7a794020b670663422d9b8722c45" prefix=" " category="inline-code"></block>。</block>
  <block id="3f09cbddd61fbee1ddfdf268eb77431c" category="section-title">支援的備份註釋</block>
  <block id="4ca8f3a143324271168d8e81d7efa3cd" category="paragraph">下表描述了建立備份 CR 時可以使用的註解：</block>
  <block id="27f412d00b6f20d8bd151bc0355eae9a" category="cell">protect.trident.netapp.io/full-backup</block>
  <block id="ff6493b4c08e9896ced760eabb2513ed" category="cell">指定備份是否應為非增量備份。設定為<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>建立非增量備份。最佳實踐是定期執行完整備份，然後在兩次完整備份之間執行增量備份，以最大限度地降低與復原相關的風險。</block>
  <block id="59177e9fd24a996fe7acc348af54e912" category="cell">protect.trident.netapp.io/snapshot-completion-timeout</block>
  <block id="c464fe04226687fa8c814ba8a8690384" category="cell">完成整個快照操作允許的最長時間。</block>
  <block id="435bbfd1496ab991e2a7530d2c7273b1" category="cell">60米</block>
  <block id="a3f0891bded2c705ab3b29833481ffcf" category="cell">protect.trident.netapp.io/volume-snapshots-ready-to-use-timeout</block>
  <block id="67c844e70c6f5fd7910ea8f4358464b6" category="cell">卷快照達到可用狀態所需的最長時間。</block>
  <block id="38986de1c1221cb10e5c108c3ad55e0e" category="cell">30米</block>
  <block id="af978cfba15392673bcd27f4c22e2926" category="cell">protect.trident.netapp.io/volume-snapshots-created-timeout</block>
  <block id="c748817d9411064cf0b0b7cc203fc5be" category="cell">建立磁碟區快照允許的最長時間。</block>
  <block id="e36568406cce6542af248eed6ec657e2" category="cell">5米</block>
  <block id="728633ade1403bcbcd881fc22ec19596" category="cell">protect.trident.netapp.io/pvc-bind-timeout-sec</block>
  <block id="fc7da248a2f7c60cc6dde87d2093c48e" category="cell">等待新建立的持久卷聲明 (PVC) 到達的最大時間（以秒為單位）<block ref="685d1f2146dd079015e81918414e8971" prefix=" " category="inline-code"></block>操作失敗前的階段。</block>
  <block id="d396afb1bbf01f546690ad93f3524626" category="cell">1200（20分鐘）</block>
  <block id="c905e2b95aa2520ffe7b6ad7aad2c503" category="section-title">支援的日程註釋</block>
  <block id="231f65a2442cb5e8f7f8b483af54ac5a" category="paragraph">下表描述了建立計劃變更請求 (CR) 時可以使用的註釋：</block>
  <block id="5b58e088de549b107fa1dd792e819579" category="cell">protect.trident.netapp.io/full-backup-rule</block>
  <block id="9ffffe599d0bc4659e6c0f79801fcaae" category="cell">指定安排完整備份的規則。你可以將其設定為<block ref="f9f90eeaf400d228facde6bc48da5cfb" prefix=" " category="inline-code"></block>您可以根據需要進行持續完整備份或自訂備份。例如，如果您選擇按日粒度進行備份，則可以指定應進行完整備份的星期幾（例如，<block ref="1f27587ff587afb7a193caa147250c69" prefix=" " category="inline-code"></block> ）。</block>
  <block id="b01a80a674fe93ad98089e11a51fcea9" category="cell">未設定（所有備份均為增量備份）</block>
  <block id="b5e51a86f312c3ccd69b085ad9c3dbe0" category="cell">等待新建立的持久卷聲明 (PVC) 到達的最大時間（以秒為單位）<block ref="685d1f2146dd079015e81918414e8971" prefix=" " category="inline-code"></block>操作失敗前的階段。適用於所有還原 CR 類型（備份還原、備份就地還原、快照還原、快照就地還原）。如果您的儲存後端或叢集經常需要更多時間，請使用更高的值。</block>
  <block id="f5c80bb44fdac7820c81d85638ff23d1" category="admonition">您可以透過新增以下內容來配置升級期間的日誌等級。<block ref="96bd1ee7f33c1d6baf0aad13f7a31974" prefix=" " category="inline-code"></block>升級命令。預設日誌等級為<block ref="1ea4c3ab05ee0c6d4de30740443769cb" prefix=" " category="inline-code"></block>。建議啟用偵錯日誌記錄進行故障排除，因為它可以幫助NetApp支援人員診斷問題，而無需更改日誌等級或重現問題。</block>
  <block id="e66afc6581b6aeabf935a293dcce9e57" category="summary">使用此處列出的信息，透過Trident自動實現有狀態應用程式的故障轉移。</block>
  <block id="5b0090ac65d6251e38985b2f3a62a716" category="paragraph">Trident 的強制分離功能可讓您自動將磁碟區從 Kubernetes 叢集中不健康的節點分離，從而防止資料損壞並確保應用程式的可用性。此功能在節點無響應或因維護而離線的情況下特別有用。</block>
  <block id="93294d0648bc614a4b2d8e68c9de5f6e" category="list-text">停止對掛載到該節點的磁碟區的後端 I/O 存取。</block>
  <block id="f19f61e21c1f71ae03731f9660bb59a1" category="section-title">有關自動故障轉移的詳細信息</block>
  <block id="d4d777a4555f8caf033508a42b30998b" category="inline-link-macro">節點健康檢查 (NHC) 操作符</block>
  <block id="8e77d5a5f855c9f0e849a576b6b13598" category="paragraph">您可以透過與下列系統的整合來自動執行強制分離程序：<block ref="9187b51535902d8cdac71538bd57825c" category="inline-link-macro-rx"></block> 。當節點發生故障時，NHC 會透過在 Trident 的命名空間中建立 TridentNodeRemediation CR 來定義故障節點，從而觸發Trident節點修復 (TNR) 並自動強制分離。TNR 僅在節點發生故障時創建，並在節點恢復上線或節點被刪除後由 NHC 刪除。</block>
  <block id="72c0b2001c5fdebf77cf5c62ea6cd92b" category="section-title">節點 Pod 移除過程失敗</block>
  <block id="a379f408861e3c08302387b17c090390" category="paragraph">自動故障轉移會選擇要從故障節點移除的工作負載。建立 TNR 時，TNR 控制器會將節點標記為髒節點，阻止任何新的捲發布，並開始移除強制分離支援的 pod 及其磁碟區附件。</block>
  <block id="10629d2c287b577eb633d52cdbdf6b8e" category="paragraph">所有受強制分離支援的磁碟區/PVC均受自動故障轉移支援：</block>
  <block id="396d58616d0c907a6c86ac875466ed4d" category="list-text">NAS 和使用自動匯出策略的 NAS 經濟型磁碟區（尚未支援 SMB）。</block>
  <block id="9b8bb5a01b2f8bcf186814527a2d20f3" category="list-text">SAN 和 SAN 經濟型磁碟區。</block>
  <block id="c92bfab38301763fbe16d03e81801b61" category="paragraph">參考<block ref="620ff2552a2d798650bb027eb1271b17" category="inline-xref-macro-rx"></block>。</block>
  <block id="6ae957bb5e6c62aebcfcbf4419464146" category="paragraph">*預設行為*：</block>
  <block id="ed588df1b4149667803833053e70fbd5" category="list-text">使用 force-detach 支援的磁碟區的 Pod 將從故障節點中移除。Kubernetes 會將這些任務重新調度到健康的節點上。</block>
  <block id="8dfee830c78b6e061cf374110cdd43aa" category="list-text">使用不支援強制分離的磁碟區（包括非 Trident 磁碟區）的 Pod 不會從故障節點中移除。</block>
  <block id="a3a84597af4ddc7d3a941a3814de8827" category="list-text">無狀態 Pod（非 PVC）不會從故障節點中移除，除非 Pod 註解另有規定。<block ref="369132620a006189254f3c5e75eef98f" prefix=" " category="inline-code"></block>已設定。</block>
  <block id="60c66af5933093660de51ee81ecb2f3b" category="paragraph">*覆蓋 pod 移除行為*：</block>
  <block id="9ce5a695564c90caea8ebb37ea221b5c" category="paragraph">可以使用 Pod 註解來自訂 Pod 移除行為：<block ref="3f082ad52c1f99e505a9cfc06ca512d9" prefix=" " category="inline-code"></block> 。發生故障轉移時，會檢查並使用這些註解。在 Kubernetes 部署/副本集 Pod 規格中加入註解，以防止故障轉移後註解消失：</block>
  <block id="677f0d08b430d82912b30719061a53b2" category="list-text"><block ref="16d79ff80feadcf2f52096f073f2b94a" prefix="" category="inline-code"></block>- 在自動故障轉移期間，Pod 不會從故障節點中移除。</block>
  <block id="8991b0af6b2fe6f7a4d4b376c014e196" category="list-text"><block ref="099af53f601532dbd31e0ea99ffdeb64" prefix="" category="inline-code"></block>- 在自動故障轉移期間，Pod 將從故障節點中移除。</block>
  <block id="5b87661ce39c1bb7ba944334813a4911" category="paragraph">這些註解可以應用於任何 pod。</block>
  <block id="1a9fdd4fb2dbcc2cbed236dd9dfd4bc6" category="list-text">只有當發生故障的節點支援強制分離時，I/O 操作才會被阻塞。</block>
  <block id="1e4170714f6454f8bd6ebf04575c692d" category="list-text">對於不支援強制分離的捲，存在資料損壞和多重附加問題的風險。</block>
  <block id="eafd90a2b6eb263b8830b2c26793d852" category="section-title">TridentNode修復CR</block>
  <block id="b4678f54d19a409692abedcef9be5a1e" category="paragraph">TridentNodeRemediation (TNR) CR 定義了一個故障節點。TNR 的名稱是故障節點的名稱。</block>
  <block id="523b54a1e6563242c7a31bef0ea63c56" category="paragraph">*TNR 範例*：</block>
  <block id="3401a87ba397cd4aa73af8f47d9562a8" category="paragraph">*TNR狀態*：使用以下指令查看TNR狀態：<block ref="000ec72a02cded8398d80acbdb35b95d" prefix=" " category="inline-code"></block></block>
  <block id="8dfd815aaca77974bf32b409967f77cf" category="paragraph">TNR（誘捕、絕育、放歸）可能處於下列幾種狀態之一：</block>
  <block id="8887e52bf58c3ba2f48c40f7009e30c3" category="list-text">修復中：</block>
  <block id="d22fab2ac44ca5cc7b735ac5f3dd514e" category="list-text">停止對強制分離掛載到該節點的磁碟區的後端 I/O 存取。</block>
  <block id="63d06d91abb96a0428a77f826a323ca8" category="list-text">Trident節點物件被標記為髒（不適合發布新內容）。</block>
  <block id="beb1d8cbe8f8e5c6f4214cc75c4e3a6a" category="list-text">從節點中移除 Pod 和磁碟區附件</block>
  <block id="852ada419d3a2564a2ce3e56a7243c9f" category="list-text">_NodeRecoveryPending_:</block>
  <block id="445bbecf55c91972100459f0c2ec2b82" category="list-text">控制器正在等待節點重新上線。</block>
  <block id="18f51496a54f1b7ee26472f56076a0b4" category="list-text">一旦節點上線，發布強制執行將確保節點乾淨且已準備好發布新磁碟區。</block>
  <block id="6f846ce659bbd0e14e6a69ac1bda0c8a" category="list-text">如果節點從 K8s 中刪除，TNR 控制器將移除 TNR 並停止協調。</block>
  <block id="8cf08d18c6761e985ec40709e0fc8cab" category="list-text">成功：</block>
  <block id="d311af171a2ebede7b56f8ef72cac2ad" category="list-text">所有修復和節點恢復步驟均已成功完成。該節點已清理完畢，可以發布新的捲。</block>
  <block id="b596b0c0c57e5490dff330a3cdc76fd5" category="list-text">_失敗的_：</block>
  <block id="8c32e5995aae193a115cadc6b479b86a" category="list-text">無法恢復的錯誤。錯誤原因設定在 CR 的狀態訊息欄位中。</block>
  <block id="fc6ecd18d8f0dd27b5b6fca4474f9bb3" category="section-title">啟用自動故障轉移</block>
  <block id="62880c9468dc1022e56076bcd60cf45d" category="paragraph">*先決條件*：</block>
  <block id="7ffbcf5e4ef35c71cbb7f4e65d8edac7" category="list-text">請確保在啟用自動故障轉移之前已啟用強制分離。更多信息，請參閱<block ref="620ff2552a2d798650bb027eb1271b17" category="inline-xref-macro-rx"></block>。</block>
  <block id="d8eb28676dca71fa09202a765c45683e" category="list-text">在 Kubernetes 叢集中安裝節點健康檢查 (NHC)。</block>
  <block id="3c78c6632501301ad6cc1c6d075cec96" category="inline-link-macro">安裝 operator-sdk</block>
  <block id="1d17b5b3f5eac148844c892849fb56ee" category="list-text"><block ref="8c546380d19a34159a5f534f63ed1345" category="inline-link-macro-rx"></block>。</block>
  <block id="797abdcfd244820f24b3d4152205e999" category="list-text">如果叢集中尚未安裝 Operator Lifecycle Manager (OLM)，請安裝它：<block ref="2517ba685c9750605ef002ea5ca0dd7c" prefix=" " category="inline-code"></block> 。</block>
  <block id="c2517225f0cf11c14cfa8f15b56b4221" category="list-text">安裝節點健康檢查運算子：<block ref="09b6bb475dc51286ca7e6eec20c4f77d" prefix=" " category="inline-code"></block> 。</block>
  <block id="0d554e4a64276c6bbaa2f252faef4d3a" category="admonition">您也可以使用其他方法來偵測節點故障，具體方法請參閱相關文件。<block ref="d3636ba06fda749510d82b74e497601f" category="inline-xref-macro-rx"></block>以下部分。</block>
  <block id="ebd17c61154ac668b32728307007008a" category="inline-link-macro">節點健康檢查操作符</block>
  <block id="cc47bb57619fcdb7de5b495a2c701bf0" category="paragraph">看<block ref="03167ed92cb924147e7b17a7c0b61981" category="inline-link-macro-rx"></block>了解更多。</block>
  <block id="2c4a935f02b64db18fe237d1902e292b" category="list-text">在Trident命名空間中建立 NodeHealthCheck (NHC) CR，以監控叢集中的工作節點。範例：</block>
  <block id="0a58769e5a0c1cf5a3080cb99b6df9ee" category="list-text">在節點健康檢查 CR 中應用<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block>命名空間。</block>
  <block id="e22a4558b275e2d9b58c1b4666dc4319" category="paragraph"><block ref="28de3eec04245d7d80e3887a5db13d41" prefix="" category="inline-code"></block></block>
  <block id="473692259b60acfcda7152c07326162f" category="paragraph">上述 CR 配置為監控 K8s 工作節點，以偵測節點狀態 Ready: false 和 Unknown。當節點進入 Ready: false 或 Ready: Unknown 狀態時，將觸發自動故障轉移。</block>
  <block id="60b914bb626e1a1a76d8f68d90d2fc43" category="paragraph">這<block ref="2226c6405566c14bc3168c0d8370c150" prefix=" " category="inline-code"></block>CR 中使用了 0 秒寬限期。這樣一來，一旦 K8s 將節點狀態 Ready: false 設定為 false（在 K8s 失去節點的心跳訊號後設定），就會立即觸發自動故障轉移。K8s 在最後一次心跳後預設等待 40 秒，然後才將 Ready: false 設為 false。此寬限期可在 K8s 部署選項中進行自訂。</block>
  <block id="58fd49d7d53b0f27a63558a328c3b6ec" category="inline-link-macro">節點健康檢查操作符文檔</block>
  <block id="cfffc15d82947ba5524d18e0c00e7b76" category="paragraph">有關其他配置選項，請參閱<block ref="4a68d5e4e52e854d16249be2e4dea6b0" category="inline-link-macro-rx"></block>。</block>
  <block id="b899f9ec7022814503fb52bc1693e240" category="section-title">其他設定訊息</block>
  <block id="88ddc9c3eda95c665649493ec88515df" category="paragraph">當Trident安裝時啟用了強制分離功能， Trident命名空間中會自動建立兩個額外的資源，以方便與 NHC 整合：TridentNodeRemediationTemplate (TNRT) 和 ClusterRole。</block>
  <block id="8bf4ccb5b0942ddd2d4f32183c94ec13" category="paragraph">*TridentNodeRemediationTemplate (TNRT)*：</block>
  <block id="e285f38bc0d52d2f7b59358901719e76" category="paragraph">TNRT 可作為 NHC 控制器的模板，NHC 控制器可依需求使用 TNRT 產生 TNR 資源。</block>
  <block id="fd4b32117372f609bf16e3b0a3a34f1e" category="paragraph">*集群角色*：</block>
  <block id="5a80493362c99798bfb5ab0cf31c9930" category="paragraph">啟用強制分離功能時，安裝過程中也會新增叢集角色。這使得 NHC 能夠對Trident命名空間中的 TNR 進行授權。</block>
  <block id="8965ed46a52416cd02c0e73a604baa6d" category="section-title">K8s叢集升級與維護</block>
  <block id="cf651c29eb7b97064b487bef852c4cce" category="paragraph">為防止故障轉移，在 K8s 維護或升級期間暫停自動故障轉移，因為預計節點會停止運作或重新啟動。您可以透過修改 NHC CR 的補丁來暫停該 CR（如上所述）：</block>
  <block id="2de00b1faba316e8e458cece9d449c59" category="paragraph"><block ref="77b852364b3a9c820bd13d2b822f19b7" prefix="" category="inline-code"></block></block>
  <block id="bfa3fdeb52cb1a5524d602f4f62e155e" category="paragraph">這將暫停自動故障轉移。若要重新啟用自動故障轉移，維護完成後，請從規格中刪除 pauseRequests。</block>
  <block id="08f76ee5a1562d00399c9e3c0c79f91f" category="list-text">僅對受強制分離支援的捲，在發生故障的節點上阻止 I/O 操作。只有使用強制分離支援的磁碟區/PVC的pod才會自動移除。</block>
  <block id="f959cc902fd9f7838f26a3277b058afd" category="list-text">自動故障轉移和強制分離在三叉戟控制器艙內運作。如果託管 trident-controller 的節點發生故障，自動故障轉移將會延遲，直到 K8s 將 pod 遷移到健康的節點。</block>
  <block id="a88fe6aeca25032bc70b0db6e8bfd593" category="section-title">整合自訂節點健康檢查解決方案</block>
  <block id="4da4a3e0f754ec29e43c060199963cbd" category="paragraph">您可以將節點健康檢查操作器替換為其他節點故障偵測工具，以觸發自動故障轉移。為確保與自動故障轉移機制相容，您的自訂解決方案應：</block>
  <block id="dfd05c1b56a969544918a179001e3381" category="list-text">當偵測到節點故障時，建立 TNR，使用故障節點的名稱作為 TNR CR 名稱。</block>
  <block id="2a2b37d518733686801a2530d54597d7" category="list-text">當節點恢復且 TNR 處於成功狀態時，刪除 TNR。</block>
  <block id="ebe6c186578862cd09512244b97d92f1" category="paragraph">建立後端時，通常可以指定一組參數。管理員無法建立具有相同儲存憑證和不同參數集的另一個後端。隨著虛擬池的引入，這個問題得到了緩解。虛擬池是在後端和 Kubernetes 儲存類別之間引入的層級抽象，以便管理員可以定義參數以及可以透過 Kubernetes 儲存類別作為選擇器引用的標籤，以與後端無關的方式。可以使用Trident為所有支援的NetApp後端定義虛擬池。此清單包括SolidFire/ NetApp HCI、 ONTAP以及Azure NetApp Files。</block>
  <block id="916c0de3d4d309bb695b95548fba94ec" category="paragraph">Trident支援調整 NFS、iSCSI 和 FC PV 的大小。這樣使用者就可以直接透過 Kubernetes 圖層調整磁碟區的大小。所有主流NetApp儲存平台（包括ONTAP）及SolidFire/ NetApp HCI後端均可進行磁碟區擴充。為了方便日後擴展，請設定<block ref="6add71a247c8f4513060920be14857bc" prefix=" " category="inline-code"></block>到<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>在與該磁碟區關聯的 StorageClass 中。每當需要調整持久卷的大小時，請編輯以下內容：<block ref="02b011e6fe36e26e5f7365ba08bf5a48" prefix=" " category="inline-code"></block>在持久卷聲明中加入所需卷大小的註解。Trident會自動處理儲存叢集上磁碟區的大小調整。</block>
  <block id="6ac4542ab47e2e8ff87eefc61f881211" category="paragraph">磁碟區匯入功能允許將現有儲存磁碟區匯入 Kubernetes 環境。目前這得到了以下方面的支持：<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> ，<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> ，<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> ， 和<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block>司機。將現有應用程式移植到 Kubernetes 或災難復原場景中，此功能非常有用。</block>
  <block id="e438c57be651461f13b67b73c01fa461" category="paragraph">如果<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block>使用了驅動程序，請使用命令<block ref="37e8b35fb48ead6318ca6f2f83110554" prefix=" " category="inline-code"></block>將磁碟區匯入 Kubernetes 以便由Trident管理。這樣可以確保卷號的唯一性。</block>
  <block id="58c44ecb694dca809648c9bc2455e6ea" category="paragraph">NetApp Trident在使用時支援克隆卷<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>，<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> ， 和<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block>儲存驅動程式。使用時<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>或者<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>驅動程式不支援克隆。從現有磁碟區建立新磁碟區將建立一個新的快照。</block>
  <block id="aad0b65ad8c732d2a039747cb6136f7c" category="cell">ontap-nas、ontap-san、solidfire-san、azure-netapp-files、ontap-san-economy</block>
  <block id="681bd17e7ce156030385e6ab57b7efd9" category="cell">ontap-nas、ontap-nas-flexgroup、ontap-san</block>
  <block id="555bb4c92fdc6d6880a646909888bc5b" category="paragraph">ontap-nas、ontap-nas-economy、ontap-nas-flexgroup、ontap-san、solidfire-san、azure-netapp-files、ontap-san-economy</block>
  <block id="e48ddaf893ab9a71f2cb65cb8aaa2cf7" category="cell">ontap-nas、ontap-san、solidfire-san</block>
  <block id="d2583dd4ccd2bddbfb497981b5f2f808" category="cell">ontap-nas、ontap-nas-economy、ontap-nas-flexgroup、ontap-san、ontap-san-economy、solidfire-san、azure-netapp-files</block>
  <block id="2da75969ae2c50dfcc7a3458269b1f39" category="paragraph">儲存池代表每個後端可用於配置的不同位置。對於ONTAP而言，這些對應於 SVM 中的聚合。對於NetApp HCI/ SolidFire，這些對應於管理員指定的 QoS 頻段。每個儲存池都有一組獨特的儲存屬性，這些屬性定義了其效能特徵和資料保護特徵。</block>
  <block id="9d5a9690e203a91236d7cd904141669f" category="section-title">25.10 版本新增內容</block>
  <block id="bf2cad21c17e517de15898a65bd88f1e" category="list-text">除了ONTAP -SAN（iSCSI 和 FC）驅動程式外，還為ONTAP-NAS NFS 和ONTAP -SAN-Economy 驅動程式新增了對 CSI 磁碟區組快照的支持，v1beta1 磁碟區組快照 Kubernetes API。看<block ref="b136941d5c2c98d5e9ff86fd07e97048" category="inline-link-macro-rx"></block>。</block>
  <block id="56f5bb963efe48d3888916499768c7d6" category="list-text">增強Trident節點並發性，以提高 FCP 卷節點操作的可擴展性。</block>
  <block id="06b45a58a51e7373d67a23e9559f7c66" category="list-text">為ONTAP NAS 驅動程式新增了ONTAP AFX 支援。看<block ref="3da83682cd332597e99e50fecca154d7" category="inline-link-macro-rx"></block>。</block>
  <block id="f6d2c0fd9ebd9106dee00ba994ede637" category="inline-link-macro">第1000期</block>
  <block id="85a09954eece3f52ebde36c636eef0ad" category="inline-link-macro">第927期</block>
  <block id="f4f8b0b7f3f63b7efcf590ff695ef775" category="inline-link-macro">第853期</block>
  <block id="c1d4fb1898c1a374cb2ca40dbc140065" category="inline-link-macro">第592期</block>
  <block id="e8ba9d7aca887fd24a118b80e0b8653a" category="inline-link-macro">第110期</block>
  <block id="a101d7878f101e75cacffabca9010d53" category="list-text">增加了透過 TridentOrchestrator CR 和 Helm chart 值配置Trident容器的 CPU 和記憶體資源請求和限制的支援。（<block ref="0e9d69d95b4ce670cc8bad60a6a5bc5e" category="inline-link-macro-rx"></block> ，<block ref="f88f1307cda5119e98c24bf937f48eb7" category="inline-link-macro-rx"></block> ，<block ref="3df6641618a1ae1924e69f40761e9a48" category="inline-link-macro-rx"></block> ，<block ref="e35ba3383838321db2ca031794e46df5" category="inline-link-macro-rx"></block> ，<block ref="c497834d8c66e2b220a95f7752135713" category="inline-link-macro-rx"></block> ）。</block>
  <block id="7a7bb3acc6602fce42fb1411ed352f3c" category="list-text">為 ASAr2 人格添加了 FC 支援。看<block ref="f2fd3fe662daf33e514604a72251389c" category="inline-link-macro-rx"></block>。</block>
  <block id="539fc2aefa387351c4c1a5ba902494b6" category="list-text">Trident部署現在以系統叢集關鍵優先權運作。</block>
  <block id="6e7cec8ec1bab8a88b529cb4aacdea8d" category="inline-link-macro">第858期</block>
  <block id="02c18582a91ac4954d52fb3312cd214d" category="list-text">為Trident控制器新增了透過 helm、operator 和 tridentctl 使用主機網路的選項（<block ref="4526aa80b75cdbaa8290c8d45d45b56c" category="inline-link-macro-rx"></block> ）。</block>
  <block id="cb114173f156e2eda40775089a3067ff" category="list-text">在Trident 25.10 中，ANF 驅動程式新增了手動 QoS 支持，使其具備了生產就緒狀態；此實驗性增強功能是在Trident 25.06 中引入的。</block>
  <block id="91382004a95ee6b6ff1b03f17d2bc907" category="list-text">*[技術預覽]*：除了現有的ONTAP-SAN 驅動程式技術預覽版（統一ONTAP 9 中的 iSCSI 和 FCP 協定）之外，還增加了對ONTAP-NAS（僅限 NFS）和ONTAP-SAN（統一ONTAP 9 的 NVMe）的並發支援。</block>
  <block id="f5e490c8e946fa06aeba4784e6b32f48" category="list-text">**Kubernetes**：</block>
  <block id="9e8257af5db1baeffb10d50a398ac154" category="list-text">透過將 Linux DaemonSet 標準化為 node-driver-registrar 來修復 CSI node-driver-registrar 容器名稱不一致的問題，使其與 Windows DaemonSet 和容器鏡像命名保持一致。</block>
  <block id="1f6b456444cc807ac4030b30997760b6" category="list-text">修正了舊版 qtree 的匯出策略未正確升級的問題。</block>
  <block id="5c22c6028a42e7a82217e9363406dd09" category="list-text">*Openshift*：</block>
  <block id="5166e09e3d2cd0d5578fb3aa3a005a3a" category="inline-link-macro">第950期</block>
  <block id="52a1773887ae2cdc65db40d6c98b4840" category="list-text">修正了由於 SCC 將 allowHostDirVolumePlugin 設為 false 而導致的 Openshift 中 Windows 節點上的Trident節點 pod 無法啟動的問題（<block ref="ca411623b096e02622e4b3b9d7ed95d5" category="inline-link-macro-rx"></block> ）。</block>
  <block id="5e1cf90d618b9e104c8a9915e960e853" category="inline-link-macro">第975期</block>
  <block id="43da8133735de96bffce6a269bb06142" category="list-text">修正了 Kubernetes API QPS 無法通過 Helm 設定的問題（<block ref="12bbaed1bfd4fe330566289e3fb92d70" category="inline-link-macro-rx"></block> ）。</block>
  <block id="390259404dafe994e17e58e096091710" category="list-text">修正了無法在同一個 Kubernetes 節點上基於 NVMe XFS 檔案系統 PVC 的快照掛載持久性磁碟區宣告 (PVC) 的問題。</block>
  <block id="5bf41cc95b0e658408a5ecd3b1067204" category="list-text">修正了在 NDVP 模式下主機/Docker 重新啟動後 UUID 變更的問題，方法是為每個後端新增唯一/共用的子系統名稱（例如 netappdvp_subsystem）。</block>
  <block id="65048b706081a8462599c96e66beb43c" category="list-text">修正了Trident從 23.10 之前的版本升級到 24.10 及以上版本期間 iSCSI 磁碟區的掛載錯誤，解決了「無效的 SANType」問題。</block>
  <block id="34798b8a3a3af6df8880cde3fd5445bb" category="list-text">修正了Trident後端狀態在不重新啟動Trident控制器的情況下無法轉換到線上/離線狀態的問題。</block>
  <block id="166c4613f6d5a4f05f9fa387898aa26d" category="list-text">修正了導致PVC尺寸調整緩慢的間歇性競爭條件。</block>
  <block id="55bb82ba9f305a2b129c2cb9eb9f0d2f" category="list-text">修正了卷宗克隆失敗時快照未被清理的問題。</block>
  <block id="b90e27fd3e7474c21774a0fd27dc7d3e" category="list-text">修正了核心更改磁碟區的裝置路徑時無法取消暫存磁碟區的問題。</block>
  <block id="28b7730fe63415bc5a932c19ca80efef" category="list-text">修正了由於 LUKS 裝置已關閉而導致無法取消暫存磁碟區的問題。</block>
  <block id="fd7bd584436570c8be2381b2a06c78ba" category="list-text">修復了儲存操作緩慢導致 ContextDeadline 錯誤的問題。</block>
  <block id="a054bd3500012989635093f00c8028bf" category="list-text">Trident Operator 將等待可設定的 k8s-timeout 時間來檢查Trident版本。</block>
  <block id="1e413d8804e2b23e06b5d0ea2d821f59" category="list-text">新增了用於控制計劃和備份 CR 的快照 CR 逾時的註釋：</block>
  <block id="7ba249643eaa28de02e3ff70ab5efae4" category="list-text"><block ref="59177e9fd24a996fe7acc348af54e912" prefix="" category="inline-code"></block></block>
  <block id="8b8d9f4c952c1a96deb64c793af4e464" category="list-text"><block ref="a3f0891bded2c705ab3b29833481ffcf" prefix="" category="inline-code"></block></block>
  <block id="73a728f42314eb885248ddf406b25363" category="list-text"><block ref="af978cfba15392673bcd27f4c22e2926" prefix="" category="inline-code"></block></block>
  <block id="aee2fa9c2204a55585128f5277354ae9" category="inline-link-macro">支援的備份和計劃註釋</block>
  <block id="e3245c0aba43966b1051780d8f62f1fb" category="list-text">改進<block ref="d4845d5856667a10aee97f3404a35627" prefix=" " category="inline-code"></block>備份和快照清單新增一個字段，用於指示執行鉤子失敗。</block>
  <block id="6c194c516ba4058b297409f4d40113b5" category="section-title">25.06.2 中的變更</block>
  <block id="cd133424a13afaa0badf4f13c4bf4c72" category="list-text">除了 iSCSI 之外，還增加了對ONTAP ASA r2 的 NVMe/TCP 支援。看<block ref="f2fd3fe662daf33e514604a72251389c" category="inline-link-macro-rx"></block>。</block>
  <block id="84b478e347796a4189c8153f04b8f22f" category="cell">表示 QoS 類型：自動或手動。</block>
  <block id="9d01c188aeecb39d6a072a7fe3f6bbec" category="cell">設定允許的最大吞吐量，單位為 MiB/秒。僅支援手動 QoS 容量池。</block>
  <block id="999b5fc8ace28361827a30c87184dc52" category="paragraph">此後端配置將磁碟區放置在 Azure 中<block ref="6356111305f5daab178fa6051b7a8ae7" prefix=" " category="inline-code"></block>具有手動 QoS 容量池的位置。</block>
  <block id="f36399c8e5916099bb38486b839c5a17" category="paragraph">此 ServiceMonitor 定義擷取由下列方式傳回的指標：<block ref="d9585690fd147c34fbd50c487a3520de" prefix=" " category="inline-code"></block>服務，特別是尋找<block ref="aa59d67c2123f094d0d6798ffe651c4d" prefix=" " category="inline-code"></block>服務的端點。因此，Prometheus 現在已配置為能夠理解 Trident 的指標。</block>
  <block id="9c0a20de0cc47a8e12a961b4d6b741d7" category="section-title">透過 HTTPS 使用Trident指標</block>
  <block id="6ee42c2966b1aebb345c670a455ab7c9" category="paragraph">若要透過 HTTPS（連接埠 8444）使用Trident指標，您必須修改 ServiceMonitor 定義以包含 TLS 設定。你還需要複製<block ref="d9585690fd147c34fbd50c487a3520de" prefix=" " category="inline-code"></block>秘密來自<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block>將命名空間指向 Prometheus 運行所在的命名空間。您可以使用以下命令執行此操作：</block>
  <block id="b84047d8c100ae26de6d62f9aa293dfd" category="paragraph"><block ref="826cb7a2728553cc6a2a98466aaa2181" prefix="" category="inline-code"></block></block>
  <block id="20b7db74dfc372979d1f55515039b0c0" category="paragraph">HTTPS 指標的範例 ServiceMonitor 如下圖所示：</block>
  <block id="c6fa1fea6b37a189c9d72117b07a6c3f" category="paragraph">Trident支援所有安裝方法中的 HTTPS 指標：tridentctl、Helm chart 和 Operator：</block>
  <block id="fb4f14f00549e74defb92f25fc1fca33" category="list-text">如果您正在使用<block ref="430bf77bee6c59d385d4194f84c21b16" prefix=" " category="inline-code"></block>命令，你可以傳遞<block ref="0838bd040015a9ea8dbb93adea76257f" prefix=" " category="inline-code"></block>啟用 HTTPS 指標的標誌。</block>
  <block id="d793d23636bde1af33eb40ef4de2eed6" category="list-text">如果您使用的是 Helm Chart，則可以進行設定。<block ref="511a93ba3f22794b25bb3e8095217c70" prefix=" " category="inline-code"></block>用於啟用 HTTPS 指標的參數。</block>
  <block id="60466502053de34b3a98668d8f30da30" category="list-text">如果您使用的是 YAML 文件，則可以新增以下內容：<block ref="b87bd393f906f49aff86fe4fa9da6426" prefix=" " category="inline-code"></block>向…<block ref="7883e3d8f80ff24d70c49bd975fb3f75" prefix=" " category="inline-code"></block>容器中的<block ref="eb6cdeddd28243c1552ea3b1061b4410" prefix=" " category="inline-code"></block>文件。</block>
  <block id="79f45e16487785bb3d621fef10fb2c75" category="inline-link-macro">NetApp AFX 儲存系統</block>
  <block id="b736bc64ad608ba92379f45fcf862250" category="paragraph">從 25.10 版本開始， NetApp Trident支持<block ref="f33b68c7b6392c7aac0a8125f2e686d8" category="inline-link-macro-rx"></block>。NetApp AFX 儲存系統與其他基於ONTAP的系統（ASA、 AFF和FAS）在儲存層的實作方式上有所不同。</block>
  <block id="56bfc80041ebbdd39de39ecbcb18e84b" category="admonition">只有<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>NetApp AFX 系統支援 NFS 協定驅動程式；不支援 SMB 協定。</block>
  <block id="b46760459aac4d412701c1dff9ec8da6" category="paragraph">在Trident後端設定中，無需指定您的系統是NetApp AFX 儲存系統。當您選擇<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>作為<block ref="d45aebe724c55b101f2ae8924ba3d486" prefix=" " category="inline-code"></block>Trident會自動偵測 AFX 儲存系統。如下表所示，某些後端組態參數不適用於 AFX 儲存系統。</block>
  <block id="827885f5adf3b6b0111abd9357dd10e3" category="admonition">僅適用於NetApp AFX 系統<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>已支援。</block>
  <block id="f0f32c1ebd604d0b16837d9a6821cad9" category="paragraph">*請勿指定用於 AFX 儲存系統。 *</block>
  <block id="c0dc8d1a97aa82aeba1b05cb8890ac87" category="cell">如果使用率超過此百分比，則配置失敗。*不適用於Amazon FSx for ONTAP*。*請勿指定用於 AFX 儲存系統。 *</block>
  <block id="1373fadd76b7848fe7be24498f81334c" category="cell">配置 NFS 或 SMB 磁碟區的建立。選項有<block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix=" " category="inline-code"></block>，<block ref="79e0f325804dafbdaef73b3b17c0fd8d" prefix=" " category="inline-code"></block>或空值。設定為 null 則預設使用 NFS 磁碟區。*如果指定，則始終設定為<block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix=" " category="inline-code"></block>適用於 AFX 儲存系統*。</block>
  <block id="e0747acdfb2eb94a4a1d3aa417d1a841" category="cell">使用ONTAP REST API 的布林參數。<block ref="14d839191d1ecf387a15b5b0c802a8ae" prefix=" " category="inline-code"></block>設定為<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>Trident使用ONTAP REST API 與後端通訊；當設定為<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>Trident使用 ONTAPI (ZAPI) 呼叫與後端通訊。此功能需要ONTAP 9.11.1 及更高版本。此外，所使用的ONTAP登入角色必須具有存取權限。<block ref="045ed0306c61104cb0777ccd31ce648b" prefix=" " category="inline-code"></block>應用。預定義項滿足了這一點。<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block>和<block ref="fdb6ba311fad29ec53069808f10ebef4" prefix=" " category="inline-code"></block>角色。從Trident 24.06 版本和ONTAP 9.15.1 或更高版本開始，<block ref="14d839191d1ecf387a15b5b0c802a8ae" prefix=" " category="inline-code"></block>設定為<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>預設；更改<block ref="14d839191d1ecf387a15b5b0c802a8ae" prefix=" " category="inline-code"></block>到<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>使用 ONTAPI (ZAPI) 呼叫。*如果指定，則始終設定為<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>適用於 AFX 儲存系統*。</block>
  <block id="b8fefb790f164ddcd42c70816145c524" category="paragraph">為了<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>和<block ref="10be922aa0fd75bc53ab71eda9229763" prefix=" " category="inline-code"></block>Trident現在使用新的計算方法，以確保FlexVol 的尺寸與 snapshotReserve 百分比和 PVC 正確匹配。當使用者要求 PVC 時， Trident會使用新的計算方法建立具有更多空間的原始FlexVol 。此計算可確保使用者在 PVC 中獲得其請求的可寫入空間，而不是少於其請求的空間。在 v21.07 之前，當使用者要求 PVC（例如 5 GiB）時，如果快照預留百分比為 50%，則只能獲得 2.5 GiB 的可寫入空間。這是因為使用者要求的是整個磁碟區。<block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix=" " category="inline-code"></block>是其中的百分比。在Trident 21.07 中，使用者要求的是可寫入空間，而Trident定義了該空間。<block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix=" " category="inline-code"></block>將數值表示為佔總體積的百分比。這不適用於<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>。請參閱以下範例以了解其工作原理：</block>
  <block id="0395fcc0bfef9244eb9f333af3052585" category="inline-link-macro">NetApp AFX儲存系統</block>
  <block id="9046dc891c6251d74c5c221ebbbcb296" category="paragraph">從 25.10 版本開始， NetApp Trident支持<block ref="49c50fa35a079b2c52542809f887838b" category="inline-link-macro-rx"></block>。NetApp AFX 儲存系統與其他ONTAP系統（ASA、 AFF和FAS）在儲存層的實作方式上有所不同。</block>
  <block id="500d8f925a64614faa69b99264fb4646" category="admonition">只有<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>AFX 系統支援 NFS 協定驅動程式；不支援 SMB 協定。</block>
  <block id="f84f05aa55b195e10dbafe5e544bb40f" category="paragraph">在Trident後端設定中，您無需指定您的系統是 AFX。當您選擇<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>作為<block ref="d45aebe724c55b101f2ae8924ba3d486" prefix=" " category="inline-code"></block>Trident可自動偵測 AFX 系統。</block>
  <block id="6f72939c53675b4961c5e1f116cf3f7b" category="paragraph"><block ref="9f40590ca1185cea7261c2a60fc922ea" category="inline-link-macro-rx"></block>與其他ONTAP系統（ASA、 AFF和FAS）在儲存層的實作上有所不同。這些變化會影響某些參數的使用，如註釋中所述。<block ref="54401c26bff345016bccb2761388f645" category="inline-link-macro-rx"></block>。</block>
  <block id="f974cc4de3b127fe51cf4dee58c1e3cd" category="admonition">只有<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>ASA r2 系統支援驅動程式（支援 iSCSI、NVMe/TCP 和 FC 協定）。</block>
  <block id="5a48fc01f5e1fb93c736fb2e220b3b14" category="paragraph">在Trident後端設定中，無需指定您的系統是ASA r2。當您選擇<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>作為<block ref="d45aebe724c55b101f2ae8924ba3d486" prefix=" " category="inline-code"></block>Trident可自動偵測ASA r2 或其他ONTAP系統。如下表所示，某些後端設定參數不適用於ASA r2 系統。</block>
  <block id="7ff7debd36efb30a7a980a4c28802e4b" category="admonition"><block ref="9f40590ca1185cea7261c2a60fc922ea" category="inline-link-macro-rx"></block>與其他ONTAP系統（ASA、 AFF和FAS）在儲存層的實作上有所不同。在ASA r2 系統中，使用儲存可用區而不是聚合。請參閱<block ref="261295ed43e7c9d663fb0a84ba5b2157" category="inline-link-macro-rx"></block>知識庫文章，介紹如何在ASA r2 系統中將聚合指派給 SVM。</block>
  <block id="52c260f6ab30b76029f95eaf1df1a8c5" category="paragraph">Trident支援為已設定的 NFS PV 擴充容量。<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> ，<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> ，<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> ， 和<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block>後端。</block>
  <block id="5730fbedf520ab31269b9d78af8034cf" category="paragraph">以下儲存驅動程式支援磁碟區組快照：</block>
  <block id="50dcb7097a44113cf50a77098c43f9a2" category="list-text"><block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix="" category="inline-code"></block>驅動程式 - 僅適用於 iSCSI 和 FC 協議，不適用於 NVMe/TCP 協定。</block>
  <block id="5fad7f397d6aa9f97e86d56c048492cc" category="list-text">預設情況下， Trident管理 PVC，並在後端重新命名FlexVol volume和 LUN。你可以透過<block ref="e2b9359adf7cdd62fc784b5090c3c452" prefix=" " category="inline-code"></block>導入非託管磁碟區的標誌和<block ref="c6b199cbed247635514ab9e4771be7ff" prefix=" " category="inline-code"></block>標記以保留卷名。</block>
  <block id="a8e4bed98d345d1b6392b064353b136d" category="list-text"><block ref="e2b9359adf7cdd62fc784b5090c3c452" prefix="*" category="inline-code"></block>* - 如果您使用<block ref="e2b9359adf7cdd62fc784b5090c3c452" prefix=" " category="inline-code"></block>標誌表明， Trident在物件的生命週期內不會對 PVC 或 PV 執行任何額外的操作。刪除 PV 時，儲存磁碟區不會被刪除，其他操作（如磁碟區複製和磁碟區調整大小）也會被忽略。</block>
  <block id="0b0936ce16cb50e37927c6b0c68c58fa" category="list-text"><block ref="c6b199cbed247635514ab9e4771be7ff" prefix="*" category="inline-code"></block>* - 如果您使用<block ref="c6b199cbed247635514ab9e4771be7ff" prefix=" " category="inline-code"></block>標誌， Trident在導入磁碟區時保留現有磁碟區名稱，並管理磁碟區的生命週期。此選項僅支援以下情況：<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> ，<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> （含ASA r2 系統）<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>司機。</block>
  <block id="06b84195d83051e4c2d8ff74d91f8d41" category="admonition">如果您想使用 Kubernetes 進行容器化工作負載，但又想在 Kubernetes 之外管理儲存磁碟區的生命週期，那麼這些選項非常有用。</block>
  <block id="184a13bef2d86d0863c542a6a679f7b8" category="list-text">使用<block ref="a768f5449e3a83ac56f2fb8ab4562339" prefix=" " category="inline-code"></block>用於指定包含磁碟區的Trident後端名稱以及唯一標識儲存上磁碟區的名稱的命令（例如： ONTAP FlexVol、Element Volume）。這<block ref="5338b151154663bac9980b0f044518f2" prefix=" " category="inline-code"></block>需要提供參數來指定PVC檔案的路徑。</block>
  <block id="11caf11591bc6efd044636a500c8c036" category="paragraph">卷快照受支援<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>，<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> ，<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> ，<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> ，<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> ，<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block> ， 和<block ref="94594b2ccbc8e0d220ad37504461650b" prefix=" " category="inline-code"></block>司機。</block>
  <block id="0d3204798be71ecc30aead013bfb2e3b" category="paragraph">Trident支援快照恢復<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>，<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> ，<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> ，<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> ，<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block> ，<block ref="94594b2ccbc8e0d220ad37504461650b" prefix=" " category="inline-code"></block> ， 和<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block>司機。</block>
  <block id="82c63ccf97101f43c20a09977dbe5186" category="paragraph"><block ref="5dac8bb8705e3a30615e678be90a7f1d" category="inline-link-macro-rx"></block>如果您正在使用：<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> ，<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> ，<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> ， 或者<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block>。</block>
  <block id="8381e23b38563797c34712dd03a338af" category="list-text">為ONTAP-NAS 和ONTAP-NAS-Economy（NAS 驅動程式中不包括 SMB）以及ONTAP-SAN 和ONTAP-SAN-Economy 驅動程式新增了強製磁碟區分離的自動工作負載故障轉移支援。看<block ref="a0b18ac4464586bcd0ef288f450a4b90" category="inline-link-macro-rx"></block>。</block>
  <block id="c99a3e599c7121ee81c14119678920d6" category="list-text">新增了一個選項，可以使用 HTTPS 而不是 HTTP 來提供 Prometheus 指標。看<block ref="586c064a2ab176c62a5b2a439f317c69" category="inline-link-macro-rx"></block>。</block>
  <block id="c3321b49eb2cf3cee2a3de2bf85aea24" category="list-text">新增了一個選項<block ref="c6b199cbed247635514ab9e4771be7ff" prefix=" " category="inline-code"></block>導入磁碟區時，保留原始名稱，但讓Trident管理磁碟區的生命週期。看<block ref="f6a6f2bd8dd988ec020611ce2a45c009" category="inline-link-macro-rx"></block>。</block>
  <block id="7c1bc9b37347420055cd1e893cbad87c" category="cell">允許將Trident的日誌等級設定為<block ref="ad42f6697b035b7580e4fef93be20b4d" prefix=" " category="inline-code"></block>。您可以透過與節點健康檢查 (NHC) 操作符整合來自動執行強制分離程序。有關信息，請參閱<block ref="b527eafc73367312d2cf15ed698bf909" category="inline-link-macro-rx"></block>。</block>
  <block id="3e0d4afc012b66dfbceeb143bcfbec92" category="paragraph">設定Trident控制器和節點 pod 的 Kubernetes 資源限制和請求。您可以為每個容器和邊車配置 CPU 和內存，以管理 Kubernetes 中的資源分配。</block>
  <block id="cb970ba92f64074cb0c13138a539851d" category="paragraph">您可以使用下列屬性<block ref="289efe9665b12a9f791f1897f30c1a0b" category="inline-xref-macro-rx"></block>在定義時<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>自訂您的安裝。</block>
  <block id="0f63a7a4873a5bae5060bde9fd1009af" category="example-title">基本自訂配置</block>
  <block id="8c1fabda63909c966d5b02c908178af2" category="paragraph">這個範例是在運行以下命令後創建的：<block ref="6108feb94d9d09a19e33648dcce80003" prefix=" " category="inline-code"></block>該命令代表一個基本的自訂安裝：</block>
  <block id="a144d1a554ec741f701e87c26360c28e" category="example-title">節點選擇器</block>
  <block id="0b566d8eeef773fb0a1874a0340c1bf1" category="paragraph">此範例使用節點選擇器安裝Trident 。</block>
  <block id="de5aefa11fe3836b4b8d0769b09b21eb" category="example-title">Windows 工作節點</block>
  <block id="a687cccb5ef434dd8df6734253a09535" category="paragraph">這個範例是在運行以下命令後創建的：<block ref="2241cac556b278d16d0bb5f94117277a" prefix=" " category="inline-code"></block>該指令在 Windows 工作節點上安裝Trident 。</block>
  <block id="f393555b01f0bafc5bd6a63db97bac1d" category="example-title">AKS 叢集上的託管身份</block>
  <block id="f9c98839799a3d0d53b9fe671548369b" category="paragraph">本範例安裝Trident以在 AKS 叢集上啟用託管身分。</block>
  <block id="87405c3bcad617fc620ddcd9d59cee14" category="example-title">AKS 叢集上的雲端身份</block>
  <block id="134db50713debda2944acc2079f0cd32" category="paragraph">本範例在 AKS 叢集上安裝Trident以用於雲端身分。</block>
  <block id="26f5586d25dc46e2526fe898341970ac" category="example-title">EKS 叢集上的雲端身份</block>
  <block id="b89f71465b55ef1dc894a4364041d9f0" category="paragraph">本範例在 GKE 叢集上安裝Trident以用於雲端身分。</block>
  <block id="f1c8293dd81d02d1b1f467717aeefc5e" category="example-title">Trident控制器和Trident Linux 節點 Pod 的 Kubernetes 資源請求和限製配置</block>
  <block id="29b26308f54b9d64589c0847c03ecf83" category="paragraph">本範例為Trident控制器和Trident Linux 節點 pod 設定 Kubernetes 資源請求和限制。</block>
  <block id="14f42721f8b15817f87c891438fb0a22" category="admonition">*免責聲明*：本範例中提供的請求和限制值僅用於演示目的。請根據您的環境和工作負載需求調整這些值。</block>
  <block id="75bf9030851f3cf5454c338258e98f47" category="example-title">Kubernetes資源請求和限製配置，適用於Trident控制器以及Trident Windows和Linux節點Pod</block>
  <block id="c6f0dfdaf60b2fd022cd1b94ce713c90" category="paragraph">本範例為Trident控制器和Trident Windows 和 Linux 節點 pod 設定 Kubernetes 資源請求和限制。</block>
  <block id="b320bddb4a4bb9ebc05f4941f7f248a0" category="list-text">registry.k8s.io/sig-storage/csi-snapshotter:v8.3.0</block>
  <block id="80aabc2f42a52376f3d884d3b02360f4" category="admonition">如果您使用 Red Hat OpenShift，請務必注意命名空間註解在 OpenShift 環境中的重要角色。命名空間註解可確保復原的 pod 遵守 OpenShift 安全性情境約束 (SCC) 定義的適當權限和安全性配置，並且可以存取磁碟區而不會出現權限問題。欲了解更多信息，請參閱<block ref="842acfa178c0bbf09e368bf9db0716b8" category="inline-link-macro-rx"></block>。</block>
  <block id="0547999ac2794529491ce433caf5eadb" category="list-text">OpenShift 4.12、4.14 - 4.20（如果您打算在 OpenShift 4.19 中使用 iSCSI 節點準備，則支援的最低Trident版本為 25.06.1。）</block>
  <block id="5137aa193de4e4cc652a198db463acd3" category="admonition">預設情況下，Trident 的指標會暴露在目標連接埠上。<block ref="bc3c4a6331a8a9950945a1aa8c95ab8a" prefix=" " category="inline-code"></block>在<block ref="ae3b848d2daecffc635ae20b0b882d8f" prefix=" " category="inline-code"></block>端點。安裝Trident時，這些指標*預設為啟用*。您可以設定透過 HTTPS 在連接埠上消費Trident指標。<block ref="c24f4c5eef7ec01c46e003a9296c8645" prefix=" " category="inline-code"></block>也一樣。</block>
  <block id="e4850469bb389cec2e3ac44d4276ffb0" category="inline-link-macro">Prometheus Operator 文檔</block>
  <block id="faa779ed6ae9bda26148b1ff6bf0cc52" category="paragraph">您應該定義一個 Prometheus 目標來收集指標並獲取有關Trident管理的後端、它創建的捲等的資訊。看<block ref="64a51bde051e46320750fd80d285a3d9" category="inline-link-macro-rx"></block>。</block>
  <block id="0bca60aba2da7f8ae6d6dac4fb580afe" category="list-text">Rancher Kubernetes Engine 2（RKE2）v1.28.x - 1.34.x</block>
  <block id="3802caa8e4bea50419dcef8b68f5b82e" category="paragraph">Trident建議採用以下選項來加速格式化流程：</block>
  <block id="8b081afdb240ed6d03a50d7b70aac895" category="list-text">*-E nodiscard (ext3, ext4):* 不要嘗試在 mkfs 時丟棄區塊（最初丟棄區塊對固態設備和稀疏/精簡配置儲存很有用）。這將取代已棄用的選項“-K”，並且適用於 ext3、ext4 檔案系統。</block>
  <block id="01f770831133fae79fa85eb89c42b8f2" category="list-text">*-K (xfs):* 不要在執行 mkfs 時嘗試丟棄區塊。此選項適用於 xfs 檔案系統。</block>
  <block id="1a715172aa56ca325fbc38f4b522da46" category="list-text">建立完成腳本：</block>
  <block id="30e52f4e46178e20ec0172d136f6e964" category="list-text">（可選）在來源叢集上，對來源應用程式進行快照。此快照將用作目標叢集上應用程式的基礎。如果跳過此步驟，則需要等待下一次排程快照運行，以便取得最新的快照。若要建立隨選快照，請參閱 <block ref="359fb751a7b652662d6f4f859ab7278e" category="inline-link-macro-rx"></block>。</block>
  <block id="5c24c4abf654732ea864deb8dfd27900" category="list-text">在來源叢集上，建立複製計劃 CR：</block>
  <block id="7f3cf5a508f65aafe24cfcbde532a846" category="open-title">使用 CR 建立複製計劃</block>
  <block id="7228f7e08042915e251a683bfff18231" category="list-text">*spec.appVaultRef*: (_必需_) 此值必須與來源應用程式的 AppVault 的 metadata.name 欄位相符。</block>
  <block id="2845cbe42176f1140d5d897aaf3abea8" category="list-text">*spec.applicationRef*: (_必需_) 此值必須與來源應用程式 CR 的 metadata.name 欄位相符。</block>
  <block id="4cd94b75213793150ad247d75cd897e9" category="open-title">使用 CLI 建立複製計劃</block>
  <block id="3de5f07029546bc00c37d9c9edf9cc20" category="list-text">建立複製計劃，並將括號中的值替換為您環境中的資訊：</block>
  <block id="7749c9ae56691a1f3a933f4d23d038e3" category="list-text">*spec.sourceApplicationUID*: （必要）此值必須與您在來源應用程式 CR 中定義的來源應用程式的 UID 相符。</block>
  <block id="3d684c1e0271c67148a368e61c2e954e" category="list-text">*spec.storageClassName*: (_可選_) 選擇叢集上有效的儲存類別的名稱。儲存類別必須連結到與來源環境建立對等連線的ONTAP儲存 VM。如果未提供儲存類，則預設使用叢集上的預設儲存類別。</block>
  <block id="c97418e1743694adcebfb4447351b629" category="list-text">建立並套用 AppMirrorRelationship 對象，並將括號中的值替換為您環境中的資訊：</block>
  <block id="2b4bab15439acee1a7a1ecf65aefccf8" category="paragraph">看<block ref="8a2f8872ebe6d6c56e608637c3cdaf0f" category="inline-link-macro-rx"></block>。</block>
  <block id="da88dec11cfebffca5dfcf278b6ef68c" category="list-text">在計劃 CR 中新增了一個註釋，用於配置 PVC 綁定逾時，該逾時將由備份 CR 使用：<block ref="728633ade1403bcbcd881fc22ec19596" prefix=" " category="inline-code"></block> 。看<block ref="8a2f8872ebe6d6c56e608637c3cdaf0f" category="inline-link-macro-rx"></block>。</block>
  <block id="506953e8ef42800e0b5f740b30b09a33" category="list-text"><block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix="" category="inline-code"></block> - 僅適用於 iSCSI 協定。</block>
  <block id="ebe98a8374dc31f4dd5bb51932ba3ba4" category="admonition">NetApp ASA r2 或 AFX 儲存系統不支援磁碟區組快照。</block>
  <block id="b3fd6a68d255a3fb79774387cf52d7e4" category="admonition">如果虛擬網路與Azure NetApp Files(ANF) 儲存帳戶位於不同的資源群組中，則在設定後端資源群組清單時，請為虛擬網路指定資源群組。</block>
  <block id="8ab25113bce4fe0aa1a0fe85708c8fde" category="section-title">提供 SMB 卷</block>
  <block id="6e6aa9c1336da72bae602de2bd041c8b" category="paragraph">您可以使用以下方式設定 SMB 磁碟區：<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>司機。在你完成之前 <block ref="24f26185e00986318dc562523d4edbf6" category="inline-xref-macro-rx"></block> 請完成以下步驟： <block ref="2c87a2692f74b765fc7d12f8607c123c" category="inline-link-macro-rx"></block>。</block>
  <block id="8227b927875caa5115317241f2ef5aed" category="paragraph-title">SMB工具</block>
  <block id="07481e3d69515bb71aba543becb5f83d" category="paragraph"><block ref="2c87a2692f74b765fc7d12f8607c123c" category="inline-link-macro-rx"></block> 如果您正在使用：<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> 為 SMB 提供卷。</block>
  <block id="d35c59236d3e20dddbaa302d4a00761e" category="paragraph">您可以使用以下方式設定 SMB 卷<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> 司機。</block>
  <block id="f69aa651a1e9b3f43819495ea61170d7" category="list-text">就此而言<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> 驅動程式中，只有 Qtree 磁碟區的名稱符合名稱範本。</block>
  <block id="482b43f7720e701d1c20f10fcb766b00" category="list-text">就此而言<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> 驅動程式中，只有 LUN 名稱符合名稱範本。</block>
  <block id="da9889ca93f8b399ea30566497c29a3e" category="list-text">自訂磁碟區名稱僅與ONTAP本機驅動程式相容。</block>
  <block id="c45320b69becc7810ef088c7d038c27a" category="list-text">僅對以下情況支援自訂標籤：<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>，<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>， 和<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> 司機。</block>
  <block id="a9703a3dbb920f8f87b7d3293e2e0831" category="list-text">自訂磁碟區名稱不適用於現有磁碟區。</block>
  <block id="94d4a30d9c79c7c0ed251e92efa4cf7e" category="paragraph">Trident Protect 在資料保護作業期間為 KubeVirt 虛擬機器提供檔案系統凍結和解凍功能，以確保資料一致性。虛擬機器凍結操作的配置方法和預設行為在Trident Protect 的不同版本中有所不同，較新的版本透過 Helm chart 參數提供了簡化的配置。</block>
  <block id="d7a7411094ef8b2d0700b0d64c688766" category="example-title">Trident Protect 25.10 及更新版本</block>
  <block id="bef8e5378f20989a496a5caac68e7dc0" category="paragraph">Trident Protect 在資料保護作業期間自動凍結和解凍 KubeVirt 檔案系統，以確保一致性。從Trident Protect 25.10 開始，您可以使用以下方法停用此行為：<block ref="f9e1922095ec0e9e8b4f185586e66425" prefix=" " category="inline-code"></block> Helm Chart 安裝過程中的參數。此參數預設啟用。</block>
  <block id="e8ac8c64b628b92773c6f939fe2b1102" category="example-title">Trident Protect 24.10.1 至 25.06</block>
  <block id="a099f4b5b32bb2a3c98bf39fd2eada0d" category="paragraph">從Trident Protect 24.10.1 開始， Trident Protect 會在資料保護作業期間自動凍結和解凍 KubeVirt 檔案系統。您也可以使用以下命令停用此自動行為：</block>
  <block id="ea7f18044a9efb2ea47bdd370e5870f3" category="example-title">Trident Protect 24.10</block>
  <block id="98d3ce5c789124fc9207b48d4d1e8fc7" category="paragraph">Trident Protect 24.10 在資料保護作業期間不會自動確保 KubeVirt VM 檔案系統的一致性狀態。如果您想使用Trident Protect 24.10 保護您的 KubeVirt VM 數據，則需要在執行資料保護作業之前手動啟用檔案系統的凍結/解凍功能。這樣可以確保檔案系統處於一致狀態。</block>
  <block id="5ea5c247812e1dca5ff02ca853f05032" category="paragraph">您可以設定Trident Protect 24.10 來管理資料保護作業期間 VM 檔案系統的凍結與解凍。<block ref="e0dd4c4b8aa16596df6c3f5cb36d3cdc" category="inline-link-macro-rx"></block>然後使用以下命令：</block>
  <block id="59f713e31282fe744caf06335d891f9a" category="inline-link-macro">設定其他Trident Protect 舵圖設置</block>
  <block id="98b806d92f2e28da541021a181de980f" category="admonition">執行復原或故障轉移操作時，任何命名空間註解和標籤都將生效。<block ref="22416353aff9ef4322e1ee858f418ae4" prefix=" " category="inline-code"></block> 和<block ref="8028cf835d9b72ff2d6f835934c25568" prefix=" " category="inline-code"></block> 不參與恢復或故障轉移操作。確保在初始 Helm 安裝期間配置這些設定。欲了解更多信息，請參閱 <block ref="647ed99900e7ff1307ad7b7cec525a2c" category="inline-link-macro-rx"></block>。</block>
  <block id="d65eac563b898cb7e41b8853a4fe1a3c" category="paragraph">如果您使用 Helm 安裝了來源應用程序，<block ref="cc1f5c1d16e33b8463c9ee27295cd5df" prefix=" " category="inline-code"></block>國旗，給予特殊待遇<block ref="b068931cc450442b63f5b3d276ea4297" prefix=" " category="inline-code"></block>標籤鍵。在復原或故障轉移過程中， Trident Protect 會將此標籤複製到目標命名空間，但如果來源命名空間的值與來源命名空間的值匹配，則會將值更新為目標命名空間的值。如果此值與來源命名空間不匹配，則會將其複製到目標命名空間，而不做任何變更。</block>
  <block id="2cb1c3616d5b69db8670e7040d8b858f" category="admonition">Trident Protect 會自動選擇一些資源，因為它們與您選擇的資源有關聯。例如，如果您選擇持久性磁碟區宣告資源且它有一個關聯的 pod， Trident Protect 也會還原關聯的 pod。</block>
  <block id="17c507c96af0d4930d7ac2524e3a8acd" category="summary">您可以找到一些很棒的NetApp Trident和Trident Protect 部落格。</block>
  <block id="5a2bfc6e50f399c48eab6faf10a936b5" category="doc">Trident和Trident Protect 博客</block>
  <block id="a379165e52bcf191b35cd8f667084f8b" category="paragraph">您可以在這裡找到一些很棒的NetApp Trident和Trident Protect 部落格：</block>
  <block id="578bed20f2bcf30122be983c8ce6db25" category="section-title">Trident Protect博客</block>
  <block id="824b24caca137b6e7945137aa9d8f586" category="inline-link-macro">利用Trident Protect 的恢復後鉤子實現登錄機碼故障轉移的自動化，以進行災難復原</block>
  <block id="6d36c1f345cef80083542e771027df24" category="list-text">2025年5月16日：<block ref="222214dff1838a6a01ed98ff4a8282b3" category="inline-link-macro-rx"></block></block>
  <block id="0fab9671fe897fb9ef3bdbca36b49c71" category="inline-link-macro">使用Trident Protect 備份和還原進行儲存類別遷移</block>
  <block id="b3ffb1f04461024c29e35bb953531d81" category="list-text">2025年5月13日：<block ref="735f3c24f5b29e94acabd21a58785df0" category="inline-link-macro-rx"></block></block>
  <block id="50b1e99149398e4544ef6941270243a2" category="inline-link-macro">使用Trident Protect 恢復後鉤子重新擴展 Kubernetes 應用程式</block>
  <block id="4d3f50a0bb8d0aa06198251d243a610f" category="list-text">2025年5月9日：<block ref="8bf4497e25dfb1d363a51c8a1225e8b2" category="inline-link-macro-rx"></block></block>
  <block id="51cbce14d33c240dcce6264e624cc50c" category="inline-link-macro">隆重介紹Trident Protect 基於角色的存取控制</block>
  <block id="6160324dcfbbd61773bc180e8a31deb7" category="list-text">2025年1月15日：<block ref="081a62f4f9eb4d3386a2721283573d9c" category="inline-link-macro-rx"></block></block>
  <block id="9f2c55992b2b50b1d922c2d01e878ff7" category="inline-link-macro">Kubernetes驅動的資料管理： Trident Protect開啟新時代</block>
  <block id="0e7954c659c3ab1217994a58581a985d" category="list-text">2024年11月11日：<block ref="a4680749fd618f0f08eaefc023a6637d" category="inline-link-macro-rx"></block></block>
  <block id="3e08b68951a9cc47f14998b092350bbb" category="inline-link">使用Trident Protect 保護應用程式</block>
  <block id="a12844efcfbf8005da28d423b66fbc21" category="paragraph">從使用 Restic 建立的 Amazon S3 備份中還原 30GB 或更大的檔案時，復原作業可能會失敗。作為變通方法，可以使用 Kopia 作為資料移動工具備份資料（Kopia 是備份的預設資料移動工具）。請參閱<block ref="8ad9bc2d5e7eb4a82f2f28b944c3ba3a" category="inline-link-rx"></block>以取得說明。</block>
  <block id="186ed0696d9f28961b696fce39a1ab04" category="summary">Trident Protect 讓您能夠使用Trident保護您的應用程式和應用程式資料。</block>
  <block id="a1fc1c89153021eb03a34941e90a9ac8" category="doc">了解Trident Protect</block>
  <block id="8e5dd4e5adac56cea1dc2d33ce1fb16d" category="paragraph">NetApp Trident Protect 提供進階應用程式資料管理功能，增強了由NetApp ONTAP儲存系統和NetApp Trident CSI 儲存供應器支援的有狀態 Kubernetes 應用程式的功能和可用性。 Trident Protect 簡化了跨公有雲和本地環境的容器化工作負載的管理、保護和遷移。它還透過其 API 和 CLI 提供自動化功能。</block>
  <block id="f8c19139074cb59a75b44d606c717f8c" category="paragraph">您可以透過建立自訂資源 (CR) 或使用Trident Protect CLI 來使用Trident Protect 保護應用程式。</block>
  <block id="f75cefaa6253f6baec3b37a877190d58" category="paragraph">您可以先了解Trident Protect 的相關需求，然後再進行安裝：</block>
  <block id="a36c33156a01492f882621b3d9439e19" category="inline-link-macro">Trident保護要求</block>
  <block id="e729e17d911612e1e8443312aeca41bc" category="list-text"><block ref="e729e17d911612e1e8443312aeca41bc" category="inline-link-macro-rx"></block></block>
  <block id="9576ee16383bba42a76a1c5c4fba3610" category="summary">Trident Protect 使用 Kubernetes 的角色為基礎的存取控制 (RBAC) 模型。您可以使用Trident Protect RBAC 功能來更精細地控制對資源的存取。</block>
  <block id="ed335c13bb78e208d86e5f041a062d77" category="doc">管理Trident Protect 授權和存取控制</block>
  <block id="53f246f5b6c5c9527af81e004a5465cb" category="paragraph">Trident Protect 使用 Kubernetes 的角色為基礎的存取控制 (RBAC) 模型。預設情況下， Trident Protect 提供一個系統命名空間及其關聯的預設服務帳戶。如果您的組織擁有眾多使用者或特定的安全需求，則可以使用Trident Protect 的 RBAC 功能來更精細地控制對資源和命名空間的存取。</block>
  <block id="35f04ac444c4730f0b010b0b00905ab3" category="paragraph">只有管​​理員才能存取具有特權的Trident Protect 自訂資源對象，其中包括：</block>
  <block id="1ebe16955ececaae67d3cf58803335d2" category="list-text">*AutoSupportBundle*：收集指標、日誌和其他敏感的Trident Protect數據</block>
  <block id="f5b0d8e5ea0bcbbfdb4c2b59f377ab84" category="paragraph">安裝Trident Protect 時會建立一個預設的 ClusterRole 物件。您可以透過建立和套用 RoleBinding 物件將此 ClusterRole 綁定到服務帳戶。</block>
  <block id="e7602722404dc8ff90221b60a1300a2e" category="summary">您可以使用 kube-state-metrics 和 Prometheus 監控Trident Protect 資源的狀態。這可以為您提供有關部署、節點和 Pod 的運作狀況資訊。</block>
  <block id="8d4bffa6f29dbf7808f048c4d63753cb" category="doc">監控Trident保護資源</block>
  <block id="049debaeac5a21b1b9a5b2a67f704d77" category="paragraph">您可以使用 kube-state-metrics、Prometheus 和 Alertmanager 開源工具來監控Trident Protect 保護的資源的健康狀況。</block>
  <block id="2afaaad3ea4a6b79522c2166bf833518" category="paragraph">kube-state-metrics 服務從 Kubernetes API 通訊產生指標。將其與Trident Protect 結合使用，可以顯示有關環境中資源狀態的有用資訊。</block>
  <block id="5ceeae4af4fbba7b6c3f23860e93d3cf" category="paragraph">Prometheus 是一個工具包，它可以接收 kube-state-metrics 產生的數據，並將其呈現為關於這些物件的易於閱讀的資訊。kube-state-metrics 和 Prometheus 共同提供了一種方法，讓您可以監控使用Trident Protect 管理的資源的健康狀況和狀態。</block>
  <block id="12bdb359a24d5856fe76fb568abcf8d1" category="paragraph">要在Trident Protect 中啟用資源監控，您需要安裝和設定 kube-state-metrics、Promethus 和 Alertmanager。</block>
  <block id="3b15ac971d514086584c073fc7b9ebda" category="list-text">請依照下列說明配置 kube-state-metrics，以產生Trident Protect 使用的自訂資源的指標：<block ref="0c2d96c77ebc80eb4f9df846c2904f4c" category="inline-link-rx"></block> 。</block>
  <block id="bc13327772f75ed0280d75f548627918" category="summary">Trident Protect 的儲存桶自訂資源 (CR) 稱為 AppVault。AppVault 是儲存桶的聲明式 Kubernetes 工作流程表示。</block>
  <block id="36232457f4c28ae76f2c98b665ead40c" category="doc">使用Trident Protect AppVault 物件來管理儲存桶。</block>
  <block id="32b7058b3107bb8f17c6bba2e35a930c" category="paragraph">Trident Protect 的儲存桶自訂資源 (CR) 稱為 AppVault。AppVault 物件是儲存桶的聲明性 Kubernetes 工作流程表示。AppVault CR 包含儲存桶在保護作業（例如備份、快照、復原作業和SnapMirror複製）中所使用的必要配置。只有管​​理員才能建立應用保險庫。</block>
  <block id="07d57f7af53f2cdc1c56d31f616d6057" category="admonition">確保 AppVault CR 位於安裝了Trident Protect 的叢集上。如果 AppVault CR 不存在或您無法訪問，命令列將顯示錯誤。</block>
  <block id="14de1852089ccb2c36bf8405a90d3638" category="paragraph">當您使用 CR 或Trident Protect CLI 外掛程式建立 AppVault 物件時，您可以為 Restic 和 Kopia 加密指定帶有自訂密碼的 Kubernetes 金鑰。如果您不指定金鑰， Trident Protect 將使用預設密碼。</block>
  <block id="184a14468493ef937883ca0199fa55f7" category="list-text">使用Trident Protect CLI 建立 AppVault 物件時，請使用<block ref="66f22eb4f5e5b0147ea7521212b07044" prefix=" " category="inline-code"></block>用於指定密鑰的參數。</block>
  <block id="c378872ba7a56053ab0f374a666d9c47" category="paragraph">請參考以下範例建立密碼密鑰。建立 AppVault 物件時，您可以指示Trident Protect 使用此金鑰向資料移動器儲存庫進行驗證。</block>
  <block id="53a277b8ef7ee43319013252fa21a97f" category="paragraph">當您存取與 S3 相容的儲存空間（例如 Amazon S3、通用 S3）時，<block ref="3d0b4c23d9ed62ec7d7cd16273ca2521" category="inline-link-rx"></block> ， 或者<block ref="3a31dfad8c316380b9a5542d694c5833" category="inline-link-rx"></block>使用Trident Protect 時，您需要確保提供的使用者憑證具有存取儲存桶的必要權限。以下是授予使用Trident Protect 進行存取所需的最低權限的政策範例。您可以將此策略套用至管理 S3 相容儲存桶策略的使用者。</block>
  <block id="2705dcfef9ccf6a8c26498407937a932" category="paragraph">Trident Protect 支援 Kopia 資料移動器操作的 EKS Pod Identity。此功能可實現對 S3 儲存桶的安全訪問，而無需將 AWS 憑證儲存在 Kubernetes 機密中。</block>
  <block id="bd004a975dcd0eeb8250e5a3d1f916ec" category="paragraph">*EKS Pod Identity 與Trident Protect 的需求*</block>
  <block id="2742f64f70d5b90bad2b1c898bdd9e64" category="paragraph">在將 EKS Pod Identity 與Trident Protect 結合使用之前，請確保以下事項：</block>
  <block id="035fe729cd4f67810a3ad8b8885b21de" category="list-text">IAM 角色與下列Trident Protect 服務帳號關聯：</block>
  <block id="53c26e1b5abeebc0a5a45f5e687bfe0f" category="section-title">使用Trident Protect CLI 建立 AppVault 的範例</block>
  <block id="52cc98f9773d08c7e457aaa84d987801" category="paragraph">您可以使用Trident Protect CLI 外掛程式查看有關您在叢集上建立的 AppVault 物件的資訊。</block>
  <block id="f34b73c5ce560d484c593f257864bcd3" category="paragraph">只有在Trident Protect helm 安裝中指定了叢集名稱時，表格第一列中的叢集名稱才可用。例如：<block ref="b84d46473a6782105f40ea4fa2bc2964" prefix=" " category="inline-code"></block> 。</block>
  <block id="77123d25e78bd4b317b645c0cff492ef" category="open-title">使用Trident Protect CLI 刪除 AppVault</block>
  <block id="3ad8f6db77e9b2740fd2b74265655e2b" category="summary">您可以使用 protectctl 指令建立和操作Trident Protect 自訂資源。</block>
  <block id="66296c0c4ab3568f7a50dfabb1fc57f9" category="doc">安裝Trident Protect CLI 插件</block>
  <block id="8c5e021776b8d89478d1d4645a6666ea" category="paragraph">您可以使用Trident Protect 命令列插件，它是Trident的一個擴充。<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>用於建立和與Trident Protect 自訂資源 (CR) 互動的實用程式。</block>
  <block id="484622e8e21f4638a10f4d7275c68e17" category="list-text">下載Trident Protect CLI 外掛：</block>
  <block id="10bb2ae2f693aa79b853c34cee633de3" category="paragraph">安裝Trident Protect CLI 外掛程式後，您可以為某些指令啟用自動補全功能。</block>
  <block id="adcca0736eb3cb85bbcdcd2f589d5afc" category="summary">自訂Trident Protect 的預設設置，以滿足您的特定需求。</block>
  <block id="595f82e1719f05918ecd1cb485230563" category="doc">自訂Trident Protect 安裝</block>
  <block id="5242c478ae9d3b671857964b152e827c" category="paragraph">您可以自訂Trident Protect 的預設配置，以符合您環境的特定要求。</block>
  <block id="10475501fb85172a1ecd467e858af547" category="section-title">指定Trident Protect 容器資源限制</block>
  <block id="ee382d151f8b137775f9a254da6b324a" category="paragraph">安裝Trident Protect 後，您可以使用設定檔來指定Trident Protect 容器的資源限制。設定資源限制可以控制Trident Protect 作業消耗叢集資源的程度。</block>
  <block id="355fc5f48551b9e07ed405860fbb4dd9" category="list-text">根據您的環境需求，在檔案中填入Trident Protect 容器的資源限制選項。</block>
  <block id="b15f0b7b98832ccb49e56c94f9c03998" category="paragraph">安裝Trident Protect 後，您可以使用設定檔來修改Trident Protect 容器的 OpenShift 安全上下文約束 (SCC)。這些約束定義了 Red Hat OpenShift 叢集中 pod 的安全性限制。</block>
  <block id="d26749521d8080b03797c2031c1405b1" category="cell">啟用或停用每日Trident Protect AutoSupport組合包上傳。設定為<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>每日定時上傳功能已停用，但您仍可以手動產生支援包。(預設:<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block> ）</block>
  <block id="da0ff93953189c1e21b7a1961b08303a" category="section-title">將Trident Protect Pod 限制在特定節點上</block>
  <block id="e327b7f51898edd8d6ac0b8e1eba09ec" category="paragraph">您可以使用 Kubernetes nodeSelector 節點來選擇約束，根據節點標籤來控制哪些節點有資格執行Trident Protect pod。預設情況下， Trident Protect 僅限於執行 Linux 的節點。您可以根據需要進一步自訂這些限制條件。</block>
  <block id="8f02039b35e4022a5708ae80cf91e165" category="summary">Trident Protect 使管理員能夠產生包含對NetApp支援有用的信息的捆綁包，包括有關受管理叢集和應用程式的日誌、指標和拓撲資訊。如果您已連接到互聯網，則可以使用自訂資源 (CR) 檔案將支援包上傳至NetApp支援網站 (NSS)。</block>
  <block id="d50e081382e6d63e2af634e643be98d8" category="doc">產生Trident Protect 支援包</block>
  <block id="9306c15f97b8ab2e0bc6aa8047e9e027" category="paragraph">Trident Protect 使管理員能夠產生包含對NetApp支援有用的信息的捆綁包，包括有關受管理叢集和應用程式的日誌、指標和拓撲資訊。如果您已連接到互聯網，則可以使用自訂資源 (CR) 檔案將支援包上傳至NetApp支援網站 (NSS)。</block>
  <block id="c2429ddfa24a45055e7502efac364217" category="summary">如果您的環境符合要求，您可以依照下列步驟安裝Trident Protect。</block>
  <block id="845b43fa08ae2a42cfeb159e5fc1366c" category="doc">安裝並設定Trident Protect</block>
  <block id="bb50add256acfe3f6c958f2b4e018fce" category="paragraph">如果您的環境符合Trident Protect 的要求，您可以依照下列步驟在叢集上安裝Trident Protect。您可以從NetApp取得Trident Protect，或從您自己的私人註冊表中安裝它。如果您的叢集無法存取互聯網，從私有註冊表安裝會很有幫助。</block>
  <block id="9a660681c53f773fd48d7ad58cd48d53" category="section-title">安裝Trident Protect</block>
  <block id="e0efc186d85cb700edf5d19dd5bc9496" category="open-title">從NetApp安裝Trident Protect</block>
  <block id="2110ce9dfcad630240ac9194e30801ad" category="list-text">使用 Helm 安裝Trident Protect。代替<block ref="ecc79c99c4f86f0db5cc7f200415205f" prefix=" " category="inline-code"></block>集群名稱將分配給集群，並用於標識集群的備份和快照：</block>
  <block id="272a3e0fc5f097dfcb8f549a6577a5f6" category="open-title">從私人註冊表安裝Trident Protect</block>
  <block id="357de3657314f9b2b3abd151f9d483ee" category="paragraph">如果您的 Kubernetes 叢集無法存取互聯網，您可以從私人鏡像倉庫安裝Trident Protect。在這些範例中，請將括號中的值替換為您環境中的資訊：</block>
  <block id="8bb72cea6536be6ef0764dfc1d24b096" category="list-text">建立Trident Protect 系統命名空間：</block>
  <block id="35931b526a6c0c04f0b248e331cfa12f" category="list-text">建立一個名為的文件<block ref="5744e710490761bdd5b4603b9b0487a7" prefix=" " category="inline-code"></block>。請確保其中包含以下Trident Protect 設定：</block>
  <block id="f5e4366841de053f79f8471bf881e87f" category="list-text">使用 Helm 安裝Trident Protect。代替<block ref="b90b2ffedb63ca3bd8795caf4397715e" prefix=" " category="inline-code"></block>集群名稱將分配給集群，並用於標識集群的備份和快照：</block>
  <block id="66a18bd39aa087b2ab1ee23053f8a22b" category="admonition">有關其他 Helm Chart 設定選項，包括AutoSupport設定和命名空間過濾，請參閱 <block ref="f3931118af9a18a4fa600194a733f6ec" category="inline-link-macro-rx"></block>。</block>
  <block id="859907c8f7f3b8fee4686d91f3ff3a95" category="summary">您可以透過建立應用程式 CR 和關聯的 AppVault CR，讓Trident Protect 了解您要管理的應用程式。</block>
  <block id="bb6a1031786570f5efbd120022930c4d" category="doc">使用Trident Protect 定義管理應用程式</block>
  <block id="dd9087d2ada9f483d5993ca38f424ddd" category="paragraph">您可以透過建立應用程式 CR 和關聯的 AppVault CR 來定義要使用Trident Protect 管理的應用程式。</block>
  <block id="6b351bf9a90179c1bf4dfb635cae7f8b" category="paragraph">您需要建立一個 AppVault CR，該 CR 將在對應用程式執行資料保護操作時使用，並且 AppVault CR 需要位於安裝了Trident Protect 的叢集上。AppVault CR 是針對您的特定環境的；有關 AppVault CR 的範例，請參閱：<block ref="7e7838343a821a01b97d2b866c568a54" category="inline-link-macro-rx"></block></block>
  <block id="3127b137b318ecdc790653543934571a" category="paragraph">您需要定義要使用Trident Protect 管理的每個應用程式。您可以透過手動建立應用程式 CR 或使用Trident Protect CLI 來定義要管理的應用程式。</block>
  <block id="5430617017ab73aa9ca4784c693f46cc" category="inline-link-macro">全球Trident Protect 冷凍設置</block>
  <block id="56338ad00ada44f147efc5a5dc486f6a" category="list-text">*metadata.annotations.protect.trident.netapp.io/skip-vm-freeze*: (_可選_) 此註解僅適用於從虛擬機定義的應用程序，例如 KubeVirt 環境，其中檔案系統凍結發生在快照之前。指定此應用程式在快照期間是否可以寫入檔案系統。如果設定為 true，應用程式將忽略全域設置，並且可以在快照期間寫入檔案系統。如果設定為 false，應用程式將忽略全域設置，並且在快照期間檔案系統將被凍結。如果指定了註解，但應用程式定義中沒有虛擬機，則忽略該註解。如未特別說明，則申請流程如下：<block ref="cad6f4c0cd851207bf49fc0535bd1989" category="inline-link-macro-rx"></block> 。</block>
  <block id="5a0d81ce3f20a64549a2b409b49fca24" category="paragraph">建立應用程式時，您可以選擇使用註解來指定應用程式在快照期間是否可以寫入檔案系統。這僅適用於從虛擬機定義的應用程序，例如 KubeVirt 環境，其中檔案系統凍結發生在快照之前。如果您將註釋設定為<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>該應用程式忽略全域設置，可以在快照期間寫入檔案系統。如果你把它設定為<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>該應用程式忽略全域設置，導致檔案系統在快照期間凍結。如果使用了註解，但應用程式定義中沒有虛擬機，則該註解將被忽略。如果您不使用註解，應用程式將遵循以下規則：<block ref="cad6f4c0cd851207bf49fc0535bd1989" category="inline-link-macro-rx"></block> 。</block>
  <block id="02d146964c2600f14f867b6e899ac16c" category="doc">使用Trident Protect 遷移應用程式</block>
  <block id="7cd0f85b8ff8c4b060bfcc24f7beb69a" category="paragraph">若要將應用程式複製到不同的叢集（執行跨叢集克隆），請在來源叢集上建立備份，然後將備份還原到不同的叢集。請確保目標叢集上已安裝Trident Protect。</block>
  <block id="d075d7bb863ffe0aa757603d564ca090" category="paragraph">您可以使用自動保護策略或臨時保護策略，透過拍攝快照和備份來保護Trident Protect 管理的所有應用程式。</block>
  <block id="b69d0d4c17b9b5532a7bf67b14c342c2" category="inline-link-macro">了解更多關於使用Trident Protect 設定檔系統凍結的信息</block>
  <block id="7927b4fc176662e1023887f00f7cc92f" category="admonition">您可以設定Trident Protect 在資料保護作業期間凍結和解凍檔案系統。<block ref="e019680d5fc80a6a772db1153dfe4d66" category="inline-link-macro-rx"></block>。</block>
  <block id="f93e5c10e8a9e3890ef855e7e7b53b42" category="paragraph">如果您已安裝Trident Protect，則可以為使用 azure-netapp-files 儲存類別且在Trident 24.06 之前建立的儲存後端啟用節省空間的備份和還原功能。此功能適用於 NFSv4 卷，並且不會佔用容量池中的額外空間。</block>
  <block id="7f9574de510184fa4984256b9bd52f9e" category="list-text">您已安裝Trident Protect。</block>
  <block id="5c988e5008390b9a3e9eec9ccb6b7275" category="list-text">您已在Trident Protect中定義了一個應用程式。在您完成此步驟之前，此應用程式的保護功能將受到限制。</block>
  <block id="76d8d1a8d95bf0c8521b80cdf7becbf6" category="paragraph">如果未啟用快照目錄， Trident Protect 將選擇常規備份功能，該功能會在備份過程中暫時佔用容量池中的空間。在這種情況下，請確保容量池中有足夠的空間來建立​​與被備份磁碟區大小相同的臨時磁碟區。</block>
  <block id="fc53c460fa3679942307a868cb86ce5f" category="paragraph">該應用程式已準備好使用Trident Protect 進行備份和還原。每個 PVC 也可供其他應用程式用於備份和還原。</block>
  <block id="c792e8472de999b9df658a1202580532" category="summary">首先，請驗證您的運行環境、應用程式叢集、應用程式和授權是否已準備就緒。確保您的環境符合部署和執行Trident Protect 的這些要求。</block>
  <block id="dad76a1d38d59b472a3143f23d633d9b" category="section-title">Trident Protect Kubernetes 叢集相容性</block>
  <block id="fd3bd2fcfeedfca19073cae4b15b6d58" category="paragraph">Trident Protect 與各種完全託管和自架的 Kubernetes 產品相容，包括：</block>
  <block id="cff79812dcd5fbc00814225da6e01321" category="list-text">Trident Protect備份僅支援Linux運算節點。Windows 運算節點不支援備份作業。</block>
  <block id="9ac14e26b678482e730c473a2182b3cd" category="list-text">確保安裝Trident Protect 的叢集已配置正在執行中的快照控制器和相關的 CRD。若要安裝快照控制器，請參閱<block ref="5d66944a2971d1b9b5f332812a6e737b" category="inline-link-rx"></block>。</block>
  <block id="d1aeab176ad80dc54e61f7c70cd3ae3b" category="section-title">Trident Protect 儲存後端相容性</block>
  <block id="5599f02aecfd2b4e31e0c79404170afe" category="paragraph">Trident Protect 支援以下儲存後端：</block>
  <block id="e8cdc937e4fea4b9dbba5e00d7662548" category="list-text">建立您計劃用於應用程式或應用程式資料管理作業的任何應用程式命名空間。Trident Protect 不會為您建立這些命名空間；如果您在自訂資源中指定了不存在的命名空間，則操作將會失敗。</block>
  <block id="1045d62a7b99460399e0346f2ae30b23" category="paragraph">Trident Protect 支援對 nas-economy 磁碟區進行備份和復原作業。目前不支援將快照、克隆和SnapMirror複製到 nas-economy 磁碟區。您需要為計劃與Trident Protect 一起使用的每個 nas-economy 磁碟區啟用快照目錄。</block>
  <block id="d24e3ecca2966126e528f3b9e614e910" category="paragraph">NetApp SnapMirror複製功能可與Trident Protect 搭配使用，適用於下列ONTAP解決方案：</block>
  <block id="42612b6fec9e12698f24e329a0057ea3" category="list-text">* NetApp Trident *：使用ONTAP作為後端服務的來源 Kubernetes 叢集和目標 Kubernetes 叢集上都必須存在NetApp Trident 。Trident Protect 支援使用NetApp SnapMirror技術進行複製，該技術使用以下驅動程式支援的儲存類別：</block>
  <block id="fd061cf50a47c913ada57ca992823154" category="list-text">*託管後端*：您需要在Trident Protect 中新增和管理ONTAP儲存後端，以建立複製關係。</block>
  <block id="ee9dbfe472a4404175c214c5bc3503d6" category="paragraph">Trident Protect 要求您至少設定一個支援來源叢集和目標叢集複製的儲存後​​端。如果來源叢集和目標叢集相同，為了獲得最佳彈性，目標應用程式應該使用與來源應用程式不同的儲存後端。</block>
  <block id="e91e1786215e817bc20eba0859e44992" category="summary">您可以使用Trident Protect 從快照或備份中還原您的應用程式。將應用程式還原到同一群集時，從現有快照恢復速度會更快。</block>
  <block id="2f17c2ec082854ce1f49ed1f47122369" category="doc">使用Trident Protect 恢復應用程式</block>
  <block id="a70d8da6dfd6ff156b493e11162ca857" category="inline-link-macro">使用進階Trident Protect 恢復設定</block>
  <block id="24faeee2994b42f760a5f4868305d167" category="list-text">您可以使用進階設定來自訂恢復操作。欲了解更多信息，請參閱 <block ref="f411630dc75b0837a55c8046f65149cf" category="inline-link-macro-rx"></block>。</block>
  <block id="1c6eace91e0dc01cf9008fefb2dab254" category="paragraph">當您使用 BackupRestore CR 將備份還原到不同的命名空間時， Trident Protect 會在新的命名空間中還原應用程序，並為還原的應用程式建立一個應用程式 CR。為了保護已還原的應用程序，可以建立按需備份或快照，或製定保護計劃。</block>
  <block id="a893520b03c95dde2af0c5ccef82b6fd" category="admonition">當您使用 Kopia 作為資料移動器還原備份時，您可以選擇在 CR 中指定註解或使用 CLI 來控制 Kopia 使用的暫存的行為。請參閱<block ref="08f67cdc0555f043586a8a4182d9187b" category="inline-link-rx"></block>有關您可以配置的選項的詳細資訊。使用<block ref="26d4326deff4a9a34c8bff3eaf4ad7fc" prefix=" " category="inline-code"></block>有關使用Trident Protect CLI 指定註釋的更多信息，請參閱命令。</block>
  <block id="e23fef665fca7137c4d6ee6b9a9ec06a" category="list-text">目標叢集已安裝Trident Protect。</block>
  <block id="a9f49426447e0464bef483c17509fd98" category="list-text">執行 AppVault CR 時，請確保本機環境可以連接到 AppVault CR 中定義的物件儲存桶。<block ref="f9adf231483d5dde9cfc10a610b748d3" prefix=" " category="inline-code"></block>命令。如果網路限制阻止訪問，請改為從目標叢集上的 pod 內執行Trident Protect CLI。</block>
  <block id="cfb3749b52f4ce0c21dcdc3a9fce80f2" category="list-text">使用Trident Protect CLI 外掛程式檢查目標叢集上 AppVault CR 的可用性：</block>
  <block id="00a11b317e9c8f9d94e106859445f95b" category="paragraph">您可以使用自訂資源 (CR) 檔案從快照還原數據，還原到不同的命名空間或原始來源命名空間。當您使用 SnapshotRestore CR 將快照還原到不同的命名空間時， Trident Protect 會在新的命名空間中還原應用程序，並為還原的應用程式建立應用程式 CR。為了保護已還原的應用程序，可以建立按需備份或快照，或製定保護計劃。</block>
  <block id="f493357e2629878fdea1bf9f7073c82d" category="summary">您可以使用註解、命名空間設定和儲存選項來自訂Trident Protect 復原作業。</block>
  <block id="b3cc398bcb7f536fcb9416eb16f4fff6" category="summary">如果您要從試用版升級到完整版產品，可能需要移除Trident Protect 元件。</block>
  <block id="dd28e2f5a84c48ae81ab3d88858e28ee" category="doc">解除安裝Trident Protect</block>
  <block id="cb38bfec92928c82db030cfdce9bccdf" category="paragraph">若要移除Trident Protect，請執行下列步驟。</block>
  <block id="2e5c0707a785908014e16ab0cbf18366" category="list-text">刪除Trident Protect CR 檔案：</block>
  <block id="776420d2a523398306e23e8ddde41835" category="list-text">移除Trident保護：</block>
  <block id="4ddbb510a6a83f944b61747e65e231af" category="list-text">移除Trident Protect 命名空間：</block>
  <block id="cde61ef6aff0f74c93f975b94c538c81" category="summary">您可以將Trident Protect 升級到最新版本，以享受新功能或修復錯誤。</block>
  <block id="516ee22feede3bac94e552d7d7d47c7a" category="doc">升級Trident保護</block>
  <block id="5826b90805989bc1e70d45a439955a20" category="list-text">對於私人鏡像倉庫安裝，請確保目標版本所需的 Helm Chart 和鏡像在您的私人鏡像倉庫中可用，並驗證您的自訂 Helm 值與新 Chart 版本相容。更多信息，請參閱<block ref="1cbaec3c50cf58cc3dc774fe58a4af33" category="inline-link-macro-rx"></block>。</block>
  <block id="af256125ca711d0e16dc4c173930116f" category="paragraph">若要升級Trident Protect，請執行下列步驟。</block>
  <block id="578bfdcecd0a48c1dad189ec9d70204a" category="list-text">升級Trident Protect CRD：</block>
  <block id="814a37dc29d2671dd3cdbf3982ee4a85" category="admonition">如果您是從 25.06 之前的版本升級，則需要執行此步驟，因為 CRD 現在已包含在Trident Protect Helm 圖表中。</block>
  <block id="e9234397b7137bc49ace1f1229a5a982" category="list-text">升級Trident保護：</block>
  <block id="6f8a1c340d72b735b7cd3b6957d814e3" category="summary">您可以使用Trident Protect 為應用程式建立自訂執行鉤子。您需要擁有所有者、管理員或成員權限才能建立執行鉤子。</block>
  <block id="c8032c002085d9b42031ec80a534e894" category="doc">管理Trident Protect 執行鉤子</block>
  <block id="ba45cbc00acdb40a749e6b9a5bf95eff" category="paragraph">Trident Protect 支援以下幾種執行鉤子類型，取決於它們的運行時機：</block>
  <block id="019c0400e3d10bda84f61aadf4d88474" category="list-text">如果適用，則會發生檔案系統凍結。<block ref="e019680d5fc80a6a772db1153dfe4d66" category="inline-link-macro-rx"></block>。</block>
  <block id="1f3ffd6698226c67c537c364eaf041be" category="list-text">Trident Protect 要求執行鉤子使用的腳本以可執行 shell 腳本的格式編寫。</block>
  <block id="5f751924fb5492c94aa54485264a30e9" category="list-text">Trident Protect 使用執行鉤子設定和任何符合條件來決定哪些鉤子適用於快照、備份或還原作業。</block>
  <block id="d46485186a1153a2fbf335ff2db190f4" category="paragraph">新增到執行掛鉤的每個過濾器都使用正規表示式來匹配叢集中的容器。當鉤子與容器匹配時，鉤子將在該容器上運行其關聯的腳本。過濾器的正規表示式使用正規表示式 2 (RE2) 語法，該語法不支援建立從符合清單中排除容器的過濾器。有關Trident Protect 在執行鉤子過濾器中支援的正規表示式語法的詳細信息，請參閱<block ref="d4d0dd655d04b2dc5b031206e1febd50" category="inline-link-rx"></block>。</block>
  <block id="d7fe96269d51ee2db54db3f582053bbc" category="list-text">設定以下屬性以符合您的Trident Protect 環境和叢集設定：</block>
  <block id="7614dc1d9f60c2a1a41782cd8da64d6a" category="summary">使用Trident Protect，您可以利用NetApp SnapMirror技術的非同步複製功能，將資料和應用程式變更從一個儲存後端複製到另一個儲存後端，無論是在同一叢集內還是在不同叢集之間。</block>
  <block id="752b9530af53850991ee625c360b5886" category="doc">使用NetApp SnapMirror和Trident Protect 複製應用程式</block>
  <block id="372808e5f5197d8bced21ed6beef8221" category="paragraph">要了解有關執行鉤子的更多信息，請參閱<block ref="81ec01a9d0e5d60206e703bc5aa140b4" category="inline-link-macro-rx"></block>。</block>
  <block id="e7278dfae13b6c5f2e23e4b66378889e" category="list-text">選擇Trident Protect 拍攝應用程式快照的頻率（包括應用程式的 Kubernetes 資源以及應用程式每個磁碟區的磁碟區快照）。</block>
  <block id="b89f2db2cb82925801d5b1149de27c17" category="paragraph">使用Trident Protect，您可以將複製的應用程式故障轉移到目標叢集。此過程會停止複製關係，並將應用程式在目標叢集上連線。如果來源叢集上的應用程式正在運行， Trident Protect 不會停止該應用程式。</block>
  <block id="b65e765544fa343d7e8889398daebb9c" category="paragraph">當您反轉複製方向時， Trident Protect 會將應用程式移至目標儲存後端，同時繼續複製回原始來源儲存後端。  Trident Protect 會停止來源應用程式並將資料複製到目標位置，然後再故障轉移到目標應用程式。</block>
  <block id="61295c8685fb78b94f9c72b204443888" category="paragraph">使用Trident Protect，您可以透過以下步驟序列在故障轉移作業後實現「故障復原」。在此恢復原始複製方向的工作流程中， Trident Protect 會將任何應用程式變更複製（重新同步）回原始來源應用程序，然後再反轉複製方向。</block>
  <block id="efdfb5051e307ae2669c564ab462ab70" category="paragraph">了解Trident和Trident Protect 的新特性，包括增強功能、修復和棄用。</block>
  <block id="9b6a034e6854c5f27feb3ac185829f8d" category="section-title">Trident保護</block>
  <block id="dcf5f26cacbeeaa8161c0edfd64677e8" category="paragraph">NetApp Trident Protect 提供進階應用程式資料管理功能，增強了由NetApp ONTAP儲存系統和NetApp Trident CSI 儲存供應器支援的有狀態 Kubernetes 應用程式的功能和可用性。</block>
  <block id="e1291fe029973ec93a54b63b382dcf15" category="paragraph">從Trident 25.02 開始，「新增功能」摘要提供了Trident和Trident Protect 版本的增強功能、修復和棄用詳情。</block>
  <block id="b3ede630079275ba568ae0ecd38dd1b8" category="list-text">為 KubeVirt / OpenShift 虛擬化虛擬機器添加了備份和復原支持，支援 volumeMode: File 和 volumeMode: Block（原始設備）儲存。此支援與所有Trident驅動程式相容，並在使用NetApp SnapMirror和Trident Protect 複製儲存時增強了現有的保護功能。</block>
  <block id="0ca0fb71ff9be8f3e574ccbd272e9df8" category="list-text">增加了在Trident Protect 安裝過程中設定安全上下文約束 (SCC) 的功能。</block>
  <block id="0585ebe3e3fa33ee030cab4d8f843c2b" category="list-text">增加了在Trident Protect 安裝過程中設定 nodeSelector 的支援。</block>
  <block id="f2492ecd5d283ce85dae0f4a9ee08a0a" category="inline-link-macro">了解更多關於Trident Protect的信息</block>
  <block id="fcea491f131646a6f887b5a13212cd84" category="paragraph"><block ref="30e9c40051e05c72dc744ea1f1015e1f" category="inline-link-macro-rx"></block>。</block>
  <block id="bb74735100fa22a9878799bf2d21623f" category="sidebar">使用Trident Protect 實現進階資料保護</block>
  <block id="77cc7f8867b1ad1e9856bcd26c8ecff3" category="sidebar">部署Trident保護</block>
  <block id="70568f333da28442c152ac2e1f71e1a0" category="sidebar">使用Trident Protect 保護應用程式</block>
  <block id="8545a0d7cdafff8da2dece1a851630dc" category="sidebar">管理Trident Protect</block>
  <block id="83ff2dd2ff6a9ee85daa1b0fefef4019" category="sidebar">使用Trident Protect 管理執行鉤子</block>
  <block id="94404deae8ba6c1ce377a82e28c7c23d" category="list-text">*spec.backupRetention*: (_必要_) 要保留的備份數量。零表示不應建立備份（僅快照）。</block>
  <block id="18b62a0490b46e770b6772506df16e66" category="list-text">*spec.backupReclaimPolicy*: (_可選_) 決定如果備份 CR 在其保留期內被刪除，則備份會發生什麼情況。保留期過後，備份檔案總是會被刪除。可能的值（區分大小寫）：</block>
  <block id="b847e9fad963501d7bf56021c133b124" category="list-text">*spec.snapshotRetention*: (_必需_) 要保留的快照數量。零表示不建立任何快照。</block>
  <block id="7686f86b5b964234d48e80748592235c" category="list-text">*spec.snapshotReclaimPolicy*: (_可選_) 決定如果快照 CR 在其保留期內被刪除，則快照會發生什麼情況。保留期過後，快照總是會被刪除。可能的值（區分大小寫）：</block>
  <block id="0219cebc6ab6bc045fd44c689e3508dd" category="list-text"><block ref="afece4245269582cb2f1009d4fb52047" prefix="" category="inline-code"></block></block>
  <block id="eced49573e92b0138aa5161875ff0f1e" category="list-text"><block ref="f2a6c498fb90ee345d997f888fce3b18" prefix="" category="inline-code"></block>(預設)</block>
  <block id="08f633e7002ad36a5c8bc527db07e211" category="section-title">支援<block ref="4e3608d39f092e8af1be45b04350f1a1" prefix=" " category="inline-code"></block>配置選項</block>
  <block id="42b660fa9ad2ff7e603ddeb991191daa" category="paragraph">請參閱下表以了解 S3 提供者設定選項：</block>
  <block id="9e965c2561790f5795363a58280142cf" category="cell"><block ref="0ca993c9bc0fd19b642d323b59a36539" prefix="" category="inline-code"></block></block>
  <block id="0eca3183fc69ea6f396e772946204a5c" category="cell">停用 SSL/TLS 憑證驗證。</block>
  <block id="a8ef00c2294bbb43977e7dc9fd2a1ae3" category="cell">“真”，“假”</block>
  <block id="1f3f7edb7c7c1de0cb2c465b8ddcd056" category="cell"><block ref="f8e8e31faffe064bcecb40c10a840b71" prefix="" category="inline-code"></block></block>
  <block id="e00f2b6aaee0e89837b7344c6c699ee6" category="cell">啟用與 S3 端點的安全 HTTPS 通訊。</block>
  <block id="f81bcc66558000f7cfefd3cc20fd0a8e" category="cell"><block ref="3c9622a5d959b41abae2263f05892a60" prefix="" category="inline-code"></block></block>
  <block id="3de2fd08f537cf1bfbd8e7100fcd0978" category="cell">指定用於連接 S3 的代理伺服器的 URL。</block>
  <block id="6adf97f83acf6453d4a6a4b1070f3754" category="cell">沒有任何</block>
  <block id="95dbd7d67755b93da5edf3f51015e334" category="cell"><block ref="95dbd7d67755b93da5edf3f51015e334" category="inline-link-rx"></block></block>
  <block id="c49bdad42b17110b2c040203c6bdb822" category="cell"><block ref="a9a9528efe7ca0e033e0fe2d3992f2ef" prefix="" category="inline-code"></block></block>
  <block id="2ec04adaedab334fde26b3e2e0589b33" category="cell">提供用於 SSL/TLS 驗證的自訂根 CA 憑證。</block>
  <block id="16046164c4b13ac28108d2ecbdabf10b" category="cell">"CN=MyCustomCA"</block>
  <block id="e40bdae327bee4d52c74e4b3250b08ce" category="cell"><block ref="27081e7eec2d2a1beae20d90b1d5af4f" prefix="" category="inline-code"></block></block>
  <block id="304bbbc132c2b33e03e087cb6838276e" category="cell">啟用 IAM 驗證以存取 S3 儲存桶。適用於 EKS Pod 識別。</block>
  <block id="09a18f0598e032559af2cd41ba3aa659" category="list-text">確保至少存在一個 VolumeSnapshotClass。更多信息，請參閱<block ref="9597869a9c7d53c1c9b0a0dcb905675c" category="inline-link-macro-rx"></block>。</block>
  <block id="01a2f6f3fc3712c00aaaff540b7187f3" category="list-text">OpenShift 容器平台在 AMD64 和 ARM64 架構上支援的 Red Hat Enterprise Linux CoreOS (RHCOS) 版本</block>
  <block id="1c93bd59e1abbbe543685399acba3c3b" category="list-text">Red Hat Enterprise Linux (RHEL) 8 或更高版本，支援 AMD64 和 ARM64 架構</block>
  <block id="d79b838675f4d040c12110c1c22fcf32" category="list-text">Ubuntu 22.04 LTS 或更高版本，支援 AMD64 和 ARM64 架構</block>
  <block id="02869471b3c4ac5c57fb8c2e1d4355dd" category="list-text">SUSE Linux Enterprise Server (SLES) 15 或更高版本</block>
  <block id="2e5501c697a356fbc5ebc7fc18d5467a" category="inline-link-macro">面向 Kubernetes 的高階儲存解決方案</block>
  <block id="18d930d0cd6047efc1b1fec17dfe8fe3" category="list-text">2025年10月16日：<block ref="24a30123068a80ec6ff5fa73300429f7" category="inline-link-macro-rx"></block></block>
  <block id="5aa8cff4223fc11760e8f52c0535ed21" category="list-text">2025年8月19日：<block ref="f1470e59c8af729c50256514ac3dbbf4" category="inline-link-macro-rx"></block></block>
</blocks>