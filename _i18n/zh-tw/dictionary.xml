<?xml version="1.0" encoding="UTF-8"?>
<blocks>
  <block id="2358ca3eef46b0e25466e80dbea7ea4b" category="summary">請參閱Astra Trident組態的可用組態選項。</block>
  <block id="34e1f7eb303c0a150cd440611b3b5e24" category="doc">儲存組態選項</block>
  <block id="51f834b47bcd78a0f4f40fd8ca40446f" category="section-title">全域組態選項</block>
  <block id="b22d82aea9557ba6aa7b915d40309d9b" category="paragraph">這些組態選項適用於所有Astra Trident組態、無論使用何種儲存平台。</block>
  <block id="054b4f3ea543c990f6b125f41af6ebf7" category="cell">選項</block>
  <block id="b5a7adde1af5c87d7fd797b6245c2a39" category="cell">說明</block>
  <block id="0a52730597fb4ffa01fc117d9e71e3a9" category="cell">範例</block>
  <block id="7877022c956918624cc0373ff564cad4" category="cell">「分度」</block>
  <block id="d41d8cd98f00b204e9800998ecf8427e" category="doc"></block>
  <block id="63b276a6c28274ed5e553d4ce3fe7eb1" category="paragraph">組態檔版本編號</block>
  <block id="868dff7060d78b6417dc8e065eca8374" category="cell">「torageDriverName」</block>
  <block id="ac5eb8fcbd1ed9c85a98d91e10e26a38" category="paragraph">儲存驅動程式名稱</block>
  <block id="c08068da3c5d19547544c4bd424a6b76" category="cell">「toragePrefix」</block>
  <block id="91590ee78f1b4751284f4f9ea80cfe86" category="cell">《限制Volume大小》</block>
  <block id="3eed2a7dac1f2329f3a9574a68e5e1c4" category="admonition">請勿將「儲存前置詞」（包括預設值）用於元素後端。缺省情況下，"Poolidfire－san "驅動程序將忽略此設置而不使用前綴。我們建議使用特定的TenantId進行Docker Volume對應、或是使用Docker版本、驅動程式資訊和原始名稱填入的屬性資料、以便在可能使用任何名稱標示的情況下使用。</block>
  <block id="0863f9e97e159e3ea1ce46bdb49b1254" category="paragraph">您可以使用預設選項、避免在每個建立的Volume上指定這些選項。「最小化」選項適用於所有控制器類型。如ONTAP 需如何設定預設Volume大小的範例、請參閱「功能區組態」一節。</block>
  <block id="a48a8458539e489328f4d6d3fc0ee288" category="cell">《大小》</block>
  <block id="0353522b39b87d54d40d3f09ec668851" category="section-title">組態ONTAP</block>
  <block id="cd536bce1bed61366e8d17a85fe6678a" category="paragraph">除了上述全域組態值之外、使用ONTAP 時還提供下列頂層選項。</block>
  <block id="07c54fe26be1e43601e99cd9d4fbe262" category="cell">《馬納格門達利》</block>
  <block id="464779f3491153dd1e79ddbd8a81e3f0" category="paragraph">IP位址ONTAP ：您可以指定完整網域名稱（FQDN）。</block>
  <block id="bd81db53971fda3e688447b28c747d1a" category="cell">「DataLIF」</block>
  <block id="afc423de2be5ca5ab3a6ae9548bbfcf3" category="cell">《虛擬機器》</block>
  <block id="11053eb2b6ac6e8802c67c054cf55ad9" category="paragraph">要使用的儲存虛擬機器（如果管理LIF是叢集LIF、則為必要）</block>
  <block id="6d77646a2fd9ab65f8e3344d7dce661a" category="cell">《使用者名稱》</block>
  <block id="723a179bbb9fc3c4f12cf296a8841b27" category="paragraph">連線至儲存設備的使用者名稱</block>
  <block id="6aa91a7fbb8c9edcf4aa5f9411aec19c" category="cell">密碼</block>
  <block id="8cf10281cf3b9290d5988c57a7d19693" category="paragraph">連線至儲存設備的密碼</block>
  <block id="7e6d207f2b120c6cc9caa98510aa51c6" category="cell">《Aggregate》</block>
  <block id="ac53191a99c328660eafa4696375dbfb" category="paragraph">用於資源配置的Aggregate（選用；如果已設定、則必須指派給SVM）。對於「ONTAP-NAS-flexgroup」驅動程式、此選項會被忽略。指派給SVM的所有集合體均可用來配置FlexGroup 一個SVolume。</block>
  <block id="12d2394af47293b12d6b5f411f99a6d1" category="cell">「限制Aggregateusage」</block>
  <block id="925060a0c0a15f99ef1bee43f1660ea4" category="paragraph">如果使用率高於此百分比、則可選用、失敗的資源配置</block>
  <block id="2b45af5c768d7b2495ef631c991ecd78" category="cell">「nfsMountOptions」</block>
  <block id="876885770cf58d20ef5672cc5594e85d" category="inline-link">請參閱此處的NFS主機組態資訊</block>
  <block id="0a19ca3d1db7e5bc24b58f73b91c3f49" category="paragraph">精細控制NFS掛載選項；預設為「-o nfsver=3」。*僅適用於「ONTAP-NAS」和「ONTAP-NAS-經濟」驅動程式*。<block ref="71f7a3f48cfd3876cffba401813b7db0" category="inline-link-rx"></block>。</block>
  <block id="3b890f58db76bb3003ada171cd18c4db" category="cell">「igroupName」</block>
  <block id="5c5adadf8175fd69d4af9bfdb608c42c" category="paragraph">可申請的Volume大小上限和qtree父Volume大小上限。*對於「ONTAP-NAS經濟」驅動程式、此選項會進一步限制其所建立的FlexVols大小*。</block>
  <block id="07f6b23cad3d6da54012935ff972affe" category="cell">"qtreesPerFlexvol"</block>
  <block id="981ba910eb0ffc42f42059de056624b4" category="paragraph">每FlexVol 個邊區最多qtree數、範圍必須為[50、300]、預設值為200。*對於「ONTAP-NAS-P節約」驅動程式、此選項可自訂每FlexVol 個版本的qtree數量上限*。</block>
  <block id="3890063556e337d458019437f027030b" category="paragraph">您可以使用預設選項、避免在您建立的每個Volume上指定這些選項：</block>
  <block id="a6bddf19eed00dbe2199864dee8454ce" category="cell">《保護區》</block>
  <block id="0ec3875cf79264e4689a646be2f704b6" category="cell">「快照原則」</block>
  <block id="7556d5a1b0c5f68b7cb5aedaa3156008" category="cell">「快照保留區」</block>
  <block id="4be01095ce6e500084fc427e5dec61ac" category="cell">「PlitOnClone」</block>
  <block id="68934a3e9455fa72420237eb05902327" category="paragraph">錯</block>
  <block id="b091cbafedf94db98f17823d044434bd" category="cell">加密</block>
  <block id="b326b5062b2f0e69046810717534cb09" category="paragraph">是的</block>
  <block id="ce46e8f3fc6eaddbe03115e0d62090ac" category="cell">「unixPermissions」</block>
  <block id="ce8f82152151ae2aadaec166eca744a9" category="cell">「napshotDir</block>
  <block id="e59001176f4360988f5d774a8405b4b9" category="cell">「匯出政策」</block>
  <block id="a463baaf6666da7178b6fc6a3c8a3fee" category="cell">《生態樣式》</block>
  <block id="3184b1a9846944fabb00496c4b6b613a" category="cell">「fileSystemType」</block>
  <block id="31aa018945eb62580d68d360cba8ba54" category="cell">「分層政策」</block>
  <block id="90adf331b7868c7af46ad6e035e93844" category="section-title">擴充選項</block>
  <block id="493a6606c4789fad3c7317b99cb563d0" category="paragraph">「ONTAP-NAS」和「ONTAP-SAN」驅動程式可為ONTAP FlexVol 每個Docker Volume建立一個支援功能。支援每個叢集節點最多1000個FlexVols、叢集最多12、000個FlexVols。ONTAP如果您的Docker Volume需求符合上述限制、則「ONTAP-NAS」驅動程式是首選的NAS解決方案、因為FlexVols提供的其他功能、例如Docker Volume精細快照和複製。</block>
  <block id="b8f30e4086b754ccaf7bd5d01d8df137" category="paragraph">如果您需要的Docker磁碟區數量超過FlexVol 了《支援》的範圍、請選擇「ONTAP - NAS經濟」或「ONTAP - SAN經濟」驅動程式。</block>
  <block id="50710f3a4715e3f874848944b6b54e28" category="paragraph">「ONTAP-NAS經濟」驅動程式會在ONTAP 自動管理的FlexVols資源池中、將Docker磁碟區建立為還原樹狀結構。qtree的擴充能力大幅提升、每個叢集節點最多可達100、000個、每個叢集最多可達2、400、000個、而犧牲了部分功能。「ONTAP-NAS-節約」驅動程式不支援Docker Volume精細快照或複製。</block>
  <block id="0c8b91c6c2ba9c892f3eea2cd9c86cd1" category="admonition">Docker swarm目前不支援「ONTAP-NAS-節約」驅動程式、因為swarm不會協調多個節點之間的磁碟區建立。</block>
  <block id="5849dbe631db5b1e1b365f9f2f84ff60" category="paragraph">「ONTAP-san經濟」驅動程式會在ONTAP 自動管理的FlexVols共用集區內、將Docker Volume建立為還原LUN。如此FlexVol 一來、每個支援不只侷限於一個LUN、而且能為SAN工作負載提供更好的擴充性。根據儲存陣列的不同、ONTAP 每個叢集最多可支援16384個LUN。由於磁碟區是下方的LUN、因此此驅動程式支援Docker磁碟區精細快照和複製。</block>
  <block id="65e92c8f7fa9750b795cc1046328cf06" category="paragraph">選擇「ONTAP-NAS-flexgroup」驅動程式、即可將平行處理能力提升至單一磁碟區、以數十億個檔案擴充至PB範圍。FlexGroups的一些理想使用案例包括AI / ML / DL、Big Data和分析、軟體建置、串流、檔案儲存庫等。Trident在配置FlexGroup 完一套SVM時、會使用指派給SVM的所有集合體。支援Trident也有下列考量：FlexGroup</block>
  <block id="9d83b6d2e2b099e63bf8e2fc8c870893" category="list-text">需要ONTAP 9.2版或更新版本。</block>
  <block id="e7c74973b26ad51b9db42a9c347a8cd4" category="list-text">截至本文撰寫時、FlexGroups僅支援NFS v3。</block>
  <block id="02a100b04add3b90fddef64499e825a2" category="list-text">建議啟用SVM的64位元NFSv3識別碼。</block>
  <block id="496f8625569b787269edab0f3de973da" category="list-text">建議FlexGroup 的最小內存區大小為100GB。</block>
  <block id="db78b2a7acf43fa03cd95fb3a77c82f9" category="list-text">不支援FlexGroup 將複製複製用於實體磁碟區。</block>
  <block id="f5ac1e3c252855373c7f660dbd89699d" category="inline-link">NetApp FlexGroup 《NetApp》《最佳實務做法與實作指南》</block>
  <block id="df1a7e79743809601db1d20d6a33ae52" category="paragraph">如需適用於FlexGroups的FlexGroups與工作負載相關資訊、請參閱<block ref="b8a99695d7979127a1cab07b42e22743" category="inline-link-rx"></block>。</block>
  <block id="b30b6b60171d85877ea91897bdd6faed" category="paragraph">若要在同一個環境中獲得進階功能和龐大規模、您可以執行多個Docker Volume外掛程式執行個體、其中一個使用「ONTAP-NAS」、另一個使用「ONTAP-NAS-經濟」。</block>
  <block id="0c0f6724044ed44fb85d2ce3193cb7c3" category="section-title">範例ONTAP ：功能組態檔</block>
  <block id="9420b5e8ed08a163eeafb1d5026f74be" category="paragraph">*「ONTAP-NAS」驅動程式*的NFS範例</block>
  <block id="c26e7b2e60e156979940cd72ed83d0b9" category="paragraph">*「ONTAP-NAA-flexgroup」驅動程式*的NFS範例</block>
  <block id="3a57e82fd5f9855754a03019c433aff7" category="paragraph">* ONTAP NAS經濟驅動程式*的NFS範例</block>
  <block id="2bfad97b56e71c619e45f6d4c2e4c2e2" category="paragraph">* iSCSI的「ONTAP-san」驅動程式*範例</block>
  <block id="98f803effb81ad687bcd941b70439aaa" category="paragraph">*「ONTAP-san經濟」驅動程式*的NFS範例</block>
  <block id="ffe54c343031d16e77db73e2d950e277" category="section-title">元件軟體組態</block>
  <block id="3afcd136a7bffa20fc39ba6581412cd2" category="paragraph">除了全域組態值之外、使用Element軟體（NetApp HCI / SolidFire）時、也可使用這些選項。</block>
  <block id="06981b2729b4b522b21d903c7738a2ca" category="cell">端點</block>
  <block id="955f5caa2495689258902533d1a6cd44" category="cell">《VIP》</block>
  <block id="c61f15977fe4efa0866eea87fb740cda" category="paragraph">iSCSI IP位址和連接埠</block>
  <block id="6a6b63874c664c103982f6d422c6384e" category="paragraph">10.0.0.7：3260</block>
  <block id="4e25fe4a614b527d9b3d89ee6abe5d35" category="cell">《天王名稱》</block>
  <block id="72deb2676231ab8e068ef60dd89edd4c" category="paragraph">要使用的SolidFireF租戶（如果找不到、請建立）</block>
  <block id="f016e2c01f2bafa45e6b537d49f0f9da" category="cell">《初始器IFACE》</block>
  <block id="d2672389886b173aef703433f7e4b89b" category="paragraph">將iSCSI流量限制為非預設介面時、請指定介面</block>
  <block id="6522432847a0e6902318a976e5533f62" category="paragraph">「預設」</block>
  <block id="26194deaf50c44db6eb5983237bdaf25" category="cell">《類型》</block>
  <block id="ee1aea1de97320ad8e98436f68b01b4a" category="paragraph">QoS規格</block>
  <block id="5935dcd024929bc7086bb230802bf576" category="paragraph">請參閱以下範例</block>
  <block id="5e9bf55f849ccc5a31a50d1fa784d28c" category="cell">"LegacyNamePrefix（名前置詞）"</block>
  <block id="36f9c7b615268efec7f4c56c387a55bb" category="paragraph">「Poolidfire - san」驅動程式不支援Docker swarm。</block>
  <block id="1059bb8540c48e6b455e802384bad65d" category="section-title">元素軟體組態檔範例</block>
  <block id="6c92285fa6d3e827b198d120ea3ac674" category="inline-link">請按這裡</block>
  <block id="2086191016950a784040f7d22ab27f60" category="cell">《apiRegion》</block>
  <block id="c96383270cbab23de47b4f0961f64929" category="cell">「ProjectNumber」</block>
  <block id="1a269fb3ec0496720ca75e984d8de40e" category="cell">「hostProjectNumber」</block>
  <block id="a34d72a685d5e27eb6bc18f54a7bab1d" category="cell">「apiKey」</block>
  <block id="af18429250667f805769a7755a008c1f" category="cell">"proxyurl"</block>
  <block id="0322003a3502f221fdb74b059dfff46e" category="cell">《服務層級》</block>
  <block id="1631dca111b8c1a922c7f29d48eb7121" category="cell">網路</block>
  <block id="9c64942fe493cb70c474ff447429d8a4" category="cell">「匯出規則」</block>
  <block id="7450cfde7058dc5e1f7909d0280fd7ae" category="inline-link">Azure NetApp Files</block>
  <block id="b12fb354025b3dfa01277964eb72c060" category="inline-link">應用程式註冊</block>
  <block id="f494e4df0fff53e809d6563f8ec1782f" category="inline-link">委派的子網路</block>
  <block id="7a1920d61156abc05a60135aefe8bc67" category="cell">預設</block>
  <block id="40e27006e7b709772172391a3d17b331" category="paragraph">永遠為1</block>
  <block id="f5b55596d3f53b1857a4980dac9db979" category="cell">「後端名稱」</block>
  <block id="665120e71659a6a32f990a3181688d1b" category="cell">《訂閱ID》</block>
  <block id="b2ad290b003ccdce2a538f49a795f281" category="paragraph">Azure訂閱的訂閱ID</block>
  <block id="e07778d10cef90430253876cba7157e4" category="cell">「TenantId」</block>
  <block id="2975d48342e428a3b18123f85ed0ecb5" category="paragraph">應用程式註冊的租戶ID</block>
  <block id="949ba1045db0d48bd189044e672d8097" category="cell">"clientID"</block>
  <block id="2c07e9234f0df0d4c8887a04f7e641fe" category="paragraph">應用程式註冊的用戶端ID</block>
  <block id="56ef18e84ab36c2bdc4546e6a2756673" category="cell">「客戶機密」</block>
  <block id="85f484f0892a96287b6224ddd3c5fbb2" category="paragraph">應用程式註冊的用戶端機密</block>
  <block id="fc7dd5b65d21ee7272a067c9404a8498" category="cell">位置</block>
  <block id="32ef1af5ccda7c2f6d85e55f5034f105" category="cell">「虛擬化網路」</block>
  <block id="10afd0959cfa4a53bce9c8d395c40c48" category="paragraph">具有委派子網路的虛擬網路名稱</block>
  <block id="ec045173f4df65e5e8951c3ca9579945" category="cell">《Subnet》</block>
  <block id="0b8deda0ecc5080e8c0ed0b475e983ba" category="paragraph">委派給「icrosoft.Netapp/volumes`」的子網路名稱</block>
  <block id="18320b2a705a7bed37a6bc0af4aee093" category="paragraph">如果要求的磁碟區大小高於此值、則資源配置失敗</block>
  <block id="7962423206a6704e20fa94085d19b517" category="paragraph">「」（預設不強制執行）</block>
  <block id="e5ac299cc3b14e1fac29518569ca9bb1" category="paragraph">新磁碟區的預設大小</block>
  <block id="a83f4a534ccef7ac1d209fb0015cd907" category="paragraph">此後端組態可進一步將磁碟區放置範圍縮小至單一子網路、並修改部分Volume資源配置預設值。</block>
  <block id="486632f7d2196e772b742db4a4a0ad7c" category="doc">部署Astra Trident</block>
  <block id="d2eb05d1990246a079aeb2f56e3a4237" category="paragraph">多個Astra Trident執行個體可同時在同一個主機上執行。這可同時連線至多個儲存系統和儲存類型、並可自訂Docker磁碟區所使用的儲存設備。</block>
  <block id="89bcbd8e4ba49b7310e9fa748e878c4b" category="inline-link-macro">部署的先決條件</block>
  <block id="88f0ab229fa9d759d74fcf6ab7cc17b1" category="section-title">Docker託管外掛程式方法（1.1/17.03版及更新版本）</block>
  <block id="135b308ed83c53f1516b7c754566d1c4" category="admonition-title">開始之前</block>
  <block id="070ecb002d71e4e7618a4b46a5ba690f" category="admonition">如果您在傳統精靈方法中使用Astra Trident preer Docker 1.3/17.03、請務必先停止Astra Trident程序、然後重新啟動Docker精靈、再使用託管外掛方法。</block>
  <block id="7bf1ee8f4e093050c1cdf1842931af7d" category="list-text">停止所有執行中的執行個體：</block>
  <block id="47b9ec5c8c4439980c63f4188bad5324" category="list-text">重新啟動Docker。</block>
  <block id="5311ac4d72d5c91dcaa39b896d3b8027" category="list-text">請確定您已安裝Docker Engine 17.03（全新1.13）或更新版本。</block>
  <block id="07d6db5e99a0aa19fe76f15efed30ecf" category="inline-link">安裝或更新安裝</block>
  <block id="2c3bc9d0632e0cccc05fdd3c42467df9" category="paragraph">如果您的版本過時、<block ref="ddebe10ca17c0276898872fa2632e8fb" category="inline-link-rx"></block>。</block>
  <block id="f3a29486bed19a90f2da6d007818b427" category="list-title">步驟</block>
  <block id="48afbcf494fc19ee409f5aff48ae32c3" category="list-text">建立組態檔並指定下列選項：</block>
  <block id="9314e9bcd24c80b255fc3e9e697a2ada" category="list-text">「config」：預設檔案名稱為「config.json」、但您可以使用任何名稱、只要在檔案名稱中指定「config」選項即可。組態檔必須位於主機系統的「/etc/netappdvp」目錄中。</block>
  <block id="8798dc2a3b5e61873054923c9f170ac7" category="list-text">記錄層級：指定記錄層級（「debug」、「info」、「warn」、「f誤差」、「fatal」）。預設值為「資訊」。</block>
  <block id="45ed67026a1141006588fcc698646141" category="list-text">「Debug」：指定是否啟用偵錯記錄。預設值為假。如果為true、則會置換記錄層級。</block>
  <block id="3bed6f89999b483af7f55024d9e7c02a" category="list-text">建立組態檔的位置：</block>
  <block id="28156615c51d4bad2ee47d0a9f43f404" category="list-text">建立組態檔：</block>
  <block id="a4574d19d34a14aa0accde782f35318b" category="list-text">開始使用Astra Trident來消耗已設定系統的儲存空間。</block>
  <block id="a9c521f25a3bacb94ad1dd4705b3585f" category="list-text">建立名為「firstVolume」的Volume：</block>
  <block id="4fbca4f67cbe96bc7d7a16691d2912c2" category="list-text">在容器啟動時建立預設Volume：</block>
  <block id="b8e88709dbc4f2f80a96f53f83862704" category="list-text">移除Volume「firstVolume」：</block>
  <block id="0e68ac1d84bfedf203365a9fb37db9ed" category="section-title">傳統方法（1.12版或更早版本）</block>
  <block id="2c1107bda4c1ae7904ab1835c35973b7" category="list-text">請確定您擁有Docker 1.10版或更新版本。</block>
  <block id="b6fdfa2eab3e357687eba5ddec2bea0c" category="paragraph">如果您的版本已過時、請更新安裝。</block>
  <block id="45c61654258cfd16ceec15df7df02138" category="inline-link">請依照您的經銷指示進行</block>
  <block id="07dff22faeb910f375341cfcbd4899fd" category="paragraph">或者、<block ref="9ce989a7f7f995616a47f5dd291ed229" category="inline-link-rx"></block>。</block>
  <block id="588d2fe1c60271cde75dbeba32e0b25b" category="list-text">確保已為您的系統設定NFS和/或iSCSI。</block>
  <block id="03fe5b0d58270efa87041677cac72ad7" category="list-text">安裝及設定NetApp Docker Volume外掛程式：</block>
  <block id="f45f5a64dae951d3e37c9bd382201b06" category="list-text">下載並解壓縮應用程式：</block>
  <block id="b255d9e06a4ca8e9f5bc31c9198426ad" category="list-text">移至Bin路徑中的位置：</block>
  <block id="9ad37c975c341297c49c69353516a727" category="paragraph">精靈啟動後、您可以使用Docker CLI介面來建立及管理磁碟區</block>
  <block id="e3dec3f86b9a3b1be209ab63855ce432" category="list-text">建立Volume：</block>
  <block id="5ff2e3e853922fdb84ef21b85ffdac2e" category="list-text">在啟動容器時配置Docker Volume：</block>
  <block id="8f6a91f5f21d0478e3fd89095fc28ab9" category="list-text">移除Docker Volume：</block>
  <block id="e63e2a2b9c9184e703ff8d93bb92508b" category="section-title">在系統啟動時啟動Astra Trident</block>
  <block id="5b51496da86e5a2073e0c618390c3d2a" category="list-text">將檔案複製到正確的位置。</block>
  <block id="44103de0a164f687d305ad91e919d8ee" category="paragraph">如果執行多個執行個體、則應使用單元檔案的唯一名稱。</block>
  <block id="3223aadc84a3ccb4a3473ba01c895184" category="list-text">編輯檔案、變更說明（第2行）以符合驅動程式名稱和組態檔案路徑（第9行）、以反映您的環境。</block>
  <block id="1edae3931401a32d7dd7dd6e0a2ad563" category="list-text">重新載入系統d以擷取變更：</block>
  <block id="db38a93e27eba57d507611d002ad612f" category="list-text">啟用服務。</block>
  <block id="c7e0a4deeebe264aa7d5f7f3ca3ef77f" category="paragraph">此名稱會根據您在「/r/lib/systemd/system]目錄中命名的檔案而有所不同。</block>
  <block id="baa04490a79e9e8de7fa4cd44e2c6fbb" category="list-text">啟動服務。</block>
  <block id="93c7574cf83c1f01b04891cf2d826cea" category="list-text">檢視狀態。</block>
  <block id="f4f15418284ae7a01b27fccc1af0463a" category="admonition">每當您修改單元檔案時、請執行「stystemctl daem-reload」命令、以瞭解變更內容。</block>
  <block id="0e9e734e557a02db30a20e5ac259cfb9" category="summary">每個儲存驅動程式都有一組不同的選項、您可以在建立磁碟區時指定、以自訂結果。請參閱下方、以瞭解適用於您所設定儲存系統的選項。</block>
  <block id="11e1b165c1d718d825f4bb9aaf0b884e" category="doc">驅動程式專屬的Volume選項</block>
  <block id="bca0712c590c8d3c228bf1044aed730b" category="paragraph">在磁碟區建立作業期間使用這些選項非常簡單。在CLI操作期間、使用「-o」運算子來提供選項和值。這會覆寫Json組態檔中的任何等效值。</block>
  <block id="6021d91bdededf94b8ae37c30e820118" category="section-title">選購的選購配備ONTAP</block>
  <block id="16dc9caa069072a49db7ea7c81a7cf66" category="paragraph">NFS和iSCSI的Volume建立選項包括：</block>
  <block id="d3a07c97b6050b305c7dda0aea1657be" category="paragraph">Volume的大小、預設為1 GiB。</block>
  <block id="69e8c7b4f73d39cea9948875813f7ddd" category="paragraph">精簡或完整配置磁碟區、預設為精簡。有效值為「NONE」（精簡配置）和「Volume」（完整配置）。</block>
  <block id="91853d7e2338a1395280185fc93d4650" category="paragraph">這會將快照原則設定為所需的值。預設值為「無」、表示不會自動建立磁碟區的快照。除非您的儲存管理員加以修改、否則ONTAP 所有的各種系統都會有一個名為「預設」的原則、用來建立並保留六個每小時、每天兩個和每週兩個快照。快照中保留的資料可透過瀏覽至磁碟區任何目錄中的「.snapshot」目錄來還原。</block>
  <block id="b8a0fde33bd7662b7b9cb4158f04ef52" category="paragraph">這會將快照保留設定為所需的百分比。預設值為無值、表示ONTAP 如果您已選取snapshotPolicy、將選取snapshotReserve（通常為5%）、如果snapshotPolicy為無、則選取0%。您可以在組態檔中為所有ONTAP 的支援項目設定預設的snapshotReserve值、也可以將其用作所有ONTAP 不支援ONTAP-NAS-經濟功能的支援項目、作為所有支援項目的磁碟區建立選項。</block>
  <block id="cdaf246fba737b75127faa65456baa30" category="paragraph">設定要用於磁碟區的分層原則。這會決定資料在非作用中（冷）時是否移至雲端層。</block>
  <block id="1c46d85ab16f6b373409ad15260b1b0a" category="paragraph">下列其他選項適用於NFS * Only *：</block>
  <block id="b145a4acc7a577d843f538580013776b" category="paragraph">這會控制Volume本身的權限設定。依預設、權限會設為「-rwxr-x-x'」、或是以數字表示法0755、而「root」則是擁有者。文字或數字格式皆可運作。</block>
  <block id="700d608597316c75fc869190f51cff49" category="paragraph">設定要用於磁碟區的匯出原則。預設值為「預設」。</block>
  <block id="6b068a846d408b1d9ccd2c7220326b9d" category="paragraph">設定用於存取磁碟區的安全樣式。預設值為「UNIX」。有效值為「UNIX」和「mixed」。</block>
  <block id="842aac52866a44b40a5733ce352cf6df" category="paragraph">下列其他選項僅適用於iSCSI *：</block>
  <block id="56efcdcb9168adcb146b4d86bf55e99d" category="cell">設定用於設定iSCSI磁碟區格式的檔案系統。預設值為「ext4」。有效值包括「ext3」、「ext4」和「xfs」。</block>
  <block id="a0ee23c5b4cbd6a28a4143933891f927" category="cell">"paceAllocate（配置）"</block>
  <block id="ff7c0fcd6a31e735a61c001f75426961" category="section-title">範例</block>
  <block id="9e6d454a094b92b0132e48d2369debf5" category="paragraph">請參閱下列範例：</block>
  <block id="be1e1c94a5fc3bb66c2ae9425eeefbdb" category="list-text">建立10GiB Volume：</block>
  <block id="a6490f19f59ecd8e4ed8634990ea366c" category="list-text">使用快照建立100GiB磁碟區：</block>
  <block id="297d0d2fcc555e5037c8d251daf5a620" category="list-text">建立已啟用setuid位元的磁碟區：</block>
  <block id="6e31a0481f4f7e423abcde0bf31025c8" category="paragraph">最小Volume大小為20MiB。</block>
  <block id="a65684b0a191599ad968126dd65f2e9d" category="paragraph">如果未指定快照保留、且快照原則為「無」、Trident將使用快照保留0%。</block>
  <block id="8c05fd71822bf85c290cef86db959f68" category="list-text">建立沒有快照原則且無快照保留的磁碟區：</block>
  <block id="d15d662af6e4417b0b7c134a84ed577c" category="list-text">建立不含快照原則的磁碟區、以及自訂快照保留10%的磁碟區：</block>
  <block id="52a56a468f11c3298931c8e32c938e15" category="list-text">建立具有快照原則和10%自訂快照保留的磁碟區：</block>
  <block id="0a77fdb1c16069c98ebe6510137af9d2" category="list-text">使用快照原則建立磁碟區、並接受ONTAP的預設快照保留（通常為5%）：</block>
  <block id="f6f813eaaff2b296a27b6bf051485d2b" category="section-title">Element軟體Volume選項</block>
  <block id="a514753df071ac540af065b659d1c65c" category="paragraph">元素軟體選項會顯示與磁碟區相關的服務品質（QoS）原則大小和品質。建立磁碟區時、會使用「-o type =service_level」命名法來指定與其相關的QoS原則。</block>
  <block id="f201e088f13d93e3d12b3c0ef78dece3" category="paragraph">使用元素驅動程式定義QoS服務層級的第一步、是建立至少一種類型、並在組態檔中指定與名稱相關的最小、最大和尖峰IOPS。</block>
  <block id="5cb7e4a4b6a51af0b5b09cb230b83422" category="paragraph">其他元素軟體磁碟區建立選項包括：</block>
  <block id="8730c4572b866ffc01a4aefebc896555" category="paragraph">磁碟區大小、預設為1GiB或組態項目... 「預設值」：｛"Size"："5G"｝。</block>
  <block id="d52146098b8ecd83b888289a86e26d19" category="cell">「區塊大小」</block>
  <block id="348ef18ccca06aa29547bd9ad87beebe" category="paragraph">使用512或4096、預設為512或組態項目預設BlockSizes。</block>
  <block id="1daf1c12549d6d3ae75c4d8d5f59d532" category="paragraph">請參閱下列QoS定義範例組態檔：</block>
  <block id="7afe0c73e341cee7c90b4d4dda4600d9" category="paragraph">在上述組態中、我們有三種原則定義：銅級、銀級和金級。這些名稱為任意名稱。</block>
  <block id="cb5b68dacb07bd02a5152bf4ad1de8c6" category="list-text">建立10GiB Gold Volume：</block>
  <block id="89014c611c13195dc852587ef9d2bb16" category="list-text">建立100GiB銅級磁碟區：</block>
  <block id="fc96768681dcf6770119445ffe2537cd" category="summary">若要建立磁碟區、請使用標準的「docker volume」命令、並在需要時指定Astra Trident驅動程式名稱。</block>
  <block id="feabbbf9b5afb31194daf0d8e3ff75dc" category="doc">使用Volume</block>
  <block id="00e5ed77f92b42f144be7dfb7106bf10" category="paragraph">您可以使用標準的「磁碟區」命令、並在需要時指定Astra Trident驅動程式名稱、輕鬆建立、複製及移除磁碟區。</block>
  <block id="dc88dce8ec264777b2f90ec0af744f43" category="section-title">建立Volume</block>
  <block id="a32b09b1335e0afbb640a9412690680d" category="list-text">使用預設名稱建立具有驅動程式的磁碟區：</block>
  <block id="8b5708fe1297b9ca8b3be5b99bf29407" category="list-text">建立具有特定Astra Trident執行個體的Volume：</block>
  <block id="93da65a9fd0004d9477aeac024e08e15" category="inline-link-macro">選項</block>
  <block id="593e5c95e1adc19e8d81719c16b57bc1" category="admonition">如果您未指定任何 <block ref="3a0a40f90bfa29e0eb23418c553e5ef5" category="inline-link-macro-rx"></block>，將使用驅動程式的預設值。</block>
  <block id="1e1e2461d5dfd51f1ebd0eadcba142f4" category="list-text">覆寫預設的Volume大小。請參閱下列範例、以使用驅動程式建立20GiB磁碟區：</block>
  <block id="5149eec9d959a54cf392efaa710541d1" category="admonition">Volume大小以包含整數值的字串表示、並提供選用單位（例如：10g、20GB、3TiB）。如果未指定單位、則預設值為G大小單位可以表示為2（B、KiB、mib、GiB、TiB）或10（B、KB、MB、GB、TB）的冪。簡寫單元使用2（G = GiB、T = TiB、…）的權力。</block>
  <block id="9bc129eac7adf7ea5d8ed1c021fab2dc" category="section-title">移除Volume</block>
  <block id="281a0f40363a276c6ec125244c784112" category="list-text">移除Volume就像移除任何其他Docker Volume一樣：</block>
  <block id="7959e3701f7a7fba7713c7530d496324" category="admonition">使用「Poolidfire - san」驅動程式時、上述範例會刪除及清除磁碟區。</block>
  <block id="5a1345d94751fc14bedf8f6f5e77a0ff" category="paragraph">執行下列步驟以升級適用於Docker的Astra Trident。</block>
  <block id="d50044469c0bf9ab38eff9cf7243fb25" category="section-title">複製磁碟區</block>
  <block id="6798a0701cedf1202e1d70210a3a9a83" category="paragraph">使用「ONTAP-NAS」、「ONTAP-SAN」、「Poolidfire - SAN」和「GCP - CVS儲存驅動程式」時、Astra Trident可以複製磁碟區。使用「ONTAP-NAS-flexgroup」或「ONTAP-NAS-節約」驅動程式時、不支援複製。從現有磁碟區建立新磁碟區、將會產生新的快照。</block>
  <block id="9374b766b9dd78063440afd69afabf38" category="list-text">檢查磁碟區以列舉快照：</block>
  <block id="2747096689037792fa87de7a0e8440e2" category="list-text">從現有的Volume建立新的Volume。這將會產生新的快照：</block>
  <block id="31d9b5ed201aa44dbeae6d17d38c0c6f" category="list-text">從磁碟區上現有的快照建立新磁碟區。這不會建立新的快照：</block>
  <block id="516b30a46da41c6969cb7249d6567905" category="section-title">存取外部建立的磁碟區</block>
  <block id="d8c20bb137be94fec8295c3fc5175b54" category="paragraph">如果容器沒有分割區、而且Astra Trident支援其檔案系統、則您可以使用Trident * Only *來存取外部建立的區塊裝置（或其複製）（例如：無法透過Astra Trident存取「ext4」格式的「dev/sdc1」）。</block>
  <block id="27dce2b92c5c5b89e353888e6cb24dea" category="summary">您可以安全地升級適用於Docker的Astra Trident、而不會對使用中的磁碟區造成任何影響。在升級過程中、針對外掛程式的「docker volume」命令將會短暫失敗、而在外掛程式再次執行之前、應用程式將無法掛載磁碟區。在大多數情況下、這是幾秒鐘的事。</block>
  <block id="0350c5473efd300324aaaadeecc676d2" category="doc">升級或解除安裝Astra Trident</block>
  <block id="f683581d3e75f05f9d9215f9b4696cef" category="section-title">升級</block>
  <block id="ed279061e829314cb0dc7a1708ca5e5b" category="list-text">列出現有的磁碟區：</block>
  <block id="7c256ad076320e18e087b238e9063f3f" category="list-text">停用外掛程式：</block>
  <block id="f4ea3e4191f5bda0b91e08059bf9842a" category="list-text">升級外掛程式：</block>
  <block id="b2449107a206e37587b47513f76a7b27" category="admonition">18.01版的Astra Trident取代了nDVP。您應該直接從「NetApp/ndvp-plugin」映像升級至「NetApp/triident外掛程式」映像。</block>
  <block id="824ba648551a27da6c43705bcd663830" category="list-text">啟用外掛程式：</block>
  <block id="e4c48899ce42f4eb019f54a1a8e66560" category="list-text">確認外掛程式已啟用：</block>
  <block id="c4d884c606b57bb6cb43864e3499d5a2" category="list-text">確認磁碟區可見：</block>
  <block id="558ab0bef1894a7a726109d36632d09d" category="inline-link-macro">已知問題</block>
  <block id="103e515a078c6f2419abc4c84554d67c" category="admonition">如果您要從舊版的Astra Trident（20.10之前版本）升級至Astra Trident 20.10或更新版本、可能會發生錯誤。如需詳細資訊、請參閱 <block ref="6d21ff1c2708107ac3f4ed1a6e27b449" category="inline-link-macro-rx"></block>。如果您遇到錯誤、請先停用外掛程式、然後移除外掛程式、再傳遞額外的組態參數來安裝所需的Astra Trident版本：「Docker外掛程式安裝NetApp/Trident外掛程式：20.10 -別名NetApp --贈與All權限config=config.json」</block>
  <block id="a27dfe771799a09fd55fea73286eb6ab" category="section-title">解除安裝</block>
  <block id="7578be09dc225364649898a30619a336" category="paragraph">執行下列步驟以解除安裝適用於Docker的Astra Trident。</block>
  <block id="867d93c3d1de0e8e75fa408cfadcbba5" category="list-text">移除外掛程式所建立的任何磁碟區。</block>
  <block id="4a28a108f39c07ac09218644ca6e9bb0" category="list-text">移除外掛程式：</block>
  <block id="23c9c608b55b9071002aeddfd6c5563c" category="summary">您必須先在主機上安裝並設定必要的傳輸協定先決條件、才能部署Astra Trident。</block>
  <block id="782bd8949cb40c80fd3f3126eccab35a" category="doc">部署的先決條件</block>
  <block id="b4851e92b19af0c5c82447fc0937709d" category="inline-link-macro">需求</block>
  <block id="d46ecc35447a8c17ef014ff6daf07bba" category="inline-link">安裝或更新</block>
  <block id="1035fa0ac2c3ed19f6ba56cafe7e121f" category="list-text">確認您安裝的Docker版本受支援。如果您的Docker版本過時、<block ref="0b011811ae105895ca4da9769d7e6f99" category="inline-link-rx"></block>。</block>
  <block id="7760c52227ccba10f5bc395571ca7a60" category="list-text">確認已在您的主機上安裝及設定通訊協定先決條件：</block>
  <block id="888a77f5ac0748b6c8001822417df8b6" category="cell">傳輸協定</block>
  <block id="696c660ff8d9323e55146a6dbd4e4088" category="cell">作業系統</block>
  <block id="c441ee50c88f6e5e3a7c69fc69dad8b8" category="cell">命令</block>
  <block id="1d1a594959ec615f56516f5d0f5e8ddb" category="cell">NFS</block>
  <block id="e0b19bed1baf46134f4079471e193b01" category="paragraph">「Udo yum install -y ns-utils」</block>
  <block id="1054b270f1635a3dd940e995cbc7ed78" category="paragraph">「Udo apt-Get install -y nfs通用」</block>
  <block id="e4e1c13bb0b14f6cb7608cbecea948ef" category="cell">iSCSI</block>
  <block id="8cd5b262d8d9950185128d052d55f7c8" category="list-text">安裝下列系統套件：</block>
  <block id="6bbf3284462dc8b9b90cb1adcd1c0ff4" category="paragraph">「Udo yum install -y lsscsi iscsi-initiator－utils sg3_utils device-mapper-multipath'</block>
  <block id="8018f5d6ddc4e67678d1659757828deb" category="list-text">啟用並啟動「iSCSI」：</block>
  <block id="28ea88befb3a7f6a8e98e7ea7a4fd35f" category="paragraph">「Udo apt-Get install -y open-iscsi sg3-utils multipath-tools scsitols」</block>
  <block id="d0b02d407fd5c75d0e7eac549a852191" category="list-text">啟用多重路徑：</block>
  <block id="8bec0eea71974a9138ccfa96983ddcfc" category="list-text">確保運行的是"iscsid"和"multipathd"：</block>
  <block id="4cfa22b281cbd36e1a275d61ec23a9b4" category="summary">您可以收集記錄以協助疑難排解。收集記錄的方法會因執行Docker外掛程式的方式而有所不同。</block>
  <block id="fe1786b49549e8e06a89b9c57d7fc514" category="doc">收集記錄</block>
  <block id="83f4d02d2dd31f09291e098bf4ae502b" category="list-text">如果您使用建議的託管外掛程式方法執行Astra Trident（亦即使用「docker plugin」命令）、請依照下列方式檢視：</block>
  <block id="c28722abec5c1daefa02916119bbff91" category="list-text">若要啟用除錯記錄、請安裝已啟用除錯記錄的外掛程式：</block>
  <block id="b142025dd533fb27bf7df1a93c55e311" category="paragraph">或者、當外掛程式已安裝時、請啟用偵錯記錄功能：</block>
  <block id="2aa0797ce5da04d1c6f027c9b3276483" category="section-title">一般疑難排解秘訣</block>
  <block id="94d799ff06bdb0aedb7b64151dac73d7" category="list-text">新使用者最常遇到的問題是組態錯誤、導致外掛程式無法初始化。發生這種情況時、當您嘗試安裝或啟用外掛程式時、可能會看到如下訊息：</block>
  <block id="fe6b4529e706ebc0f7e3668d3230d029" category="paragraph">「精靈的錯誤回應：請撥打UNIX /run / dock/plugins/&lt;id&gt;/NetApp.sock：Connect：沒有這類檔案或目錄」</block>
  <block id="3d924bd43304301ed127cbbd303a4fa6" category="paragraph">這表示外掛程式無法啟動。幸運的是、外掛程式是以全方位的記錄功能打造而成、可協助您診斷大部分可能遇到的問題。</block>
  <block id="79c820c2d64495c47651e58e73f97294" category="list-text">如果將PV掛載到容器時發生問題、請確定已安裝並執行「rpcbind」。使用主機作業系統所需的套件管理程式、檢查「rpcbind」是否正在執行。您可以執行「stystemctl狀態rpcbind」或其等效項目來檢查rpcbind服務的狀態。</block>
  <block id="c2bccf4258de19dd1e03e25f66d80f98" category="summary">尋找使用Astra Trident搭配Docker時已知問題的相關資訊。</block>
  <block id="3a3b7ac2e39541ea05707ccd6eb054d4" category="doc">已知問題與限制</block>
  <block id="ba6bb78ba304725781af9e773f1957e2" category="paragraph">尋找使用Astra Trident搭配Docker時已知問題和限制的相關資訊。</block>
  <block id="8bb35988eac5a841d2af092365f1aa42" category="section-title">從舊版升級Trident Docker Volume外掛程式至20.10及更新版本、會導致升級失敗、且不會發生此類檔案或目錄錯誤。</block>
  <block id="7aebfa1e2291377e040de92d7f7f335f" category="list-title">因應措施</block>
  <block id="f49f11bc5398ac13e500d16eac424e77" category="list-text">停用外掛程式。</block>
  <block id="cc3dae6dd6670606c41c62b10273605e" category="list-text">移除外掛程式。</block>
  <block id="6010901b5c4bb6ad671e6f07fcc038d8" category="list-text">提供額外的「config」參數、重新安裝外掛程式。</block>
  <block id="e527ab8c1c51767e38a3603d51d2d6e5" category="section-title">Volume名稱長度必須至少2個字元。</block>
  <block id="45c9df594d13c8a5e5472503d5f14b01" category="inline-link">請參閱錯誤25773</block>
  <block id="c167efd138e06a8ee59885983c5ddf69" category="admonition">這是Docker用戶端的限制。用戶端會將單一字元名稱解譯為Windows路徑。<block ref="f082f49b923960d888c1d98a1e9f4fcb" category="inline-link-rx"></block>。</block>
  <block id="3c4f022a33d4aace82350c9966fa238b" category="section-title">Docker swarm具有某些行為、可防止Astra Trident在每個儲存設備和驅動程式組合中支援它。</block>
  <block id="a7c3ff464b1ef4364de4df03d66bee5e" category="list-text">Docker swarm目前使用Volume名稱、而非Volume ID做為其唯一的Volume識別碼。</block>
  <block id="61ab6f5cff8de89cba95d9e3bbc4ff71" category="list-text">Volume要求會同時傳送至swarm叢集中的每個節點。</block>
  <block id="521e51548c3f7c96e72d432edf4af42d" category="list-text">Volume外掛程式（包括Astra Trident）必須在swarm叢集中的每個節點上獨立執行。由於功能不一、ONTAP 「ONTAP-NAS」和「ONTAP-SAN」驅動程式的運作方式、因此它們是唯一能夠在這些限制範圍內運作的驅動程式。</block>
  <block id="69418caf7b92279073f695612c68de99" category="paragraph">其餘的驅動程式可能會受到競爭狀況等問題的影響、導致在單一要求中建立大量磁碟區、而不需要明確的「贏家」；例如、Element的功能可讓磁碟區擁有相同名稱但不同ID。</block>
  <block id="48cbf13b390ff021b130d5f372147af5" category="paragraph">NetApp已向Docker團隊提供意見回饋、但沒有任何未來追索的跡象。</block>
  <block id="29cff148f43bc689eb14447b333f6f83" category="section-title">如果配置的是某個功能區、則如果第二個功能區的一個或多個集合體與要配置的功能區相同、則不提供第二個功能區。FlexGroup ONTAP FlexGroup FlexGroup FlexGroup</block>
  <block id="c412f3b9b270250331aa1ef4102ef8c1" category="summary">如果您想要同時使用多個儲存組態、則需要使用多個Astra Trident執行個體。多個執行個體的關鍵是在主機上具現化Trident時、使用容器化外掛程式的-alias選項、或是-volume驅動程式選項、為它們指定不同的名稱。</block>
  <block id="4f07a71d2e33da91dec1396b7a204a40" category="doc">管理多個Astra Trident執行個體</block>
  <block id="8f327f2ceda84404290184a7454160ed" category="paragraph">當您想要同時使用多個儲存組態時、需要多個Trident執行個體。多個執行個體的關鍵是在主機上具現化Trident時、使用容器化外掛程式的「-alias」選項或「-volume驅動程式」選項、為它們指定不同的名稱。</block>
  <block id="52ef1c6ffefaba3249f208369424635d" category="section-title">Docker託管外掛程式（1.3/17.03版或更新版本）的步驟</block>
  <block id="547c4a5f7c863aad85f5265c03ed72ea" category="list-text">啟動第一個指定別名和組態檔的執行個體。</block>
  <block id="991ac134f22efa2bb955362d95827ae5" category="list-text">啟動第二個執行個體、指定不同的別名和組態檔。</block>
  <block id="aa0dc0ac69e69c434317798e1aa9842b" category="list-text">建立磁碟區、將別名指定為驅動程式名稱。</block>
  <block id="5ae25a45ab76de161f87fc41a84f746d" category="paragraph">例如、黃金Volume：</block>
  <block id="6dab7c53f6e3de2eae52e928dfe5b861" category="paragraph">例如、對於銀級Volume：</block>
  <block id="67754cb209925946943e297b3a8be344" category="section-title">傳統的步驟（1.12版或更早版本）</block>
  <block id="cbd128765e82966ed5e454a99b22e688" category="list-text">使用自訂驅動程式ID以NFS組態啟動外掛程式：</block>
  <block id="51c923daa4caf6aea6d24201b73871b6" category="list-text">使用自訂驅動程式ID以iSCSI組態啟動外掛程式：</block>
  <block id="dd72ade865d731ba8f6a6fc4c8ccd86f" category="list-text">為每個驅動程式執行個體配置Docker磁碟區：</block>
  <block id="8e2044cc9d4e8f515ad4809a68d75465" category="paragraph">例如、對於NFS：</block>
  <block id="d39eb6e4299503c5d451d19b9645be42" category="paragraph">例如、對於iSCSI：</block>
  <block id="30d965eef5ba25c6b9998ae38270b43e" category="doc">法律聲明</block>
  <block id="e9c44bbfd795a5d63d74c6a77afee70d" category="paragraph">法律聲明提供版權聲明、商標、專利等存取權限。</block>
  <block id="6016a2b341113bf496b719905398ecd2" category="section-title">版權</block>
  <block id="126a02652da6de02962cf1b654fd6376" category="section-title">商標</block>
  <block id="c4ce4761e466527d26b3e3d5ed1006fd" category="paragraph">NetApp 、 NetApp 標誌及 NetApp 商標頁面上列出的標章均為 NetApp 、 Inc. 的商標。其他公司與產品名稱可能為其各自所有者的商標。</block>
  <block id="be89498d2f8a22ce47c02ba9795fe2af" category="section-title">專利</block>
  <block id="d0b19d36be2c5f16e9aef46c8a452d3d" category="paragraph">如需最新的 NetApp 擁有專利清單、請參閱：</block>
  <block id="56c34c6410dd45c5cec44149ad0ce037" category="section-title">隱私權政策</block>
  <block id="c0227cef6f07a8cd2ac72f2945b031aa" category="section-title">開放原始碼</block>
  <block id="0172b29a9f5d94dc62ee592a98183f3b" category="paragraph">您可以在每個版本的通知檔案中檢閱NetApp軟體中用於Astra Trident的協力廠商版權與授權、網址為<block ref="4a3c8c5a408c6db1c44c04391a8a0a2f" category="inline-link-rx"></block>。</block>
  <block id="2a778cf7220cdde142651975e1bcd90f" category="paragraph">在虛擬資源池清單之外指定的任何層面、都會對後端進行全域設定、並套用至所有虛擬資源池、而每個虛擬資源池則可個別指定一個或多個層面（覆寫任何後端全域層面）。</block>
  <block id="e1b3ec89ead7f83a9245ed5c9cacfdbf" category="cell">營運者</block>
  <block id="499badcb6f450c7f46c51d873eb84286" category="cell">`='</block>
  <block id="354653142ec321459dfd6d71444e992e" category="cell">效能=優異</block>
  <block id="5a5292b0a0d0379f0f1b12801b09b266" category="cell">！！=</block>
  <block id="eccde6822783bd75209c9b6a2d357f6c" category="cell">效能！=極致</block>
  <block id="ae2bef277194f73d24a36a78009aac1e" category="cell">《in》</block>
  <block id="f8cf8c23afb5459dbf7c24b685caf85b" category="cell">位置（東部、西部）</block>
  <block id="1a031eecbce49366e550273b9321b909" category="cell">《不」</block>
  <block id="b5585f3f9b45f391fee5dd15e6516450" category="cell">效能附註（銀、銅）</block>
  <block id="4d5445eb6c70cdab8d3ad5e71367f42a" category="summary">深入瞭解Astra Trident如何為其驅動程式建立磁碟區快照。</block>
  <block id="e9c3828cd06711f9036bb4ce862a32c5" category="doc">Volume快照</block>
  <block id="9dbabbadda024bb7b1d0db43ab31b45f" category="list-text">對於「Poolidfire - san」驅動程式、每個PV對應至NetApp Element 在該軟體/NetApp HCI叢集上建立的LUN。Volume Snapshot以基礎LUN的元素快照來表示。這些快照是時間點複本、只佔用少量系統資源和空間。</block>
  <block id="34f731018ae783f70901b14b4950c3a7" category="list-text">使用「ONTAP-NAS」和「ONTAP-SAN」驅動程式時、ONTAP 不只是FlexVol 指時間點的複本、還會佔用FlexVol 整個過程中的空間。這可能會產生磁碟區中的可寫入空間量、以便在建立/排程快照時縮短時間。解決此問題的一種簡單方法、就是透過Kubernetes調整大小來擴充磁碟區。另一個選項是刪除不再需要的快照。當透過Kubernetes建立的Volume Snapshot被刪除時、Astra Trident會刪除相關的ONTAP 功能快照。不透過Kubernetes建立的支援快照也可以刪除。ONTAP</block>
  <block id="ae8e28c37a725c4bb4a74663ac8615ea" category="summary">深入瞭解Astra Trident如何使用Volume存取群組。</block>
  <block id="b4621305109716b02eed0cf25fabab13" category="doc">Volume存取群組</block>
  <block id="33911b1eec54b4b5a7fbc504e6569989" category="inline-link">Volume存取群組</block>
  <block id="649833006ff7b612c3d988173b6417d5" category="paragraph">深入瞭解Astra Trident的使用方式<block ref="783dd6ea9e0b09c84db9ccd072a61c55" category="inline-link-rx"></block>。</block>
  <block id="e93c18adf30bc91499234d0ec7863499" category="admonition">如果您使用的是CHAP、建議您略過本節、以簡化管理並避免以下所述的擴充限制。此外、如果您在「csi」模式中使用Astra Trident、則可以忽略本節。Astra Trident在安裝為增強的SCSI資源配置程式時、會使用CHAP。</block>
  <block id="3c56a859b413098b6bf2c54aff32a842" category="paragraph">Astra Trident可使用Volume存取群組來控制其所配置之磁碟區的存取。如果停用CHAP、除非您在組態中指定一或多個存取群組ID、否則會尋找稱為「Trident」的存取群組。</block>
  <block id="dff8ca466bae899e4dbc68c3a552033f" category="paragraph">對於具有超過64個節點的Kubernetes叢集、您應該使用多個存取群組。每個存取群組最多可包含64個IQN、每個磁碟區可屬於四個存取群組。在設定最多四個存取群組的情況下、叢集中最多256個節點的任何節點都能存取任何磁碟區。如需Volume存取群組的最新限制、請參閱<block ref="ac4000c3a85e5909daa6593f9f0617fd" category="inline-link-rx"></block>。</block>
  <block id="89c3bcf0ecc1114f8d19734d9156cb40" category="doc">資源配置</block>
  <block id="2bd42f922a8c0b54b90557eba2071a76" category="paragraph">將後端儲存資源池與儲存類別建立關聯、取決於儲存類別所要求的屬性及其「儲存資源池」、「附加儲存資源池」及「排除儲存資源池」清單。當您建立儲存類別時、Trident會比較每個後端所提供的屬性和集區、以及儲存類別所要求的屬性和集區。如果儲存資源池的屬性和名稱符合所有要求的屬性和資源池名稱、Astra Trident會將該儲存資源池新增至該儲存類別適用的儲存資源池集合。此外、Astra Trident也會將「addionalStoragePools」清單中列出的所有儲存集區新增至該集、即使其屬性無法滿足所有或任何儲存類別的要求屬性。您應該使用「排除StoragePools」清單來覆寫及移除儲存類別的儲存資源池。每次新增後端時、Astra Trident都會執行類似的程序、檢查其儲存集區是否符合現有儲存類別的儲存集區、以及是否移除任何已標記為「已排除」的儲存資源池。</block>
  <block id="668ccb4dd1c284f07a3062637c57d21a" category="paragraph">Astra Trident接著會使用儲存類別與儲存資源池之間的關聯、來決定要在何處配置磁碟區。當您建立Volume時、Astra Trident會先取得該磁碟區儲存類別的儲存集區集區集區、 此外、如果您指定磁碟區的傳輸協定、Astra Trident會移除無法提供所需傳輸協定的儲存資源池（例如、NetApp HCI / SolidFire後端無法提供檔案型磁碟區、ONTAP 而非由NAS後端提供區塊型磁碟區）。Astra Trident會隨機排列此結果集的順序、以利均勻散佈磁碟區、然後透過磁碟區重複資料、進而嘗試在每個儲存集區上配置磁碟區。如果某個項目成功、則會成功傳回、並記錄程序中發生的任何故障。Astra Trident返回故障*僅當*無法在* all *上配置所需儲存類別和傳輸協定可用的儲存資源池時。</block>
  <block id="48cf24486d9a8e65a142b25682f19949" category="cell">驅動程式</block>
  <block id="1b5e109e8afd1f9b7f5bbf951eea3442" category="cell">Volume模式</block>
  <block id="d5e2d9f8d8f10044e38b71b49e675d2e" category="cell">支援的存取模式</block>
  <block id="15971126972a002fcddb2c507534e371" category="cell">支援的檔案系統</block>
  <block id="00055dac2ba112b87a95a368075b9561" category="cell">「ONTAP-NAS」</block>
  <block id="ac52cf637478f3656a1fdee5c02324fd" category="paragraph">檔案系統</block>
  <block id="cecdaed309330a9e7dea16b2076957ee" category="cell">《ONTAP-NANAS經濟》</block>
  <block id="2b8ac774302bd45e0ad531e434d8cd6d" category="cell">「ONTAP-NAA-flexgroup」</block>
  <block id="cd17e7ed84c40a0ff5ecb8b625b1f186" category="cell">「ONTAP-SAN」</block>
  <block id="e1e4c8c9ccd9fc39c391da4bcd093fb2" category="paragraph">區塊</block>
  <block id="a029cca698cbf05f07897f86c43cf9e8" category="paragraph">《xfs》、《ext3》、《ext4》</block>
  <block id="73b781a615cea2647a87ff2035e296b1" category="cell">《ONTAP-san經濟》</block>
  <block id="bb453665f57f6823950856f7a9bad0c3" category="inline-link-macro">Astra產品系列</block>
  <block id="4bd05efa612e48dd723de2bdd29f88e2" category="section-title">支援的Kubernetes叢集架構</block>
  <block id="85b179f2c10f76f0171b4d9d3f2d5171" category="paragraph">下列Kubernetes架構支援Astra Trident：</block>
  <block id="c91cda04d3ac5ae2da327d347d4bbefe" category="cell">Kubernetes叢集架構</block>
  <block id="eaa4dc5078017a5c5bebf383ab6f5124" category="cell">支援</block>
  <block id="c0057eecd4b1a67d11dc801b8992a574" category="cell">預設安裝</block>
  <block id="0c69c79a8788e0e4572d0c4838e69401" category="cell">單一主機、運算</block>
  <block id="93cba07454f06a4a960172bbd6e2a435" category="cell">是的</block>
  <block id="1fc3441370ae575a64d605fcd15a05fd" category="cell">多重主機、運算</block>
  <block id="7cb2eb9488f3532834f7ef233ae894dd" category="cell">Master、「etcd」、運算</block>
  <block id="5e5f49db20e29f6377e57e98932dae57" category="cell">主要、基礎架構、運算</block>
  <block id="ae663d0d321764bd88b8d864cd3afc9e" category="section-title">什麼是Astra？</block>
  <block id="d13de4a83d7b44c2e65495def8ef1c7b" category="section-title">以取得更多資訊</block>
  <block id="fa80e31eb77798b8dd995ddd9553be6e" category="inline-link">NetApp Astra產品系列</block>
  <block id="ef22ff17624b3faeed227ce5c717eb5f" category="inline-link">Astra Control Service文件</block>
  <block id="0ae0ea6967e9321db008cee4ad5f290c" category="list-text"><block ref="0ae0ea6967e9321db008cee4ad5f290c" category="inline-link-rx"></block></block>
  <block id="3a4b2c66d4bdac6ce0e3340c71a39eda" category="inline-link">Astra Control Center文件</block>
  <block id="ea643bf7aaf130341a17f697a7009368" category="list-text"><block ref="ea643bf7aaf130341a17f697a7009368" category="inline-link-rx"></block></block>
  <block id="9d6ffa6ef31bd0b92876314219f18ef5" category="inline-link">Astra API文件</block>
  <block id="9c2cf0e947812ecb3fc0bfccaa8b3c61" category="list-text"><block ref="9c2cf0e947812ecb3fc0bfccaa8b3c61" category="inline-link-rx"></block></block>
  <block id="15b7c7ffe264d7b8c61915ff2a6ef96c" category="section-title">後端組態選項</block>
  <block id="9d370350f8d0178b5dfbec9def10d13a" category="paragraph">如需後端組態選項、請參閱下表：</block>
  <block id="83f499a540b1323009c200d6f8cc9396" category="cell">參數</block>
  <block id="5aae2c40b50d296edbd4ba9cfb462b49" category="cell">儲存驅動程式名稱</block>
  <block id="5afd6479855e8d63f324b6ec2fa787b4" category="cell">自訂名稱或儲存後端</block>
  <block id="a0f3a965c12688befda99da850903dcb" category="cell">「AutoExpportPolicy」</block>
  <block id="b4ad0dff08149092bc3e4b16572af575" category="cell">《AutoExpportCIDR》（自動匯出CTR）</block>
  <block id="567c7f0eca746ed7513764be5ecf6d03" category="cell">""（預設不強制執行）</block>
  <block id="f2f2c7c3c767da610bd95934104674f6" category="cell">「DebugTraceFlags」</block>
  <block id="37a6259cc0c1dae299a7866489dff0bd" category="cell">null</block>
  <block id="eea443d4fcc24d4cd2cab08c2a6c062f" category="cell">《標籤》</block>
  <block id="88dce60232453383ab0d1c3c59cc931d" category="admonition">除非您正在進行疑難排解並需要詳細的記錄傾印、否則請勿使用「debugTraceFlags」。</block>
  <block id="c1a0e97f953c948568aed6c134fc9711" category="cell">要使用的匯出原則</block>
  <block id="31ed61cc3c85d0bb697cd12b77f37fd1" category="cell">保留給快照的磁碟區百分比</block>
  <block id="c07fbc0b2a1a865fe9e3a55c05b4f690" category="cell">"假"</block>
  <block id="84d2c2c768bd1900489bad5fb46b4aac" category="cell">「qosPolicy」</block>
  <block id="9d4568c009d203ab10e33ea9953a0264" category="cell">"</block>
  <block id="3ad256eea0abb551eaab63c84aa3d1f9" category="paragraph">建立後端組態檔之後、請執行下列命令：</block>
  <block id="a61ed3c1ecae587dbee1f2c0ace81e3b" category="paragraph">如果後端建立失敗、表示後端組態有問題。您可以執行下列命令來檢視記錄、以判斷原因：</block>
  <block id="8427b84145b88f048d5caa532324cd11" category="paragraph">識別並修正組態檔的問題之後、您可以再次執行create命令。</block>
  <block id="e8b9c3a9859a62e9a58431c3b61f75d5" category="doc">管理儲存類別</block>
  <block id="14f4c7abe09c4481722f1fa6563f2604" category="section-title">建立儲存類別</block>
  <block id="0fe0aa7b9b7529f66030afb1629507bb" category="section-title">刪除儲存類別</block>
  <block id="4bf50148821c75f616a96daca9255e6f" category="paragraph">若要從Kubernetes刪除儲存類別、請執行下列命令：</block>
  <block id="65494a0b3404ce637afd88bcb7c82998" category="paragraph">「&lt;storage－class&gt;'」應改用您的儲存類別。</block>
  <block id="a5f526f5d63d827ce2c0146a20cd2ff7" category="paragraph">透過此儲存類別所建立的任何持續磁碟區都將維持不變、Astra Trident將繼續管理這些磁碟區。</block>
  <block id="e606165355271961ba07945766fbf83a" category="section-title">檢視現有的儲存類別</block>
  <block id="7c237bc6c124137d25df2dec1cb3e528" category="list-text">若要檢視現有的Kubernetes儲存類別、請執行下列命令：</block>
  <block id="4aae22fbb9c0d354d0a9c15c6c126d89" category="list-text">若要檢視Kubernetes儲存類別詳細資料、請執行下列命令：</block>
  <block id="bed443a9c5577e1043c277e8ebbb542f" category="list-text">若要檢視Astra Trident的同步儲存類別、請執行下列命令：</block>
  <block id="db66cf4d314ab7a719a76ed3af1b0173" category="list-text">若要檢視Astra Trident的同步儲存類別詳細資料、請執行下列命令：</block>
  <block id="ce32eb748bd7452bd6ee6d1d7ad6d3a7" category="section-title">設定預設儲存類別</block>
  <block id="f30a1542c01c3c493f3c01c88dfe5fcd" category="paragraph">Kubernetes 1.6新增了設定預設儲存類別的功能。如果使用者未在「持續磁碟區宣告」（PVc）中指定一個、則此儲存類別將用於配置「持續磁碟區」。</block>
  <block id="7c435ae4763642458286cb691812ea55" category="list-text">在儲存類別定義中、將「shorageclass.Kubernetes.IO/as-default-Class」註釋設為true、以定義預設儲存類別。根據規格、任何其他值或不存在附註都會解譯為假。</block>
  <block id="61fd76f55d29aaceb4a6ee09a318dc45" category="list-text">您可以使用下列命令、將現有的儲存類別設定為預設的儲存類別：</block>
  <block id="800477137444bec636483de85335cbb5" category="list-text">同樣地、您也可以使用下列命令移除預設儲存類別註釋：</block>
  <block id="2d2f31c3012657fd7b38b41312d1a0b8" category="paragraph">Trident安裝程式套件中也有包含此附註的範例。</block>
  <block id="6c36cb9c072dc4cb9e163c44568f6a91" category="section-title">識別儲存類別的後端</block>
  <block id="dc0742ede78913414129866d60898f67" category="paragraph">這是您可以用Json回答的問題類型範例、其中的「tridentctl」輸出用於Astra Trident後端物件。這會使用「jq」公用程式、您可能需要先安裝。</block>
  <block id="ef1161058705470bb877fbce688eea9e" category="summary">深入瞭解如何使用ONTAP 支援支援功能的SAN驅動程式來設定支援功能的後端。ONTAP</block>
  <block id="29db8b676d0a02f8179869506102c8ce" category="doc">使用ONTAP 不支援的Cloud Volumes ONTAP SAN驅動程式來設定後端</block>
  <block id="133184f8c608809bdc057abf1397d10d" category="paragraph">深入瞭解如何使用ONTAP 支援功能的功能和功能性SAN驅動程式來設定功能性的後端。ONTAP Cloud Volumes ONTAP</block>
  <block id="ce8828fc10a926c196951c9bdd0d534d" category="section-title">使用者權限</block>
  <block id="96c17dbe45e7351fb2a4f71956c25e0c" category="paragraph">Astra Trident希望以ONTAP 支援或SVM管理員的身分執行、通常是使用「admin」叢集使用者或「vsadmin」SVM使用者、或使用具有相同角色的不同名稱使用者。對於Amazon FSx for NetApp ONTAP 等部署、Astra Trident預期會使用ONTAP 叢集「fsxadmin」使用者或「vsadmin」SVM使用者、或是具有相同角色之不同名稱的使用者、來執行成一個或多個SVM管理員。「fsxadmin」使用者是叢集管理使用者的有限替代。</block>
  <block id="4937b52eb2cb058f225b69b2caafaf29" category="admonition">如果您使用「limitAggregateusage」參數、則需要叢集管理權限。使用Amazon FSx for NetApp ONTAP 支援Astra Trident時、「limitAggregateusage」參數無法搭配「vsadmin」和「fsxadmin」使用者帳戶使用。如果您指定此參數、組態作業將會失敗。</block>
  <block id="2941c38dbb7c39c325787067c0540247" category="summary">瞭解如何使用「kubecll」來執行後端管理作業。</block>
  <block id="bffb766af67c15f14cae35f03dd6f4a9" category="doc">以KECBECVL執行後端管理</block>
  <block id="634b471e6af84767e06324552492b533" category="section-title">刪除後端</block>
  <block id="20309eb77b701e6c49ca6b99a8f93f90" category="paragraph">刪除「TridentBackendConfig」（TridentBackendConfig）之後、即指示Astra Trident刪除/保留後端（根據「刪除原則」）。若要刪除後端、請確定「刪除原則」已設定為刪除。如果只要刪除「TridentBackendConfig」、請確定「刪除原則」已設定為保留。這可確保後端仍存在、並可使用「tridentctl」進行管理。</block>
  <block id="337d79852891a37d41285c9101c3fff4" category="paragraph">執行下列命令：</block>
  <block id="3fa37f688874143cd423aabca8075ffb" category="paragraph">Astra Trident並不會刪除「TridentBackendConfig」所使用的Kubernetes Secrets。Kubernetes使用者負責清除機密。刪除機密時必須小心。只有在後端未使用機密時、才應刪除這些機密。</block>
  <block id="d694c8966214ec6d0068c0ab2951b65c" category="section-title">檢視現有的後端</block>
  <block id="265ab4809f08d248e5045a8638ac7afa" category="paragraph">您也可以執行「tridentctl Get backend -n trident」或「tridentctl Get backend -o yaml -n trident」、以取得所有後端的清單。這份清單也會包含以「tridentctl」建立的後端。</block>
  <block id="93dbcf0189ff94d39230d2e3726969ab" category="section-title">更新後端</block>
  <block id="93700a3ea9dc6d858638cd66cd2f2bfa" category="paragraph">更新後端可能有多種原因：</block>
  <block id="56cdd71a65518838d73e00276ed6fab1" category="list-text">儲存系統的認證資料已變更。若要更新認證資料、必須更新「TridentBackendConfig」物件中使用的Kubernetes Secret。Astra Trident會自動以提供的最新認證資料更新後端。執行下列命令以更新Kubernetes Secret：</block>
  <block id="d38f034e9aa082af3ec19c23caff4b0f" category="paragraph">如果後端更新失敗、後端仍會繼續維持其最後已知的組態。您可以執行「kubecl Get tbc &lt;tbc-name&gt;-o yaml -n trident」或「kubecl描述tbc &lt;tbc-name&gt;-n trident」來檢視記錄以判斷原因。</block>
  <block id="5878b59fb3a8430928026b63b5ca336f" category="paragraph">識別並修正組態檔的問題之後、即可重新執行update命令。</block>
  <block id="28b0abcecaf7a63edb46e4e137337018" category="doc">設定Azure NetApp Files 一個靜態後端</block>
  <block id="07e7004c50a67a3e4e366b4ca1c28e3d" category="paragraph">若要設定及使用<block ref="24a785881ff1cdf191a2239811dc9597" category="inline-link-rx"></block> 後端、您需要下列項目：</block>
  <block id="66d640a9a050b05e6a914cbcd88a1e2e" category="list-text">Azure訂閱提供的「SubscriptionID」Azure NetApp Files （含功能不支援的功能）。</block>
  <block id="3e566c45584d66d2ab94c2108f7c3488" category="cell">「Azure - NetApp-Files」</block>
  <block id="9dd18f393b35bf22098cf53e9c1c7fa6" category="cell">驅動程式名稱+「_」+隨機字元</block>
  <block id="1c65f12b4d30114593cc01384938cb5f" category="cell">其中一種是「標準」、「高級」或「超高」</block>
  <block id="b21b08bb55acd409e40e9b45edd3bb34" category="cell">""（隨機）</block>
  <block id="8fce436e09a08bd124727374d3e1d1d5" category="cell">要建立新磁碟區的Azure位置名稱</block>
  <block id="016a4b469916e37291cfe2f7fab49aaf" category="cell">"來源群組"</block>
  <block id="66d09fbe1165f3d10b368cbe0cc029f4" category="cell">用於篩選已探索資源的資源群組清單</block>
  <block id="36cbcb8a57112362b05d06b9fe037a6e" category="cell">「[]」（無篩選器）</block>
  <block id="d4b4343f054233d7d339bb1501425fd4" category="cell">《netappAccounts》</block>
  <block id="61476ef20a8015760b9cb3c1bd0ea435" category="cell">篩選探索資源的NetApp帳戶清單</block>
  <block id="722c7b4409fa4d1fe6aaa2902ae66473" category="cell">《容量Pools》</block>
  <block id="225abbb59bc0bbaa2a5852ada333b31b" category="cell">用於篩選已探索資源的容量集區清單</block>
  <block id="f2a5b99a63a463017b3e5f5848444d9a" category="cell">「[]」（無篩選器、隨機）</block>
  <block id="b9cc8276829a756e7a22476617204267" category="cell">精細控制NFS掛載選項。</block>
  <block id="2d1474e8b52ef42851337fb3fef4e1a1" category="cell">"nfsves=3"</block>
  <block id="2288620b3dc019c6359bcc7f50b72ab3" category="cell">如果要求的磁碟區大小高於此值、則資源配置失敗</block>
  <block id="91b3c29beb3641dce2fcf3d2382fac4f" category="cell">疑難排解時要使用的偵錯旗標。範例：「\{"API"：假、「方法」：真、「探索」：true｝。除非您正在進行疑難排解並需要詳細的記錄傾印、否則請勿使用此功能。</block>
  <block id="a1fa27779242b4902f7ae3bdd5c6d508" category="cell">類型</block>
  <block id="520d0db389f362bf79ef56ca0af3dcab" category="cell">格式</block>
  <block id="dde92bca1b59f0db813ef42a2688752e" category="cell">資源群組</block>
  <block id="671e72ca3ef632233f4c27dfef1ec109" category="cell">&lt;資源群組&gt;</block>
  <block id="ac252743de820aac9183d9f76d4bed67" category="cell">NetApp帳戶</block>
  <block id="2bf2783c6d0d867a9fe629138b38bd84" category="cell">資源群組//&lt;NetApp帳戶&gt;</block>
  <block id="9eea1c08013c37f1499f428378764a08" category="cell">容量資源池</block>
  <block id="01c656d6b97f45a90022ee307283ae01" category="cell">資源群組//&lt;NetApp帳戶&gt;/&lt;容量資源池&gt;</block>
  <block id="bf76cafc47141522dca89c4d6e25b822" category="cell">虛擬網路</block>
  <block id="8c9309282517a29ad09b10443d825c7c" category="cell">資源群組//&lt;虛擬網路&gt;</block>
  <block id="9770c6469e9d27585d6c0c389ede7bc3" category="cell">子網路</block>
  <block id="7addf9faaab78a084548d05b695cd2e2" category="cell">資源群組//&lt;虛擬網路&gt;/&lt;子網路&gt;</block>
  <block id="1274e36c193ec0ce8b5c49d5e78ffd7b" category="cell">「0.00.0.0/0」</block>
  <block id="08ee53e1d5cefb7967a295e98036598e" category="cell">控制.snapshot目錄的可見度</block>
  <block id="ef81b740be2293b7e3c41047afe98764" category="cell">100公克</block>
  <block id="976a6dc52dbcabb541efa0a91e922604" category="cell">""（預覽功能、訂閱時需要白名單）</block>
  <block id="25f4894ddaab3c1182f12732d3bcf889" category="section-title">範例1：最低組態</block>
  <block id="a78703e6fcb2511d5a565496df5b2082" category="section-title">範例2：使用容量集區篩選器的特定服務層級組態</block>
  <block id="725ae241ec74eed978f0b099030236b8" category="section-title">範例3：進階組態</block>
  <block id="8f828c7344e7fe65d66237a25193068b" category="summary">瞭解如何準備使用ONTAP 支援不支援的SAN驅動程式來設定支援功能的後端。ONTAP</block>
  <block id="5475028f502d04bc17cdfdf613d28cbf" category="paragraph">請記住、您也可以執行多個驅動程式、並建立指向一個或多個驅動程式的儲存類別。例如、您可以設定使用「ONTAP-SAN」驅動程式的「SAN開發」類別、以及使用「ONTAP-SAN經濟」類別的「SAN預設」類別。</block>
  <block id="c75f7811d70d17dbcd88e9d03752cbed" category="section-title">驗證</block>
  <block id="51e35cec1e001fb8abfbe474a18dd282" category="paragraph">Astra Trident提供兩種驗ONTAP 證功能來驗證支援的後端。</block>
  <block id="00cbc0e7ed0014813b07fc8452f60df1" category="list-text">認證型：ONTAP 對具備所需權限的使用者名稱和密碼。建議使用預先定義的安全登入角色、例如「admin」或「vsadmin」、以確保與ONTAP 各種版本的最大相容性。</block>
  <block id="e2cd9c84c3ebf14f3c81be4692848e5b" category="list-text">憑證型：Astra Trident也能ONTAP 使用安裝在後端的憑證與某個叢集進行通訊。在此處、後端定義必須包含用戶端憑證、金鑰及信任的CA憑證（建議使用）的Base64編碼值。</block>
  <block id="a2f8f419bf420960ef8cca73e1999e09" category="section-title">啟用認證型驗證</block>
  <block id="ceae351bc6b26100a9b1685a5d477c0a" category="paragraph">Astra Trident需要SVM範圍/叢集範圍管理員的認證資料、才能與ONTAP 該後端進行通訊。建議使用預先定義的標準角色、例如「admin」或「vsadmin」。這可確保與未來ONTAP 的支援版本保持前瞻相容、因為未來的Astra Trident版本可能會使用功能API。您可以建立自訂的安全登入角色、並與Astra Trident搭配使用、但不建議使用。</block>
  <block id="2312b8f77f99c346269b67308afc3649" category="paragraph">後端定義範例如下所示：</block>
  <block id="2a2ef6dcf08a8789a55301af5f71304c" category="paragraph">請記住、後端定義是唯一以純文字儲存認證的位置。建立後端之後、使用者名稱/密碼會以Base64編碼、並儲存為Kubernetes機密。建立/更新後端是唯一需要知道認證資料的步驟。因此、這是一項純管理員操作、由Kubernetes /儲存管理員執行。</block>
  <block id="052f76b486189a7b01340d5134eb7985" category="section-title">啟用憑證型驗證</block>
  <block id="0778b06c5ea9fded4fd7b586b248dd86" category="paragraph">新的和現有的後端可以使用憑證、並與ONTAP 該後端通訊。後端定義需要三個參數。</block>
  <block id="d5b9c9db262b1927d7914504f3587adb" category="list-text">用戶端憑證：用戶端憑證的Base64編碼值。</block>
  <block id="8f2b750dd6a57864f0e36828c248ddfc" category="list-text">用戶端私密金鑰：關聯私密金鑰的Base64編碼值。</block>
  <block id="200c2d2a44dec6455fa1c947f9c1f534" category="list-text">信任的CACertifate：受信任CA憑證的Base64編碼值。如果使用信任的CA、則必須提供此參數。如果未使用信任的CA、則可忽略此問題。</block>
  <block id="6b634823c19ebc37c9e4fdbf08de1fff" category="paragraph">典型的工作流程包括下列步驟。</block>
  <block id="c92e58d7dd251e6e6cdb16291a6dec90" category="list-text">產生用戶端憑證和金鑰。產生時、請將Common Name（CN）（一般名稱（CN））設定為ONTAP 驗證身分。</block>
  <block id="69b521cddbc52a2d14539e349e2930f0" category="list-text">將信任的CA憑證新增ONTAP 至整個叢集。這可能已由儲存管理員處理。如果未使用信任的CA、請忽略。</block>
  <block id="2f3945695e5ca88abb46af80d87c6972" category="list-text">在ONTAP 支援叢集上安裝用戶端憑證和金鑰（步驟1）。</block>
  <block id="e81810c4035ad015ad3f0d8c4f2c6454" category="list-text">確認ONTAP 支援「cert」驗證方法的支援功能。</block>
  <block id="ea3bf76b270384627e7bcfb197ddb17b" category="list-text">使用產生的憑證測試驗證。以ONTAP Management LIF IP和SVM名稱取代&lt;SfManagement LIF&gt;和&lt;vserver name&gt;。</block>
  <block id="83f2adf143dc8f5fbbb9d924f840c1ce" category="list-text">使用Base64編碼憑證、金鑰和信任的CA憑證。</block>
  <block id="8d36e570f1edac5ae19e6733e3fbb4d5" category="list-text">使用從上一步取得的值建立後端。</block>
  <block id="2ab8ad0fce083cd02635b9126cf4353c" category="section-title">更新驗證方法或旋轉認證資料</block>
  <block id="5e36c3d66bd47ae551071244dc48df17" category="admonition">當您旋轉密碼時、儲存管理員必須先更新ONTAP 使用者的密碼（位於BIOS）。接著是後端更新。在循環憑證時、可將多個憑證新增至使用者。然後更新後端以使用新的憑證、之後可從ONTAP 該叢集刪除舊的憑證。</block>
  <block id="6819218365fe3a3d66752f663feecddb" category="paragraph">更新後端不會中斷對已建立之磁碟區的存取、也不會影響之後建立的磁碟區連線。成功的後端更新顯示Astra Trident可以與ONTAP 該後端通訊、並處理未來的Volume作業。</block>
  <block id="42f93278b0d15c8d0f6613813bf586d5" category="section-title">使用雙向CHAP驗證連線</block>
  <block id="12dd7bfa072b5a1eecf975f6a5a6eaa7" category="admonition">「useCHAP」參數是布林選項、只能設定一次。預設值設為假。將其設為true之後、您就無法將其設為假。</block>
  <block id="bc601528678aeeb582101ed205a054bc" category="paragraph">除了"useCHAP=true"之外、"chapInitiator Secret（chapInitiator機密）、"chaptarketatorSecret（chaptarketusername"）、"chaptarketusername"（chaptargetuseamuse"）和"chapusername"（chamus在建立後端後端之後、可以執行「tridentctl update」來變更機密。</block>
  <block id="9ffdb95250e26c7a6b468126ac7c75b0" category="section-title">運作方式</block>
  <block id="adbaa30840aebfe537058f72e0989326" category="paragraph">儲存管理員將「useCHAP」設定為true、指示Astra Trident在儲存後端上設定CHAP。這包括下列項目：</block>
  <block id="29b4db879e4cc96a6b71bc763367624b" category="list-text">在SVM上設定CHAP：</block>
  <block id="13e0c564d5e1fbd33279fb276166653d" category="list-text">設定CHAP啟動器和目標使用者名稱和機密；這些選項必須在後端組態中指定（如上所示）。</block>
  <block id="2c7856e86a0cd46cb4fb48fa0886745e" category="paragraph">建立後端之後、Astra Trident會建立對應的「tridentbackend」CRD、並將CHAP機密和使用者名稱儲存為Kubernetes機密。由Astra Trident在此後端上建立的所有PV、都會掛載並附加於CHAP上。</block>
  <block id="81f2df0265026a1a04bda5484798a10d" category="section-title">旋轉認證資料並更新後端</block>
  <block id="a7fe005c9f49619f4438aac8932fb361" category="paragraph">您可以更新「backend.json」檔案中的CHAP參數、以更新CHAP認證。這需要更新CHAP機密、並使用「tridentctl update」命令來反映這些變更。</block>
  <block id="8959ac16a58b09dc5a158e86ab02cb53" category="admonition">更新後端的CHAP機密時、您必須使用「tridentctl」來更新後端。請勿透過CLI/ONTAP UI更新儲存叢集上的認證資料、因為Astra Trident無法接受這些變更。</block>
  <block id="1a59d0d7850406f157c314978eb3b821" category="paragraph">現有的連線不會受到影響；如果SVM上的Astra Trident更新認證、它們將繼續保持作用中狀態。新連線將使用更新的認證資料、而現有連線仍保持作用中狀態。中斷舊PV的連線並重新連線、將會使用更新的認證資料。</block>
  <block id="337de5d45c69b1e4dcf87a8e7ec9ff76" category="doc">使用Astra Trident搭配Amazon FSX for NetApp ONTAP 解決方案</block>
  <block id="4d82a1ec1af02725042c8c785564ee7a" category="inline-link">Amazon FSX for NetApp ONTAP 產品</block>
  <block id="7eb620c879218a348ba0e9afaedf6b01" category="paragraph">檔案系統是Amazon FSX的主要資源、類似ONTAP 於內部部署的一個叢集。在每個SVM中、您可以建立一個或多個磁碟區、這些磁碟區是儲存檔案系統中檔案和資料夾的資料容器。有了Amazon FSX for NetApp ONTAP 的功能、Data ONTAP 即可在雲端以託管檔案系統的形式提供支援。新的檔案系統類型稱為* NetApp ONTAP Sing*。</block>
  <block id="1e6c7220f5d4eb181d67b4d5043336f5" category="paragraph">使用Astra Trident搭配Amazon FSX for NetApp ONTAP 供應NetApp時、您可以確保在Amazon Elastic Kubernetes Service（EKS）中執行的Kubernetes叢集、能夠配置區塊和檔案以ONTAP 支援的持續磁碟區。</block>
  <block id="10b862795141355be1c179a2f878f507" category="list-text">請勿使用「*快速建立*」來建立FSX for ONTAP the Suse檔案系統。快速建立工作流程可自動備份、但不提供退出選項。</block>
  <block id="a10ab8f133704d9a58a1dff179ad7f7d" category="list-text">使用「*標準建立*」時、請停用自動備份。停用自動備份可讓Trident成功刪除磁碟區、而無需進一步手動介入。</block>
  <block id="4ef50c481a6113a6276514f572c414d2" category="inline-image-macro">AWS主控台停用自動備份的快照。</block>
  <block id="cce5aa9218d4019d57adcf814d7189c1" category="paragraph"><block ref="cce5aa9218d4019d57adcf814d7189c1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ff27e75635c1ff1e88fbc656b16e56ce" category="section-title">瞭解Astra Trident</block>
  <block id="483a5da192f46e3cfe8391d3ef234fc4" category="inline-link-macro">常見問題集</block>
  <block id="748c130a6179b02d614cf9a027294302" category="inline-link-macro">整合Astra Trident</block>
  <block id="55449fd175613962d882ab450cfc5f3c" category="inline-link">FabricPool</block>
  <block id="d07e2d99267e4fc3c508f6701be977b4" category="paragraph">適用於NetApp ONTAP 的Amazon FSX<block ref="d1584952da6bdedb0a24d5dbd43ce0bf" category="inline-link-rx"></block> 管理儲存層。它可讓您根據資料是否經常存取、將資料儲存在一個層級中。</block>
  <block id="79a4618bb191cb293c330f8189531a13" category="list-text">「ONTAP-san」：每個提供的PV都是其專屬Amazon FSX for NetApp ONTAP 的LUN。</block>
  <block id="b8f98ceeb9b158e8af3527fce91e9e57" category="list-text">「ONTAP-san經濟型」：每個配置的PV都是LUN、每個Amazon FSX for NetApp ONTAP 的LUN數量可設定。</block>
  <block id="a5bc2c9e7628ac6c73838f9fea0e6ed6" category="list-text">「ONTAP-NAS」：每個提供的PV都是適用於NetApp ONTAP 的完整Amazon FSX。</block>
  <block id="94a834f420b7c21f3a1053e6dc705a31" category="list-text">「ONTAP-NAS-EAS'：每個提供的PV都是qtree、每個Amazon FSX的NetApp ONTAP 功能是可設定的配額樹數。</block>
  <block id="e42b07a9f050ef51ea1211004a50f223" category="list-text">「ONTAP-NAS-Flexgroup」：每個提供的PV都是適用於NetApp ONTAP FlexGroup 的完整Amazon FSX。</block>
  <block id="ed2536bee60113131cf25b2de3ec8734" category="list-text">憑證型：Astra Trident會使用SVM上安裝的憑證、與FSX檔案系統上的SVM進行通訊。</block>
  <block id="80d13d3dbe137e8fb646193f275eceeb" category="list-text">現有的Amazon EKS叢集或自行管理的Kubernetes叢集、已安裝「kubecll」。</block>
  <block id="fe914214000491758957f04647f8da36" category="inline-link">Amazon機器映像</block>
  <block id="3e25473814d436a2ebac91120e147b0b" category="admonition">您可以使用SSH從任何位置登入檔案系統（例如安裝憑證）、而該SSH可連至檔案系統。使用「fsxadmin」使用者、您在建立檔案系統時設定的密碼、以及「AWS FSx file-systems」中的管理DNS名稱。</block>
  <block id="860958fe641e0edbd80fe522c36d0560" category="list-text">使用您的憑證和管理LIF的DNS名稱建立後端檔案、如下例所示：</block>
  <block id="1584837635038d443115ce4eeb3b33e4" category="paragraph">如需建立後端的相關資訊、請參閱下列連結：</block>
  <block id="6f95a39ae3c518928ed5e4681a0fd49b" category="inline-link-macro">使用ONTAP NetApp NAS驅動程式設定後端</block>
  <block id="31e8c05beab321d1465fc4c3f77e991a" category="inline-link-macro">使用ONTAP SAN驅動程式設定後端</block>
  <block id="9c83e144e5481ac6766f4055e566594d" category="section-title">如需詳細資訊、請參閱</block>
  <block id="cc788b7e72b2a734dd0985bd1e0e9fe3" category="inline-link">Amazon FSX for NetApp ONTAP 的支援文件</block>
  <block id="fd570b75466e2daca21a032e6fd5981c" category="list-text"><block ref="fd570b75466e2daca21a032e6fd5981c" category="inline-link-rx"></block></block>
  <block id="0ef79cb4bb284d3ca9c3e95489919301" category="inline-link">Amazon FSX for NetApp ONTAP 的部落格文章</block>
  <block id="3b94214fe5975bca8da92b72f8926be2" category="list-text"><block ref="3b94214fe5975bca8da92b72f8926be2" category="inline-link-rx"></block></block>
  <block id="72a5926b7fb086fe87e93771f6620556" category="summary">瞭解如何使用「tridentctl」來執行後端管理作業。</block>
  <block id="748a22b5f1312291ad55429ba4b809a0" category="doc">使用tridentctl執行後端管理</block>
  <block id="aeeb03235358f0f4bf3be628bed08721" category="section-title">建立後端</block>
  <block id="34746f7a1d24170eeebf5510a045d43d" category="inline-link-macro">後端組態檔</block>
  <block id="99b7232073a67a8c82304f979e3dc83f" category="paragraph">建立之後 <block ref="03c0b6ed8698193668e92f56e9be3efa" category="inline-link-macro-rx"></block>，執行下列命令：</block>
  <block id="1cabe44c722167581b1e219de6c58341" category="paragraph">如果後端建立失敗、表示後端組態有問題。您可以執行下列命令來檢視記錄、以判斷原因：</block>
  <block id="b5f9999463782f0c36ecc89573a90a49" category="paragraph">識別並修正組態檔的問題之後、您只需再次執行「create」命令即可。</block>
  <block id="412228c370a388e25ee06e8ad7a1da3f" category="paragraph">若要從Astra Trident刪除後端、請執行下列步驟：</block>
  <block id="f6816a6570e6b6097177f9adc1f4805b" category="list-text">擷取後端名稱：</block>
  <block id="11f4ccb46eb9afc4b1187c376b53123f" category="list-text">刪除後端：</block>
  <block id="c87f53b53d179c2b5dcd5fad1efba831" category="admonition">如果Astra Trident已從這個後端配置磁碟區和快照、但該後端仍存在、則刪除後端會使新的磁碟區無法由其進行資源配置。後端將繼續處於「刪除」狀態、而Trident將繼續管理這些磁碟區和快照、直到它們被刪除為止。</block>
  <block id="a6345aca446812b9124c47b385b33f43" category="paragraph">若要檢視Trident知道的後端、請執行下列步驟：</block>
  <block id="cb325bc4dded2aa4744b594966262a99" category="list-text">若要取得摘要、請執行下列命令：</block>
  <block id="9f073deeee70a1418443c3b8379c5c02" category="list-text">若要取得所有詳細資料、請執行下列命令：</block>
  <block id="27709162cf6b8ffced7bb1da6dd49df3" category="paragraph">建立新的後端組態檔之後、請執行下列命令：</block>
  <block id="4ca005817e9c882d0ef15d451a97dbf0" category="paragraph">如果後端更新失敗、表示後端組態有問題、或是您嘗試了無效的更新。您可以執行下列命令來檢視記錄、以判斷原因：</block>
  <block id="20b5ebaa2558437206eb6d1d47577805" category="paragraph">識別並修正組態檔的問題之後、您只需再次執行「update」命令即可。</block>
  <block id="d47f84a3cda326babf841866ad2326ab" category="section-title">識別使用後端的儲存類別</block>
  <block id="02fe9d429af25b46c16a1172d735124f" category="paragraph">這是您可以用Json回答的問題類型範例、其中的「tridentctl」會輸出後端物件。這會使用您需要安裝的「jq」公用程式。</block>
  <block id="e00013adda7b5901ea3e44ae300fd73d" category="paragraph">這也適用於使用「TridentBackendConfig」建立的後端。</block>
  <block id="bee1e2306bc7054ee443dc651eae90de" category="summary">Astra Trident提供一組Prometheus指標端點、可用來監控Astra Trident的效能。</block>
  <block id="44a004cad6eb7ea8839aaa8754ead178" category="doc">監控Astra Trident</block>
  <block id="c827f266cf12e05adc1fe95215415abf" category="paragraph">Astra Trident提供的指標可讓您執行下列作業：</block>
  <block id="6111d709595b0a106ff313a249eb9d92" category="list-text">隨時掌握Astra Trident的健全狀況與組態。您可以檢查作業的成功程度、以及是否能如預期般與後端進行通訊。</block>
  <block id="64dbac0ca36d9b1f6a8cf1e8a0123261" category="list-text">檢查後端使用資訊、並瞭解後端上配置的磁碟區數量、以及所耗用的空間量等。</block>
  <block id="7f6516030964b624d9c71fd9ec7f83dd" category="list-text">維護可用後端配置的磁碟區數量對應。</block>
  <block id="e436794bccbe602731bbde7766c1fa49" category="list-text">追蹤效能。您可以查看Astra Trident與後端及執行作業所需的時間。</block>
  <block id="efe0d75090a22534acabc936f8669994" category="admonition">根據預設、Trident的指標會顯示在「/度量」端點的目標連接埠「8001」上。安裝Trident時*預設會啟用這些度量。</block>
  <block id="1ed994b9754ad078cfc46aaf3dbf3a5d" category="list-text">安裝Astra Trident的Kubernetes叢集。</block>
  <block id="eb8bfd69bb88378a6f4d987811890ce6" category="inline-link">容器化Prometheus部署</block>
  <block id="42ae2e91a939ffa9bbda53c10bf5f89f" category="inline-link">原生應用程式</block>
  <block id="050899631250104f17d24b27cc8a12e5" category="list-text">Prometheus執行個體。這可以是<block ref="bd5b9e4bd7b88b90afb221fb760a777c" category="inline-link-rx"></block> 或者、您也可以選擇以執行Prometheus<block ref="3f1d5beaea78c0fd8cb397fbeb1c88bd" category="inline-link-rx"></block>。</block>
  <block id="68276ca40dfbfd36de911402152fa452" category="section-title">步驟1：定義Prometheus目標</block>
  <block id="126ac9f6149081eb0e97c2e939eaad52" category="inline-link">部落格</block>
  <block id="c33638e0de87536b08eeb94264671d0f" category="section-title">步驟2：建立Prometheus ServiceMonitor</block>
  <block id="81a21a88b42cd5c83d149a080a627bad" category="paragraph">若要使用Trident指標、您應該建立Prometheus ServiceMonitor、以監控「Trident - csi」服務、並在「metrics」連接埠上聆聽。ServiceMonitor範例如下所示：</block>
  <block id="bfc1ad0fa725ea87ea056b2f2e8b6fe8" category="paragraph">此ServiceMonitor定義會擷取由「Trident -csi」服務傳回的度量、並特別尋找服務的「metrics」端點。因此、Prometheus現在已設定為瞭解Astra Trident的指標。</block>
  <block id="07338294bd70ea1e7710a574d7c8e2ce" category="paragraph">除了可直接從Astra Trident取得的指標之外、Kibelet還透過自己的指標端點、公開許多「kubelet_volume」*指標。Kubelet可提供有關所附加磁碟區、Pod及其處理的其他內部作業的資訊。請參閱<block ref="3f1f0977d0df3e8b343e403140284021" category="inline-link-rx"></block>。</block>
  <block id="1db2022a8a8de5d612eda8e3be0e1065" category="section-title">步驟3：使用PromQL查詢Trident度量</block>
  <block id="f5142e19a3b1edf809fce9d3b6aefc05" category="paragraph">PromQL適用於建立傳回時間序列或表格資料的運算式。</block>
  <block id="8c6fb1be2521fd16337c11c626672678" category="paragraph">以下是一些您可以使用的PromQL查詢：</block>
  <block id="b214fd0009b3929347f097bd843f0bfd" category="section-title">取得Trident健全狀況資訊</block>
  <block id="69fc54b5fac064131422d41948eb77ed" category="list-text">來自Astra Trident的HTTP 2XX回應百分比*</block>
  <block id="f43362a8efc950ece8c14d4e5faddfa4" category="list-text">*透過狀態代碼*來自Astra Trident的休息回應百分比*</block>
  <block id="e69d9a06025140f38adabb6f709f6e5b" category="list-text">*由Astra Trident執行的平均營運持續時間*</block>
  <block id="0505e17dec1e849391ad96f558fa613a" category="section-title">取得Astra Trident使用資訊</block>
  <block id="f160a52d617adf6e6c5d379a9b8bca89" category="list-text">平均Volume大小*</block>
  <block id="eb978bfe01ec0c72ad231f3953e304a2" category="list-text">每個後端配置的Volume空間總計*</block>
  <block id="5f735ae12eafbe476178928f4645475b" category="section-title">取得個別Volume使用量</block>
  <block id="ee0898e9f0caa503f3eaa39c919f4c53" category="admonition">只有同時收集kubelet度量時、才會啟用此功能。</block>
  <block id="0bc301d2423b2ffaa38a5e275e4ec6f9" category="list-text">每個Volume的已用空間百分比*</block>
  <block id="8516d75df966e595bd1b5491acd01515" category="section-title">深入瞭解Astra Trident AutoSupport 遙測技術</block>
  <block id="6f4ddec0f501988d2b0315a77c87eeaa" category="paragraph">依預設、Astra Trident會每日傳送Prometheus指標和基本後端資訊給NetApp。</block>
  <block id="5276683815b670b0addfb8c8a45bbb41" category="list-text">若要停止Astra Trident將Prometheus指標和基本後端資訊傳送給NetApp、請在Astra Trident安裝期間、傳遞「-Silence-autosupport」旗標。</block>
  <block id="ca0f9a86ca33f1d6baa9051bd7f4ed21" category="inline-link">隱私權政策</block>
  <block id="5b58783cbe6d85941bac008d83d3f5c8" category="list-text">Astra Trident也可透過「tridentctl傳送AutoSupport 功能」、隨需將容器記錄傳送給NetApp Support。您需要觸發Astra Trident來上傳記錄。在您提交記錄之前、您應該接受NetApp的<block ref="91b6c0438017ba5fa21c286a96d5acb4" category="inline-link-rx"></block>。</block>
  <block id="63b95d84cf55d169b2592f3ac621055f" category="list-text">除非另有說明、Astra Trident會從過去24小時擷取記錄。</block>
  <block id="5224919a4ae5ccf610fb0ee74e4e7a94" category="inline-link">Trident AutoSupport 的</block>
  <block id="53084cad3d11df800502598c11e2d10b" category="inline-link">EULA</block>
  <block id="b9a52e8d1e9b14b8825c6ea01c0ce6d6" category="list-text">Trident AutoSupport 無法收集或傳輸個人識別資訊（PII）或個人資訊。隨附a<block ref="173a360b412944768c2ab13e6c8fd1c7" category="inline-link-rx"></block> 這不適用於Trident Container映像本身。您可以深入瞭解NetApp對資料安全性與信任的承諾<block ref="8470ff535916bda3f4ea4723647a7135" category="inline-link-rx"></block>。</block>
  <block id="89f0f2832f60f480805faf638848c5b7" category="paragraph">Astra Trident傳送的有效負載範例如下：</block>
  <block id="d2ec86f126f845e79aff07e70bf89472" category="list-text">此資訊將傳送至NetApp的「不只是」端點。AutoSupport AutoSupport如果您使用私有登錄來儲存容器映像、可以使用「-image-registry」旗標。</block>
  <block id="86c5a11fba83815412aec79f67f2d276" category="list-text">您也可以產生安裝Yaml檔案來設定Proxy URL。您可以使用「tridentctl install -generate-custom-yaml」來建立Yaml檔案、並在「trident部署.yaml」中新增「trident -autodupport」容器的「-proxy-URL」引數。</block>
  <block id="46ab735110312d196d5265e534453cba" category="section-title">停用Astra Trident度量</block>
  <block id="8ec47dab227d183e0d3ad0cd529d289b" category="paragraph">要使指標不被報告，您應該生成自定義YAML（使用"-generame-custom-yaml"標誌）並進行編輯，以刪除對"trident－main"容器所調用的"-mication"標誌。</block>
  <block id="8b7b728c6a1e7accd6148646ba730e77" category="summary">瞭解Astra Trident管理後端的不同方法。</block>
  <block id="4342473e01edd2e1440b8b76076f4c9e" category="doc">在後端管理選項之間切換</block>
  <block id="a7b407f571446f9f4a30f63e8160784a" category="list-text">使用「tridentctl」建立的後端、是否能以「TridentBackendConfig」來管理？</block>
  <block id="3e1fc11d05c13404995af2b9fda64675" category="list-text">使用「TridentBackendConfig」建立的後端、是否可以使用「tridentctl」來管理？</block>
  <block id="d6da18e16f248df47ee8e5139ef0156a" category="paragraph">本節說明透過Kubernetes介面建立「TridentBackendConfig」物件、直接透過「tridentctl」建立的後端管理所需的步驟。</block>
  <block id="bee2ae6068ad50344ddb325737434004" category="paragraph">這將適用於下列案例：</block>
  <block id="8eed1f3ae09f008e2dbfb4280a0c137c" category="list-text">使用「tridentctl」建立的新後端、而其他「TridentBackendConfig」物件則存在。</block>
  <block id="0507a4f0ac746171a414097e7f033dca" category="paragraph">在這兩種情況下、後端仍會繼續存在、Astra Trident排程磁碟區會繼續運作。系統管理員有兩種選擇之一：</block>
  <block id="95328f21e7a6deb7bb94acb3866753a6" category="list-text">繼續使用「tridentctl」來管理使用它建立的後端。</block>
  <block id="82c1dd66573aab904c86b63e2d5486ad" category="list-text">將使用「tridentctl」建立的後端連結至新的「TridentBackendConfig」物件。這樣做將意味着後端將使用“kubedl”而不是“tridentctl”來管理。</block>
  <block id="d12d5022b29f44c340ee55411970fe10" category="paragraph">若要使用「kubecll」管理預先存在的後端、您需要建立連結至現有後端的「TridentBackendConfig」。以下是如何運作的總覽：</block>
  <block id="0637b40285532fa1b6c6a4548e63d2f4" category="list-text">建立Kubernetes機密。此機密包含Astra Trident與儲存叢集/服務通訊所需的認證資料。</block>
  <block id="b863de09ccfaf2861ead350dd78a9933" category="list-text">建立「TridentBackendConfig」物件。其中包含有關儲存叢集/服務的詳細資訊、並參考上一步建立的機密。必須謹慎指定相同的組態參數（例如「s.pec.backendName」、「sec.storagePrefix」、「sPEec.storageDriverName」等）。必須將「Pec.backendName」設定為現有後端的名稱。</block>
  <block id="44411eb1f3a70196b442f0ed4bb62820" category="section-title">步驟0：識別後端</block>
  <block id="494cb787cd1c1f78123323c1006f2081" category="section-title">步驟1：建立Kubernetes機密</block>
  <block id="2181a22b3daf7866094f9f0d79da87d0" category="paragraph">建立包含後端認證的秘密、如以下範例所示：</block>
  <block id="276e25c1cf06c603ba2d133ae2e39dde" category="paragraph">下一步是建立一個「TridentBackendConfig」（TridentBackendConfig）CR、它會自動連結至現有的「ONTAP-NAS-backend」（如本範例所示）。確保符合下列要求：</block>
  <block id="0cbfd18f16db9afdef577eeddd6a8bee" category="list-text">相同的後端名稱是在「s.pec.backendName」中定義。</block>
  <block id="f261e4f2fe82344f35f04f9b3813e425" category="list-text">組態參數與原始後端相同。</block>
  <block id="8f50f98a5b56105263e2f7ab18dc0686" category="list-text">認證資料是透過Kubernetes Secret提供、而非以純文字提供。</block>
  <block id="05c8cd2e49ae2ecaee101c9bc5619d49" category="paragraph">在這種情況下、「TridentBackendConfig」將會如下所示：</block>
  <block id="63d6f3ce15066b6232a788bb692bf721" category="paragraph">在建立「TridentBackendConfig」之後、其階段必須是「綁定」。它也應反映與現有後端相同的後端名稱和UUID。</block>
  <block id="d1a75f7c76623350486029378ab164c3" category="paragraph">現在可以使用「tbc-ontap-nas-backend」「TridentBackendConfig」物件來完全管理後端。</block>
  <block id="fcea92f3e948217919ca8b4051c2c61e" category="paragraph">可以使用「tridentctl」來列出使用「TridentBackendConfig」建立的後端。此外、系統管理員也可以刪除「TridentBackendConfig」、並確定「pec.deletionPolicy`」設為「效能」、藉此選擇透過「tridentctl」來完全管理此類後端。</block>
  <block id="ab0c73d8e0377b2df5b783d3a76f2249" category="paragraph">例如、假設使用「TridentBackendConfig」建立下列後端：</block>
  <block id="ea64db0654e81907c68ffc52d023c3c7" category="paragraph">讓我們來看看「改革政策」的價值。這需要設定為「維護」。這將確保刪除「TridentBackendConfig」（TridentBackendConfig）的CR時、後端定義仍會存在、而且可以使用「tridentctl」進行管理。</block>
  <block id="1ad97e0f65ef91102831baaa31630c76" category="admonition">除非將「刪除原則」設定為「需要」、否則請勿繼續下一步。</block>
  <block id="8313f77478cb0df464604ae4435acce2" category="paragraph">最後一個步驟是刪除「TridentBackendConfig」（TridentBackendConfig）。確認「刪除原則」設為「保留」之後、您可以繼續刪除：</block>
  <block id="c1493b6d6e05639a816e5772bbb491af" category="paragraph">刪除「TridentBackendConfig」物件之後、Astra Trident便會移除該物件、而不會實際刪除後端本身。</block>
  <block id="08c4bc4ac4edd9b12963c0596478d746" category="summary">Astra Trident可以利用「SCSI拓撲功能」、選擇性地建立磁碟區、並將磁碟區附加到Kubernetes叢集中的節點。</block>
  <block id="3d4635d3cf4f27b0e87f3fe86a84744d" category="doc">使用「csi拓撲」</block>
  <block id="4abea6bac3b0b48d11dd8dcd02a11bf9" category="inline-link">「csi拓撲」功能</block>
  <block id="592af423a2f6a51f57c639ec7f7b245e" category="admonition">深入瞭解「csi拓撲」功能<block ref="ff042e7f24bd2adcec09d78466034177" category="inline-link-rx"></block>。</block>
  <block id="bbdcaf9b704dc7a7cf73e6000101b65a" category="paragraph">Kubernetes提供兩種獨特的Volume繫結模式：</block>
  <block id="5fca24470d51aa51b0fb2d0f27c25c68" category="list-text">將「Volume BindingMode」設為「WaitForFirst消費者」時、會延遲建立和繫結永久磁碟區、直到排程並建立使用永久磁碟的Pod為止。如此一來、就能建立磁碟區、以符合拓撲需求所強制執行的排程限制。</block>
  <block id="3bbc2da928dcf77a048cdd745fe7d208" category="admonition">「等待使用者」繫結模式不需要拓撲標籤。這可獨立於「csi拓撲」功能使用。</block>
  <block id="edff21c44983aaa85506a3dfe467c494" category="paragraph">若要使用「csi拓撲」、您需要下列項目：</block>
  <block id="f9213d77978aabdafac36d2b0a184e56" category="list-text">叢集中的節點應該有標籤來介紹拓撲認知（「topology、Kubernetes.io/sregion」和「topology、Kubernetes.io/Zone」）。在安裝Astra Trident以識別拓撲之前、這些標籤*應該會出現在叢集*的節點上。</block>
  <block id="0bd58c9826639ac2db106c3b277a7e0f" category="section-title">步驟1：建立可感知拓撲的後端</block>
  <block id="c7d3751a47274aaa616d77a14f2e2722" category="paragraph">Astra Trident儲存後端可根據可用性區域、選擇性地配置磁碟區。每個後端都可以攜帶一個可選的「支援拓撲」區塊、代表必須支援的區域和區域清單。對於使用此類後端的StorageClass、只有在受支援地區/區域中排程的應用程式要求時、才會建立Volume。</block>
  <block id="3e778236fe8f94ccc453f52d827e3719" category="admonition">「支援拓撲」是用來提供每個後端的區域和區域清單。這些區域和區域代表StorageClass中可提供的允許值清單。對於包含後端所提供之區域和區域子集的StorageClass、Astra Trident會在後端建立磁碟區。</block>
  <block id="217d95247b26701da7fd823884d84723" category="paragraph">您也可以定義每個儲存資源池的「支援拓撲」。請參閱下列範例：</block>
  <block id="c6c80256ac468b3d88d7b62d8753f192" category="paragraph">在此範例中、「REGion」和「Zone」標籤代表儲存資源池的位置。「topology、Kubernetes.io/region」和「topology、Kubernetes.io/Zone」決定儲存資源池的使用來源。</block>
  <block id="54e204e8e05b6eb24d965741eb977e69" category="section-title">步驟2：定義可感知拓撲的StorageClass</block>
  <block id="090f70d385b4a21aa6c8f2a0ca558616" category="paragraph">根據提供給叢集中節點的拓撲標籤、可以定義StorageClass以包含拓撲資訊。這將決定做為所提出之永久虛擬磁碟要求候選的儲存資源池、以及可以使用Trident所提供之磁碟區的節點子集。</block>
  <block id="ecb383148a1bc974cba3ac735a79f4c6" category="paragraph">請參閱下列範例：</block>
  <block id="ab0c7ec9411ede93aa545fbc095c0e75" category="paragraph">在上述StorageClass定義中、「volumeBindingMode」設定為「WaitForFirst消費者」。在Pod中引用此StorageClass所要求的PVCS之前、系統不會對其採取行動。此外、「opedtopologies」也提供要使用的區域和區域。《NetApp-san—use-east1》StorageClass將在上述定義的「SAN後端-us-east1」後端上建立PVCS。</block>
  <block id="df340fb31051c975afb3518dfd32e07c" category="section-title">步驟3：建立並使用PVC</block>
  <block id="f98be29d352e7c38a6502e76bbfaf34c" category="paragraph">建立StorageClass並對應至後端後端後端之後、您現在就可以建立PVCS。</block>
  <block id="c4b17c8733f9f36fdc682242d2b64ab2" category="paragraph">請參閱以下「sPEC」範例：</block>
  <block id="427e01a8fca484c85a1e8e3a672b999a" category="paragraph">使用此資訊清單建立永久虛擬環境可能會產生下列結果：</block>
  <block id="e65f170821e3417d48579a28989a9260" category="paragraph">若要Trident建立磁碟區並將其連結至PVc、請在Pod中使用PVc。請參閱下列範例：</block>
  <block id="9b8ff27bceb4601d1f866c4cf39fe449" category="paragraph">此pod化 規範會指示Kubernetes在「us-east1」區域的節點上排程pod、並從「us-east1-a」或「us-east1-b」區域中的任何節點中進行選擇。</block>
  <block id="c93345596f9f82deea04d17ef8c6ca89" category="paragraph">請參閱下列輸出：</block>
  <block id="476950aea923438779c9544953093cb9" category="paragraph">您可以使用「tridentctl後端更新」來更新現有的後端、以納入「最上層拓撲」清單。這不會影響已配置的磁碟區、而且只會用於後續的PVCS。</block>
  <block id="ded10f93b9e4453980b7009035c63418" category="inline-link">管理容器的資源</block>
  <block id="47ea3356a13b3f6644e6c05450e9d5e1" category="list-text"><block ref="47ea3356a13b3f6644e6c05450e9d5e1" category="inline-link-rx"></block></block>
  <block id="6370f866cf64618c026027da41bd248e" category="inline-link">節點選取器</block>
  <block id="2a4ad9fc807789134426a1b2babc5733" category="list-text"><block ref="2a4ad9fc807789134426a1b2babc5733" category="inline-link-rx"></block></block>
  <block id="873bf2b9b61a741ce5b7326a3a053489" category="inline-link">關聯性與反關聯性</block>
  <block id="ec5df0a2adb621359563958138462e34" category="list-text"><block ref="ec5df0a2adb621359563958138462e34" category="inline-link-rx"></block></block>
  <block id="e1e08e40036f927a0e660c22aa837f88" category="inline-link">污染與容許</block>
  <block id="66b1e0aa9cd6e46c0b85fdf56a15154a" category="list-text"><block ref="66b1e0aa9cd6e46c0b85fdf56a15154a" category="inline-link-rx"></block></block>
  <block id="b0cee72642f5457a71ddd0b49efb6d93" category="inline-link">適用於 Google Cloud Cloud Volumes Service</block>
  <block id="da195e41c537042ae77405110c4512ff" category="paragraph">以設定及使用<block ref="5129d3f1116e9c5221bfcf965a1ede35" category="inline-link-rx"></block> 後端、您需要下列項目：</block>
  <block id="2c00ff9c7700dc3529c57f0a5281bbe2" category="list-text">Google Cloud帳戶的專案編號</block>
  <block id="43752d169c5729fffa3a6557a0978cb8" category="list-text">Google Cloud服務帳戶的角色為「netappcloudVolumes.admin」</block>
  <block id="07cc9934740ba3dd46a0d7d2c9502d39" category="cell">「GCP-CVS」</block>
  <block id="f476273c71e20fc5a845a5345a620117" category="cell">驅動程式名稱+「_」+ API金鑰的一部分</block>
  <block id="6eb82a822b962404b9694b93f2967679" category="cell">「torageClass」</block>
  <block id="4dd7128ceae058946c44bbbb0985ec6f" category="paragraph">每個後端都會在單一Google Cloud區域中配置磁碟區。若要在其他區域建立磁碟區、您可以定義其他後端。</block>
  <block id="51b2015e6da8653f4041b71312ad43fe" category="cell">存取「.snapshot」目錄</block>
  <block id="e76dcf1d6497658a2994b5f1f65b7a83" category="cell">""（接受CVS預設值為0）</block>
  <block id="8682abd0ce083533bad141869c96ab2a" category="summary">Astra Trident提供多項管理磁碟區的功能。瞭解Astra Trident為Volume提供的功能。</block>
  <block id="b42cbc6e68075c106b9faa27e4931091" category="doc">執行Volume作業</block>
  <block id="eb487790322c4b8e9b4953d60be1acee" category="paragraph">深入瞭解Astra Trident提供的功能、協助您管理磁碟區。</block>
  <block id="9e325272e7aed7c7bd6c28ff6fa4a90f" category="list-text"><block ref="9e325272e7aed7c7bd6c28ff6fa4a90f" category="inline-link-macro-rx"></block></block>
  <block id="e5879288a130fbd8d0b8682cfc375c4f" category="inline-link-macro">使用快照</block>
  <block id="c499fa59a1c9a0f6da195782a581f2e3" category="list-text"><block ref="c499fa59a1c9a0f6da195782a581f2e3" category="inline-link-macro-rx"></block></block>
  <block id="2243e252be826d6ec5e767668d9f961d" category="inline-link-macro">展開Volume</block>
  <block id="56661e701892ff873e44b62ffeec85e5" category="list-text"><block ref="56661e701892ff873e44b62ffeec85e5" category="inline-link-macro-rx"></block></block>
  <block id="5f48c343984786005c9830d96c6fca87" category="inline-link-macro">匯入磁碟區</block>
  <block id="c0417f5bbd54c5dc1c3704d6b566fcf3" category="list-text"><block ref="c0417f5bbd54c5dc1c3704d6b566fcf3" category="inline-link-macro-rx"></block></block>
  <block id="87dc0337d3ded2211d9b01c32e22d90d" category="doc">設定後端</block>
  <block id="2acbb5dd492d792d00383b0c76ade4ad" category="list-text"><block ref="2acbb5dd492d792d00383b0c76ade4ad" category="inline-link-macro-rx"></block></block>
  <block id="252e63ff646a0204671ca04a26b88e06" category="inline-link-macro">設定Cloud Volumes Service 適用於Google Cloud Platform後端的功能</block>
  <block id="c00b6e370d4496e06d2135275a992af5" category="list-text"><block ref="c00b6e370d4496e06d2135275a992af5" category="inline-link-macro-rx"></block></block>
  <block id="f2733a323df72dea4b230205225bdc13" category="inline-link-macro">設定NetApp HCI 一個不只是功能的SolidFire 後端</block>
  <block id="b1064b6f7a5906eac23601dc24ba95a8" category="list-text"><block ref="b1064b6f7a5906eac23601dc24ba95a8" category="inline-link-macro-rx"></block></block>
  <block id="a3610578ce54198653d7e0b2cc53c05d" category="inline-link-macro">使用ONTAP 功能不一的Cloud Volumes ONTAP NAS驅動程式來設定後端</block>
  <block id="f4f833852bac4217eff92d53c1bd24dc" category="list-text"><block ref="f4f833852bac4217eff92d53c1bd24dc" category="inline-link-macro-rx"></block></block>
  <block id="df7d9b009cdb0a2623872cb3f905e161" category="list-text"><block ref="df7d9b009cdb0a2623872cb3f905e161" category="inline-link-macro-rx"></block></block>
  <block id="d7f015aa2f1d488e17e175dac6de3149" category="list-text"><block ref="d7f015aa2f1d488e17e175dac6de3149" category="inline-link-macro-rx"></block></block>
  <block id="00b8b321c68facfb94b31690cbd23e00" category="paragraph">對於所有ONTAP 的不支援端點、Astra Trident至少需要指派一個集合體給SVM。</block>
  <block id="997cff957213b9212a22d7cac2b4275d" category="list-text">使用產生的憑證測試驗證。以ONTAP Management LIF IP和SVM名稱取代&lt;SfManagement LIF&gt;和&lt;vserver name&gt;。您必須確保LIF的服務原則設定為「預設資料管理」。</block>
  <block id="07b434b23f63ca6490df33b213599320" category="section-title">管理NFS匯出原則</block>
  <block id="9d66483f8378ffe30cde84e1b6dbf484" category="paragraph">Astra Trident使用NFS匯出原則來控制其所配置之磁碟區的存取。</block>
  <block id="a297d9b7dbc393d5e8a5b3f98bcc9337" category="paragraph">使用匯出原則時、Astra Trident提供兩種選項：</block>
  <block id="0c87d42e666bbc299da2143379484281" category="list-text">Astra Trident可動態管理匯出原則本身；在此作業模式中、儲存管理員會指定代表可接受IP位址的CIDR區塊清單。Astra Trident會自動將這些範圍內的節點IP新增至匯出原則。或者、如果未指定CIDR、則會將節點上找到的任何全域範圍單點傳送IP新增至匯出原則。</block>
  <block id="e6add289c2b1cd5da45e00f3098b35de" category="list-text">儲存管理員可以建立匯出原則、並手動新增規則。除非在組態中指定不同的匯出原則名稱、否則Astra Trident會使用預設的匯出原則。</block>
  <block id="4603f08ad837f4108ff2fe7665b0b1e3" category="section-title">動態管理匯出原則</block>
  <block id="4975fc485ff51ca8f82c6ea96f927287" category="paragraph">以下是使用上述範例說明此功能的運作方式：</block>
  <block id="acdca8a11423c4bc209db0a1a4909294" category="list-text">將「AutoExpportPolicy」設為「true」。這表示Astra Trident將為「svm1」SVM建立匯出原則、並使用「AutoExportCIDR」位址區塊來處理新增和刪除規則的作業。例如、在SVM上、UUID為403b5326-8482-40dB/96d0-d83fb3f4daec和「autodportPolicy」設為「true」的後端會建立名為「trident 403b5326-8482-40dB/96d0-d83fb3f4daec」的匯出原則。</block>
  <block id="1bdcc9b4be16b7ad2f1b54c892491a43" category="list-text">「AutoExportCIDR」包含位址區塊清單。此欄位為選用欄位、預設為「0.00.0.0/0」、「：/0」。如果未定義、Astra Trident會新增在工作者節點上找到的所有全域範圍單點傳送位址。</block>
  <block id="96d8905e0d42a0d3573c71fd4ecce0b8" category="paragraph">在此範例中、會提供「192．168．0．0/24」位址空間。這表示、屬於此位址範圍的Kubernetes節點IP將新增至Astra Trident所建立的匯出原則。當Astra Trident登錄其執行的節點時、會擷取節點的IP位址、並對照「AutoExpportCIDR」中提供的位址區塊進行檢查。篩選IP之後、Astra Trident會針對所探索的用戶端IP建立匯出原則規則、並針對所識別的每個節點建立一個規則。</block>
  <block id="4646f167a1fb9819f41f28d5ab11c1fa" category="paragraph">您可以在建立後端後、更新「AutoExpportPolicy」和「AutoExpportCTR」。您可以為自動管理或刪除現有CIDR的後端附加新的CIDR。刪除CIDR時請務必謹慎、以確保不會中斷現有的連線。您也可以選擇停用後端的「autodportPolicy」、然後回到手動建立的匯出原則。這需要在後端組態中設定「exportPolicy」參數。</block>
  <block id="18deff64a140a603bdb6070abed4eed4" category="paragraph">Astra Trident建立或更新後端之後、您可以使用「tridentctl」或對應的「tridentbackend」CRD來檢查後端：</block>
  <block id="83af513d9b9d50c1dc648bfea29797cb" category="paragraph">當節點新增至Kubernetes叢集並向Astra Trident控制器註冊時、現有後端的匯出原則會更新（前提是它們位於後端的「AutoExpportCIDR」中指定的位址範圍內）。</block>
  <block id="fd85ad7b0ce4e83937cbc1012086b9b3" category="paragraph">移除節點時、Astra Trident會檢查所有線上的後端、以移除節點的存取規則。Astra Trident將此節點IP從託管後端的匯出原則中移除、可防止惡意掛載、除非叢集中的新節點重複使用此IP。</block>
  <block id="de1d1f6b64a5c5b6890c313888b290b7" category="admonition">刪除具有自動管理匯出原則的後端、將會刪除動態建立的匯出原則。如果重新建立後端、則會將其視為新的後端、並導致建立新的匯出原則。</block>
  <block id="920708f6d71767dcff22f9e43b4ec0c0" category="paragraph">如果即時節點的IP位址已更新、您必須重新啟動節點上的Astra Trident Pod。Astra Trident接著會更新其管理的後端匯出原則、以反映此IP變更。</block>
  <block id="821b0ad941ad2559ef18eb8de56a470e" category="summary">Kubernetes叢集中的所有工作節點都必須能夠掛載您已為Pod配置的磁碟區。如果您使用的是其中一個後端的ONTAP-NAS、ONTAP-NAS-節約、ONTAP-NAS-Flexgroup驅動程式、則您的工作節點需要NFS工具。否則他們需要iSCSI工具。</block>
  <block id="89d83ec6e8ec0c087fbc4aedc555b362" category="doc">準備工作節點</block>
  <block id="b7a66d04a41292979004906785008ca9" category="section-title">NFS磁碟區</block>
  <block id="29ba980a9e9adedc9414ea868c74ebd5" category="section-title">iSCSI磁碟區</block>
  <block id="12fe03bf2457cc4e4e90af10a2f7092f" category="list-text">Kubernetes叢集中的每個節點都必須具有唯一的IQN。*這是必要的先決條件*。</block>
  <block id="1a5157a00ea5806f553766d5b3b114fd" category="list-text">檢查iscsite-initier-utils版本是否為6.6.0.874-2.el7或更新版本：</block>
  <block id="55c13faac514053f94cef55eb316c9a4" category="paragraph">「rpm -q iscsiscsiscs-initier-utils」</block>
  <block id="19955b3c2d2c1cfc1c82c2fe0347a065" category="list-text">將掃描設為手動：</block>
  <block id="d2db641a196e6107eecf8c32f7cd7a4e" category="paragraph">「Udo sed -I 's/^\（node.session.scan\).*/\1 = manual /」/etc/iscsi/iscsid.conf）</block>
  <block id="75419edaab27be09afdb3415e83d93f6" category="paragraph">「Udo mpathconf --enable --with _docathd y --fisco_multipaths n」</block>
  <block id="60c268e00db3206011b54b01705d7211" category="admonition">確保在"default"（錯誤）下"etc/multipath.conf"包含"fappe_multipaths no"。</block>
  <block id="90a9d2e9b1b4ae58a957ff989f0732ba" category="paragraph">「啟用Udo systemctl -現在是iscsid多路徑」</block>
  <block id="0f905161e16c2cfa712f1fb7640afee4" category="paragraph">「Udo systemctl enable - NOW iSCSI」</block>
  <block id="a53508e75911225e5de8b5febc82cf12" category="list-text">檢查開放式iSCSI版本是否為2.0.874-5ubuntu2．10或更新版本（適用於雙聲網路）或2.0.874-7.1ubuntu6.1或更新版本（適用於焦點）：</block>
  <block id="f6802be29c6bca93d8f44768b0347ac9" category="paragraph">「Dpkg -l open-iscsi」</block>
  <block id="b85c80e2af7e3d7dd06b874ed048d430" category="paragraph">「Udo tee /etc/multipath.conf」&lt;&lt;-'EOF'預設值｛user_易 記名稱yes focs_multipaths no｝EOF Sudo systemctl enable --NOW multipath-tools.service Sudo服務multipath-ttools restart」</block>
  <block id="b163c84ad8a4e55a17b51aad8074093e" category="list-text">確保已啟用並執行「open-iscsi」和「多路徑工具」：</block>
  <block id="8741473f7a80f4dd83071161b2c95301" category="paragraph">「Udo systemctl狀態multipath-ttools/」「show systemcl enable -現在open-iscsi.service`「show systemctl狀態open-iscsi」</block>
  <block id="1b757fe9c8a149de349a32b8d21feb54" category="admonition">對於Ubuntu 18.04、您必須先使用「iscsiadmd」探索目標連接埠、然後再啟動「open-iscsi」、iSCSI精靈才能啟動。您也可以修改「iSCSI」服務、以自動啟動「iscsid」。</block>
  <block id="cf13ba16f33b5f6772614929649be6c2" category="summary">您可以使用「tridentcl匯入」將現有的儲存磁碟區匯入為Kubernetes PV。</block>
  <block id="57ee8ed0b2796ea5f35b10f9ae5d68cd" category="cell">「olidfire - san」</block>
  <block id="e228843381960c06d1035c4219901307" category="cell">《azure-NetApp-fil形》</block>
  <block id="949a374fc5a78d436e3067ee2de19cbe" category="cell">《GCP—CVS》</block>
  <block id="76057e180d7b3edcebaa935c7ccab687" category="paragraph">將註釋新增至PVc和PV、這有兩種用途、表示已匯入磁碟區、以及是否管理了PVc和PV。不應修改或移除此附註。</block>
  <block id="1b539ba5a07e124e582b2e4bfc489200" category="paragraph">每個使用「ONTAP-NAS」驅動程式建立的Volume FlexVol 、都是ONTAP 一個在整個叢集上的功能。使用「ONTAP-NAS」驅動程式匯入FlexVols的運作方式相同。已存在於某個叢集上的一個功能、可以匯入為「ONTAP-NAS」的PVc。FlexVol ONTAP同樣地FlexGroup 、也可以將此數據匯入為「ONTAP-NAS-Flexgroup」PVCS。</block>
  <block id="ff342df7522d6b527768cc6bfe5f9fae" category="summary">Astra Trident可讓Kubernetes使用者在建立磁碟區之後擴充磁碟區。尋找擴充iSCSI和NFS磁碟區所需組態的相關資訊。</block>
  <block id="15d79b565b148caa23e6f2b53813413d" category="section-title">展開iSCSI Volume</block>
  <block id="0b981ab19df55a28a02578aa5f326db8" category="paragraph">您可以使用「SCSI資源配置程式」來擴充iSCSI持續磁碟區（PV）。</block>
  <block id="f8f338469c62eb8604f5304af08466ba" category="admonition">iSCSI磁碟區擴充支援「ontap－san」、「ONTAP－san經濟」、「Poolidfire－san」等驅動程式、需要Kubernetes 1.16及更新版本。</block>
  <block id="7ac758b4597806f6880d9618fa093e52" category="list-text">如果PV附加至Pod、Astra Trident會在儲存後端擴充磁碟區、重新掃描裝置、並重新調整檔案系統的大小。</block>
  <block id="7efffb2478ff651b7e45343b4e9f6fa8" category="list-text">嘗試調整未附加PV的大小時、Astra Trident會在儲存後端上擴充磁碟區。在將永久虛擬磁碟綁定至Pod之後、Trident會重新掃描裝置並重新調整檔案系統的大小。然後、Kubernetes會在擴充作業成功完成後、更新PVc大小。</block>
  <block id="fe9ee1935ea7894fe4fd2f600993cd7d" category="section-title">步驟1：設定StorageClass以支援Volume擴充</block>
  <block id="c83b8171dcc233263cf7eeaef8da6a4d" category="paragraph">對於已存在的StorageClass、請編輯此類以包含「owalumVolume Expansion」參數。</block>
  <block id="59973fd7be015512b53fe121a13d5580" category="section-title">步驟2：使用您建立的StorageClass建立一個永久虛擬儲存設備</block>
  <block id="8592e7b08d26d1aa2ef3c44409c736fa" category="paragraph">Astra Trident會建立持續磁碟區（PV）、並將其與此持續磁碟區宣告（PVc）建立關聯。</block>
  <block id="8dacc1d7fdb5bfd3f8a4daedf3ccdd88" category="section-title">步驟3：定義一個連接至PVc的Pod</block>
  <block id="85f5dec267aa48cff82ccaf993019e6d" category="paragraph">在此範例中、會建立使用「shan -PVc」的Pod。</block>
  <block id="ebae1958b6002fb43077a474d845284c" category="section-title">步驟4：展開PV</block>
  <block id="63188b171689bcd93b1ca818b3a2ab9c" category="paragraph">若要調整從1Gi建立至2Gi的PV大小、請編輯PVc定義、並將「sec.resumes.requests.storage」更新為2Gi。</block>
  <block id="eabf614ed44fe1c3e78cb2300949eb63" category="section-title">步驟5：驗證擴充</block>
  <block id="28abbd693f528f04d0ff068b3013fcd6" category="paragraph">您可以檢查PVc、PV和Astra Trident Volume的大小、以正確驗證擴充作業：</block>
  <block id="75b8249751a8ea5869a0b5a8e465efc1" category="section-title">展開NFS Volume</block>
  <block id="ec2577b4770848fd294d6ca069c34a43" category="paragraph">Astra Trident支援在「ONTAP-NAS」、「ONTAP-NAs-P節約」、「ONTAP-NAs-flexgroup」、「GCP-CVS」和「azure-NetApp-fils」後端配置NFS PV的Volume擴充。</block>
  <block id="578f10bb7cad2abad1cbbcb9a9a732f9" category="paragraph">若要調整NFS PV的大小、管理員必須先將「ow淺Volume Expansion」欄位設定為「true」、以設定儲存類別以允許磁碟區擴充：</block>
  <block id="27b4a9ed8609e35526601aa8d8be1ab9" category="paragraph">如果您已經建立了沒有此選項的儲存類別、只要使用「kubecl Edit storageclass'」來編輯現有的儲存類別、即可進行磁碟區擴充。</block>
  <block id="784f78e647973a0dcfa11b7a028c7eae" category="paragraph">Astra Trident應為此PVC建立20MiB NFS PV：</block>
  <block id="3b16cea25bd4a9aaf5a9c3dcc13ea7eb" category="section-title">步驟3：展開PV</block>
  <block id="e5c2c0bfcfbe01e6174199aaff9616a5" category="paragraph">若要將新建立的20MiB PV調整至1GiB、請編輯PVC並將「siec.resumes.requests.storage」設為1GB：</block>
  <block id="4a59ce1bc63fd7e6333968fb4bbd9d45" category="section-title">步驟4：驗證擴充</block>
  <block id="c70f05fed7c73e0be4a0b24c8532a87c" category="paragraph">您可以檢查PVc、PV和Astra Trident Volume的大小、以正確驗證調整大小：</block>
  <block id="19ce3b2e7823907e5153f00fe04f64f7" category="doc">組態選項與範例</block>
  <block id="237d7a1666794b0937adde704bb4795c" category="cell">驅動程式名稱+「_」+ dataLIF</block>
  <block id="c560b8d02093547d93a87c72d8b16eaf" category="cell">「10.0.0.1」、「[2001:1234:abcd:::fefo]」</block>
  <block id="b5cbbe3dadaab4a036fdb38af67ee936" category="cell">套用到磁碟區的任意JSON-格式化標籤集</block>
  <block id="1d76382e861d2df96647216b26d38948" category="cell">「」</block>
  <block id="cbdaf784161be9806a24fe78a8046c01" category="cell">「用戶端憑證」</block>
  <block id="a84cbedc106b973917ae925d04533f97" category="cell">用戶端憑證的Base64編碼值。用於憑證型驗證</block>
  <block id="8545e54eea74cf2579fbe1cb56b11862" category="cell">「clientPrivate Key」</block>
  <block id="4a54228eb2be79492f8f76bb814ddf63" category="cell">用戶端私密金鑰的Base64編碼值。用於憑證型驗證</block>
  <block id="b071cd8105f8f59b777098388b7a3322" category="cell">「可信賴的CACertifcate」</block>
  <block id="ffe4ce29fe1a6176d496c40332e9cb98" category="cell">受信任CA憑證的Base64編碼值。選用。用於憑證型驗證</block>
  <block id="83425e975af1b2d60355aa4162300198" category="cell">連線至叢集/ SVM的使用者名稱。用於認證型驗證</block>
  <block id="63d06d6cc41e485615f99a3aad0002b3" category="cell">連線至叢集/ SVM的密碼。用於認證型驗證</block>
  <block id="972abf48cbbadbcd573754140d35e19a" category="cell">要使用的儲存虛擬機器</block>
  <block id="ef65dd3301d78701f7cfcf8a01834f2f" category="cell">如果指定SVM "managementLIF"則衍生</block>
  <block id="e3f688f3aa653574b3253640aa98f47c" category="cell">在SVM中配置新磁碟區時所使用的前置碼。設定後無法更新</block>
  <block id="c9a303edbc714d051896c3a678e59a8a" category="cell">《lunsPerFlexvol》</block>
  <block id="79892588cbecd0b88729ea1a55b2a3a4" category="cell">每FlexVol 個LUN的最大LUN數量、範圍必須在[50、200]</block>
  <block id="ae0784115c8f815d4a2ca170c59f3c99" category="cell">疑難排解時要使用的偵錯旗標。範例：｛"API"：假、「方法」：true｝</block>
  <block id="a13306f726fdf72d2d992a7ebdc63b1b" category="cell">每FlexVol 個邊的最大qtree數、必須在範圍內[50、300]</block>
  <block id="f703d18584e163e18762e4dc13ad96a0" category="cell">《useREST》</block>
  <block id="193a49bcfb561fea878daa5efe72cad9" category="section-title">用於資源配置磁碟區的後端組態選項</block>
  <block id="26161d08a960162cd8633d0e23058aed" category="cell">LUN的空間分配</block>
  <block id="3bce5b103341500856287f5347e19f28" category="cell">空間保留模式；「無」（精簡）或「Volume」（完整）</block>
  <block id="77f69e470b8766d2dc5df4b7f469ed72" category="cell">要使用的Snapshot原則</block>
  <block id="54b94bba5d336f4e3d5fd7e88544fad1" category="cell">要指派給所建立磁碟區的QoS原則群組。選擇每個儲存集區/後端的其中一個qosPolicy或adaptiveQosPolicy</block>
  <block id="952e3a12d35e717bf86a6000b0c08976" category="cell">《adaptiveQosPolicy》</block>
  <block id="11f9fcd55c1d81cf352f86fe4cdfd444" category="cell">保留給快照「0」的磁碟區百分比</block>
  <block id="6f5c0c94b1a17baffd2c33facaa10db6" category="cell">建立複本時、從其父複本分割複本</block>
  <block id="41da49bdd3fd88b2ddc6be7d6df1b335" category="cell">新磁碟區的安全樣式</block>
  <block id="c005e78d4bd808038335c32dd84cf7da" category="cell">unix權限</block>
  <block id="3e9a232d025270ed6767c385b8291871" category="cell">新磁碟區的模式</block>
  <block id="647ce4e5394e2e595e46b4fc50a628e9" category="cell">匯出原則</block>
  <block id="99c2306b30b8939278f0f817230f3573" category="admonition">搭配Astra Trident使用QoS原則群組需要ONTAP 使用更新版本的版本。建議使用非共用的QoS原則群組、並確保原則群組會個別套用至每個組成群組。共享的QoS原則群組將強制所有工作負載的總處理量上限。</block>
  <block id="06602e99c8d46d601029e6dd0b37e3f8" category="paragraph">對於「ONTAP-NAS」和「ONTAP-NAS-flexGroups」、Astra Trident現在採用新的計算方法、確保FlexVol 利用snapshotReserve百分比和PVc正確調整其規模。當使用者要求使用PVCs時、Astra Trident會FlexVol 使用新的計算方式、建立原始的包含更多空間的候選區。此計算可確保使用者在永久虛擬磁碟中獲得所要求的可寫入空間、且空間不得小於所要求的空間。在v21.07之前、當使用者要求使用PVC（例如5GiB）、快照保留區達到50%時、他們只能獲得2.5GiB的可寫入空間。這是因為使用者要求的是整個磁碟區、而「快照保留區」則是其中的一個百分比。使用Trident 21.07時、使用者要求的是可寫入空間、而Astra Trident則將「快照保留區」編號定義為整個Volume的百分比。這不適用於「ONTAP-NAS-經濟」。請參閱下列範例以瞭解此功能的運作方式：</block>
  <block id="86ec808b80973d24eadfc617926f534e" category="paragraph">計算方式如下：</block>
  <block id="28ad7be76b350116bde3ae04e5f94a60" category="paragraph">對於snapshotReserve = 50%、而PVc要求= 5GiB、磁碟區總大小為2/0.5 = 10GiB、可用大小為5GiB、這是使用者在PVC要求中要求的大小。「volume show（Volume show）命令應顯示類似以下範例的結果：</block>
  <block id="2f1534ee8d0c6ec998511ed37cfe0da9" category="image-alt">顯示Volume show命令的輸出。</block>
  <block id="daabb7db82ac9f3f074671a1185c462e" category="paragraph">在升級Astra Trident時、先前安裝的現有後端會按照上述說明來配置磁碟區。對於在升級之前建立的磁碟區、您應該調整其磁碟區大小、以便觀察變更。例如、較早前使用「快照保留區=50」的2GiB室早導致磁碟區提供1GiB的可寫入空間。例如、將磁碟區大小調整為3GiB、可讓應用程式在6 GiB磁碟區上擁有3GiB的可寫入空間。</block>
  <block id="2aae2b6accd04335b3eeceb2193b34d6" category="section-title">最低組態範例</block>
  <block id="bca36ce39f61ce2d375cbdb66eab5162" category="paragraph">下列範例顯示基本組態、讓大部分參數保留預設值。這是定義後端最簡單的方法。</block>
  <block id="f35c0fe4b6581c16866c964cef229bfa" category="admonition">如果您在NetApp ONTAP 支援Trident的NetApp支援上使用Amazon FSX、建議您指定lifs的DNS名稱、而非IP位址。</block>
  <block id="f00b69018be0961b32ee24ec54fb56d1" category="section-title">將後端對應至StorageClass</block>
  <block id="4cc2b9916e7383e5fa29dc6188159e32" category="summary">後端定義了Astra Trident與儲存系統之間的關係。它告訴Astra Trident如何與該儲存系統通訊、以及Astra Trident如何從該儲存系統配置磁碟區。安裝Astra Trident之後、下一步是建立後端。「TridentBackendConfig」自訂資源定義（CRD）可讓您直接透過Kubernetes介面建立及管理Trident後端。您可以使用「kubecll」或Kubernetes發佈的等效CLI工具來執行此作業。</block>
  <block id="a8e174c63ac21920b8405ffddc39214a" category="doc">使用kubecl建立後端</block>
  <block id="d2031a5a319b9363cf98da6b1509598a" category="paragraph">「TridentBackendConfig」（「tbc」、「tbconfig」、「tbackendconfig」）是前端、名稱為CRD、可讓您使用「kubectl」來管理Astra Trident後端。Kubernetes與儲存管理員現在可以直接透過Kubernetes CLI建立及管理後端、而不需要使用專屬的命令列公用程式（「tridentctl」）。</block>
  <block id="b44c2fd5cefc815abed7e31c0fa8c8ac" category="paragraph">建立「TridentBackendConfig」物件之後、會發生下列情況：</block>
  <block id="858fafdff7fa27f202ae0eb981c6dff0" category="list-text">Astra Trident會根據您提供的組態自動建立後端。內部代表的是「TridentBackend」（「tbe」、「tridentbackend」）、CR。</block>
  <block id="40640dd98ca175d098c1c765b1e148d9" category="list-text">《TridentBackendConfig》與由Astra Trident所建立的《TridentBackend》有獨特的關聯。</block>
  <block id="1efc3a14ca6dc7c90db79e02f3abe7d5" category="paragraph">每個「TridentBackendConfig」都有一對一的對應、並有「TridentBackend」。前者是提供給使用者設計及設定後端的介面、後者是Trident代表實際後端物件的方式。</block>
  <block id="c9038f47fe0df535b6bf5619c9ff629e" category="admonition">「TridentBackend」CRS是由Astra Trident自動建立的。您*不應該*修改這些項目。如果您想要更新後端、請修改「TridentBackendConfig」物件來執行此動作。</block>
  <block id="9c3385530cf6e460576e5f6e7cc1b912" category="paragraph">請參閱下列範例、以瞭解「TridentBackendConfig」CR的格式：</block>
  <block id="c84ef67352bb6783ff2881f9f2821c2a" category="inline-link">Trident安裝程式</block>
  <block id="f13a06ff6eab87969a9f96765f31ed9c" category="paragraph">您也可以查看中的範例<block ref="6511e50af21389f9e77db56e03f6dd72" category="inline-link-rx"></block> 所需儲存平台/服務的範例組態目錄。</block>
  <block id="06df669f3ef6f929e9b58c9f47b65310" category="inline-link-macro">儲存驅動程式的後端組態資訊</block>
  <block id="182839d8f6b2bdde60e1d972422cf3a2" category="paragraph">「show」會採用後端特定的組態參數。在此範例中、後端使用「ONTAP-san」儲存驅動程式、並使用此處表格列出的組態參數。如需所需儲存驅動程式的組態選項清單、請參閱 <block ref="5f2d139eefa7c36061f4d97161be02ea" category="inline-link-macro-rx"></block>。</block>
  <block id="92051c832f01d9070a7ed71d1ce523c5" category="paragraph">在《TridentBackendConfig》（CRR）中新推出的「sPEC」一節也包含「認證」和「刪除原則」欄位：</block>
  <block id="5ab961de690e071f0dc1c0dabac7fd89" category="list-text">「認證資料」：此參數為必填欄位、包含用於驗證儲存系統/服務的認證資料。此設定為使用者建立的Kubernetes Secret。認證資料無法以純文字格式傳遞、因此會產生錯誤。</block>
  <block id="9f11e03722a7b912083c63fc68f4dd7b" category="list-text">「刪除原則」：此欄位可定義刪除「TridentBackendConfig」時應發生的情況。可能需要兩種可能的值之一：</block>
  <block id="d09d50d3f84f9c585492818f491a2497" category="list-text">「刪除」：這會同時刪除「TridentBackendConfig」和相關後端。這是預設值。</block>
  <block id="f0c89ce27bf4c43949ad8f26a4f586bb" category="list-text">「保留」：刪除「TridentBackendConfig」（TridentBackendConfig）CR時、後端定義仍會存在、並可使用「tridentctl」進行管理。將刪除原則設為「保留」可讓使用者降級至較早版本（21.04之前）、並保留建立的後端。此欄位的值可在建立「TridentBackendConfig」之後更新。</block>
  <block id="7f2208582df334d090d35357eb5d6901" category="admonition">後端名稱是使用「sPEC.backendName」來設定。如果未指定、則會將後端名稱設為「TridentBackendConfig」物件（metadata.name）的名稱。建議使用「sPEC.backendName」明確設定後端名稱。</block>
  <block id="317e77f416ffd109037a657fffa1e7f7" category="admonition">使用「tridentctl」建立的後端沒有關聯的「TridentBackendConfig」物件。您可以建立「TridentBackendConfig」（TridentBackendConfig）的CR、選擇以「kubectl」管理這類後端。必須謹慎指定相同的組態參數（例如「s.pec.backendName」、「sec.storagePrefix」、「sPEec.storageDriverName」等）。Astra Trident會自動將新建立的「TridentBackendConfig」連結至預先存在的後端。</block>
  <block id="625cc9b8ccc34496dc2b3fcffb7e384a" category="section-title">步驟總覽</block>
  <block id="a867c4bbc8d632a517f22b7377b9b8ed" category="paragraph">若要使用「kubecll」建立新的後端、您應該執行下列動作：</block>
  <block id="4db4699aa0126dfb06878d7e07c0abdf" category="inline-link">Kubernetes機密</block>
  <block id="7e5e1bb39eefe4eec7a88b845126d41d" category="list-text">建立<block ref="fcce7b7bd05b6b012eabe3df8de04808" category="inline-link-rx"></block>。此機密包含Astra Trident與儲存叢集/服務通訊所需的認證資料。</block>
  <block id="c39d193a9cc4084cc6c7964e1bb5efd8" category="list-text">建立「TridentBackendConfig」物件。其中包含有關儲存叢集/服務的詳細資訊、並參考上一步建立的機密。</block>
  <block id="286b0035cf59742ffe54696b798f2368" category="paragraph">建立後端之後、您可以使用「kubecl Get tbc &lt;tbc-name&gt;-n &lt;trident命名空間&gt;」來觀察其狀態、並收集其他詳細資料。</block>
  <block id="04402bf69acac56c72a55c0e4ac2165c" category="paragraph">下表摘要說明每個儲存平台的機密必須包含的欄位：</block>
  <block id="94cec86c6eef229009007e6d00d54ef1" category="cell">儲存平台機密欄位說明</block>
  <block id="1e6947ac7fb3a9529a9726eb692c8cc5" category="cell">秘密</block>
  <block id="c11257eff6563de2c05e353770c514ca" category="cell">欄位說明</block>
  <block id="93c5bebdea9c94a0740fe6fd9bb250f0" category="paragraph">ClientID</block>
  <block id="012e85295e2f1f744cfb8757f8dd4830" category="paragraph">應用程式註冊的用戶端ID</block>
  <block id="a3c559e0541e9bb860178ce6fe414224" category="cell">適用於 GCP Cloud Volumes Service</block>
  <block id="ee64ef6c307cfcfe5c0f085471cd61fa" category="paragraph">Private金鑰ID</block>
  <block id="1e31c22f827d25c5973eee697baace79" category="paragraph">私密金鑰的ID。GCP服務帳戶API金鑰的一部分、具有CVS管理員角色</block>
  <block id="156a17333e77a3c504018cae5ada8c3b" category="paragraph">Private金鑰</block>
  <block id="8e0708b67ba6ce0f70a948152e7e7895" category="paragraph">私密金鑰：GCP服務帳戶API金鑰的一部分、具有CVS管理員角色</block>
  <block id="25de05ab7f10e99b499db62e0b89ad33" category="cell">元素（NetApp HCI / SolidFire）</block>
  <block id="2a6ba72e93aa7fa676d07973ed2716bb" category="paragraph">端點</block>
  <block id="41eba2d95ecaf35c8bd3a972c263ffe4" category="paragraph">MVIP、適用於SolidFire 採用租戶認證的不含用戶身分證明的叢集</block>
  <block id="253b40ae359ba25b56231803430c4873" category="cell">ONTAP</block>
  <block id="14c4b06b824ec593239362517f538b29" category="paragraph">使用者名稱</block>
  <block id="6e1b40351708d93ce8c387f6f8ca7533" category="paragraph">連線至叢集/ SVM的使用者名稱。用於認證型驗證</block>
  <block id="5f4dcc3b5aa765d61d8327deb882cf99" category="paragraph">密碼</block>
  <block id="4d3fd9a7ab4c84b857fc26b2633237d0" category="paragraph">連線至叢集/ SVM的密碼。用於認證型驗證</block>
  <block id="19dce7ac7f5290fc8fa218ad0c858df5" category="paragraph">用戶端權限金鑰</block>
  <block id="8c5e8d4f9acf9295e1a96feef0c0b516" category="paragraph">用戶端私密金鑰的Base64編碼值。用於憑證型驗證</block>
  <block id="039e9d80fa53ba861c06b590ba3f9d34" category="paragraph">chap使用 者名稱</block>
  <block id="a7128cd45d4a277fe5c6ed6f6c4238f7" category="paragraph">傳入使用者名稱。如果useCHAP=true則需要。適用於「ONTAP-SAN」和「ONTAP-san經濟」</block>
  <block id="f9d0dc78b203f2c1106dc0c7d58a5397" category="paragraph">chapInitiator機密</block>
  <block id="2f573af61fb37b4f1c5e2def2341b7c4" category="paragraph">CHAP啟動器密碼。如果useCHAP=true則需要。適用於「ONTAP-SAN」和「ONTAP-san經濟」</block>
  <block id="2ebe107bb3bc9551fbb0e5033046931c" category="paragraph">chapTargetUsername</block>
  <block id="e945f079b3e50bd5722f056b72282608" category="paragraph">目標使用者名稱。如果useCHAP=true則需要。適用於「ONTAP-SAN」和「ONTAP-san經濟」</block>
  <block id="4ab84a55744951d967033db9b64f6b27" category="paragraph">chapTargetInitiator機密</block>
  <block id="61b50fba255c10a4a2b5f7cf8276849a" category="paragraph">CHAP目標啟動器機密。如果useCHAP=true則需要。適用於「ONTAP-SAN」和「ONTAP-san經濟」</block>
  <block id="73d583a1445e1497ec3adaa011e2724c" category="paragraph">在此步驟中建立的機密會參照下一步所建立之「TridentBackendConfig」物件的「sapec.ecent」欄位。</block>
  <block id="3394622f88ed2c82c85e92e908879095" category="paragraph">您現在可以建立「TridentBackendConfig」的CR了。在此範例中、使用「ONTAP-SAN」驅動程式的後端是使用「TridentBackendConfig」物件建立、如下所示：</block>
  <block id="967688089cfc07a6c8e893bce5186445" category="paragraph">現在您已經建立了「TridentBackendConfig」（TridentBackendConfig）CR、您就可以驗證其狀態。請參閱下列範例：</block>
  <block id="edc9d2e179d9bd8effd5277699967aff" category="paragraph">已成功建立後端、並連結至「TridentBackendConfig」CR。</block>
  <block id="ecb5320e6f020f2c2dcad7a6268111ed" category="paragraph">階段可以採用下列其中一個值：</block>
  <block id="f2edf590deb30828e48e7290aa78e788" category="list-text">《Unbound》：使用「」表示。「TridentBackendConfig」物件不會繫結至後端。根據預設、所有新建立的「TridentBackendConfig」CRS均處於此階段。階段變更之後、就無法再恢復為Unbound（未綁定）。</block>
  <block id="0550ab6955adf5805cf2d00b7c592718" category="list-text">如果後端不存在持續磁碟區宣告（PVCS）、刪除「TridentBackendConfig」（TridentBackendConfig）會導致Astra Trident刪除後端、以及刪除「TridentBackendConfig」（TridentBackendConfig）。</block>
  <block id="ffd02eb489e62222a00391567d0bad81" category="list-text">如果後端上有一個或多個PVCS、則會進入刪除狀態。隨後、「TridentBackendConfig」CR也會進入刪除階段。只有刪除所有的PVCS之後、才會刪除後端和「TridentBackendConfig」。</block>
  <block id="39d978e14d4d8c9f19589af0d4e72661" category="list-text">「遺失」：與「TridentBackendConfig」CR相關的後端意外或刻意刪除、而「TridentBackendConfig」CR仍有刪除後端的參考資料。無論「刪除原則」值為何、「TridentBackendConfig」CR仍可刪除。</block>
  <block id="fdf3d4560a801cb64c255cc2790fe9cc" category="inline-link-macro">後端更新和後端刪除</block>
  <block id="57867491a75119ccf33f6ed8a434ff8e" category="paragraph">在此階段、成功建立後端！還有多種作業可以額外處理、例如 <block ref="9f5a7b55f1a44b55d5336cefd3bf688e" category="inline-link-macro-rx"></block>。</block>
  <block id="4dca0b80562cc590644c1acfada17219" category="section-title">（選用）步驟4：取得更多詳細資料</block>
  <block id="22f66c61dd35abb0ae1840a7e38ae1b9" category="paragraph">您可以執行下列命令來取得有關後端的詳細資訊：</block>
  <block id="aab3a73056ee2962dff0130da0538454" category="paragraph">此外、您也可以取得「TridentBackendConfig」的YAML/Json傾印。</block>
  <block id="9fae9b8b2e8f0d5b91654165a5dacc1f" category="paragraph">《backendInfo》（backendInfo）包含了針對「TridentBackendConfig」（TridentBackendConfig）的CR而建立的後端「backendName」（背端名稱）和「backendUUID」（背端UUID）。「lastoperationStatus」欄位代表上次執行的「TridentBackendConfig」（TridentBackendConfig）CR狀態、可由使用者觸發（例如、使用者在「show」中變更內容）、或由Astra Trident觸發（例如、Astra Trident重新啟動期間）。可能是「成功」或「失敗」。「階段」代表「TridentBackendConfig」與後端之間的關係狀態。在上述範例中、「階段」具有界限值、這表示「TridentBackendConfig」CR與後端相關聯。</block>
  <block id="7b7587593fc7d381339d450faa35dfa9" category="paragraph">您可以執行「kubeclt -n triident描述tbc &lt;tbc-cr-name&gt;」命令、以取得事件記錄的詳細資料。</block>
  <block id="6dc07da7e54d697726bb349fb693fa8b" category="inline-link-macro">請參閱此處</block>
  <block id="c732962a4a01ea5f406ec66e50e98903" category="admonition">您無法使用「tridentctl」來更新或刪除包含相關「TridentBackendConfig」物件的後端。若要瞭解在「tridentctl」和「TridentBackendConfig」之間切換的步驟、 <block ref="8d6bc70a41f48e3f72c3f5ea8752090b" category="inline-link-macro-rx"></block>。</block>
  <block id="24ca391029d6df294c5d5b8f1fe5b4eb" category="summary">瞭解如何使用ONTAP NetApp NAS驅動程式設定功能的功能。ONTAP</block>
  <block id="4d80e2460d711b841338dfbeea2ca8c1" category="paragraph">深入瞭解如何使用ONTAP 功能性和功能性NAS驅動程式來設定功能性的後端。ONTAP Cloud Volumes ONTAP</block>
  <block id="c109878131f34375d85b7eff9721dcde" category="summary">瞭解如何在安裝Astra Trident時建立及使用元素後端。</block>
  <block id="d1d184cecc23825cff20fabf3cdfb862" category="list-text">支援的儲存系統、可執行Element軟體。</block>
  <block id="4055116469942da7f6ed83abcf57d0a4" category="list-text">提供給NetApp HCI / SolidFire叢集管理員或租戶使用者的認證、以管理磁碟區。</block>
  <block id="d5fa5f22855b065d96647dfb0c06d685" category="inline-link-macro">工作節點準備資訊</block>
  <block id="02017e70674a0c740b2b95fbb0cc2aa1" category="paragraph">無檔案系統。原始區塊裝置。</block>
  <block id="2353a0a3a06283f07550efc7bad8a90e" category="cell">永遠是「solidfire-san」</block>
  <block id="f4210b28f3cf7c1f7e6e328bb42c6060" category="cell">「S指_」+儲存設備（iSCSI）IP位址SolidFire</block>
  <block id="b07ca7de83de58a699966c9bc9003020" category="cell">儲存設備（iSCSI）IP位址和連接埠</block>
  <block id="749df53d02481e75dd919dddf42fbbef" category="cell">套用到磁碟區的任意JSON-格式化標籤集。</block>
  <block id="251f1fc42c38ca55f30e5e9d11dac168" category="cell">要使用的租戶名稱（如果找不到、請建立）</block>
  <block id="4381b3c378885de93e2166f240096338" category="cell">將iSCSI流量限制在特定的主機介面</block>
  <block id="5ff567e0863a47346f44f87ed793f508" category="cell">《UseCHAP》</block>
  <block id="32738663b16444872e4e5721c7c37660" category="cell">《存取群組》</block>
  <block id="c4ca01925aae0c37398f0b30a4ce1273" category="cell">要使用的存取群組ID清單</block>
  <block id="e64099a24f6ef8bbbdb23c2a803cd065" category="cell">尋找名為「Trident」的存取群組ID</block>
  <block id="3185240fb49cba19667fbdf639f3271e" category="paragraph">此範例顯示使用CHAP驗證的後端檔案、並建立具有特定QoS保證的三種Volume類型模型。您很可能會使用「IOPS」儲存類別參數來定義儲存類別、以使用每個類別。</block>
  <block id="4d0d37d727675761e4c0e324eb57ca2f" category="list-text"><block ref="4d0d37d727675761e4c0e324eb57ca2f" category="inline-link-macro-rx"></block></block>
  <block id="5f3124ab7224f89a36fbb64fd2ebda15" category="summary">瞭解如何透過ONTAP Astra Trident安裝來建立及使用支援NetApp的SAN驅動程式。本節提供後端組態範例、以及如何將後端對應至StorageClass的詳細資料。</block>
  <block id="ab4ce1634362493e6de248d103136787" category="cell">《使用CHAP》</block>
  <block id="7c6b65d42434282f1555f13b40e9fd25" category="cell">《chapInitiator機密》</block>
  <block id="c8a7a6136447a56280ecf99e3ed87d65" category="cell">CHAP啟動器密碼。如果是"useCHAP=true"、則為必要項目</block>
  <block id="948938ec6491061ccf17c7ae8eafbd26" category="cell">《chapTargetInitiator機密》</block>
  <block id="48db71efc42dda989b98744160575f4f" category="cell">CHAP目標啟動器機密。如果是"useCHAP=true"、則為必要項目</block>
  <block id="28687fafefb2992ff7856dcfd2c29e1f" category="cell">「chapUsername」</block>
  <block id="e3f84c141fd3f4682dfb31e0d71c7f5f" category="cell">傳入使用者名稱。如果是"useCHAP=true"、則為必要項目</block>
  <block id="62fbbf4cfd0cc0a82f953199d14a61e3" category="cell">《chapTargetUsername》</block>
  <block id="a379a576b788ab047d5e6405ff4f3511" category="cell">目標使用者名稱。如果是"useCHAP=true"、則為必要項目</block>
  <block id="036c0eabd455d8a92d350429f2f5747e" category="cell">要指派給所建立磁碟區的調適性QoS原則群組。選擇每個儲存集區/後端的其中一個qosPolicy或adaptiveQosPolicy</block>
  <block id="fab51d2bc90465982b0994bc86e69db9" category="admonition">對於使用「ONTAP-san」驅動程式建立的所有磁碟區、Astra Trident會在FlexVol the支援LUN中繼資料的情況下、為該系統的功能增加10%的容量。LUN的配置大小與使用者在PVc中要求的大小完全相同。Astra Trident在FlexVol 整個過程中增加10%的速度（顯示ONTAP 在畫面上可用的尺寸）。使用者現在可以取得所要求的可用容量。此變更也可防止LUN成為唯讀、除非可用空間已充分利用。這不適用於ONTAP-san經濟型。</block>
  <block id="824d88f50ab9e39778b0ef5bc2516b2f" category="paragraph">對於定義「快照保留區」的後端、Astra Trident會計算磁碟區大小、如下所示：</block>
  <block id="4e762198289d9294de9c1cbb3f0b26b6" category="paragraph">1.1是額外10%的Astra Trident加入FlexVol 到the支援LUN中繼資料的功能。對於「快照保留區」= 5%、而PVc要求= 5GiB、磁碟區總大小為5.79GiB、可用大小為5.5GiB。「volume show（Volume show）命令應顯示類似以下範例的結果：</block>
  <block id="e6e049b4753c744e95db32b0eeed8d5c" category="paragraph">目前、只有調整大小、才能將新計算用於現有的Volume。</block>
  <block id="b928e0aee19c1e2cc91c85e8a0856936" category="summary">請使用此處提供的指標來疑難排解安裝及使用Astra Trident時可能遇到的問題。</block>
  <block id="231cf4c70d866b616c21baddaeed0696" category="doc">疑難排解</block>
  <block id="8ef0ab9bbedaa7608c9abed7c7213218" category="admonition">如需Astra Trident的協助、請使用「tridentctl logs -A -n trident」建立支援套裝組合、並將其傳送至「NetApp支援&lt;取得協助&gt;」。</block>
  <block id="40e41fb2db11266b8f751c0d5c67cba0" category="inline-link">NetApp知識庫（需要登入）</block>
  <block id="01005ecf4349194d1ec13d0ba516c9e5" category="admonition">如需疑難排解文章的完整清單、請參閱<block ref="57f5c759ada931c6a2051314ca6ee99e" category="inline-link-rx"></block>。您也可以找到Astra相關疑難排解問題的相關資訊<block ref="695f48b1d8b7348c0e2828947d24161e" category="inline-link-rx"></block>。</block>
  <block id="163fb9eb00818e2c7109900db1a3cc82" category="section-title">一般疑難排解</block>
  <block id="f504c27d1ad305a988958b64f34468cb" category="list-text">如果Trident pod無法正常啟動（例如、當Trident pod卡在「ContainerCreating」階段、且只有兩個可用的容器）、則執行「kubechtl -n trident描述部署Trident」和「kubectl -n trident描述pod trident -」 提供更多洞見。取得kubelet記錄（例如透過「journalctl -xeu kubelet」）也很有幫助。</block>
  <block id="05d68d1b7214c73141ed12aaed0c2ab5" category="list-text">如果Trident記錄中的資訊不足、您可以根據安裝選項、將「-d」旗標傳給安裝參數、嘗試啟用Trident的偵錯模式。</block>
  <block id="bc6de9cad530a57dba08ff711f4a6b5f" category="paragraph">然後使用「/tridentctl logs -n triident」確認偵錯設定、並在記錄中搜尋「level =偵錯msg」。</block>
  <block id="8e95ae46f32b05cf983c93e608530e36" category="list-text">與營運者一起安裝</block>
  <block id="94912f7fb206038e8527957b44dfbf25" category="paragraph">這會重新啟動所有Trident Pod、可能需要數秒鐘的時間。您可以查看輸出「kubecll Get pod - n triident」中的「年齡」欄位來檢查。</block>
  <block id="6a304a6cf7cd8c90bac892ab0fb9c134" category="paragraph">對於Astra Trident 20.07和20.10、請使用「tprov」取代「torc」。</block>
  <block id="79b91d0489c081de6794796638793787" category="list-text">與Helm一起安裝</block>
  <block id="d356d628089d439d75e3f85564372658" category="list-text">安裝試用版</block>
  <block id="87248f7afe198418bdbedd919695631e" category="list-text">您也可以在後端定義中加入「debugTraceFlags」、以取得每個後端的偵錯記錄。例如、在Trident記錄中加入「debugTraceFlags：｛"API"：true、「method」：true、｝」以取得API呼叫和方法反向。現有的後端可設定「debugTraceFlags」、設定為「tridentctl後端更新」。</block>
  <block id="6cc37a0664d7f97f87d34eadef23dbad" category="list-text">使用RedHat CoreOS時、請確定已在工作節點上啟用「iscsid」、並預設為啟動。您可以使用OpenShift機器組態或修改點火模板來完成此作業。</block>
  <block id="7f0ecdfa510b31b01d331c2760643b83" category="list-text">如果將PV掛載到容器時發生問題、請確定已安裝並執行「rpcbind」。使用主機作業系統所需的套件管理程式、檢查「rpcbind」是否正在執行。您可以執行「stystemctl狀態rpcbind」或其等效項目、來檢查「rpcbind」服務的狀態。</block>
  <block id="78aeadc89feb4cf244398a7d35a0d656" category="list-text">如果Trident後端回報雖然曾經工作、但仍處於「失敗」狀態、則可能是因為變更與後端相關的SVM/admin認證資料所致。使用「tridentctl update backend」更新後端資訊、或是退回Trident pod、將可修正此問題。</block>
  <block id="b851cfc28cd6e5cb9aaf87bdb59a68aa" category="list-text">如果在容器執行時間安裝Trident with Docker時遇到權限問題、請嘗試使用「-in cluster =fals'」旗標來安裝Trident。這不會使用安裝程式Pod、也不會因為「Trident安裝程式」使用者而造成權限問題。</block>
  <block id="6f7d49547ff47cfaf1fd93d134b603be" category="list-text">使用「uninstall參數&lt;uninstalling Trident &gt;」來在執行失敗後進行清理。根據預設、指令碼不會移除Trident所建立的客戶需求日、即使在執行中的部署中、也能安全地解除安裝及再次安裝。</block>
  <block id="f1112223b41fddc71fd6a626582dfb78" category="inline-link">Trident版本</block>
  <block id="51748ba3d16ecfd8c45c7ebf2043b738" category="list-text">成功安裝之後、如果某個永久虛擬磁碟卡在「Pending」（擱置）階段、執行「KECBECTL描述永久虛擬磁碟」可提供有關Trident為何無法為此永久虛擬磁碟配置PV的其他資訊。</block>
  <block id="a900bd1dbd5690f78a30ca74d138d0b7" category="section-title">使用操作員疑難排解不成功的Trident部署</block>
  <block id="0e89989064bf4afdc37fd5a7be4f607d" category="paragraph">如果您使用運算子來部署Trident、則「TridentOrchestrator」的狀態會從「安裝」變更為「安裝」。如果您看到「失敗」狀態、而且操作員本身無法恢復、您應該執行下列命令來檢查操作員的記錄：</block>
  <block id="df9771dbb13da45493e576499910c0b4" category="paragraph">追蹤Trident運算子容器的記錄可以指出問題所在。例如、其中一個問題可能是無法從無線環境中的上游登錄擷取所需的容器映像。</block>
  <block id="0fd4c6187c561958bc76052df7774593" category="paragraph">若要瞭解Trident安裝失敗的原因、您應該看看「TridentOrchestrator」狀態。</block>
  <block id="1e054f4c292a5388d6318461fe73d749" category="paragraph">此錯誤表示已存在用於安裝Trident的「TridentOrchestrator」。由於每個Kubernetes叢集只能有一個Trident執行個體、因此營運者可確保在任何指定時間只存在一個可建立的作用中「TridentOrchestrator」。</block>
  <block id="568fcf9beb0dbd37c57dff251a3164ed" category="paragraph">此外、觀察Trident Pod的狀態、通常會指出是否有不正確的情況。</block>
  <block id="f89c17ddb9f8bdaf5c95a466d5f6a500" category="paragraph">您可以清楚看到、由於未擷取一或多個容器映像、所以Pod無法完全初始化。</block>
  <block id="d57d1a6de03b2ddf3ee54f680152e2b6" category="paragraph">若要解決此問題、您應該編輯「TridentOrchestrator」。或者、您也可以刪除「TridentOrchestrator」、然後使用修改後的準確定義來建立新定義。</block>
  <block id="021e9ae5361eb14975bf9a30f99770f5" category="paragraph">為了協助您找出問題所在、您可以使用「-d'」引數再次執行安裝程式、這會開啟偵錯模式、並協助您瞭解問題所在：</block>
  <block id="01539f4f1fd20792cbbae6bb0506cc20" category="paragraph">在解決此問題之後、您可以依照下列步驟清理安裝、然後再次執行「tridentctl install」命令：</block>
  <block id="5a2ebfb8baa378cfcfcba58bbb1380c2" category="doc">需求</block>
  <block id="c777be7f669397b0a376fe32ca5cd9c3" category="section-title">支援的前端（協調器）</block>
  <block id="74aefc05d193afd5c50a0df882997656" category="paragraph">Astra Trident支援多個容器引擎和協調器、包括：</block>
  <block id="201eb37826a33e35adff9119f25946bd" category="paragraph">這些版本支援Trident運算子：</block>
  <block id="8fad5c21cf613e120f249eadc62cda2f" category="paragraph">Astra Trident也能與其他全管理且自我管理的Kubernetes產品搭配使用、包括Google Kubernetes Engine（GKE）、Amazon Elastic Kubernetes Services（EKS）、Azure Kubernetes Service（KS）、Rancher及VMware Tanzu Portfolio。</block>
  <block id="f787cd4b6963b13f12fa53131f58ef6c" category="section-title">支援的後端（儲存）</block>
  <block id="843e2f0c722d25903a6010b62ac4f13b" category="paragraph">若要使用Astra Trident、您需要下列一或多個支援的後端：</block>
  <block id="117bdbda976fe8b3212bc3b6327a0a1b" category="list-text">Cloud Volumes ONTAP</block>
  <block id="1d3d126b8a5bad69c46ed03734beed47" category="list-text">NetApp All SAN Array ASA （ESAN）</block>
  <block id="c7c7a6a5641f33e348244f9c43010e16" category="section-title">功能需求</block>
  <block id="21021ea0e52be8e9c599f4dff41e5be0" category="cell">功能</block>
  <block id="80afba45eb055fc9bdc48c90d1debd06" category="cell">Kubernetes版本</block>
  <block id="10f295a61d2a793ac8936a69cf458654" category="cell">需要功能閘道？</block>
  <block id="bafd7322c6e97d25b6299b5d6fe8920b" category="paragraph">否</block>
  <block id="e830b7e4d1fb7f84600876af87cb4381" category="cell">Volume Snapshot</block>
  <block id="ea8ed249117e76cb53766e218fe2b7c7" category="cell">來自Volume Snapshot的PVc</block>
  <block id="28dcded20f550dcad1bd9bb03a5bbe73" category="cell">iSCSI PV調整大小</block>
  <block id="1673543ed032e46f3572ba65bc070693" category="cell">資訊雙向CHAP ONTAP</block>
  <block id="176e16df4faab1a1e06e9585c813d5fe" category="cell">動態匯出原則</block>
  <block id="1f7219b07d5bce7feec002a9f4dc2201" category="cell">Trident運算子</block>
  <block id="443432948b68bb63d707ce7ecc4a021a" category="cell">csi拓撲</block>
  <block id="af7c8216a3289efe1a298a19c00b8b8c" category="section-title">已測試的主機作業系統</block>
  <block id="57b3e1695eb7d16642702fbce3837b86" category="paragraph">依預設、Astra Trident會在容器中執行、因此會在任何Linux工作者上執行。不過、這些員工必須能夠使用標準NFS用戶端或iSCSI啟動器來掛載Astra Trident提供的磁碟區、視您使用的後端而定。</block>
  <block id="11ea58814ce429c3e3254a63f8cde7a4" category="paragraph">「tridentctl」公用程式也可在任何這些Linux版本上執行。</block>
  <block id="13d80777c8fd43e555c1f5b1b72d7ef0" category="section-title">主機組態</block>
  <block id="2139fe384d5ae165545994dff01961d9" category="section-title">儲存系統組態</block>
  <block id="923680056b0f0258907f498670b4ead1" category="section-title">Container映像和對應的Kubernetes版本</block>
  <block id="ee50d481128d1543f9945b4a4f3fbe9d" category="paragraph">對於空拍安裝、下列清單是安裝Astra Trident所需的容器映像參考資料。使用「tridentctl images)」命令來驗證所需的容器映像清單。</block>
  <block id="aa92c4c233bc01609d957e469736b699" category="cell">Container映像</block>
  <block id="681d715b456f6d29a501b8f132e941a1" category="cell">1.22.0版</block>
  <block id="73e93ad328287e5ce4c06228cfdba2bf" category="cell">1.23.0版</block>
  <block id="a60c2f57df655a9ac5fcaa0750886195" category="summary">如果您剛開始使用Kubernetes、請依照指示安裝Kubernetes來試用。這些說明提供了一個裸機、單節點叢集、Trident可與該叢集整合以供示範之用。</block>
  <block id="e8dadc588901af436e2c6036acf23973" category="inline-link-macro">NetApp試用</block>
  <block id="8685ac2061f9dca7ab48f41e0871f7af" category="inline-link-macro">Kubeadm安裝指南</block>
  <block id="a191af7083288f9d9556f3ebcd821a34" category="paragraph">現在您應該會看到Kubernetes和Astra Trident中的* basic、csi *儲存類別、而Astra Trident應該已經在後端探索集區。</block>
  <block id="13c852fce58f7c6981fa0a952dcd76af" category="summary">Trident運算子可讓您使用「TridentOrchestrator」規格中的屬性、自訂Astra Trident的安裝方式。</block>
  <block id="a67cf6b087ff88dbfacec8375928995c" category="cell">「Debug」</block>
  <block id="4f72bc786a1a01d5a1a8bc09d33334cc" category="cell">啟用Astra Trident的偵錯功能</block>
  <block id="2bccac20e55391730a985f9819e1cc41" category="cell">「autosupportImage」</block>
  <block id="84448c234dfdfd2a7367341fd4b56a80" category="cell">遙測的容器影像AutoSupport</block>
  <block id="f4a6821b04b9ce6b90148068341347b6" category="cell">「autosupportProxy」</block>
  <block id="256acfe307251e7444859851d87d5735" category="cell"><block ref="256acfe307251e7444859851d87d5735" category="inline-link-rx"></block></block>
  <block id="e9f06180af644cfa6e5d20bd67c03bc5" category="cell">解除安裝</block>
  <block id="7610c5cc7910022402c4fbd450d889ce" category="cell">「TridentImage」</block>
  <block id="8088435dc0e1c8b85217d850d3e7a602" category="cell">「影像登錄」</block>
  <block id="e6b96cbb467923e86672bb25db5ecebb" category="cell">《kubeletDir</block>
  <block id="2d30d1348c4d2533a165827a22516caa" category="cell">「imagePullSecrets」</block>
  <block id="b89df534de66f446ec6482f9d7898bb2" category="cell">「controllerPluginNodeSelector」</block>
  <block id="8d414af35aeb82413205fa45551a5545" category="cell">無預設值；選用</block>
  <block id="df1f367efe879ec0030f43610e29c5af" category="cell">「控制器插件」</block>
  <block id="47a441037628a3c0f0edb0daccb33f99" category="cell">「nodePluginNodeSelector」</block>
  <block id="f297db5a937924105908a365d9d4c4ff" category="cell">「nodePluginBolerations」</block>
  <block id="4352a1b4e004cf57ac04661a18de43aa" category="inline-link-macro">將Pod指派給節點</block>
  <block id="b3b67fd79d24b4873c8164c750c21798" category="admonition">如需格式化Pod參數的詳細資訊、請參閱 <block ref="7b3a69fdac08c769183925679da4c365" category="inline-link-macro-rx"></block>。</block>
  <block id="e0e3d7f1aacdf4a8196132549709430c" category="doc">使用tridentctl部署</block>
  <block id="4a052772dca278b7be31d54ca9f21831" category="inline-link-macro">基本概念</block>
  <block id="dd3de2609b612d76ef4c71b97b8d6100" category="inline-link">請依照他們的步驟啟用CLI存取</block>
  <block id="c585967fa32d82c5e3c24bd63926c6a0" category="list-text">如果您使用Kubernetes搭配Docker Enterprise、<block ref="57562caf1c76e1a261b7e2f8c3d113f9" category="inline-link-rx"></block>。</block>
  <block id="ea8cda06a0e70ad34c1b9ab1b7135105" category="inline-link-macro">支援的Kubernetes叢集</block>
  <block id="7358b1fd077fa65f88fff87888fd2547" category="inline-link">Trident安裝程式套裝組合</block>
  <block id="f456a413d0506028374e871768a5f176" category="paragraph">當叢集的Kubernetes版本升級至支援的版本時、營運者會自動更新現有的Astra Trident安裝、並加以變更、以確保其符合Kubernetes版本的要求。</block>
  <block id="d1aae6ea63eb5e7fe6a9fcea5f671406" category="admonition">如果叢集升級至不受支援的版本、則操作員將無法安裝Astra Trident。如果操作員已安裝Astra Trident、則會顯示警告、指出Astra Trident安裝在不受支援的Kubernetes版本上。</block>
  <block id="37dbca6cb8ca55a471ebc072575c0a46" category="list-text">在遠端機器上部署適當版本的「kubecll」、以便部署Astra Trident。</block>
  <block id="02ed10abbc71334918b1acb54df6e3f3" category="list-text">從Kubernetes叢集複製組態檔、然後在遠端機器上設定「KUBECCONFIG」環境變數。</block>
  <block id="da693b77cde91654c6296abe8f901988" category="list-text">啟動「kubectl Get nodes」命令、確認您可以連線至所需的Kubernetes叢集。</block>
  <block id="df65ec31c6f96e95301e3c6ff8863335" category="list-text">使用標準安裝步驟、從遠端機器完成部署。</block>
  <block id="25c11af81bf0b01ce7b0f24ddc9f7136" category="section-title">其他已知組態選項</block>
  <block id="ffedfe711d36cdc8c41927063ae77027" category="paragraph">在VMware Tanzu產品組合產品上安裝Astra Trident時：</block>
  <block id="8ded34c5caad3971bb6d0a2b202d7b32" category="list-text">叢集必須支援特殊權限的工作負載。</block>
  <block id="dbe38f4f0d856b41827e6e4531720a5e" category="list-text">「-kubelet-dir」旗標應設定為kubelet目錄的位置。依預設、這是「/var/vcap/data/kubelet」。</block>
  <block id="4dc3529fbf05312075f0aa52f9c0908e" category="paragraph">使用「-kubelet-dir」指定kubelet位置、已知適用於Trident運算子、Helm及「tridentctl」部署。</block>
  <block id="bbe2bfefd5797bb567e3da92f68ce8d1" category="doc">自訂試用部署</block>
  <block id="8355509d170c8a61d236e927a5fcc6e2" category="paragraph">如果您使用Kubernetes的發佈方式、而其中的「kubelet」將資料保留在通常「/var/lib/kubelet」以外的路徑上、您可以使用「-kubelet-dir」來指定替代路徑。</block>
  <block id="47cd697cf3c9dcf916f70a0007956c1d" category="paragraph">如果您需要自訂安裝、而不需要安裝程式的引數允許、也可以自訂部署檔案。使用「-generame-custom-yaml」參數、可在安裝程式的「設置」目錄中建立下列Yaml檔案：</block>
  <block id="0858f0ee003d52951161848adffe1b31" category="list-text">《三叉叢集繫結.yaml》</block>
  <block id="af73689aedfa47bd2a7cf144917b0642" category="list-text">《三叉部署：yaml》</block>
  <block id="1d53fd876245951bb003eb47849ff39d" category="list-text">《三叉怪怪怪怪怪怪怪怪怪怪怪怪怪怪怪怪怪怪怪怪怪怪</block>
  <block id="b17dbe8acaeca82c72d25948de03eefc" category="list-text">《Trident - clusterroy.yaml》</block>
  <block id="ecb2b56a094cc1cbd3ac263b23d91f8b" category="list-text">《三叉魔魔怪、yaml》</block>
  <block id="c5e462ae653234d0ea0e98a000e62a97" category="list-text">《Trident服務：yaml》</block>
  <block id="f1347677de6873f8ddce6d736cba9a63" category="list-text">《Trident命名空間.yaml》</block>
  <block id="2539c7e25ada2a2cdae0eb4c4633b893" category="list-text">「Trident服務帳戶」。yaml</block>
  <block id="385d099ed91e83dbe20ea05fbed68e22" category="paragraph">產生這些檔案之後、您可以根據自己的需求加以修改、然後使用「-use自訂-yaml」來安裝自訂部署。</block>
  <block id="2e1b3f44683eee188be985693c4af5e1" category="list-text">Helm版本3</block>
  <block id="e366a20246a41520da551be510c1d658" category="paragraph">安裝期間有兩種傳遞組態資料的方法：</block>
  <block id="e420b75ec3bc014e3f69c43b2383768b" category="admonition">使用OpenShift時、請在所有範例中使用「oc"而非「kubecll」、然後先執行「ocLogin -u system:admin」或「occ login-u kube-admin」、以*系統：admin*登入。</block>
  <block id="dbbf8c6ec95775d28c3c6da1878bf8c3" category="list-text">營運者本身</block>
  <block id="a770ca95121cc795b602f9af6af024fb" category="admonition">Kubernetes叢集中只應有*一個運算子執行個體*。請勿建立Trident營運者的多個部署。</block>
  <block id="ec53a8c4f07baed5d8825072c89799be" category="cell">狀態</block>
  <block id="2763f33c904a183bd0ef06f9c4fb4403" category="cell">安裝</block>
  <block id="64162845794ff7262e665deec58a84f5" category="cell">營運者使用此「TridentOrchestrator」CR來安裝Astra Trident。</block>
  <block id="98dd43dfae05b11befe1f140e0ec787a" category="cell">已安裝</block>
  <block id="2fe2cc0adf9b69a871d33ba220695cd4" category="cell">Astra Trident已成功安裝。</block>
  <block id="c2aaea4dacecce78b34302e41fcef75e" category="cell">正在解除安裝</block>
  <block id="c27ff0e050a671f2eab32a372c9636bd" category="cell">操作員正在解除安裝Astra Trident、因為是「shpec.uninstall=true」。</block>
  <block id="b78846123fdd78d5ab62451b855194e3" category="cell">已解除安裝</block>
  <block id="f8a32612e33c768b5fa0dd033d91ce8d" category="cell">Astra Trident已解除安裝。</block>
  <block id="d7c8c85bf79bbe1b7188497c32c3b0ca" category="cell">失敗</block>
  <block id="273b9a9e933220f1963cbac7a7a46645" category="cell">營運者無法安裝、修補、更新或解除安裝Astra Trident；營運者將自動嘗試從此狀態恢復。如果此狀態持續存在、您將需要疑難排解。</block>
  <block id="6909beea5b50605780e3411f879fe916" category="cell">正在更新</block>
  <block id="3201d58137fab497dea740d761a9733b" category="cell">營運者正在更新現有的安裝。</block>
  <block id="902b0d55fddef6f8d651fe1035b7d4bd" category="cell">錯誤</block>
  <block id="efaeca66375c8663b6d1d64f4886f267" category="cell">不使用「TridentOrchestrator」。另一個已經存在。</block>
  <block id="75f3d382f074f14c775efb5cf2f23c30" category="summary">部署Astra Trident時、請使用此處列出的建議。</block>
  <block id="ea355214fd4bc7c57f471bd92918879b" category="doc">部署</block>
  <block id="d89d3b3161292ef0c65342cbe80e883f" category="section-title">部署至專屬命名空間</block>
  <block id="13d28e8dfc702e3456e0767dff9a128a" category="inline-link">命名空間</block>
  <block id="79a77cdda2a2513aee654190c73f15ab" category="paragraph"><block ref="c41296e544cd0faaa4fe4e8b22535287" category="inline-link-rx"></block> 在不同的應用程式之間提供管理分離、是資源共用的障礙。例如、某個命名空間的某個永久虛電路無法從另一個命名空間使用。Astra Trident為Kubernetes叢集中的所有命名空間提供PV資源、並因此運用具有較高權限的服務帳戶。</block>
  <block id="853cf568613b7eec1486421468e18b9b" category="paragraph">此外、存取Trident Pod可能會讓使用者存取儲存系統認證和其他敏感資訊。請務必確保應用程式使用者和管理應用程式無法存取Trident物件定義或Pod本身。</block>
  <block id="2c8e89de5c6bf68b180cff5fea545167" category="section-title">使用配額和範圍限制來控制儲存使用量</block>
  <block id="74444eaf90c31d151645e59dcab0468d" category="inline-link">儲存配額機制</block>
  <block id="1d81c150d54eae0c49d9cfeb8d493b0f" category="inline-link">範圍限制</block>
  <block id="94104e476fe547cf6237480cacae5ed5" category="paragraph">Kubernetes有兩項功能、一旦結合、就能提供強大的機制來限制應用程式的資源使用量。。<block ref="bff513af91e6751aca3d34ef714e3b91" category="inline-link-rx"></block> 可讓系統管理員針對每個命名空間來實作全域和儲存類別的容量和物件數使用限制。此外、請使用<block ref="dbe9770513b0f7245f1fe016d20ebb70" category="inline-link-rx"></block> 確保在將要求轉送至資源配置程式之前、永久虛擬機器要求的最小值和最大值都在內。</block>
  <block id="4f9253eda0573e387f86d7777aafff03" category="inline-link">如何運用配額</block>
  <block id="923169151e05d28a3474b2a033666297" category="paragraph">這些值是以每個命名空間為基礎來定義、這表示每個命名空間都應該定義符合其資源需求的值。如需相關資訊、請參閱此處<block ref="5b289b2ffde01314d8b0d038aabd709b" category="inline-link-rx"></block>。</block>
  <block id="698aa9df4c2c5470599821c3d10620dd" category="summary">Kubernetes叢集通常由兩種類型的節點組成、每種節點負責不同的功能層面。</block>
  <block id="6e8775bd755a8835ce86806d669677ea" category="doc">儲存組態</block>
  <block id="ac5112696fd64ee051846c666ebebebe" category="paragraph">您應該遵循主機作業系統的基礎最佳實務做法、以及您所使用的傳輸協定。或者、您可能想要考慮在可用的情況下、將應用程式最佳實務做法與後端、儲存類別和永久虛擬基礎架構設定整合、以最佳化特定應用程式的儲存。</block>
  <block id="efc9d085ca2f3a152c786357e9359c03" category="section-title">最佳實務做法ONTAP Cloud Volumes ONTAP</block>
  <block id="a3f99d5d44515cf922e6b525de736173" category="paragraph">瞭解設定ONTAP 適用於Cloud Volumes ONTAP Trident的功能性及功能性的最佳實務做法。</block>
  <block id="76d50c7d0f100e6264e0d57727d099f1" category="paragraph">以下建議是設定ONTAP 以容器化工作負載為基礎的功能指南、這些功能會消耗Trident動態配置的磁碟區。每個項目都應考量及評估是否適合您的環境。</block>
  <block id="3fb21976d2729216782dd61ffed84a54" category="section-title">使用Trident專用的SVM</block>
  <block id="fa4e21d3612a3f737c7a4ac7ebf24950" category="paragraph">儲存虛擬機器（SVM）可隔離ONTAP 及管理各個客戶在一個系統上的區隔。將SVM專用於應用程式可委派權限、並可套用最佳實務做法來限制資源使用量。</block>
  <block id="3dc5510a67688b81f0d6d0db440da909" category="paragraph">SVM管理有多種選項可供選擇：</block>
  <block id="fe425a9419fa4d05d42131c26306e4f1" category="list-text">在後端組態中提供叢集管理介面、以及適當的認證、然後指定SVM名稱。</block>
  <block id="e2160df70bcda0ee43cb3c66dc22c719" category="list-text">使用ONTAP 支援功能的支援中心或CLI、為SVM建立專屬的管理介面。</block>
  <block id="2bf2fa2c1c3a6e10095db72759cc9983" category="list-text">與NFS資料介面共用管理角色。</block>
  <block id="5cf4c2e89b362842d77f4e4209c4ef99" category="paragraph">在每種情況下、介面都應該位於DNS中、而且在設定Trident時、應該使用DNS名稱。這有助於推動一些DR案例、例如不使用網路身分保留功能的SVM-DR。</block>
  <block id="6a392b5e005fffe32231c94dc96a1605" category="inline-link">SVM-DR</block>
  <block id="2b4a6ee2db063653d6076884295a3854" category="paragraph">不過、您並不偏好為SVM設定專屬或共享的管理LIF、不過您應該確保網路安全性原則符合您選擇的方法。無論如何、管理LIF都應透過DNS存取、以達到最大的靈活度<block ref="f5e9502989ce78934689806ebb69606a" category="inline-link-rx"></block> 與Trident搭配使用。</block>
  <block id="4a0ee008d3379206a925ade3a9e707dd" category="section-title">限制最大Volume數</block>
  <block id="e5e09031843479ef9ef8cbbd4c2f404c" category="inline-link">NetApp Hardware Universe</block>
  <block id="400a5d259a812effb5b7df506bf020ef" category="paragraph">根據軟體版本和硬體平台、系統可提供最大的Volume數。ONTAP請參閱<block ref="bb9c67b5a4c15a85b5e6aa6c9afd0285" category="inline-link-rx"></block> 針對您的特定平台和ONTAP 版本、決定確切的限制。當磁碟區數用盡時、資源配置作業不僅會針對Trident、也會針對所有儲存要求失敗。</block>
  <block id="39da19b7dd55941b6cdabf34befc0b4c" category="paragraph">Trident的「ONTAP-NAS」和「ONTAP-SAN」驅動程式會為每個建立的Kubernetes持續Volume（PV）提供FlexVolume。「ONTAP-NAS-P節約」驅動程式可為每200個PV建立約一個FlexVolume（可設定為50到300個）。「ONTAP-san經濟型」驅動程式可為每100個PV建立約一個FlexVolume（可設定為50到200個）。若要避免Trident佔用儲存系統上的所有可用磁碟區、您應該在SVM上設定限制。您可以從命令列執行此動作：</block>
  <block id="f36680e3d3cb96c74d2f1a54c3c4a0fa" category="paragraph">「最大用量（max volume）的值會根據您環境的幾項特定條件而有所不同：</block>
  <block id="5f6d1abb6889904ee0375b2fc6c8f078" category="list-text">在叢集中現有的Volume數量ONTAP</block>
  <block id="029383c13d9ad2c5ba18a16f8fbe2002" category="list-text">您預期在Trident外部配置其他應用程式的Volume數量</block>
  <block id="02f4ac473b944a63551d51d727b5bb49" category="list-text">Kubernetes應用程式預期會使用的持續磁碟區數量</block>
  <block id="1d3555f20ac0a2897a1596631b5fb27a" category="paragraph">「最大容量」值是ONTAP 指在整個叢集中所有節點上配置的總Volume、而非在個別ONTAP 的節點上配置的總Volume。因此ONTAP 、您可能會遇到一些情況、例如、某個叢集節點的資源配置量可能遠高於或低於其他節點。</block>
  <block id="46710fe77f663864a23e02a880a9ae53" category="inline-link">集合體</block>
  <block id="8eb27359ed8f69eb07c318fcd224ba66" category="paragraph">舉例ONTAP 來說、雙節點的「叢集」最多可裝載2000個FlexVolumes。將最大Volume數設為1250似乎非常合理。不過、如果只有<block ref="acf6cbef6ee0ef07ee3fe13269233be8" category="inline-link-rx"></block> 從某個節點指派給SVM、或是從某個節點指派的集合體無法根據（例如、由於容量）進行資源配置、則另一個節點會成為所有Trident資源配置磁碟區的目標。這表示在達到「最大磁碟區」值之前、該節點可能會達到磁碟區限制、進而影響使用該節點的Trident和其他Volume作業。*您可以確保叢集中每個節點的集合體都指派給Trident使用的SVM、數量相等、藉此避免這種情況。*</block>
  <block id="7ef3217c984ef7f973d389e434be312c" category="section-title">限制Trident所建立的Volume大小上限</block>
  <block id="031b203330c3abb94f6fa406ff721de4" category="paragraph">若要設定Trident可建立的磁碟區大小上限、請在「backend.json」定義中使用「limitVolume Sizes」參數。</block>
  <block id="1c19414de17c9992b25b0a1b02a52715" category="paragraph">除了控制儲存陣列的磁碟區大小、您也應該善用Kubernetes功能。</block>
  <block id="85c0f9773e01224a56713ea4e6d83b86" category="section-title">設定Trident使用雙向CHAP</block>
  <block id="2596e59ce5cd0d1b0066656f191365d0" category="section-title">建立並使用SVM QoS原則</block>
  <block id="560417d4f795b7e1176a40db8e4ccca8" category="inline-link">預防欺凌</block>
  <block id="4870168b0713fe3089cf587858fc3b40" category="paragraph">運用ONTAP 套用至SVM的SVM的SQoS原則、限制Trident佈建磁碟區所耗用的IOPS數量。這對我們有幫助<block ref="1b59d76842e8b78d6111d3e73e9cd404" category="inline-link-rx"></block> 或失控的容器、避免影響Trident SVM以外的工作負載。</block>
  <block id="d6ab867679686745d96bea839929a6de" category="paragraph">您可以在幾個步驟中建立SVM的QoS原則。如ONTAP 需最準確的資訊、請參閱您的版次更新文件。以下範例建立QoS原則、將SVM可用的總IOPS限制為5000。</block>
  <block id="c790de304b7ca0097f2133cf9da4e657" category="paragraph">此外、如果ONTAP 您的版本支援此功能、您可以考慮使用QoS下限來保證容器化工作負載的處理量。調適性QoS與SVM層級原則不相容。</block>
  <block id="38c0b69f6b2ee691e1ba568134513414" category="paragraph">容器化工作負載專用的IOPS數量取決於許多層面。其中包括：</block>
  <block id="ddbd18591c9b7378c6187dbd9179e1f0" category="list-text">使用儲存陣列的其他工作負載。如果有其他工作負載與Kubernetes部署無關、請善用儲存資源、確保這些工作負載不會意外受到不良影響。</block>
  <block id="5da5727b396cee5b024364d989fe253b" category="list-text">預期的工作負載會在容器中執行。如果將在容器中執行高IOPS需求的工作負載、低QoS原則會導致不良體驗。</block>
  <block id="e6f229b5d5d2421c4306920759828212" category="paragraph">請務必記住、在SVM層級指派的QoS原則會導致所有已配置給SVM的磁碟區共用相同的IOPS集區。如果其中一種或少數幾種容器化應用程式的IOPS需求較高、可能會成為其他容器化工作負載的一大功臣。如果是這種情況、您可能需要考慮使用外部自動化來指派每個Volume QoS原則。</block>
  <block id="ac2167b1e02d575eb6ddfe4e58f5cdcf" category="admonition">如果您的版本早於ONTAP 9.8、您應該將QoS原則群組指派給SVM * Only *。</block>
  <block id="9992cae6c17055c750a849c5f6135eb2" category="section-title">為Trident建立QoS原則群組</block>
  <block id="76a3e54f72b3a7224429f111e58f836c" category="inline-link">保證QoS的處理量</block>
  <block id="edb2313b52b4c42008f0531bd6a05e49" category="paragraph">服務品質（QoS）可確保關鍵工作負載的效能不會因競爭工作負載而降級。支援QoS原則群組的QoS選項可用於磁碟區、並可讓使用者定義一或多個工作負載的處理量上限。ONTAP如需QoS的詳細資訊、請參閱<block ref="721a1778a2025ec5868484b3888c0186" category="inline-link-rx"></block>。您可以在後端或儲存資源池中指定QoS原則群組、並將其套用至該資源池或後端中建立的每個磁碟區。</block>
  <block id="0394fb1288eac4cd3d40bcd991e079e9" category="paragraph">包含兩種QoS原則群組：傳統和可調適。ONTAP傳統原則群組可在IOPS中提供最大（或最小）的單位處理量（在較新版本中）。調適性QoS會自動將處理量調整至工作負載大小、並隨著工作負載大小變更、維持IOPS與TBs的比率。當您在大型部署中管理數百個或數千個工作負載時、這項優勢就相當顯著。</block>
  <block id="f5acc65a21daed9bb8e91cb5cdd0ae52" category="paragraph">建立QoS原則群組時、請考量下列事項：</block>
  <block id="6d5fcf300cd9e9239c26ce37b0919fca" category="list-text">您應該在後端組態的「故障」區塊中設定「qosPolicy」金鑰。請參閱下列後端組態範例：</block>
  <block id="32160c2368452bf7d86bcffae7f142be" category="list-text">您應該為每個Volume套用原則群組、以便每個Volume都能獲得原則群組指定的整個處理量。不支援共用原則群組。</block>
  <block id="b2365e059850d5e32885189655bf469c" category="inline-link">Sof 9.8 QoS命令ONTAP</block>
  <block id="23225608cf33a6c6a4aec9126514b0e1" category="paragraph">如需QoS原則群組的詳細資訊、請參閱<block ref="40468e984a92fba9003857701268163a" category="inline-link-rx"></block>。</block>
  <block id="d5d2a5bc92eea85a4dd11a642ed8a170" category="section-title">限制Kubernetes叢集成員存取儲存資源</block>
  <block id="0f2b74d1b972675eb3d4efe7d8c3ed16" category="paragraph">限制存取Trident所建立的NFS磁碟區和iSCSI LUN、是Kubernetes部署安全態勢的重要元件。這樣做可防止非Kubernetes叢集一部分的主機存取磁碟區、並可能意外修改資料。</block>
  <block id="9602ec8691c1a564016f9fd8086139f1" category="paragraph">請務必瞭解命名空間是Kubernetes中資源的邏輯邊界。假設相同命名空間中的資源可以共用、但重要的是、沒有跨命名空間功能。這表示即使PV是全域物件、但只有在同一個命名空間中的Pod才能存取它們。*確保命名空間在適當時用於提供分隔是非常重要的。*</block>
  <block id="1162be0546226cff2cbd973cd2140d33" category="paragraph">大多數組織對於Kubernetes內容中的資料安全性、主要關注的是、容器中的程序可以存取掛載到主機的儲存設備、但不適用於容器。 <block ref="962cfea7b49ca7b2d398d891b4313cb5" category="inline-link-rx"></block> 旨在防止這類入侵。不過、有一個例外：特殊權限容器。</block>
  <block id="7b10e929cc2e0061dfb50042a0203c79" category="inline-link">Pod安全性原則</block>
  <block id="76db1afb772160283f7f86cdd67c35f8" category="paragraph">與正常情況相比、特權容器的執行主機層級權限大幅增加。依預設不會拒絕這些功能、因此請務必使用停用該功能<block ref="e5ab4ede40a4a6a5f5684247585b5fb0" category="inline-link-rx"></block>。</block>
  <block id="5fabba1d91abcfb09b6049897727e91c" category="paragraph">對於需要從Kubernetes和外部主機存取的磁碟區、儲存設備應以傳統方式進行管理、由系統管理員引進PV、而非由Trident管理。這可確保只有在Kubernetes和外部主機中斷連線且不再使用磁碟區時、才會銷毀儲存磁碟區。此外、也可以套用自訂匯出原則、以便從Kubernetes叢集節點和Kubernetes叢集以外的目標伺服器存取。</block>
  <block id="e38f5be5ff6a8a362870a032acdf5d2f" category="section-title">使用專屬的匯出原則</block>
  <block id="28af9e32119f59018dd5d887ad93ccd4" category="paragraph">或者、您也可以手動建立匯出原則、並以一或多個匯出規則填入、以處理每個節點存取要求：</block>
  <block id="4ae1e64986504dce6897746ebc9d2786" category="list-text">使用「vserver匯出原則建立」ONTAP 的flexcli命令來建立匯出原則。</block>
  <block id="cd0a9fca1fb3ba0fcdd98d0e87cb78a9" category="list-text">使用「vserver匯出原則規則create」ONTAP 的CLI命令、將規則新增至匯出原則。</block>
  <block id="bc3a2f6421da1e870583cfb0b9cf4a91" category="paragraph">執行這些命令可讓您限制哪些Kubernetes節點可以存取資料。</block>
  <block id="613655fb3db9bdbe0f795ee9424fc1fe" category="paragraph">「show mount」功能可讓NFS用戶端查詢SVM、以取得可用的NFS匯出清單。部署到Kubernetes叢集的Pod可針對資料LIF發出「show mount -e」命令、並接收可用掛載的清單、包括無法存取的掛載。雖然這本身並不是安全威脅、但它確實提供不必要的資訊、可能有助於未獲授權的使用者連線至NFS匯出。</block>
  <block id="08f1d9a2f49f56965b640bc15796cd61" category="paragraph">您應該使用SVM層級ONTAP 的CLI命令來停用「show mount」：</block>
  <block id="648e0e1a6a98e76bdfe9780c42dacb6b" category="section-title">最佳實務做法SolidFire</block>
  <block id="89f93e411a40f5c6365a4703e004f15b" category="paragraph">瞭解設定SolidFire Trident之用的功能完善的功能。</block>
  <block id="52f311b56fcd9d4fb074918af9b7c7f9" category="section-title">建立SolidFire 支援帳戶</block>
  <block id="b0dd2707e9f12b5e1fda314748ffa386" category="paragraph">每SolidFire 個驗證帳戶都代表唯一的磁碟區擁有者、並會收到自己的挑戰握手驗證傳輸協定（CHAP）認證資料。您可以使用帳戶名稱和相對CHAP認證、或是透過Volume存取群組、來存取指派給帳戶的磁碟區。帳戶最多可指派2、000個磁碟區、但一個磁碟區只能屬於一個帳戶。</block>
  <block id="eaf4b71058f7db58997dfe694c62a96a" category="section-title">建立QoS原則</block>
  <block id="fd640dfd679c3a7e40aa99c3e08c8294" category="paragraph">如果您想建立並儲存可套用至許多Volume的標準化服務品質設定、請使用SolidFire 「服務品質（QoS）」原則。</block>
  <block id="41be5238fc563c2aac0a0e6ee4cf6e96" category="paragraph">您可以設定每個Volume的QoS參數。設定三個可設定的參數來定義QoS、以確保每個Volume的效能：最小IOPS、最大IOPS和爆發IOPS。</block>
  <block id="48e4bd34fd7a9e1233ea82bc818a3161" category="paragraph">以下是4KB區塊大小的可能最小、最大和尖峰IOPS值。</block>
  <block id="8e4988a1e5f387efce6f20e4f25a8e40" category="cell">IOPS參數</block>
  <block id="0b890b1926b90387673882e6ccae7fdc" category="cell">定義</block>
  <block id="96a22bf638896c990d26e043087fb6b0" category="cell">最小價值</block>
  <block id="31ce3cdcd67850870b616f75b555bbc5" category="cell">預設值</block>
  <block id="c9fb55be94277b8390352c215f32d44c" category="cell">最大價值（4KB）</block>
  <block id="b05f9ccd772b396ac1f5a05345a9d4f8" category="paragraph">最小IOPS</block>
  <block id="2b30c179facf62f8a2bdbd1b09b37b96" category="paragraph">保證磁碟區效能等級。</block>
  <block id="c0c7c76d30bd3dcaefc96f40275bdc0a" category="cell">50</block>
  <block id="3f74a886c7f841699690962c497d4f30" category="paragraph">15000</block>
  <block id="4f5a6f8b41826526724ba294b8e056bd" category="paragraph">最大IOPS</block>
  <block id="4e41c5ccaf1affa697729ea4d1e88554" category="paragraph">效能不會超過此限制。</block>
  <block id="e05695d29cb4a9339534e5a9c273fa14" category="paragraph">20萬</block>
  <block id="affd4aba1c5f696e972368c9eb698c65" category="paragraph">暴增IOPS</block>
  <block id="2734923c054f38d8ca66133414af4469" category="paragraph">在短時間暴增案例中允許的最大IOPS。</block>
  <block id="e2eb05f1ef7720127ac371ceddc6f433" category="admonition">雖然最大IOPS和爆發IOPS可設定為高達20、000、但實際的Volume最大效能卻受到叢集使用量和每節點效能的限制。</block>
  <block id="fa9b1a3006e0ba9ad904c059c0b9add6" category="inline-link">服務品質SolidFire</block>
  <block id="7363485d4653963c22d3ed43afd0003a" category="paragraph">區塊大小和頻寬會直接影響IOPS的數量。隨著區塊大小增加、系統會將頻寬增加至處理較大區塊大小所需的層級。隨著頻寬增加、系統能夠達到的IOPS數量也隨之減少。請參閱<block ref="c8976c50ed9f016849fdce232777cd31" category="inline-link-rx"></block> 如需QoS和效能的詳細資訊、請參閱。</block>
  <block id="b4657825f74ed622384dddf3a1d7d3b7" category="section-title">驗證SolidFire</block>
  <block id="9d3b5ff1cde828a63203f0465a34a967" category="paragraph">Element支援兩種驗證方法：CHAP和Volume Access Groups（VAG）。CHAP使用CHAP傳輸協定驗證主機到後端的驗證。Volume存取群組可控制對其所配置之Volume的存取。NetApp建議使用CHAP進行驗證、因為它更簡單、而且沒有擴充限制。</block>
  <block id="fc9e812321a3f9b0eab1b702a08bab4e" category="admonition">Trident搭配增強的csi佈置程式、可支援使用CHAP驗證。VAG只能在傳統的非csi操作模式下使用。</block>
  <block id="d23eaa75b7bd1405526da0e18b7290ac" category="paragraph">CHAP驗證（驗證啟動器是否為預定的Volume使用者）僅支援帳戶型存取控制。如果您使用CHAP進行驗證、則有兩個選項可供使用：單向CHAP和雙向CHAP。單向CHAP使用SolidFire 驗證帳戶名稱和啟動器密碼來驗證Volume存取。雙向CHAP選項提供最安全的驗證磁碟區方法、因為磁碟區會透過帳戶名稱和啟動器密碼來驗證主機、然後主機會透過帳戶名稱和目標密碼來驗證磁碟區。</block>
  <block id="42d135bea104c1079cebd1543c89e970" category="paragraph">但是、如果無法啟用CHAP且需要VAG、請建立存取群組、然後將主機啟動器和磁碟區新增至存取群組。您新增至存取群組的每個IQN都可以使用或不使用CHAP驗證來存取群組中的每個磁碟區。如果iSCSI啟動器設定為使用CHAP驗證、則會使用帳戶型存取控制。如果iSCSI啟動器未設定為使用CHAP驗證、則會使用Volume Access Group存取控制。</block>
  <block id="b4931a42b69dbf4e721e7b97873b1ebb" category="section-title">哪裡可以找到更多資訊？</block>
  <block id="2c3a4d5c923121574c10ea22c0474a01" category="inline-link">NetApp資料庫</block>
  <block id="65840df7365892d2abe1280cb6cdb1d2" category="paragraph">以下列出部分最佳實務做法文件。搜尋<block ref="4caccef7312f2c398bfbb419629c1a78" category="inline-link-rx"></block> 適用於最新版本。</block>
  <block id="d911b17f4f4cdcca62a04ad77aa9403d" category="paragraph">*《*》ONTAP</block>
  <block id="f9dd52d280693dc59e53b6e1fb7bd801" category="inline-link">NFS最佳實務與實作指南</block>
  <block id="40bb23d54df7f59219c18f15a346d9e5" category="list-text"><block ref="40bb23d54df7f59219c18f15a346d9e5" category="inline-link-rx"></block></block>
  <block id="a76193f5d9397d9c49ca283a20ccf649" category="inline-link">SAN管理指南</block>
  <block id="5bc9b097037d45aff954bf9bd632d4a4" category="list-text"><block ref="c745f55eb0c9991966e63f0608541bb1" category="inline-link-rx"></block> （適用於iSCSI）</block>
  <block id="5ca34d6ffc2a555b689542e3fbeeb7af" category="inline-link">適用於RHEL的iSCSI Express組態</block>
  <block id="36588ac65dcdb9b93916fb0ab708edb3" category="list-text"><block ref="36588ac65dcdb9b93916fb0ab708edb3" category="inline-link-rx"></block></block>
  <block id="ca7ab5ec4cba84fbef55956bb38759ce" category="paragraph">*元件軟體*</block>
  <block id="e809d9f88c2933195c4d2ab379c1b5dc" category="inline-link">設定SolidFire 適用於Linux的功能</block>
  <block id="ce0470e08aa854a8f93fa119434e8422" category="list-text"><block ref="ce0470e08aa854a8f93fa119434e8422" category="inline-link-rx"></block></block>
  <block id="d64280eb12d42bb67976ffba6d268e7b" category="paragraph">*《*》NetApp HCI</block>
  <block id="3bc72bedcc42d144356d4f933c48485d" category="inline-link">部署先決條件NetApp HCI</block>
  <block id="85bfffc1a1f7aaabd6cf58841640c308" category="list-text"><block ref="85bfffc1a1f7aaabd6cf58841640c308" category="inline-link-rx"></block></block>
  <block id="b52e411998b7d3a95ad5bd8a320bf271" category="inline-link">存取NetApp部署引擎</block>
  <block id="9d0da73b02655dd7861121905db229e2" category="list-text"><block ref="9d0da73b02655dd7861121905db229e2" category="inline-link-rx"></block></block>
  <block id="9aaca8cfd79770bc4944ccc477e37141" category="paragraph">*應用程式最佳實務做法資訊*</block>
  <block id="27a5e02bc2fadee43ace94805739a0c8" category="inline-link">MySQL ONTAP 的最佳實務做法</block>
  <block id="40d2eaf9adabe99a601c57eabf49e4d3" category="list-text"><block ref="40d2eaf9adabe99a601c57eabf49e4d3" category="inline-link-rx"></block></block>
  <block id="17efdd7d210511985714be299d595292" category="inline-link">MySQL SolidFire 的最佳實務做法</block>
  <block id="d03b53d8ec563c37e16ee8c900a75b96" category="list-text"><block ref="d03b53d8ec563c37e16ee8c900a75b96" category="inline-link-rx"></block></block>
  <block id="3aefe1a041af945f1fe8673bf775057b" category="inline-link">NetApp SolidFire 的功能與Cassandra</block>
  <block id="7e2b19f6f6bd1332efe1f7a698984670" category="list-text"><block ref="7e2b19f6f6bd1332efe1f7a698984670" category="inline-link-rx"></block></block>
  <block id="6e580111d3a8c12cdcd9522a4d3484c6" category="inline-link">Oracle SolidFire 的最佳實務做法</block>
  <block id="6db96715cefe9c4950ef722865494128" category="list-text"><block ref="6db96715cefe9c4950ef722865494128" category="inline-link-rx"></block></block>
  <block id="6448cf37496207be126495e5b05851de" category="inline-link">PostgreSQL SolidFire 的最佳實務做法</block>
  <block id="eb2c92a9d2d39fa7191d6e84d5c33bb5" category="list-text"><block ref="eb2c92a9d2d39fa7191d6e84d5c33bb5" category="inline-link-rx"></block></block>
  <block id="b062996d6ca590abe798d3db75561f79" category="paragraph">並非所有應用程式都有特定的準則、請務必與您的NetApp團隊合作並使用<block ref="4caccef7312f2c398bfbb419629c1a78" category="inline-link-rx"></block> 以尋找最新的文件。</block>
  <block id="1fdc23c8579638d050b7b219da011f2b" category="section-title">驅動程式選擇與部署</block>
  <block id="815a377da65ae5b66c84438c43416d82" category="paragraph">較高層級的應用程式若有需要共用儲存設備的元件（多個Pod存取相同的PVc）、則以NAS為基礎的驅動程式將是預設選擇、而區塊型iSCSI驅動程式則可滿足非共用儲存設備的需求。根據應用程式的需求、以及儲存設備和基礎架構團隊的舒適度來選擇傳輸協定。一般而言、大多數應用程式的差異不大、因此通常是根據是否需要共用儲存設備（如果有多個Pod需要同時存取）來決定。</block>
  <block id="c2c889ded63fbe94cf7f1d5fe4747b2d" category="list-text">「ONTAP-NAS」：每個提供的PV都是ONTAP 完整的FlexVolume。</block>
  <block id="9418583a1b7e700d24bcc735aa4682b5" category="list-text">「ONTAP-NAS-EAS'：每個已配置的PV都是qtree、每個FlexVolume可設定的qtree數量（預設值為200）。</block>
  <block id="bc8f11db54909209ba09d55ee0b46990" category="list-text">「ONTAP-NAS-flexgroup」：每個PV均以ONTAP FlexGroup 完整的形式配置、並使用指派給SVM的所有集合體。</block>
  <block id="5e587346b7a212ee6429303276a1578b" category="list-text">「ONTAP-san」：每個已配置的PV都是其FlexVolume內的LUN。</block>
  <block id="85f6f5093b037b5bde3201d8136ee585" category="list-text">「ONTAP-san經濟」：每個配置的PV都是LUN、每個FlexVolume有可設定的LUN數量（預設值為100）。</block>
  <block id="f1d8371af632688748db007c98766ded" category="paragraph">在這三種NAS驅動程式之間選擇、會對應用程式可用的功能產生一些影響。</block>
  <block id="8a1187760a2c55e422a454a64e160291" category="paragraph">請注意、在下表中、並非所有功能都透過Astra Trident公開。如果需要這些功能、儲存管理員必須在資源配置後套用部分功能。上標註可區分每項功能和驅動程式的功能。</block>
  <block id="6252699c8e049f40eaf187092727a531" category="cell">ASNAS驅動程式ONTAP</block>
  <block id="9147e5e61a7b9260dec09f3a6eb3e5be" category="cell">快照</block>
  <block id="999cc42b236c7aee1157ff02d6f1bcd5" category="cell">複製</block>
  <block id="13bc190bfed9f972b3e33e3656737cdd" category="cell">動態匯出原則</block>
  <block id="ab0c646b4c5e36d9bcf8239d97fd1843" category="cell">多重附加</block>
  <block id="8f2db90dd4a6fbd95ba8f0bc54fd6b27" category="cell">QoS</block>
  <block id="9d723d04c40bfd81835c0766a698cf63" category="cell">調整大小</block>
  <block id="8c340dc334134096f68b880b42a8692c" category="cell">複寫</block>
  <block id="6bfc395e3d384b30d9f43ca45b1eeff7" category="cell">是註腳：5[]</block>
  <block id="7c078cb746c3dd22969c07747fd7f3fc" category="cell">是註腳：1[]</block>
  <block id="e4e9da2a7bd5e2b5b29c51299a1b787f" category="cell">是註腳：3[]</block>
  <block id="15861eb7768c6587d321b6010008930e" category="paragraph">Astra Trident提供2個ONTAP SAN驅動程式來支援功能如下所示。</block>
  <block id="f916141465c67326e5d7d980bff2880b" category="cell">支援SAN驅動程式ONTAP</block>
  <block id="4f546cdc5f90f7d264cde89d14c6e015" category="cell">雙向CHAP</block>
  <block id="e78e01b4457814be0584f80618e4659a" category="cell">是註腳：4[]</block>
  <block id="74b4b41be17ac9897921032dfd4e94a8" category="paragraph">非PV精細的功能會套用至整個FlexVolume、而所有PV（即共享FlexVols中的qtree或LUN）都會共用一個共同排程。</block>
  <block id="b483d59c54aea739f0806cf2f30c057e" category="paragraph">如以上表格所示、「ONTAP-NAS」與「ONTAP-NAS經濟」之間的大部分功能都相同。不過、由於「ONTAP - NAS經濟」驅動程式限制了以每個PV精細度控制排程的能力、因此這可能會特別影響您的災難恢復與備份規劃。對於想要在ONTAP 不支援的儲存設備上使用永久虛擬複製功能的開發團隊、只有在使用「ONTAP-NAS」、「ONTAP-SAN」或「ONTAP-SAN經濟」驅動程式時、才有可能做到這一點。</block>
  <block id="45f7f2e55c0930a28d1a9e481e602a09" category="admonition">「Poolidfire - san」驅動程式也能複製PVCS。</block>
  <block id="986d46700a93c1b67573285912b2a857" category="paragraph">支援資料控管功能、並提供企業級的儲存功能、適用於各種使用案例、包括檔案共用、區塊層級儲存設備（NFS、SMB / CIFS及iSCSI）Cloud Volumes ONTAP 。Cloud Volume ONTAP 的相容驅動程式為「ONTAP-NAS」、「ONTAP-NAS經濟」、「ONTAP-SAN」和「ONTAP-SAN經濟」。適用於ONTAP Azure的Cloud Volume供應、適用於ONTAP GCP的Cloud Volume供應。</block>
  <block id="e040ac9827d856d3ad8ae9ac0da92295" category="paragraph">NetApp HCI / SolidFire平台搭配使用的「Poolidfire」驅動程式、可協助管理員根據QoS限制、為Trident設定元素後端。如果您想要設計後端、以便針對Trident提供的磁碟區設定特定的QoS限制、請在後端檔案中使用「type」參數。管理員也可以使用「limitVolume Siz」參數、限制儲存設備上可建立的磁碟區大小。目前、磁碟區大小調整和磁碟區複寫等元素儲存功能不支援使用「Poolidfire - san」驅動程式。這些作業應透過Element Software Web UI手動完成。</block>
  <block id="77e9d6f249e4626d5b5c3aec863459d3" category="cell">驅動程式SolidFire</block>
  <block id="9ef2bbb12ff72558472202561a25058d" category="cell">CHAP</block>
  <block id="0929973a1c9993903f6193add75b3fcf" category="cell">是註腳：2[]</block>
  <block id="bccbad684880808562152ac1d82d7b73" category="verse-content-simple">註腳：是註腳：1[]：不受Astra Trident管理是註腳：2[]：支援原始區塊磁碟區</block>
  <block id="657e0fa57d574227dd7520919f55ff92" category="paragraph">Astra Trident使用「azure-NetApp-files」驅動程式來管理 <block ref="d617d79fbb5ee3bc8bd280353eeb1349" category="inline-link-macro-rx"></block> 服務：</block>
  <block id="1f65578a7accdff5ca6ff9f8dc42d9c6" category="inline-link-macro">Astra Trident的Azure NetApp Files 後端組態、適用於</block>
  <block id="4da613089cbda3d7c19cb4b3f67c1f5d" category="cell">驅動程式Azure NetApp Files</block>
  <block id="8098b34f582537833b36b58273c3545b" category="cell">展開</block>
  <block id="2fdc8a66565228c15d355a7849997337" category="verse-content-simple">註腳：是註腳：1[]：不由Astra Trident管理</block>
  <block id="1d326a2a7f267c800fe3eafb89e5c7cd" category="inline-link-macro">服務類型</block>
  <block id="3af6198d49c40c18f13c73c5ce15cf34" category="section-title">儲存層級設計</block>
  <block id="388bdf78cbb5b6bf4248ddf5613f7cc3" category="paragraph">需要設定並套用個別的儲存類別、才能建立Kubernetes儲存類別物件。本節將討論如何為應用程式設計儲存類別。</block>
  <block id="a09acd5f665bdf96b6dce47f8d4265e3" category="paragraph">篩選功能可在特定的儲存類別物件內使用、以決定要搭配該特定儲存類別使用的儲存資源池或集區集區集區。儲存類別可設定三組篩選器：「儲存設備」、「其他儲存設備」及/或「排除儲存設備」。</block>
  <block id="fc01760e8c283c2f128543ae8b8a67cc" category="paragraph">「儲存池」參數有助於將儲存區限制在符合任何指定屬性的集區集區集區。「addionalStoragePools」參數可用來擴充Astra Trident用來進行資源配置的資源池集區集區、以及由屬性和「儲存池」參數所選取的資源池集區集區集區集區集區集區集區。您可以單獨使用參數或同時使用兩者、以確保已選取適當的儲存資源池集區集區。</block>
  <block id="74476e892d2681775eb41ec00a11e8da" category="paragraph">「exclude StoragePools」參數是用來明確排除列出的符合屬性的集區集區集區集區。</block>
  <block id="ab807e6bd2f9cb9872eed98161bdd4e1" category="paragraph">如果您想設計儲存類別來模擬服務品質原則、請建立儲存類別、並將「媒體」屬性設定為「HDD」或「SD」。根據儲存類別中提及的「媒體」屬性、Trident會選擇適當的後端、以提供「HDD」或「sd」集合體、以符合媒體屬性、然後將磁碟區的資源配置導向特定的集合體。因此、我們可以建立儲存等級Premium、將「媒體」屬性設為「sd」、可歸類為優質QoS原則。我們可以建立另一個儲存類別標準、將媒體屬性設為「HDD」、並將其歸類為標準QoS原則。我們也可以使用儲存類別中的「IOPS」屬性、將資源配置重新導向至可定義為QoS原則的元素應用裝置。</block>
  <block id="0bc0e72aefbf8f8ec0b28cc0486f98a2" category="paragraph">儲存類別可設計用於將Volume資源配置導向特定後端、啟用精簡與完整資源配置、快照、複製及加密等功能。若要指定要使用的儲存設備、請建立儲存設備類別、以指定啟用所需功能的適當後端。</block>
  <block id="421f7dd5bb37a6401aa6326ad33dae20" category="section-title">會影響儲存資源配置的永久儲存設備特性</block>
  <block id="5ab83f35784f154d55ea7ab58c8e503b" category="section-title">存取模式</block>
  <block id="f3882c83b41b76a9fac2c57407f3ac2b" category="paragraph">透過永久虛擬網路申請儲存時、其中一個必填欄位是存取模式。所需的模式可能會影響所選的後端、以裝載儲存要求。</block>
  <block id="b72ab56468fdf0df298a89c3339b82c0" category="paragraph">Astra Trident會嘗試將所使用的儲存傳輸協定與根據下列對照表所指定的存取方法配對。這與基礎儲存平台無關。</block>
  <block id="cac415feda213697b27d3b6fce10d33a" category="cell">ReadWriteOnce</block>
  <block id="c24ad3d99a666c95edd149419c958ee0" category="cell">ReadOnlyMany</block>
  <block id="caa8dc1f4bb28d2d11226494cd05a123" category="cell">ReadWriteMany</block>
  <block id="cefb8ccdebef1940174b22e9d0ab530b" category="cell">是（原始區塊）</block>
  <block id="823f2153adc2211a0777560eafdcbad6" category="paragraph">如果要求將ReadWriteMany永久虛擬磁碟提交至Trident部署、但未設定NFS後端、則不會配置任何磁碟區。因此、申請者應使用適合其應用程式的存取模式。</block>
  <block id="5a51acb2538e54805c54d37ebb49c75d" category="section-title">Volume作業</block>
  <block id="26fad327e23b6b08dcc94300bfe1ed04" category="section-title">修改持續磁碟區</block>
  <block id="f82b5505d8def4abda0bec52275bd411" category="admonition">Kubernetes樹狀目錄內建資源配置程式目前不支援NFS或iSCSI PV的磁碟區大小調整作業。Astra Trident支援同時擴充NFS和iSCSI磁碟區。</block>
  <block id="b1d1874782626fe3f391628ea493e6ef" category="paragraph">PV的連線詳細資料無法在建立後修改。</block>
  <block id="e68591655c8031177206e1e75728853f" category="section-title">建立隨需磁碟區快照</block>
  <block id="f557ce2b38683c13c1c1a070ce58a33d" category="paragraph">Astra Trident支援隨需磁碟區快照建立、並使用csi架構從快照建立PVCS。Snapshot提供便利的方法來維護資料的時間點複本、並使Kubernetes中的來源PV在生命週期上獨立不受影響。這些快照可用於複製PVCS。</block>
  <block id="f007c56a8eb121e8a696105e69aefa68" category="section-title">從快照建立磁碟區</block>
  <block id="e005d448313cdc2848d923f4c754e467" category="paragraph">Astra Trident也支援從Volume快照建立PersistentVolumes。為達成此目標、只要建立一個PersistentVolume Claim、並將「資料來源」提及為需要建立磁碟區的必要快照即可。Astra Trident會利用快照上的資料建立磁碟區、以處理此永久虛擬磁碟。有了這項功能、您可以跨區域複製資料、建立測試環境、完整取代毀損或毀損的正式作業磁碟區、或擷取特定檔案和目錄、然後將它們傳輸到其他附加磁碟區。</block>
  <block id="55a3309b0b6646e0ea6b47195bd3d4bd" category="section-title">在叢集中移動磁碟區</block>
  <block id="925b814524908630c07d45fc5a80028a" category="paragraph">儲存管理員能夠在ONTAP 整個叢集中的集合體和控制器之間、不中斷營運地將磁碟區移至儲存使用者。此作業不會影響Astra Trident或Kubernetes叢集、只要目的地Aggregate是Astra Trident所使用的SVM能夠存取的集合體。重要的是、如果新將Aggregate新增至SVM、則需要重新將其新增至Astra Trident來重新整理後端。這會觸發Astra Trident重新清查SVM、以便辨識新的Aggregate。</block>
  <block id="033dcaefcc578c987d32d4bdb6f6b1e2" category="paragraph">然而、Astra Trident並不支援跨後端移動磁碟區。這包括在同一個叢集內的SVM之間、叢集之間或不同的儲存平台（即使該儲存系統是連接至Astra Trident的儲存系統）。</block>
  <block id="302be77289f337115411c01846d9a489" category="paragraph">如果將磁碟區複製到其他位置、則磁碟區匯入功能可用於將目前的磁碟區匯入Astra Trident。</block>
  <block id="40a28a40c11a193f8911cf4143a6ae6a" category="section-title">將現有磁碟區匯入Kubernetes</block>
  <block id="62e0abd2d56d565a2b31e85b446fa800" category="paragraph">Volume匯入功能可將現有的儲存磁碟區匯入Kubernetes環境。目前支援的驅動程式有「ONTAP-NAS」、「ONTAP-NAs-flexgroup」、「Poolidfire - san」、「azure-NetApp-fil卻」和「GCP - CVS」。當將現有應用程式移轉至Kubernetes或發生災難恢復時、此功能非常實用。</block>
  <block id="5d9f64103cac7a58da69304bc3320e98" category="paragraph">使用ONTAP 支援功能的支援功能和「Poolidfire - san」驅動程式時、請使用命令「tridentctl import volume &lt;backend-name&gt;&lt;volume-name&gt;-f /path/PVC.yaml」、將現有的磁碟區匯入要由Astra Trident管理的Kubernetes。匯入Volume命令中使用的PVc Yaml或Json檔案會指向儲存類別、以將Astra Trident識別為資源配置程式。使用NetApp HCI / SolidFire後端時、請確定磁碟區名稱是唯一的。如果磁碟區名稱重複、請將磁碟區複製成唯一名稱、以便磁碟區匯入功能能夠區分它們。</block>
  <block id="555c97661fe540a8eabda5c4680e2f81" category="paragraph">如果使用「azure-netapp-files」或「gcp-CVS」驅動程式、請使用命令「tridentctl匯入Volume &lt;後端名稱&gt;&lt; Volume path&gt;-f /path/pcv.yaml」、將磁碟區匯入要由Astra Trident管理的Kubernetes。如此可確保唯一的Volume參考。</block>
  <block id="3a8b25f50e2dcc298175abc8f6a71f82" category="paragraph">如果部署的容器需要特定匯入的PVc、則會保持擱置狀態、直到PVC/PV配對透過Volume匯入程序繫結為止。在PVC/PV配對繫結之後、如果沒有其他問題、則應啟動容器。</block>
  <block id="41603705958b86c3ec4ff21cfce13a5b" category="section-title">部署OpenShift服務</block>
  <block id="7e3c623b48b608f4c6380c2994ae5aa9" category="paragraph">OpenShift加值叢集服務可為叢集管理員和託管的應用程式提供重要功能。這些服務所使用的儲存設備可以使用節點本機資源進行資源配置、但這通常會限制服務的容量、效能、可恢復性及永續性。運用企業儲存陣列來提供這些服務的容量、可大幅改善服務品質、不過OpenShift和儲存管理員應該密切合作、以決定每個服務的最佳選項。Red Hat文件應充分運用、以判斷需求、並確保符合規模調整與效能需求。</block>
  <block id="6dd8f6c286b8e1a8c96c6309099f0003" category="section-title">登錄服務</block>
  <block id="68ee1c4c0da20bfd1e946df20351d4b9" category="inline-link-macro">NetApp.IO</block>
  <block id="34d357a7f8cc47e860d5fb0a317cf22d" category="paragraph">登錄的儲存設備部署與管理已記錄在中 <block ref="d5e1883ebd095c0eda96c44469e8197d" category="inline-link-macro-rx"></block> 在中 <block ref="ceb73d0582d40281d79011a1e5343e89" category="inline-link-macro-rx"></block>。</block>
  <block id="62ac236856a5a6aefd15133e967514c6" category="section-title">記錄服務</block>
  <block id="2f3052b6a2858bec8355ec56150f6a38" category="paragraph">如同其他OpenShift服務、記錄服務是使用Ansible搭配庫存檔案所提供的組態參數（即k.a.）來部署主機、提供給教戰手冊。其中包括兩種安裝方法：在初始OpenShift安裝期間部署記錄、以及在安裝OpenShift之後部署記錄。</block>
  <block id="57cad4852c9c2e439f61728e0391fe7b" category="paragraph">如果您選擇使用NFS搭配記錄服務、則必須將Ansible變數「openshift_enable _unsupported_configurations」設為「true」、以避免安裝程式失敗。</block>
  <block id="be11c74c1dd7f307bb80183a90dc2067" category="section-title">開始使用</block>
  <block id="16e90b2336fdfec64b19194247422194" category="paragraph">記錄服務可選擇性地同時部署給應用程式、以及OpenShift叢集本身的核心作業。如果您選擇部署作業記錄、將變數「openshift_logging_use」指定為「true」、就會建立兩個服務執行個體。控制作業記錄執行個體的變數包含「ops」、而應用程式執行個體則不包含。</block>
  <block id="c5c09113a6a6ae4b75868a9e96ea3cc3" category="inline-link-macro">RedHat OpenShift記錄文件</block>
  <block id="02098b11f876fe10c40b6106bd9864da" category="paragraph">下表中的變數會使用提供的詳細資料、產生Ansible教戰手冊、為記錄服務建立PV和PVc。這種方法的彈性遠低於OpenShift安裝後使用元件安裝方針、不過如果您有現有的磁碟區可用、這是一個選項。</block>
  <block id="47c14840d8e15331fa420b9b2f757cd9" category="cell">變動</block>
  <block id="3ec365dd533ddb7ef3d1c111186ce872" category="cell">詳細資料</block>
  <block id="9aa2fd43742cd5ed36b406b3f4b0fd8c" category="cell">"openshift_logging_storage _gin"</block>
  <block id="3260b06ea72e4931f5fb5106001fcc28" category="cell">設定為「NFS」、讓安裝程式為記錄服務建立NFS PV。</block>
  <block id="e95f43173c69a9ca544d4aaef28a4d90" category="cell">"openshift_logging_storage主機"</block>
  <block id="3a262c1d9bdec02b241c16b2c5f6dbbe" category="cell">NFS主機的主機名稱或IP位址。這應該設定為虛擬機器的資料LIF。</block>
  <block id="41aae586bb7044d7741fe9412aa81e03" category="cell">"openshift_logging_storage、nfs_directory"</block>
  <block id="bf2d137d8c669b07aae26040c7e5c0e0" category="cell">NFS匯出的掛載路徑。例如、如果磁碟區已連接為「/openshift_logging」、您就會將該路徑用於此變數。</block>
  <block id="88a9f7d18fabb82d63ac43c64ae6e735" category="cell">"openshift_logging_storage磁碟區名稱"</block>
  <block id="6f8782c23f3cb958d0de4fad76dabaed" category="cell">要建立之PV的名稱、例如「PV_ose記錄」。</block>
  <block id="789e0dc4bfc00f5c885a698d6ab34dff" category="cell">"openshift_logging_storage磁碟區大小"</block>
  <block id="b68f05ea52c8c80c07e6a4c0671c75bf" category="cell">NFS匯出的大小、例如「100Gi」。</block>
  <block id="2ab80b6965298dc6a178995bbedebe88" category="paragraph">如果您的OpenShift叢集已在執行中、因此已部署及設定Trident、則安裝程式可以使用動態資源配置來建立磁碟區。需要設定下列變數。</block>
  <block id="c2aecf833d743cbc47969cd85c67101e" category="cell">「openshift_logging_es _PVC_Dynamic」</block>
  <block id="540ad9a52084720ddb7f364fa8b304c6" category="cell">設為true可使用動態資源配置的磁碟區。</block>
  <block id="45a481a75749c5331e7e9fd7d89e473d" category="cell">「openshift_logging_es _PVC_storage _class_name」</block>
  <block id="837ffa1e281409660ed25582c5b1963f" category="cell">將在PVc中使用的儲存類別名稱。</block>
  <block id="cd3daa927272b5624e96d283365d5500" category="cell">「openshift_logging_es _PVC_size」</block>
  <block id="8f80d278a79cbc84b80a091713006022" category="cell">在永久虛擬磁碟中要求的磁碟區大小。</block>
  <block id="1bb0c7eeef4bbbefae080a294fd554b0" category="cell">「openshift_logging_es _PVC_prefix」</block>
  <block id="f870ec92e294a018a17afe7a614fb5bb" category="cell">記錄服務使用的PVCS前置詞。</block>
  <block id="e8c62e1f0f0773ae5ba6a7acad696b2d" category="cell">「openshift_logging_es _ops_PVC_Dynamic」</block>
  <block id="46e65a11ac398c02b8fce45a7cd5cf36" category="cell">設為「true」、以動態配置的磁碟區用於作業記錄執行個體。</block>
  <block id="8792c7234e14325cb68c493d20ab5154" category="cell">「openshift_logging_es _ops_PVC_storage儲存設備類別名稱」</block>
  <block id="d016f79f0ee104f3805d61e6a379fb9b" category="cell">作業記錄執行個體的儲存類別名稱。</block>
  <block id="048e768365962d7d520567f92aea8355" category="cell">「openshift_logging_es _ops_PVC_Size'</block>
  <block id="bc367f89ac597585e52d0eb58a5929ae" category="cell">作業執行個體的Volume要求大小。</block>
  <block id="155871626071d69cb283985a9f36bad2" category="cell">「openshift_logging_es_ops_PVC_prefix」</block>
  <block id="2a8f254749a466654f556c6466051133" category="cell">ops執行個體PVCS的前置詞。</block>
  <block id="e1b2d0d3228c29c069bcd139de306709" category="section-title">部署記錄堆疊</block>
  <block id="0409a0cfdfa4f3b3033503b8309442ff" category="paragraph">如果您將記錄部署為初始OpenShift安裝程序的一部分、則只需遵循標準部署程序即可。Ansible會設定及部署所需的服務和OpenShift物件、以便在可執行的完成後立即提供服務。</block>
  <block id="210ecadaccb6088b0dfbd2e6a0b5d0a0" category="inline-link-macro">RedHat OpenShift Container Platform 3.11文件</block>
  <block id="67f3e99678cc7c568f4ed29074cdc41c" category="paragraph">不過、如果您在初始安裝之後進行部署、Ansible將需要使用元件方針。不同版本的OpenShift可能會稍微改變此程序、因此請務必閱讀並遵循 <block ref="a2226808e95b8487c66dd3b8cbea118e" category="inline-link-macro-rx"></block> 適用於您的版本。</block>
  <block id="3dbf527ac3caf41ab150ec99a1737217" category="section-title">度量服務</block>
  <block id="69aa4440020e49c654aeb910f38c6bb9" category="admonition">下表僅包含與度量服務相關的儲存組態相關變數。文件中還有許多其他選項、您應該根據部署情況來檢閱、設定及使用。</block>
  <block id="4f692d78f978a73b157571022c1d1ba7" category="cell">"openshift_imization_storage類型"</block>
  <block id="30da7e263c0cffc34933d24a07fb097a" category="cell">"openshift_imization_storage主機"</block>
  <block id="adba8dd7dd2b027405b815c03a05dbf1" category="cell">NFS主機的主機名稱或IP位址。這應該設定為SVM的資料LIF。</block>
  <block id="3bafc264ad2a901d3be052a7f1cf2e44" category="cell">"openshift_imization_storage、nfs_directory"</block>
  <block id="459859e54ba90bc4145c54d1f1deecff" category="cell">NFS匯出的掛載路徑。例如、如果磁碟區已連接為「/openshift_度量」、您就會使用該路徑來處理此變數。</block>
  <block id="ca0f0d82f9c7cbc36df652cddd4b2f35" category="cell">"openshift_imization_storage磁碟區名稱"</block>
  <block id="eb10d02b22b02d7f543f867b8d31e7b0" category="cell">要建立之PV的名稱、例如「PV_ose度量」。</block>
  <block id="a3eeeafe923ac73e75b3bf33cdadb603" category="cell">"openshift_imization_storage磁碟區大小"</block>
  <block id="a56c731cfe96d228c7c0bcc57bc80d3d" category="cell">"openshift_imization_cassandra _PVC_prefix"</block>
  <block id="0da919d4045e4f38d294aaec73f5d57f" category="cell">用於度量PVCS的前置詞。</block>
  <block id="15bb3eef0b42a93e324977c289f2fd85" category="cell">"openshift_imization_cassandra _PVC_Size"</block>
  <block id="75929c9d67f1407282b5618fca4589e7" category="cell">要要求的磁碟區大小。</block>
  <block id="8ebb493e0ffdf7c1e850c67bc22f15c7" category="cell">"openshift_imensits_cassandra儲存設備類型"</block>
  <block id="aab0ec84a4da1dfd2b63896453f1e05d" category="cell">用於度量的儲存類型、必須設定為動態、Ansible才能建立具有適當儲存類別的PVCS。</block>
  <block id="460aaf3805271ec2e5dc35755fe317b1" category="cell">"openshift_imization_cassanda_PVC_storage _class_name"</block>
  <block id="0c55ca33e89539cd67eb0be3796547c5" category="cell">要使用的儲存類別名稱。</block>
  <block id="6c13e62eb53f29e7794d3807369299d2" category="section-title">部署度量服務</block>
  <block id="bf1cadd7aa4e541e255df26af5451d85" category="inline-link-macro">RedHat的OpenShift部署指南</block>
  <block id="eb502d6483a644e9b6f61ca4719276d8" category="paragraph">上述變數及部署程序可能會隨OpenShift的每個版本而變更。請務必檢閱並遵循 <block ref="5ad72ffc1eda2c257c8947a0ad66dddb" category="inline-link-macro-rx"></block> 以供您的環境使用。</block>
  <block id="d59b86d1714966230da7a00672e40912" category="summary">請使用此處列出的建議、確保您的Astra Trident安裝安全無虞。</block>
  <block id="2fae32629d4ef4fc6341f1751b405e45" category="doc">安全性</block>
  <block id="44a736677691eaca5e5d3d6b5c770b22" category="section-title">在自己的命名空間中執行Astra Trident</block>
  <block id="347d4c35796a862cf20cdcdebfe59e57" category="paragraph">防止應用程式、應用程式管理員、使用者及管理應用程式存取Astra Trident物件定義或Pod、以確保可靠的儲存並封鎖潛在的惡意活動、這一點非常重要。</block>
  <block id="47d7f9fac441e60d9523d256d02aa8ba" category="paragraph">若要將其他應用程式和使用者與Astra Trident區隔開、請務必在Kubernetes命名空間（「trident」）中安裝Astra Trident。將Astra Trident放在自己的命名空間中、可確保只有Kubernetes管理人員能夠存取Astra Trident Pod、以及儲存在命名式CRD物件中的成品（例如後端和CHAP機密）。您應該確保只允許系統管理員存取Astra Trident命名空間、進而存取「tridentctl」應用程式。</block>
  <block id="f40aef657c875e42158050f63dcfbb6f" category="section-title">使用CHAP驗證搭配ONTAP 使用支援SAN的功能</block>
  <block id="2738c60dc60977d9eb6af2bf2a98c193" category="paragraph">Astra Trident支援ONTAP 以CHAP為基礎的驗證功能、適用於各種SAN工作負載（使用「ONTAP-SAN」和「ONTAP-san經濟」驅動程式）。NetApp建議使用雙向CHAP搭配Astra Trident進行主機與儲存後端之間的驗證。</block>
  <block id="d4e0ad8fd8e11d87eb431051692db344" category="section-title">使用CHAP驗證NetApp HCI 搭配不景和SolidFire 不景的後端</block>
  <block id="ba09ee47d11962c1ccd13d7e1f10e6c5" category="doc">較早版本的文件</block>
  <block id="4af8991c21dff2f779496b8350d1124b" category="inline-link">Astra Trident 22.01</block>
  <block id="7669b0b69333e81c7c208aea3d1a3c6f" category="list-text"><block ref="7669b0b69333e81c7c208aea3d1a3c6f" category="inline-link-rx"></block></block>
  <block id="cce172403b73af5c2a4e93081affcc7f" category="inline-link">Astra Trident 21.10</block>
  <block id="606b9e83fb467a43b3065d4fd5037094" category="list-text"><block ref="606b9e83fb467a43b3065d4fd5037094" category="inline-link-rx"></block></block>
  <block id="a93e9e44b7a375a4236260f5ff2b251e" category="inline-link">Astra Trident 21.07</block>
  <block id="3830d427e146a8a64454dc373d9b1502" category="list-text"><block ref="3830d427e146a8a64454dc373d9b1502" category="inline-link-rx"></block></block>
  <block id="0c141ec81d4107f4c63fb0deb2531c0d" category="inline-link">Astra Trident 21.04.</block>
  <block id="193bfae1ebda99fb7289c66fa69395a0" category="list-text"><block ref="193bfae1ebda99fb7289c66fa69395a0" category="inline-link-rx"></block></block>
  <block id="cba2c660d905f83e39a0d1771286c9e7" category="inline-link">Astra Trident 21.01.</block>
  <block id="97f32ab1a5165dc49105dca53b9f4de7" category="list-text"><block ref="97f32ab1a5165dc49105dca53b9f4de7" category="inline-link-rx"></block></block>
  <block id="dec54888538ac86f51d29a3d043e6bf6" category="summary">您可以使用業者輕鬆升級現有的Astra Trident安裝。</block>
  <block id="5ff3faebb0ff710340bdbee89a4667ad" category="doc">與營運者一起升級</block>
  <block id="199ed8c975e8bb544d18428ba17adbc3" category="inline-link">GitHub問題詳細資料</block>
  <block id="3002cfcea36b7fb4d87da4d413730851" category="list-text">下載最新的Astra Trident版本。</block>
  <block id="4a6b869a481b52472aa62cfa4d9d255e" category="paragraph">例如、若要變更預設值「tridentDebug」、請執行下列命令：</block>
  <block id="4ab464bddccdcbc36fab4cea802025f9" category="list-text">從資訊清單建立「TridentOrchestrator」CRD。</block>
  <block id="06da281bf5e01c3c59892dc886cd0067" category="list-text">建立「TridentOrchestrator」、以安裝Astra Trident。</block>
  <block id="43f17763173fe230bdd78477152f5f7d" category="doc">解除安裝Astra Trident</block>
  <block id="8656f6a3d04342ff6248bd7d32949c2a" category="paragraph">如果您使用Helm安裝Astra Trident、您可以使用「helm uninstall」來解除安裝。</block>
  <block id="3bda6d3452a50ffddd40bb74b05d6c50" category="summary">Astra Trident依照每季發行時段進行、每一日曆年發行四個主要版本。每個新版本均以舊版為基礎、提供新功能與效能增強功能、以及錯誤修正與改善功能。我們建議您每年至少升級一次、以善用Astra Trident的新功能。</block>
  <block id="3386987a97643481040e99019808e020" category="doc">升級Astra Trident</block>
  <block id="f71fd95d4de4797557e6830c1448c945" category="summary">您可以使用「tridentctl」輕鬆升級現有的Astra Trident安裝。</block>
  <block id="2a21586f7990f8cb0f8951cd2ef7bc3b" category="doc">使用tridentctl進行升級</block>
  <block id="6224e22d5a77816dd8b659c25a3f88a5" category="paragraph">升級至最新版Astra Trident時、請考慮下列事項：</block>
  <block id="4ff0a9f6065b24ce3d325bad3223f4e2" category="paragraph">解除安裝和重新安裝Astra Trident可做為升級。當您解除安裝Trident時、不會刪除由Astra Trident部署所使用的持續磁碟區宣告（PVc）和持續磁碟區（PV）。當Astra Trident離線時、已配置的PV仍可繼續使用、而Astra Trident會在任何建立於過渡期間的永久虛電路恢復上線後、為其配置磁碟區。</block>
  <block id="5ee08ab883e000ce6b739dbb0b6ff376" category="summary">深入瞭解Kubernetes系統的各個部分。</block>
  <block id="607ae6360b32f1bd6e559e915d414fab" category="doc">Kubernetes概念</block>
  <block id="d60f0fff1c23a02458849862f593357e" category="inline-link">Kubernetes系統</block>
  <block id="a7018a5fd7b610274c7786aa5402e64d" category="paragraph">深入瞭解的各個部分<block ref="f01a74527fa0343e793eb393c9d4809a" category="inline-link-rx"></block>。</block>
  <block id="ee50ce7340da5b018abe62c8e613cae0" category="summary">Astra Trident提供Trident Orchestrator的數個命令列選項、並透過特定連接埠進行通訊。</block>
  <block id="7d4fab76513c90b603a722620cde60fe" category="doc">命令列選項</block>
  <block id="94efe0c9471991c69d2a3b0970a56744" category="paragraph">Astra Trident提供Trident Orchestrator的數個命令列選項。您可以使用這些選項來修改部署。</block>
  <block id="8db7df66ab1d7ab5f1dc947acdb5fae4" category="section-title">記錄</block>
  <block id="7e2a14542a2613424ad88206fd2dd9aa" category="list-text">debug'：啟用除錯輸出。</block>
  <block id="55e727716c7f623987be58e50732c01e" category="list-text">記錄層級：設定記錄層級（偵錯、資訊、警告、錯誤、嚴重）。預設為資訊。</block>
  <block id="30136395f01879792198317c11831ea4" category="section-title">Kubernetes</block>
  <block id="5700f5ae190580b01f6ed6c031668336" category="list-text">「-k8s_pod」：使用此選項或「-k8s_API_server'」來啟用Kubernetes支援。設定此選項會使Trident使用內含Pod的Kubernetes服務帳戶認證、來聯絡API伺服器。這只有當Trident在Kubernetes叢集中以Pod形式執行、且已啟用服務帳戶時才會運作。</block>
  <block id="24095e7ef85031e99914e2c5298a7ded" category="list-text">k8s_API_server &lt;ininside-address:inimite-port&gt;:使用此選項或`-k8s_pod'來啟用Kubernetes支援。如果指定、Trident會使用提供的不安全位址和連接埠、連線至Kubernetes API伺服器。這可讓Trident部署在Pod外部、但它只支援不安全的API伺服器連線。若要安全連線、請使用「-k8s_pod」選項、在Pod中部署Trident。</block>
  <block id="9d77217a2dfe50f2575ced46f5e661d8" category="list-text">「-k8s_config_path &lt;file&gt;'：必要；您必須指定KubeConfig檔案的路徑。</block>
  <block id="c5fd214cdd0d2b3b4272e73b022ba5c2" category="section-title">Docker</block>
  <block id="1e071a3d810132af1c9f8f6a03ca5609" category="list-text">-`-volume驅動程式&lt;name&gt;：登錄Docker外掛程式時使用的驅動程式名稱。預設為「NetApp」。</block>
  <block id="dfbbfd6bbf6bc798d1cbe8895d1cff22" category="list-text">-`driver_port &lt;port-number&gt;'：偵聽此連接埠、而非UNIX網域通訊端。</block>
  <block id="3874d7b8c9196001f8bfe4c49f43b323" category="list-text">「-config」：必要；您必須指定後端組態檔的路徑。</block>
  <block id="50780f47f6839d47d60bc4555ee00c3f" category="section-title">休息</block>
  <block id="bfffd3cb0560af555e57dd6bad52a9be" category="list-text">-`-address&lt;ip-or主機&gt;'：指定Trident的REST伺服器應接聽的位址。預設為localhost。當偵聽localhost並在Kubernetes Pod內部執行時、無法從Pod外部直接存取REST介面。使用「-address」（位址）可讓REST介面從Pod IP位址存取。</block>
  <block id="433f174b6e54b889696b2efd4ef40dc6" category="admonition">Trident REST介面可設定為偵聽、僅適用於127.0.0.1（適用於IPV4）或[:1]（適用於IPv6）。</block>
  <block id="049ad2e7bef322af60013bbdd35ebbe7" category="list-text">-`-port &lt;port-number&gt;'：指定Trident的REST伺服器應接聽的連接埠。預設為8000。</block>
  <block id="188cb756fe8659cb2caf27ca6d1446b4" category="list-text">「-REST」：啟用REST介面。預設為true。</block>
  <block id="8447c4879970f03c99a2bec36a05c141" category="summary">如果您偏好與Astra Trident的REST API互動、您可以直接使用REST端點。</block>
  <block id="a0ebcf8495639418ba9d4b85dbb67b8b" category="doc">Astra Trident REST API</block>
  <block id="319c1a7b5479ffa2a028b658ad5b7033" category="inline-link-macro">tridentctl命令和選項</block>
  <block id="8b3c7aa88e751573c842f17535525f19" category="paragraph">API的運作方式如下：</block>
  <block id="2fab7aa97b6a2cfae6563e72aac5161e" category="list-text">「Get &lt;trident位址&gt;/trident / v1/&lt;object-type &gt;」：列出該類型的所有物件。</block>
  <block id="c34156b367bae1b376f09b89d3be7992" category="list-text">「Get &lt;trident位址&gt;/trident / v1/&lt;object-typed&gt;/&lt;object-name&gt;」：取得命名物件的詳細資料。</block>
  <block id="6692e2cd6834e6b9b2151799cac2a9f8" category="paragraph">「POST &lt;trident位址&gt;/trident / v1/&lt;object-type&gt;」：建立指定類型的物件。</block>
  <block id="3d2bacacf0178e742d5abb2abc32d431" category="list-text">需要Json組態才能建立物件。如需每種物件類型的規格、請參閱 <block ref="e87a326653960de9774fcc58ee9fa490" category="inline-link-macro-rx"></block>。</block>
  <block id="5b2f45c3d098b61927afda859c9144f8" category="list-text">如果物件已經存在、行為會有所不同：後端會更新現有物件、而其他所有物件類型都會使作業失敗。</block>
  <block id="ecfc51243c8c28fc234ff87f1f9ddb88" category="paragraph">「刪除&lt;trident位址&gt;/trident / v1/&lt;object-typed&gt;/&lt;object-name&gt;：刪除命名的資源。</block>
  <block id="80e4e3d3203325fb6aeb139614fd09f3" category="admonition">與後端或儲存類別相關聯的磁碟區將繼續存在、必須分別刪除。如需詳細資訊、請參閱 <block ref="e87a326653960de9774fcc58ee9fa490" category="inline-link-macro-rx"></block>。</block>
  <block id="ce94b1f7df7a6a05a559b66f96eff1cc" category="paragraph">如需這些API的名稱範例、請傳遞DEBUG（`-d'）旗標。如需詳細資訊、請參閱 <block ref="e87a326653960de9774fcc58ee9fa490" category="inline-link-macro-rx"></block>。</block>
  <block id="afe272beb780ad53d441c342bf1c8c77" category="summary">深入瞭解tridentctl、這是一個命令列公用程式、可讓您輕鬆存取Trident。</block>
  <block id="4e49f66de2e2dc43c25555fe50639334" category="paragraph">。<block ref="5a856e83aada9750fe5389f8da94335b" category="inline-link-rx"></block> 內含命令列公用程式「tridentctl」、可讓您輕鬆存取Astra Trident。擁有足夠權限的Kubernetes使用者可以使用它來安裝Astra Trident、以及直接與它互動、以管理包含Astra Trident Pod的命名空間。</block>
  <block id="8ca34267f11cb69ea424bc0320f0e295" category="paragraph">如需使用資訊、請執行「tridentctl --help"。</block>
  <block id="a55b7ee69c26277a1088efc103e15297" category="paragraph">可用的命令和全域選項包括：</block>
  <block id="2dd878ee55d738aa02e6b0b162d45708" category="paragraph">可用命令：</block>
  <block id="4386bd8da14af923cbb7ac011ffc048e" category="list-text">「Create」：新增資源至Astra Trident。</block>
  <block id="f40f9a4cf242d0355aaf8d9e06617436" category="list-text">「刪除」：從Astra Trident移除一或多個資源。</block>
  <block id="94b75e236d78fe800d1d32acc3882789" category="list-text">「Get」（取得）：從Astra Trident取得一或多項資源。</block>
  <block id="bc9ef80dceea04796c6218fe96e05b30" category="list-text">「說明」：任何命令的相關說明。</block>
  <block id="f5421bf790b945f508fa1b9f223318e5" category="list-text">「影像」：列印容器影像Astra Trident需求的表格。</block>
  <block id="40e65170f778aaa7f4ab7f645b3bb3df" category="list-text">「匯入」：將現有資源匯入Astra Trident。</block>
  <block id="a824e587817131e2052a450803b2d97c" category="list-text">「安裝」：安裝Astra Trident。</block>
  <block id="c90c365a06ede3139cad79d4e55673ee" category="list-text">「記錄」：從Astra Trident列印記錄。</block>
  <block id="e5c5ad2be68f58e910aa42a9fcc98141" category="list-text">「結束」：從Astra Trident傳送資源。</block>
  <block id="3166458a066b2d14394e408f1f8fed84" category="list-text">「解除安裝」：解除安裝Astra Trident。</block>
  <block id="8c8fcf9d4df8bd54d26dc748cc4bac55" category="list-text">「更新」：修改Astra Trident中的資源。</block>
  <block id="042aeda3cc45bf1f53a0e74660dbd924" category="list-text">「升級」：升級Astra Trident的資源。</block>
  <block id="d014c15bf0496b645d02caf1704932f7" category="list-text">《版本》：印出Astra Trident的版本。</block>
  <block id="1c90ba5cf3791b6148c7887a696911ec" category="paragraph">旗標：</block>
  <block id="568cd496b6bde641a886745edfa59ae7" category="list-text">「-d、--debug'：偵錯輸出。</block>
  <block id="fe27ec35afa597521f9616f18c32e556" category="list-text">"h-h,--help"：對"tridentctl"的幫助。</block>
  <block id="874377d6c0baee9e8e842c8abf13d28c" category="list-text">「-n、--namespace字串」：Astra Trident部署的命名空間。</block>
  <block id="463b413ea9e7764a789f3e987cb06fc8" category="list-text">「-o」、「-outputstr字 串」：輸出格式。json之一| yaml| name| wl| ps（預設）。</block>
  <block id="85c5338e138fc6d122a579f7a07040bf" category="list-text">「-s、--server字串」：Astra Trident REST介面的位址/連接埠。</block>
  <block id="b8d486e9285b25b72d6efad05e41de4d" category="paragraph">您可以使用執行「create」命令、將資源新增至Astra Trident。</block>
  <block id="6d5c7e6905e460d1fba1f2dd1c0d2a8a" category="paragraph">可用選項：「後端」：新增後端至Astra Trident。</block>
  <block id="0d847e459450017616b8ab50b372ad2e" category="paragraph">您可以執行「刪除」命令、從Astra Trident移除一或多個資源。</block>
  <block id="16713f316b7cce82385c040efc32ac83" category="paragraph">可用選項：</block>
  <block id="417f8bf14ed5852917d189612c7d163c" category="list-text">「後端」：從Astra Trident刪除一或多個儲存後端。</block>
  <block id="4896fd245b78ab9b7d044375c1fce85e" category="list-text">「napshot」：從Astra Trident刪除一或多個Volume快照。</block>
  <block id="cef6b6bb7932e7450e35eafc3d986f18" category="list-text">「torageclass'：從Astra Trident刪除一或多個儲存類別。</block>
  <block id="14eeaf8d1da512153855b759185ee129" category="list-text">「Volume」（磁碟區）：從Astra Trident刪除一或多個儲存磁碟區。</block>
  <block id="c7a7a677647f05a4032891d4aef5bed5" category="paragraph">您可以執行「Get」命令、從Astra Trident取得一或多個資源。</block>
  <block id="2dd609bd837a41363817262fd314b0be" category="list-text">「後端」：從Astra Trident取得一或多個儲存後端。</block>
  <block id="ad4ba4a1b0612fa67f4386330ac00e9d" category="list-text">「napshot」：從Astra Trident取得一或多個快照。</block>
  <block id="5385ccfb9fd8a07e53dc1a6ac58a101d" category="list-text">「torageclass'：從Astra Trident取得一或多個儲存課程。</block>
  <block id="060da5b15e6fb7129c04e18b3d96c702" category="list-text">「Volume」：從Astra Trident取得一或多個Volume。</block>
  <block id="16ca0a361439e1f936eaa5c919443b10" category="paragraph">您可以執行「影像」旗標、以列印容器影像Astra Trident需求的表格。</block>
  <block id="1008ac4609cab9210ae758ff8fee8127" category="paragraph">旗標：*、-help'：影像說明。*`-v、--k8s-version字串：語義版本的Kubernetes叢集。</block>
  <block id="df5ec83145dcd824f8daf85d89e5dd8a" category="paragraph">您可以執行「匯入Volume」命令、將現有磁碟區匯入Astra Trident。</block>
  <block id="ccf1bb29ef5562c033962d35014005e9" category="paragraph">別名：「Volume、v」</block>
  <block id="48c7ae9a5466415a6b9666ad86746640" category="list-text">`-f、--FileName字串：Yaml或Json PVc檔案的路徑。</block>
  <block id="1bb2af29a08ab6ea9414a8656234b8c6" category="list-text">「-h、-help'：Volume說明。</block>
  <block id="0ad393d5c23749c23f3855220b55375a" category="list-text">「無管理」：僅建立PV/PVc。不要假設磁碟區生命週期管理。</block>
  <block id="42ddf993417d9568ca6a057fe55f9c63" category="paragraph">您可以執行「install」旗標來安裝Astra Trident。</block>
  <block id="fbd7cc4267716ab9206612c6dcaa206e" category="list-text">「-autosupport-proxy]：代理伺服器的位址/連接埠、用於傳送AutoSupport 「遙測」。</block>
  <block id="778cbd0cbbd73953bc965ad29269803c" category="list-text">「-enable節點準備」：嘗試在節點上安裝所需的套件。</block>
  <block id="23945a1dd08f0fb29fc1b73a02a2f48d" category="list-text">「-generame-custom-yaml」：產生Yaml檔案、無需安裝任何內容。</block>
  <block id="351ac43ddb05bc31fb7aa4d76c9098ed" category="list-text">「-h、-help'：安裝說明。</block>
  <block id="3b825e283b9b4452c1ef223373ad950d" category="list-text">「-image-registry字串」：內部映像登錄的位址/連接埠。</block>
  <block id="ba7224837b2ded4b5b295c1012fcc2c0" category="list-text">「-k8s-timeout duration」（k8s-timeout持續時間）：所有Kubernetes作業的逾時時間（預設為3個月）。</block>
  <block id="6018142252ad7b87dc139b3235ff4fd3" category="list-text">「-kubelet-dir字串」：kubelet內部狀態的主機位置（預設為「/var/lib/kubelet」）。</block>
  <block id="e36f8ff54239eb329caf981624e29cb9" category="list-text">「-log-format字串」：Astra Trident記錄格式（文字、json）（預設為「text」）。</block>
  <block id="75f452bd493d8727bcf31563cc9106b4" category="list-text">「-PV字串」：Astra Trident使用的舊PV名稱、可確保不存在（預設為「Trident」）。</block>
  <block id="ba2a8d0773dc83972c406043a789e4dd" category="list-text">「-PVc字串」：Astra Trident使用的舊版PVc名稱、可確保不存在（預設為「Trident」）。</block>
  <block id="6c99958eae5167b3baa561e4f7ee33f1" category="list-text">「-Silence-autosupport」：請勿AutoSupport 自動將支援套裝組合傳送至NetApp（預設為true）。</block>
  <block id="77c96d54825d934e8abaadbc0049935d" category="list-text">「-silent」：安裝期間停用大部分的輸出。</block>
  <block id="daeedc3203fdc6c1fb8dfe70e2381ed3" category="list-text">「-trident映像字串」：要安裝的Astra Trident映像。</block>
  <block id="9a7a8500c6fa970d6879b522c3e33437" category="list-text">「用途自訂yaml」：使用安裝目錄中現有的任何Yaml檔案。</block>
  <block id="bbf23448d408765a1240d287ed41ceff" category="list-text">《使用IPv6》：使用IPv6進行Astra Trident的通訊。</block>
  <block id="501416d02a886c81e8849b2f400e28a3" category="paragraph">您可以執行「記錄」旗標、從Astra Trident列印記錄。</block>
  <block id="be8607b2dc354b7010b1464ac140fc1b" category="list-text">「-a、-archive」：除非另有說明、否則請使用所有記錄建立支援歸檔。</block>
  <block id="d8d07479f4d5c7f0ef2b0f51407f070c" category="list-text">「-h、-help'：記錄說明。</block>
  <block id="f925a9593a051a85d10acec74988d84f" category="list-text">「-l、-log字串」：要顯示的Astra Trident記錄。其中一個trident | auto| trident運算子| all（預設為「自動」）。</block>
  <block id="d8a224d86fa21c6c564987d0848bf681" category="list-text">「節點字串」：Kubernetes節點名稱、用於收集節點pod記錄。</block>
  <block id="a335d03b82ae4916c848dd419432f477" category="list-text">「-p、- previous」：取得前一個Container執行個體的記錄（如果存在）。</block>
  <block id="d7d7c214e32f71943c71783fa9d5fb55" category="list-text">"-sidecars"：取得sidecar容器的記錄。</block>
  <block id="3121026e841bd19d147c54ac43e423c0" category="paragraph">您可以執行「shend」命令、從Astra Trident傳送資源。</block>
  <block id="9ce1e94be8ccb1612967a7e2cbe69a6f" category="paragraph">可用選項：AutoSupport 「無法用」：傳送AutoSupport 一份不全的檔案給NetApp。</block>
  <block id="e980a564a92aa568234d9757a591756b" category="paragraph">您可以執行「解除安裝」旗標來解除安裝Astra Trident。</block>
  <block id="328865de703bbe034177e6eb51dc3d28" category="paragraph">您可以執行「update」命令來修改Astra Trident中的資源。</block>
  <block id="8680f448b33371bcb4778563a93f4702" category="paragraph">可用選項：「後端」：更新Astra Trident的後端。</block>
  <block id="2af72f100c356273d46284f6fd1dfc08" category="section-title">版本</block>
  <block id="9867997bba4e250bad7411d19fce3905" category="paragraph">您可以執行「vrsion」旗標來列印「tridentctl」版本和執行中的Trident服務。</block>
  <block id="800f73959f4b721c78f4651c6b4b2052" category="paragraph">旗標：*、用戶端：僅限用戶端版本（不需伺服器）。*「-h、--help'：版本說明。</block>
  <block id="04333ff788951193122a833ecd614950" category="summary">Kubernetes與Trident、Trident與Storage、Kubernetes與儲存設備之間有幾個資源物件、分別是它們之間的關係。其中有些物件是透過Kubernetes進行管理、其他物件則是透過Trident進行管理。</block>
  <block id="da1e63dd673a1932cebb48b6a81bbbb1" category="doc">Kubernetes和Trident物件</block>
  <block id="d107eefb0ce66911b186b03b9e9c337e" category="paragraph">您可以透過讀取和寫入資源物件、使用REST API與Kubernetes和Trident互動。Kubernetes與Trident、Trident與Storage、Kubernetes與儲存設備之間有幾個資源物件、分別是它們之間的關係。其中有些物件是透過Kubernetes進行管理、其他物件則是透過Trident進行管理。</block>
  <block id="62499e0de79c4d07c7915a36f9faa0d8" category="section-title">物件如何彼此互動？</block>
  <block id="b9ea565816618011ca591fc191fe5e63" category="paragraph">瞭解物件、物件的適用範圍及其互動方式、最簡單的方法可能是遵循Kubernetes使用者的單一儲存要求：</block>
  <block id="ec7d6500a82a56ee8f5fff02eafa7af7" category="list-text">使用者會建立一個「PeristentVolume Claim」、要求系統管理員先前設定的Kubernetes「torageClass」中的特定大小的新「PersistentVolume」。</block>
  <block id="6b25cc026b6f29464d3fce0f6ec67805" category="list-text">Kubernetes「torageClass」可將Trident識別為其資源配置程式、並包含可告知Trident如何為所要求的類別資源配置Volume的參數。</block>
  <block id="5b078d6b19593ee6c55f428e2c85faa7" category="list-text">Trident查看自己的「儲存類」、其名稱與用來為類別配置磁碟區的「後端」和「儲存類」相符。</block>
  <block id="ff099186f912c7abb21bcf68690c98d7" category="list-text">Trident會在相符的後端上配置儲存設備、並建立兩個物件：Kubernetes的「PeristentVolume」、告訴Kubernetes如何尋找、掛載及處理Volume、以及Trident中保留「PeristentVolume」與實際儲存設備之間關係的Volume。</block>
  <block id="6d2ae40bc02e88464563ae42ae22d54c" category="list-text">Kubernetes將「PeristentVolume Claim」連結到新的「PeristentVolume」。在執行的任何主機上、包含PeristentVolume的「PeristentVolume Claim」掛載的Pod。</block>
  <block id="490c1b0e3a604c81abb3db1b778ec07b" category="list-text">使用者使用指向Trident的「Volume SnapshotClass」建立現有的永久虛擬磁碟的「Volume Snapshot」。</block>
  <block id="9f4e11d34d158ebd365226367c8b15d9" category="list-text">Trident會識別與該PVc相關聯的磁碟區、並在其後端建立磁碟區快照。它也會建立「Volume SnapshotContent」、指示Kubernetes如何識別快照。</block>
  <block id="c6a606bdd6882cd42de13f2ba3614285" category="list-text">使用者可以使用「Volume Snapshot」作為來源來建立「PeristentVolume Claim」。</block>
  <block id="8ecb92f33c033b00fcf3c18e59c4b177" category="list-text">Trident會識別所需的快照、並執行建立「PeristentVolume」和「Volume」所需的相同步驟。</block>
  <block id="428895404a5e57e01a138a5df672d0fc" category="inline-link">持續磁碟區</block>
  <block id="173423532ed9a565a05f32db2c8f8172" category="admonition">如需進一步瞭解Kubernetes物件、我們強烈建議您閱讀<block ref="92dc8ed82beb7484ab6097a3e91b0deb" category="inline-link-rx"></block> Kubernetes文件的一節。</block>
  <block id="794a32773794ee6c545794c065d1a88b" category="paragraph">Kubernetes「PeristentVolume Claim」物件是Kubernetes叢集使用者所提出的儲存要求。</block>
  <block id="43cf8e1465c61efc8b1b9bf71aa9931c" category="paragraph">除了標準規格之外、Trident還可讓使用者指定下列Volume專屬附註、以覆寫您在後端組態中設定的預設值：</block>
  <block id="55f6611cb342565cf0f5002400f53a95" category="cell">註釋</block>
  <block id="1527fede1d561a899313c8cb3eb1e7bf" category="cell">Volume選項</block>
  <block id="db8a0bbeae97b94338c1b7a61e2a1ec3" category="cell">支援的驅動程式</block>
  <block id="f3780100617165ed98557e3a6d2be72d" category="cell">trident.netapp.io/fileSystem</block>
  <block id="44d4d4eb1f08d8eb29766160086f61dd" category="cell">檔案系統</block>
  <block id="979f70bf9da982ee97ac075df4f048c3" category="cell">trident.netapp.io/cloneFromPVC</block>
  <block id="b4ead50a5ca4f307f7d61da7763ad204" category="cell">cloneSourceVolume</block>
  <block id="cca7544fa2044ea81b43c1e0896bf58e" category="cell">ONTAP-NAS、ONTAP-SAN、solidfire-san、azure-NetApp-Files、GCP-CVS、 ONTAP-san經濟型</block>
  <block id="46ec89aa5290ead7b514dd5182caa0a7" category="cell">trident.netapp.io/splitOnClone</block>
  <block id="58c1c86186ef8de4f6e12d8f3aed8b64" category="cell">分岔OnClone</block>
  <block id="80f05e749a4f524e8c8a05fa19d5df0e" category="cell">ONTAP-NAS、ONTAP-SAN</block>
  <block id="d6f010e4b4bf9748dcaa34feb70188ce" category="cell">trident.netapp.io/protocol</block>
  <block id="81788ba0d7d02d81c063dbca621ba11b" category="cell">傳輸協定</block>
  <block id="100b8cad7cf2a56f6df78f171f97a1ec" category="cell">任何</block>
  <block id="e9898504ff0569325d48acaee7e9ced9" category="cell">trident.netapp.io/exportPolicy</block>
  <block id="61396290e72fa7d707996351c8815bd6" category="cell">ONTAP-NAS、ONTAP-NAS-經濟型、ONTAP-NAS- Flexgroup</block>
  <block id="2902d12b1fe6d9ef5bd1a3474f2356e9" category="cell">trident.netapp.io/snapshotPolicy</block>
  <block id="0a236e7685e50a59df980d0a30929d6c" category="cell">Snapshot原則</block>
  <block id="7f3bf2672240703dc69740ce11443cf2" category="cell">ONTAP-NAS、ONTAP-NAS-經濟型、ONTAP-NAS-flexgroup、ONTAP-SAN</block>
  <block id="6224177007fc13e9e0d3789985ed165a" category="cell">trident.netapp.io/snapshotReserve</block>
  <block id="bb0d75280f9b683f2f1f0767fd0aff9b" category="cell">Snapshot保留區</block>
  <block id="870594bba77423ccae9ad70861e02951" category="cell">ONTAP-NAS、ONTAP-NAs-flexgroup、ONTAP-SAN、GCP-CVS</block>
  <block id="1cb43054bed661d8c8457ddbb43e1b1b" category="cell">trident.netapp.io/snapshotDirectory</block>
  <block id="1ae33c448502ac3d326593aee304c21f" category="cell">Snapshot目錄</block>
  <block id="ec1739ebad429a70f25efc292c347f8e" category="cell">trident.netapp.io/unixPermissions</block>
  <block id="69d900d222446aab8591b45a7363c9e7" category="cell">trident.netapp.io/blockSize</block>
  <block id="480d1b61a0432d1319f7504a3d7318dd" category="cell">區塊大小</block>
  <block id="c0d2a793e71b152662b3e8cd2da00620" category="cell">solidfire-san</block>
  <block id="fc5f8320f80474f09bdd1e3c3849123e" category="paragraph">如果建立的PV具有「刪除」回收原則、則當PV釋出時（亦即使用者刪除PVc時）、Trident會同時刪除PV和備用Volume。如果刪除動作失敗、Trident會將PV標示為這樣、並定期重試該作業、直到成功或手動刪除PV為止。如果PV使用「+Retain +」原則、Trident會忽略它、並假設系統管理員會從Kubernetes和後端進行清理、以便在移除之前備份或檢查磁碟區。請注意、刪除PV並不會導致Trident刪除背板Volume。您應該使用REST API（「tridentctl」）將其移除。</block>
  <block id="5dad99bb31feaed11fecbe29cf682e51" category="paragraph">Trident支援使用csi規格建立Volume Snapshot：您可以建立Volume Snapshot、並將其作為資料來源來複製現有的PVCS。如此一來、PV的時間點複本就能以快照形式呈現給Kubernetes。快照可用來建立新的PV。請參閱「+隨需磁碟區快照+」、瞭解這項功能的運作方式。</block>
  <block id="96e0288ecc3c91f97de46420e70a4f8f" category="paragraph">以下是一個範例：如果使用者已經有一個名為「mysql"的PVC,則使用者可以使用「trident.netapp.io/cloneFromPVC: mySQL」之類的註解來建立一個名為「mysqlclone」的新PVC.使用此註釋集、Trident會複製對應於mySQL PVc的磁碟區、而非從頭開始配置磁碟區。</block>
  <block id="ff0fa770e22db25a156c5e2d7f017283" category="paragraph">請考量以下幾點：</block>
  <block id="5faae6e509c8aecf9f8815a4ceef02b3" category="list-text">我們建議您複製閒置的Volume。</block>
  <block id="f89d76e06e88814705882a1faad838fb" category="list-text">一個PVc及其複本應位於相同的Kubernetes命名空間中、且具有相同的儲存類別。</block>
  <block id="f769a6b54b1d1476b6628ebd1c4b98c4" category="list-text">有了「ONTAP-NAS」和「ONTAP-SAN」驅動程式、可能需要將「trident.netapp.io/splitOnClone`」標註與「trident.netapp.io/cloneFromPVC`」一起設定。Trident將trident.netapp.io/splitOnClone`設為「true」、將複製的磁碟區從父磁碟區分割出來、因此將複製的磁碟區的生命週期與其父磁碟區完全分離、而犧牲部分儲存效率。如果不將「trident.netapp.io/splitOnClone`」設定為「假」、則會減少後端的空間使用量、而犧牲父磁碟區與複製磁碟區之間的相依性、使父磁碟區無法刪除、除非先刪除複本。分割實體複製是合理的做法、是將空的資料庫磁碟區複製到磁碟區及其實體複製環境、以大幅分散差異、而非ONTAP 受益於由NetApp提供的儲存效率。</block>
  <block id="6cb5412cc2fe8210c4d14d6d6b08ab79" category="paragraph">Kubernetes「PersistentVolume」物件代表Kubernetes叢集可用的儲存設備。它的生命週期與使用它的Pod無關。</block>
  <block id="292289b7334983e53d9fb9bd00d30820" category="admonition">Trident會建立「PeristentVolume」物件、並根據其所配置的磁碟區、自動在Kubernetes叢集上登錄。您不需要自行管理。</block>
  <block id="443f09ca4d0d1cc13b5baa064b90c0b7" category="paragraph">當您建立參照Trident型「TorageClass」的PVc時、Trident會使用對應的儲存類別來配置新的Volume、並針對該Volume登錄新的PV。在設定已配置的Volume和對應的PV時、Trident遵循下列規則：</block>
  <block id="b27c91fe87605abbb0d5240430518a1c" category="list-text">Trident會產生Kubernetes的PV名稱、以及用來配置儲存設備的內部名稱。在這兩種情況下、都是確保名稱在其範圍內是唯一的。</block>
  <block id="9c2f88a5c4297bd88ead0cd6314fe886" category="list-text">磁碟區的大小會盡可能接近在室早中所要求的大小、不過視平台而定、磁碟區可能會四捨五入至最接近的可分配數量。</block>
  <block id="0d35625a483152791f4e2d0b751a09cc" category="paragraph">Kubernetes的「torageClass」物件是以名稱在「PeristentVolume Claims」中指定、以一組內容來配置儲存設備。儲存類別本身會識別要使用的資源配置程式、並根據資源配置程式所瞭解的方式來定義該組內容。</block>
  <block id="f7738d717849274e5992d460fd2c0a75" category="paragraph">這是需要由系統管理員建立及管理的兩個基本物件之一。另一個是Trident後端物件。</block>
  <block id="e51377a773f4713e536b061eaa2d4b04" category="paragraph">使用Trident的Kubernetes「torageClass」物件看起來像這樣：</block>
  <block id="39edc8618b50008d4cb2050414d6921f" category="paragraph">這些參數是Trident專屬的、可告訴Trident如何為類別配置Volume。</block>
  <block id="b16da8ed7f6c8cce3011dc2b6c7bd1a4" category="paragraph">儲存類別參數包括：</block>
  <block id="f2bbdf9f72c085adc4d0404e370f0f4c" category="cell">屬性</block>
  <block id="b651efdb98a5d6bd2b3935d0c3f4a5e2" category="cell">必要</block>
  <block id="736b91750e516139acc13c5eb6564f92" category="cell">屬性</block>
  <block id="59a1e7292a0114529fb1b3401b37bc28" category="cell">map[stric]字串</block>
  <block id="7fa3b767c460b54a2be4d49030b349c7" category="cell">否</block>
  <block id="1b40216e6fe613bd013bf8710182e650" category="cell">請參閱以下「屬性」一節</block>
  <block id="c614017642b6cfd9e6a25c7df122d917" category="cell">storagePools</block>
  <block id="b8f32852327d2ffce86ae3ead4fdfb52" category="cell">map[stringList</block>
  <block id="bdd0ddb870ed9de6f6e7d3a75200e9f7" category="cell">將後端名稱對應至中的儲存資源池清單</block>
  <block id="145d1b89a9f9ed8bdc16d1f7a814cace" category="cell">其他StoragePools</block>
  <block id="6907a73ad9068ddf5f99d022102220bb" category="cell">將後端名稱對應至中的儲存資源池清單</block>
  <block id="7df974d787ead594df017a11672f2f0e" category="cell">排除StoragePools</block>
  <block id="99ba77776c83983f5ecbd2b51f2b43ef" category="cell">將後端名稱對應至中的儲存資源池清單</block>
  <block id="f74d4b2b456fb453c0980710290f66eb" category="paragraph">儲存屬性及其可能值可分類為儲存資源池選擇屬性和Kubernetes屬性。</block>
  <block id="2fdf10f3f64b631cd3a137740de02f8b" category="section-title">儲存資源池選擇屬性</block>
  <block id="1f5912cd581dba393d5eecc43059adf4" category="paragraph">這些參數決定應使用哪些Trident託管儲存資源池來配置特定類型的磁碟區。</block>
  <block id="c82a6100dace2b41087ba6cf99a5976a" category="cell">價值</block>
  <block id="6bb24468956384c482a8b5a901fb6383" category="cell">優惠</block>
  <block id="15c2d85f1fae22a3c3a0594510a1f611" category="cell">申請</block>
  <block id="7aa57840938d59b415c1e10dcd1f7173" category="cell">支援者</block>
  <block id="0e72be2e13bf8a2ff8078d3435e5aa7c" category="cell">媒體1^</block>
  <block id="b45cffe084dd3d20d928bee85e7b0f21" category="cell">字串</block>
  <block id="9ccd7f94313a98beb95801927907a0ab" category="cell">HDD、混合式、SSD</block>
  <block id="9bf3032f6854fb376cd8e3e92e11b077" category="cell">資源池包含此類型的媒體、混合式表示兩者</block>
  <block id="5c79c761bae4c27e96c04e54d1da1e91" category="cell">指定的媒體類型</block>
  <block id="c9cb5e737e2746339fd0b462332c8740" category="cell">ONTAP-NAS、ONTAP-NAS-經濟型、ONTAP-NAS-flexgroup、ONTAP-SAN、solidfire-san</block>
  <block id="b713baf75bcf13859037b5274d27d4b8" category="cell">資源配置類型</block>
  <block id="6026fbd9abd05590949de220154e3262" category="cell">纖薄、厚實</block>
  <block id="3064025fe3541bec9942e14fcaedfab7" category="cell">Pool支援此資源配置方法</block>
  <block id="cf65591e3da90317fc132ea7464105d8" category="cell">指定的資源配置方法</block>
  <block id="55b56fb238360663afa6230ad82e74a0" category="cell">後端類型</block>
  <block id="0e1201d4d96df2d9d03c9c66b90874a1" category="cell">集區屬於此類型的後端</block>
  <block id="c4efe19137f43450149d48fddbab6c28" category="cell">指定後端</block>
  <block id="a04622349b3ede0d4176ca2c2e161763" category="cell">所有驅動程式</block>
  <block id="695633290d050f31cec0c9d4bd4a57fe" category="cell">快照</block>
  <block id="c506ff134babdd6e68ab3e6350e95305" category="cell">布爾</block>
  <block id="ac1ffb15effdc77a86029972670d022f" category="cell">對、錯</block>
  <block id="4ac43bef181074fbd4a1f3620b46f77f" category="cell">集區支援具有快照的磁碟區</block>
  <block id="13410bff9f7871113a6af273e2a1b97f" category="cell">已啟用快照的Volume</block>
  <block id="33dece0bdda0f88a645c739f3714c038" category="cell">ONTAP-NAS、ONTAP-SAN、Solidfire-SAN、GCP-CVS</block>
  <block id="bc3832c405ec6cb9c831849328240f3b" category="cell">複製</block>
  <block id="609d32aa243917905f282544b543752a" category="cell">資源池支援複製磁碟區</block>
  <block id="bcb81802de31cf9c717de3c1d6c2f610" category="cell">已啟用複本的Volume</block>
  <block id="5bdf74912a51c34815f11e9a3d20b609" category="cell">加密</block>
  <block id="5f2f2cc138a8bc7067c7f61ab4db0f4d" category="cell">資源池支援加密磁碟區</block>
  <block id="0bda31a93b84fd2b45a90df39c4c8049" category="cell">已啟用加密的Volume</block>
  <block id="dcc09b4a72e31323b652676ce4677771" category="cell">ONTAP-NAS、ONTAP-NAS-經濟型、ONTAP-NAS- FlexGroups、ONTAP-SAN</block>
  <block id="79073619fba8242703524f16870ff858" category="cell">IOPS</block>
  <block id="fa7153f7ed1cb6c0fcf2ffb2fac21748" category="cell">內部</block>
  <block id="86e5d65893929e5d38b4bdcb9fb48ecd" category="cell">正整數</block>
  <block id="bf57d1db8292b2855fa998a86562cfa7" category="cell">集區能夠保證此範圍內的IOPS</block>
  <block id="342a7ce5bb7debc6ba84dc2a3bced587" category="cell">Volume保證這些IOPS</block>
  <block id="895f3d78c77292d9761bdabdc3cf0c99" category="paragraph">^1^：ONTAP Select 不受支援</block>
  <block id="5b3c68bde0b3658758a8ebf47ec6abf1" category="paragraph">在大多數情況下、所要求的值會直接影響資源配置、例如、要求完整資源配置會導致資源配置較為密集的Volume。不過、元素儲存資源池會使用其提供的IOPS下限和上限來設定QoS值、而非所要求的值。在此情況下、要求的值僅用於選取儲存資源池。</block>
  <block id="311fa7e17587a62a6fdcb110253feed7" category="paragraph">理想情況下、您可以單獨使用「屬性」來建構儲存設備的品質、以滿足特定類別的需求。Trident會自動探索並選取符合您指定「屬性」的_all_儲存集區。</block>
  <block id="d0c865b74e0c4b4b387506e9e95d22b2" category="paragraph">如果您發現自己無法使用「屬性」來自動選取適合某個類別的資源池、您可以使用「儲存池」和「其他儲存池」參數來進一步精簡資源池、甚至選取特定的資源池集區。</block>
  <block id="06a87a25fa98442cf561762851213f7e" category="paragraph">您可以使用「儲存池」參數、進一步限制符合任何指定「屬性」的集區集區集區。換句話說、Trident會使用由「屬性」和「儲存庫」參數所識別的資源池交會來進行資源配置。您可以單獨使用參數、也可以同時使用兩者。</block>
  <block id="0c66a737e57eb6ac0885d2ba6d87cc12" category="paragraph">您可以使用「addionalStoragePools」參數來擴充Trident用來資源配置的資源池集區集區集區、而不論「attributes」和「scoragePools」參數所選取的任何資源池為何。</block>
  <block id="2ed95c63c6e58641d710e098e7e23154" category="paragraph">您可以使用「排除StoragePools」參數來篩選Trident用於資源配置的資源池集區集區。使用此參數會移除任何相符的集區。</block>
  <block id="9f8bfd75f7eb5b95503bb0abedf83b40" category="paragraph">在「儲存池」和「其他儲存池」參數中、每個項目的格式均為「&lt;backender&gt;:&lt;storagePoollist&gt;'」、其中「&lt;storagePoollist&gt;'」是以逗號分隔的儲存池清單、用於指定的後端。例如、「addionalStoragePools」的值可能會像是「ontapnas_192.168.1.100:solidgr1、aggr2、aggrfire、192.168.1.101：Bronze」。這些清單接受後端值和清單值的regex值。您可以使用「tridentctl Get backend」來取得後端及其資源池的清單。</block>
  <block id="c087dddd46fcf0fbbf390abeff2216c3" category="section-title">Kubernetes屬性</block>
  <block id="d05956159ee82aafaaacfe08d33d3be6" category="paragraph">這些屬性在動態資源配置期間、不會影響Trident選擇儲存資源池/後端。相反地、這些屬性只會提供Kubernetes持續磁碟區所支援的參數。工作節點負責檔案系統建立作業、可能需要檔案系統公用程式、例如xfsprogs。</block>
  <block id="0e6ac0d7fca9c59e6545312a071555b6" category="cell">相關驅動因素</block>
  <block id="ae6b2a160dd2fafdee385c348edee0c1" category="cell">Kubernetes版本</block>
  <block id="7cfbb6f07899c8071ff38e69dca190e2" category="cell">FSType</block>
  <block id="64b6d80cc167d5c657b60054dbe396ee" category="cell">ext4、ext3、xfs等</block>
  <block id="7928a56d4874d982a06a59e3f30f6935" category="cell">區塊磁碟區的檔案系統類型</block>
  <block id="b1c94ca2fbc3e78fc30069c8d0f01680" category="cell">全部</block>
  <block id="6add71a247c8f4513060920be14857bc" category="cell">owVolume擴充</block>
  <block id="84e2c64f38f78ba3ea5c905ab5a2da27" category="cell">布林值</block>
  <block id="675e3f37a9adfd7ab6433906c490fa06" category="cell">啟用或停用對增加PVc大小的支援</block>
  <block id="2e647c10640a301eccdc45d7ad72507d" category="cell">ONTAP-NAS、ONTAP-NAS-經濟型、ONTAP-NAS-flexgroup、ONTAP-SAN、ONTAP-san經濟型、 solidfire-san、gcp-CVS、azure-netapp檔案</block>
  <block id="c791531450eeeb073b30215d9c306a00" category="cell">1.11+</block>
  <block id="086b513e7d83c4cf32a8bd3550679276" category="cell">Volume BindingMode</block>
  <block id="fd656a4f359aa12808a6d0ceb5792342" category="cell">立即、WaitForFirst消費者</block>
  <block id="5e7777e1f9cfa3a93159ee44cf3f1f5a" category="cell">選擇何時進行磁碟區繫結和動態資源配置</block>
  <block id="8264769021597389583b0a7d1fa7e076" category="inline-link-macro">Kubernetes：設定Pod或Container的安全內容</block>
  <block id="dca8809f382a96564d64ae1525b39048" category="list-text">「FSType」參數用於控制SAN LUN所需的檔案系統類型。此外、Kubernetes也會在儲存類別中使用「FSType」表示檔案系統存在。只有在設定「FSType」時、才能使用Pod的「fsGroup」安全內容來控制Volume擁有權。請參閱 <block ref="7940a62969e5aeae7f6e32b04e7a11e3" category="inline-link-macro-rx"></block> 如需使用「fsGroup」內容設定磁碟區所有權的總覽。Kubernetes只會在下列情況下套用「fsGroup」值：</block>
  <block id="6dd29ca7439e52dcf2fbc569066b3d67" category="list-text">「FSType」是在儲存類別中設定的。</block>
  <block id="45d2174daba36b76955e69d2eddf26ca" category="list-text">PVc存取模式為rwo。</block>
  <block id="ba5b62efad4f90a8f4bb806cba4a3ea4" category="paragraph">對於NFS儲存驅動程式、檔案系統已存在做為NFS匯出的一部分。為了使用「fsGroup」、儲存類別仍需指定「FSType」。您可以將其設定為「NFS」或任何非null值。</block>
  <block id="2435c5eb0d842c13f635d4b1d6667a52" category="list-text">Trident安裝程式套裝組合提供多個範例儲存類別定義、可與Trident搭配使用、位於「sham-INPUT /儲存設備類別-*。yaml」。刪除Kubernetes儲存類別也會刪除對應的Trident儲存類別。</block>
  <block id="65d18b5db5d5f35e4ddc5c696687d1bd" category="paragraph">Kubernetes的「Volume SnapshotClass」物件類似於「儲存類別」。它們有助於定義多種儲存類別、並由Volume Snapshot參考、以將快照與所需的Snapshot類別建立關聯。每個Volume Snapshot都與單一Volume Snapshot類別相關聯。</block>
  <block id="031e09713b698739db52cb150ef97605" category="paragraph">系統管理員應定義「Volume SnapshotClass」、以建立快照。建立具有下列定義的Volume Snapshot類別：</block>
  <block id="879cd061c6bf448cd6fc39dd56947611" category="paragraph">對Kubernetes而言、「driver」是指Trident處理「Cig-snapClass」類別的Volume快照要求。「刪除原則」指定必須刪除快照時要採取的動作。當「刪除原則」設定為「刪除」時、刪除快照時、就會移除儲存叢集上的Volume Snapshot物件和基礎Snapshot。或者、將其設為「保留」、表示保留「Volume SnapshotContent」和實體快照。</block>
  <block id="7ba558df52a052235cf288011e5d667c" category="paragraph">Kubernetes「Volume Snapshot」物件是建立磁碟區快照的要求。就像使用者針對磁碟區所提出的要求一樣、磁碟區快照是使用者建立現有虛擬磁碟快照的要求。</block>
  <block id="f67af493d1fd83b472d5f27307b2f3d9" category="paragraph">當磁碟區快照要求出現時、Trident會自動管理後端磁碟區的快照建立、並建立獨特的「Volume SnapshotContent」物件來公開快照。您可以從現有的PVCS建立快照、並在建立新的PVCS時、將快照作為DataSource使用。</block>
  <block id="53847015682974d066a919b1b45a44a5" category="admonition">Volume Snapshot的生命週期與來源PVCs無關：即使刪除來源PVCs、快照仍會持續存在。刪除具有相關快照的永久虛擬磁碟時、Trident會將此永久虛擬磁碟的備份磁碟區標示為*刪除*狀態、但不會將其完全移除。刪除所有相關的快照時、即會移除該磁碟區。</block>
  <block id="e562bdcf97dce6973a736651f45eb054" category="paragraph">Kubernetes「Volume SnapshotContent」物件代表從已配置的磁碟區擷取的快照。它類似於「PersistentVolume」、代表儲存叢集上已配置的快照。與「PeristentVolume Claim」和「PeristentVolume」物件類似、建立快照時、「Volume SnapshotContent」物件會維持一對一的對應、以對應「Volume Snapshot」物件、該物件已要求建立快照。</block>
  <block id="af741aec1c66e51c00d35a38f92471de" category="paragraph">「Volume SnapshotContent」物件包含可唯一識別快照的詳細資料、例如「快照資料」。此「快照處理」是PV名稱與「Volume SnapshotContent」物件名稱的獨特組合。</block>
  <block id="b22c73e808eef321ee9941ec2e58b64f" category="paragraph">當快照要求出現時、Trident會在後端建立快照。建立快照之後、Trident會設定「Volume SnapshotContent」物件、並將快照公開給Kubernetes API。</block>
  <block id="7c43d52062b795d2d8e7f33b9dbbf671" category="paragraph">Kubernetes自訂資源是Kubernetes API中由系統管理員定義的端點、用於將類似物件分組。Kubernetes支援建立自訂資源來儲存物件集合。您可以執行「kubecl Get crds」來取得這些資源定義。</block>
  <block id="09d4c17e4e0e002375326eee41d0f77f" category="paragraph">自訂資源定義（CRD）及其相關的物件中繼資料會由Kubernetes儲存在其中繼資料儲存區中。如此一來、您就不需要另外建立Trident的儲存區。</block>
  <block id="9f59afd5e4687b9960361128f049dae4" category="paragraph">CRD是Kubernetes建構。上述資源的物件是由Trident所建立。例如、當使用「tridentctl」建立後端時、Kubernetes會建立一個對應的「tridentbackend」CRD物件供其使用。</block>
  <block id="7cdfd680fe492e028cde251c38475469" category="paragraph">以下是Trident客戶需求日的幾點重點：</block>
  <block id="adecfe476427253e9c680a7c5150a9cc" category="list-text">安裝Trident時、會建立一組客戶需求日、並可像使用任何其他資源類型一樣使用。</block>
  <block id="c4b35352cbf7a52a9444a610687067f8" category="inline-link-macro">解除安裝Trident</block>
  <block id="193c267230acf55be171a6a179560847" category="paragraph">Trident會為Kubernetes「torageClass」物件建立相符的儲存類別、並在其資源配置程式欄位中指定「csi.trident.netapp.io`/`netapp.io/trident`」。儲存類別名稱與Kubernetes「torageClass」物件的名稱相符。</block>
  <block id="64cf33bfeab6c6bd8aa626b86fda9cbd" category="admonition">使用Kubernetes、當Kubernetes「torageClass」以Trident做為資源配置程式登錄時、就會自動建立這些物件。</block>
  <block id="51fa0a833f47d8f00ee2677c6fa7b075" category="paragraph">儲存類別包含一組磁碟區需求。Trident會將這些需求與每個儲存資源池中的屬性相符；如果符合、則該儲存資源池是使用該儲存類別來配置磁碟區的有效目標。</block>
  <block id="04d84bba5a5e103ae9c192c03a7ad2f3" category="paragraph">您可以使用REST API建立儲存類別組態、以直接定義儲存類別。不過、在Kubernetes部署中、我們預期在登錄新的Kubernetes「torageClass」物件時、會建立這些物件。</block>
  <block id="3c244b984a2188556c1115a5a27dbe1b" category="paragraph">後端代表儲存供應商、其中Trident會配置磁碟區；單一Trident執行個體可管理任何數量的後端。</block>
  <block id="d71c5fad4769c19422c07158e24510ba" category="admonition">這是您自己建立和管理的兩種物件類型之一。另一個是Kubernetes的「torageClass」物件。</block>
  <block id="54fd1dc39c3eecd913b4c9140522996c" category="paragraph">儲存資源池代表可在每個後端上進行資源配置的不同位置。就支援而言ONTAP 、這些項目對應於SVM中的集合體。對於NetApp HCI / SolidFire、這些服務會對應到系統管理員指定的QoS頻段。就架構而言、這些項目對應於雲端供應商所在的地區。Cloud Volumes Service每個儲存資源池都有一組獨特的儲存屬性、可定義其效能特性和資料保護特性。</block>
  <block id="4ab1440e71a70a97c4966bcc0095f02b" category="paragraph">與此處的其他物件不同、儲存資源池候選項目一律會自動探索及管理。</block>
  <block id="894765102686902c6acc3024e5bdb9bd" category="paragraph">Volume是資源配置的基本單位、包含NFS共用和iSCSI LUN等後端端點。在Kubernetes中、這些內容直接對應到「PersistentVolumes」。建立磁碟區時、請確定它有一個儲存類別、決定該磁碟區可以配置的位置及大小。</block>
  <block id="2e53db54827c8c05b7bfe9cb31f299d9" category="admonition">在Kubernetes中、會自動管理這些物件。您可以檢視這些資源、以查看資源配置的Trident內容。</block>
  <block id="22fcc98910d0241e9835f502b7cb2398" category="admonition">刪除具有相關快照的PV時、對應的Trident Volume會更新為*刪除*狀態。若要刪除Trident磁碟區、您應該移除該磁碟區的快照。</block>
  <block id="05353bc86910df31b2da9c8d3d26aad1" category="paragraph">Volume組態會定義已配置磁碟區應具備的內容。</block>
  <block id="ce9af1e3f0493eb7d5ffdf584ed763ba" category="cell">Trident API版本（「1」）</block>
  <block id="b068931cc450442b63f5b3d276ea4297" category="cell">名稱</block>
  <block id="a6105c0a611b41b08f1209506350279e" category="cell">是的</block>
  <block id="017dbd2b0a2195c3e8052cdff67bad39" category="cell">要建立的Volume名稱</block>
  <block id="78ec9b60245b46a4f05158076962ace9" category="cell">storageClass</block>
  <block id="fa00f346deccdbebef2b3cc0702d41de" category="cell">配置Volume時使用的儲存類別</block>
  <block id="f7bd60b75b29d79b660a2859395c1a24" category="cell">尺寸</block>
  <block id="264c52ca068dfed30f5826bb054839f4" category="cell">要配置的磁碟區大小（以位元組為單位）</block>
  <block id="4f18882934f0472b4bfa32928bf92f14" category="cell">要使用的傳輸協定類型；「檔案」或「區塊」</block>
  <block id="252c6d364cc1a0437939a4f01b0717ae" category="cell">內部名稱</block>
  <block id="2857a43e58983276d059c0e6e2fcb0e9" category="cell">儲存系統上的物件名稱；由Trident產生</block>
  <block id="051fb2c3f62667c87a197ae412a4dbeb" category="cell">Sname（NAS、SAN）&amp; S--*：要複製的磁碟區名稱ONTAP SolidFire</block>
  <block id="e94d46d7c89bcb7e6ac2e2df4d21bafb" category="cell">例（NAS、SAN）：從父實體分割複本ONTAP</block>
  <block id="819549a86d14e849e1d0042c9156d781" category="cell">S--*：快照原則ONTAP</block>
  <block id="e38882545bfedafc7e8ec5973b2e6dd8" category="cell">Sing-*：保留給快照的磁碟區百分比ONTAP</block>
  <block id="fc86db1233bfa77d5143dcaae9842cb1" category="cell">ONTAP-NAS*：要使用的匯出原則</block>
  <block id="48e1d8180a61943f438c259b2b6715f8" category="cell">ONTAP-NAS*：快照目錄是否可見</block>
  <block id="3f7c94eec4bbf43962e1667f5a334469" category="cell">ONTAP-NAS*：初始UNIX權限</block>
  <block id="4b2d5d83aef608a3fb59ec6eda8bea26" category="cell">S--*：區塊/區段大小SolidFire</block>
  <block id="62fe71ae4f6a04a6937feb48ba5dc4f4" category="cell">檔案系統類型</block>
  <block id="c12963ed77d398c8f97e09be58a20fed" category="paragraph">Trident在建立磁碟區時會產生「內部名稱」。這包括兩個步驟。首先、它會將儲存前置詞（預設的「Trident」或後端組態中的前置詞）預先加上磁碟區名稱、以「&lt;prefix&gt;-&lt;volume名稱&gt;」格式命名。然後、它會繼續清理名稱、取代後端不允許的字元。對於後端、它會以底線取代連字號（因此內部名稱會變成「&lt;prefix&gt;_&lt;volume名稱&gt;」）ONTAP 。對於元素後端、它會以連字號取代底線。</block>
  <block id="49539689cebb34166a417b3b666818e5" category="paragraph">您可以使用Volume組態、使用REST API直接配置磁碟區、但在Kubernetes部署中、我們預期大多數使用者都會使用標準的Kubernetes「PeristentVolume Claim」方法。Trident會自動建立此Volume物件、做為資源配置程序的一部分。</block>
  <block id="a1b3787bbd275b7ed5812d022dd36932" category="paragraph">快照是磁碟區的時間點複本、可用來配置新的磁碟區或還原狀態。在Kubernetes中、這些物件會直接對應到「Volume SnapshotContent」物件。每個快照都與一個Volume相關聯、該磁碟區是快照資料的來源。</block>
  <block id="cdf5c8d3dd31e49b82a5b3e2c4a65280" category="paragraph">每個「napshot」物件都包含下列內容：</block>
  <block id="27118326006d3829667a400ad23d5d98" category="cell">字串</block>
  <block id="de73fbae2864dd61c921cf0648a9717a" category="cell">Trident Snapshot物件的名稱</block>
  <block id="8e744456fb3d02d69442038d3e771460" category="cell">儲存系統上Trident Snapshot物件的名稱</block>
  <block id="617a43eb0446f84414df73cce2997fa1" category="cell">Volume名稱</block>
  <block id="b58c8ff1e837af6dafa971bf3d320646" category="cell">為其建立快照的持續Volume名稱</block>
  <block id="2c2aed4b417a0f9c189d7ad6414ae28c" category="cell">Volume內部名稱</block>
  <block id="db1a117103c348ebaec41f9e249554c3" category="cell">儲存系統上相關Trident Volume物件的名稱</block>
  <block id="73f3d5934fdd36989f24cbae94ab423b" category="paragraph">當Kubernetes「Volume Snapshot」物件要求建立時、Trident會在備份儲存系統上建立Snapshot物件。此快照物件的「內部名稱」是將前置詞「sfapshot-」與「Volume Snapshot」物件的「UID」（例如、「sfapshot-e8d8a0ca-9826-11e9-9807-525400f3f660」）結合在一起產生的。「Volume Name」（Volume名稱）和「Volume InternalName」（磁碟區內部名稱）會透過取得備用磁碟區的詳細資料來填入資料。</block>
  <block id="a1582c89f8e85f372306a05848eafb68" category="summary">NetApp儲存產品組合可與Kubernetes叢集的許多不同層面整合、提供進階資料管理功能、強化Kubernetes部署的功能、功能、效能及可用度。</block>
  <block id="9944b094c4079f770fabc4ae629feb0f" category="doc">與Kubernetes整合的NetApp產品</block>
  <block id="3cce5f3eaf76e098ba8e28f7bbba3f92" category="section-title">Astra</block>
  <block id="cbb7697b4f6f189240d043ff70ca133c" category="admonition">Trident支援上述ONTAP 所有的功能齊全的部署模式。</block>
  <block id="5c04ffbd0c110bf7b37d6b95eb756b75" category="paragraph"><block ref="700b45b9fca207b66f675c8d5dfb073b" category="inline-link-rx"></block> 是一款純軟體的儲存應用裝置、可在ONTAP 雲端上執行功能完善的資料管理軟體。您可以使用Cloud Volumes ONTAP 支援功能來執行正式作業工作負載、災難恢復、DevOps、檔案共享和資料庫管理。它提供儲存效率、高可用度、資料複寫、資料分層和應用程式一致性、將企業儲存設備延伸至雲端。</block>
  <block id="27bb76bfb1e4f9966c31f5042348cd1e" category="section-title">Element軟體</block>
  <block id="231afe47f3f37d3808096b36c28b4ded" category="inline-link">元素</block>
  <block id="1fdf61a8f946268990d8e15dd9069a6d" category="paragraph"><block ref="eca39b018af81e7b5c8e71b5b4aa3790" category="inline-link-rx"></block> 儲存管理員可藉由保證效能、並簡化及簡化儲存設備佔用空間、來整合工作負載。搭配API來實現儲存管理所有層面的自動化、Element可讓儲存管理員以更少的心力完成更多工作。</block>
  <block id="08edd2123939d5309dced149763a50ee" category="section-title">NetApp HCI</block>
  <block id="25f221cc63a7e1fa55b05c29420a72a2" category="paragraph"><block ref="2841e7defe3939e68d83d007d1ad666b" category="inline-link-rx"></block> 將例行工作自動化、讓基礎架構管理員能夠專注於更重要的功能、進而簡化資料中心的管理與規模。</block>
  <block id="be17f8b9c728a6cb61cad5a2609b3888" category="paragraph">Trident完全支援此功能。NetApp HCITrident可直接針對底層NetApp HCI 的資訊儲存平台、為容器化應用程式配置及管理儲存設備。</block>
  <block id="29e7ab00082418141d470583a19c28d3" category="paragraph"><block ref="2384314bcd106c8062815b2ed789c4ad" category="inline-link-rx"></block> 是採用NetApp技術的企業級Azure檔案共享服務。您可以在Azure原生環境中執行最嚴苛的檔案型工作負載、並享有NetApp所提供的效能與豐富資料管理功能。</block>
  <block id="a3b5183ae6f5c3f1d6644448f795b5cb" category="inline-link">適用於Cloud Volumes Service Google Cloud的NetApp解決方案</block>
  <block id="a1515efe69d0ac9d979af2bdfc068934" category="paragraph"><block ref="68704f3321dd8ca7029c03c29da7736a" category="inline-link-rx"></block> 是雲端原生檔案服務、可透過NFS和SMB提供NAS磁碟區的All Flash效能。此服務可讓任何工作負載（包括舊版應用程式）在GCP雲端上執行。它提供完整的託管服務、提供一致的高效能、即時複製、資料保護、以及安全存取Google Compute Engine（GCE）執行個體。</block>
  <block id="e977c869b42c54e3c7d8fb9c071aab2b" category="summary">深入瞭解Astra Trident透過哪些連接埠進行通訊。</block>
  <block id="b229055f6bd047c28dfc84c9bee4c252" category="doc">Astra Trident連接埠</block>
  <block id="219abf04d1bb79760c15ca6966b68fb3" category="paragraph">Astra Trident透過下列連接埠進行通訊：</block>
  <block id="60aaf44d4b562252c04db7f98497e9aa" category="cell">連接埠</block>
  <block id="261addf78c7b2c961032b3dd08ba0b1f" category="cell">目的</block>
  <block id="7e6b20d014d1c659e4eaf20dc2dcd7eb" category="cell">8443.</block>
  <block id="69bbf3571db03f0487c04a8254d15c75" category="cell">後端通道HTTPS</block>
  <block id="bc3c4a6331a8a9950945a1aa8c95ab8a" category="cell">8001</block>
  <block id="e5a4c481cc6f5935efb2c9d381f2e342" category="cell">Prometheus指標端點</block>
  <block id="67ff32d40fb51f1a2fd2c4f1b1019785" category="cell">8000</block>
  <block id="10f5b805a46ea829cc3b9d8560a224ae" category="cell">Trident REST伺服器</block>
  <block id="35cf0f704286108deb76366a16415140" category="cell">17546</block>
  <block id="fb1396f82d0096741ea1b06f8cee2340" category="cell">Trident取消安裝套件所使用的活動/整備度探針連接埠</block>
  <block id="3d522b99ca94333433532daa23e7ceab" category="summary">尋找有關安裝、設定、升級及疑難排解Astra Trident的常見問題解答。</block>
  <block id="af2a4d2810d86aa0169c117f82682f9a" category="doc">常見問題集</block>
  <block id="96ab491ef73d5db0cd15f55e1552cc22" category="section-title">一般問題</block>
  <block id="b34c3d20de0f1b2c7a69bdc59002ad47" category="section-title">Astra Trident多久發佈一次？</block>
  <block id="2f55088c7d055eb361252b15d5d7af10" category="paragraph">Astra Trident每三個月發佈一次：1月、4月、7月和10月。這是Kubernetes發表後的一個月。</block>
  <block id="15602d1e4b699ebca549a3d953672d8c" category="section-title">Astra Trident是否支援特定Kubernetes版本中發行的所有功能？</block>
  <block id="d860923e20119473e7f7d50683cb0559" category="paragraph">Astra Trident通常不支援Kubernetes的Alpha功能。Trident可能支援Kubernetes試用版之後的兩個Trident版本中的試用版功能。</block>
  <block id="52ffcf336df0055235949cf324a8624b" category="section-title">Astra Trident是否因其運作而依賴其他NetApp產品？</block>
  <block id="9a10bc69a2553cd055c7b66932fd3864" category="paragraph">Astra Trident並不依賴其他NetApp軟體產品、而是以獨立應用程式的形式運作。不過、您應該擁有NetApp後端儲存設備。</block>
  <block id="bda04f64eaa9613cb4923cf43e24954c" category="section-title">如何取得完整的Astra Trident組態詳細資料？</block>
  <block id="6d6d1fbb6191413b3262aed487048f1e" category="paragraph">使用「tridentctl Get」命令可取得有關Astra Trident組態的詳細資訊。</block>
  <block id="d8634bcd1659c9cdf6f1a7a92ec00c30" category="section-title">我可以取得Astra Trident如何配置儲存設備的指標嗎？</block>
  <block id="3e9ebf4af3f0b9d1852396d46171ef99" category="section-title">使用Astra Trident做為「csi資源配置工具」時、使用者是否會有變更？</block>
  <block id="05f95d89af1ccd9b986014406a4b1fc8" category="paragraph">不可以就使用者體驗和功能而言、沒有任何改變。使用的置備程式名稱是「csi.trident.netapp.io`」。如果您想要使用目前和未來版本所提供的所有新功能、建議使用這種安裝Astra Trident的方法。</block>
  <block id="0a7e87df44869b8d60a83f35d1e2747b" category="section-title">在Kubernetes叢集上安裝及使用Astra Trident</block>
  <block id="bde6cb03741f92107c63aeebe62d3278" category="section-title">Astra Trident是否支援從私有登錄進行離線安裝？</block>
  <block id="45b09f7cb3dcbe0274eef2b3fce46bea" category="paragraph">可以、Astra Trident可以離線安裝。請參閱 <block ref="4a2b27d6d4bc3dd7ae85bfd131d50753" category="inline-link-macro-rx"></block>。</block>
  <block id="1c51806b370d428d5779dbcacd940174" category="section-title">我可以從遠端安裝Astra Trident嗎？</block>
  <block id="bf858450c271da75a3df3a15ca761330" category="paragraph">是的。Astra Trident 18.10及更新版本可從任何對叢集具有「kubectl」存取權的機器、支援遠端安裝功能。驗證「kubecll」存取後（例如、從遠端機器啟動「kubecll Get nodes」命令進行驗證）、請遵循安裝指示。</block>
  <block id="12694c2de4575e39a6f7e81d55e35de9" category="section-title">我可以使用Astra Trident設定高可用度嗎？</block>
  <block id="f1cf2ca3af6ca7c374ad2104f570c790" category="paragraph">Astra Trident是以單一執行個體安裝為Kubernetes部署（ReplicaSet）、因此內建HA。您不應增加部署中的複本數量。如果安裝Astra Trident的節點遺失、或Pod無法存取、Kubernetes會自動將Pod重新部署至叢集中的健全節點。Astra Trident僅適用於控制面板、因此若重新部署Astra Trident、目前安裝的Pod不會受到影響。</block>
  <block id="1656e4b34abdb6d497b40cac65366767" category="section-title">Astra Trident是否需要存取Kube系統命名空間？</block>
  <block id="6f67e1edfd4aa5b0e695528a9c7d8898" category="paragraph">Astra Trident從Kubernetes API伺服器讀取、以判斷應用程式何時要求新的PVCS、因此需要存取Kube-system。</block>
  <block id="16cdb35003b5bcf0f30556e0bc477511" category="section-title">Astra Trident使用哪些角色和權限？</block>
  <block id="8ff39a39871cc30228035bc0580a6af4" category="section-title">我可以在本機產生安裝所用的確切資訊清單檔案嗎？</block>
  <block id="0f43ba8a9cfc14b033c2c652f53bfcb9" category="paragraph">如有需要、您可以在本機產生及修改安裝所使用的確切資訊清單檔案Astra Trident。請參閱 <block ref="7a68296d6f600eac17d317743bea0050" category="inline-link-macro-rx"></block>。</block>
  <block id="e6af67b71bd46d7588b50f28e1414f9b" category="section-title">我是否可以針對ONTAP 兩個獨立Kubernetes叢集的兩個Astra Trident執行個體、共用相同的支援功能後端SVM？</block>
  <block id="7bbf9b47e035f0f9bb7c46098e78fb4d" category="paragraph">雖然不建議使用、但您可以針對兩個Astra Trident執行個體使用相同的後端SVM。在安裝期間為每個執行個體指定唯一的Volume名稱、並（或）在「Setup/backend.json」檔案中指定唯一的「儲存前置字元」參數。這是為了確保FlexVol 兩個執行個體都不會使用相同的功能。</block>
  <block id="9840a5bb6278469ed550bcdcc92c29c5" category="section-title">是否能在ContainerLinux（前身為CoreOS）下安裝Astra Trident？</block>
  <block id="7a35680d9db247612b732ae47144f030" category="paragraph">Astra Trident只是Kubernetes Pod、可安裝在Kubernetes執行的任何位置。</block>
  <block id="5fc6de1b535ebb2a5380b6aa607e4cca" category="section-title">我可以將Astra Trident搭配NetApp Cloud Volumes ONTAP 功能嗎？</block>
  <block id="5d1cff73e26dc54ef52bdca5a29b319c" category="paragraph">是的、AWS、Google Cloud和Azure均支援Astra Trident。</block>
  <block id="2ddee53d5c18f6e78f18dad82851303e" category="section-title">Astra Trident是否能與Cloud Volumes Services搭配運作？</block>
  <block id="ba600e29b197aa569df1df520cc4e4c9" category="paragraph">是的、Astra Trident不僅支援Azure NetApp Files Azure中的「不二」服務、Cloud Volumes Service 也支援GCP中的「不二」功能。</block>
  <block id="92d1656d06303733c5e1398fb273a17e" category="section-title">疑難排解與支援</block>
  <block id="9985a592486717ae388709b9267da4f9" category="section-title">NetApp是否支援Astra Trident？</block>
  <block id="cc56e0da96ceaf708545923f1094815b" category="paragraph">儘管Astra Trident是開放原始碼且免費提供、但只要您的NetApp後端受到支援、NetApp就能提供完整支援。</block>
  <block id="a3d907947129a58ee6f9e23074840c8f" category="section-title">如何提出支援案例？</block>
  <block id="0265687df6c09d532b03477776c6d075" category="paragraph">若要提出支援案例、請執行下列其中一項：</block>
  <block id="5dab8cca21a0ff4e72d4e2a1ee5156ea" category="list-text">請聯絡您的支援客戶經理、以取得索取機票的協助。</block>
  <block id="09ea0908fbfc4cde85bf416e35dc55c8" category="inline-link">NetApp支援</block>
  <block id="a13956d424374973d31e5883b8bf8b6a" category="list-text">請聯絡以提出支援案例<block ref="116f7ad90a3c7441981f82d8f8fba4d5" category="inline-link-rx"></block>。</block>
  <block id="3e77e87e5ee8fb4f6f910f4cf0594fc2" category="section-title">如何產生支援記錄套裝組合？</block>
  <block id="7938aed248d09a5120eaf414e6c1d574" category="paragraph">您可以執行「tridentctl logs -A」來建立支援服務組合。除了在套裝組合中擷取的記錄之外、請擷取kubelet記錄、以診斷Kubernetes端的掛載問題。取得Kubernetet記錄的指示會根據Kubernetes的安裝方式而有所不同。</block>
  <block id="2c3543f339dc749a508ed5e5e5aaae23" category="section-title">如果我需要提出新功能的要求、該怎麼辦？</block>
  <block id="0aa1d7a95d75c0faa8302a803356b7b7" category="section-title">我該在哪裡提出瑕疵？</block>
  <block id="4c1d312c39e7048d2c634824e243fdba" category="inline-link">Astra Trident Github</block>
  <block id="a814c59a6fef2fb64a2a32dedcf6f82e" category="paragraph">在上建立問題<block ref="e71a8230f1c77ee7d957187295b859e4" category="inline-link-rx"></block>。請務必附上與問題相關的所有必要資訊和記錄。</block>
  <block id="fd0759571f12527967b660b5b327c65b" category="section-title">如果我有關於Astra Trident的快速問題、而我需要澄清、會發生什麼情況？是否有社群或論壇？</block>
  <block id="6100f37d544e87e462129f21e52bae7f" category="section-title">Astra Trident找不到Kubernetes節點。如何修正此問題？</block>
  <block id="d5cf5c734786394c838bacc6597594c6" category="paragraph">Astra Trident找不到Kubernetes節點的原因可能有兩種。這可能是因為Kubernetes內的網路問題或DNS問題。在每個Kubernetes節點上執行的Trident節點取消影像集、必須能夠與Trident控制器通訊、才能在Trident中登錄節點。如果在安裝Astra Trident之後發生網路變更、您只會遇到新增至叢集的Kubernetes節點的問題。</block>
  <block id="bcd549c9f0199c5b8d0b55f782bff9e8" category="section-title">如果Trident Pod毀損、我會遺失資料嗎？</block>
  <block id="3de05f78e401869f4630ec8cabf339df" category="section-title">我可以直接從舊版本升級至新版本（跳過幾個版本）嗎？</block>
  <block id="ce44cbbc54839f39b351c091b0e3caa5" category="paragraph">NetApp支援將Astra Trident從一個重大版本升級至下一個重大版本。您可以從11.xx版升級至19.xx、19.xx版升級至20.xx版、依此類推。在正式作業部署之前、您應該先在實驗室中測試升級。</block>
  <block id="0399b9e6348e554937a4d65efc97a1b8" category="section-title">是否能將Trident降級至先前的版本？</block>
  <block id="ba9c59aa9d07b25e124dcf6ca88d689a" category="section-title">管理後端和磁碟區</block>
  <block id="ffe72215dff9a93d62ee68905212025e" category="section-title">我是否需要在ONTAP 一個後端定義檔案中定義管理和資料生命期？</block>
  <block id="f3997f0b9446951754e665cfe7591cef" category="section-title">Astra Trident是否能設定CHAP以ONTAP 供後端使用？</block>
  <block id="952cc22022a80bb8079f6dd7afb289d2" category="section-title">如何使用Astra Trident管理匯出原則？</block>
  <block id="1d08384060bd88a7801faae4fe346d06" category="section-title">IPv6位址是否可用於管理和資料生命量？</block>
  <block id="4c0e813a0bfed033d75bbfd8b18f556c" category="section-title">是否能在後端更新管理LIF？</block>
  <block id="66d8fee83a94421ca416a2bdb33703b4" category="paragraph">可以、您可以使用「tridentctl update backend」命令來更新後端管理LIF。</block>
  <block id="c56cd7a01da4acc4fc86aa498cabfd99" category="section-title">是否能在後端更新Data LIF？</block>
  <block id="1e0e6fcec605e6450ba12b95969c8959" category="section-title">我可以在Astra Trident中為Kubernetes建立多個後端嗎？</block>
  <block id="fb3cb30bfe23466a98407256c8b5164f" category="paragraph">Astra Trident可同時支援多個後端、無論是使用相同的驅動程式或不同的驅動程式。</block>
  <block id="6454319cc2398418b67f5b2df5aa5cd3" category="section-title">Astra Trident如何儲存後端認證資料？</block>
  <block id="1d406f7ac7268b602da0989a4675480e" category="paragraph">Astra Trident將後端認證儲存為Kubernetes Secrets。</block>
  <block id="64a610ffaa66abeebc73d8159b9f73ec" category="section-title">Astra Trident如何選擇特定的後端？</block>
  <block id="c6e9fbb586ad55ddf4bbda9814c6adc9" category="paragraph">如果後端屬性無法用於自動選擇某個類的正確池，則可使用"scoragePools"和"additionalStoragePools"參數來選擇特定的池集區集區集區集區。</block>
  <block id="3beefa69a05dde01d93a438a943a5a7a" category="section-title">如何確保Astra Trident不會從特定後端進行資源配置？</block>
  <block id="b5c265487a1fed6a3367664ccab664bb" category="paragraph">使用「排除StoragePools」參數來篩選Astra Trident將用於資源配置的資源池集區集區、並移除任何相符的資源池。</block>
  <block id="e124ac30adf3eea60a13cd5f93980e7e" category="section-title">如果有多個相同類型的後端、Astra Trident如何選擇要使用的後端？</block>
  <block id="c02ba3e7f8a02e0d1e29e2190a86e352" category="paragraph">如果有多個相同類型的已設定後端、Astra Trident會根據「儲存類別」和「PeristentVolume Claim」中的參數、選取適當的後端。例如、如果有多個ONTAP-NAS驅動程式後端、Astra Trident會嘗試搭配「torageClass」和「PeristentVolume Claim」中的參數、並搭配後端、以滿足「torageClass」和「PeristentVolume Claim」中列出的需求。如果有多個後端符合要求、則Astra Trident會隨機從其中一個後端選取。</block>
  <block id="7a2fd62f4a63259a7f94543a0ae01e76" category="section-title">Astra Trident是否支援採用Element / SolidFire的雙向CHAP？</block>
  <block id="b127099c71415d532da3a26ed73eb041" category="paragraph">是的。</block>
  <block id="7880810a250adc4ccf5108fe88325055" category="section-title">Astra Trident如何將qtree部署在ONTAP 一個邊角捲上？單一磁碟區可部署多少qtree？</block>
  <block id="657cbdac1a85665b0b38b37c9a306925" category="paragraph">「ONTAP-NAS-節約」驅動程式可在同FlexVol 一個範圍內建立多達200個qtree（可設定為50到300個）、每個叢集節點可建立100、000個qtree、每個叢集可建立240萬個qtree。當您輸入經濟型驅動程式所提供的全新「PersistentVolume Claim」時、駕駛會查看FlexVol 是否已存在可為新Qtree提供服務的功能。如果FlexVol 不存在能夠服務Qtree的功能、FlexVol 就會建立新的功能。</block>
  <block id="abbdd4298bb3e525fd172b2bbe5a451c" category="section-title">我要如何為ONTAP 以NAS配置的Volume設定Unix權限？</block>
  <block id="a535e502931280dfaa539ecd1cbdfc0c" category="paragraph">您可以在後端定義檔中設定參數、以設定Astra Trident所佈建的Volume上的Unix權限。</block>
  <block id="094ef47e6456d60b656401b0f2bbfcbd" category="section-title">如何在ONTAP 配置Volume時、設定一組明確的靜態NFS掛載選項？</block>
  <block id="ae6bc3659bb0be0a7d9f98a63775b7c2" category="section-title">如何將已配置的磁碟區設定為特定的匯出原則？</block>
  <block id="700a2008fea63d02c24b85f2f75d357e" category="paragraph">若要允許適當的主機存取磁碟區、請使用後端定義檔中設定的「exportPolicy」參數。</block>
  <block id="9d5813dee71bcbf3d3a03c62354c3e55" category="section-title">如何透過Astra Trident搭配ONTAP 使用才能設定Volume加密？</block>
  <block id="ef1581716b653c4364dd5005dbe9e40a" category="section-title">什麼是透過ONTAP Astra Trident實作QoS for Sfor Sfor Sfor the S星？</block>
  <block id="f412d672b51ea3c57812ebf3be0ddccb" category="paragraph">使用「儲存類」來實作ONTAP QoS以利實現。</block>
  <block id="1c771b761835123a135e64f70567d768" category="section-title">如何透過Astra Trident指定精簡或完整的資源配置？</block>
  <block id="0d97afe7a571dc39db1c810013844332" category="paragraph">支援精簡或密集資源配置的支援。ONTAP此功能預設為精簡配置。ONTAP如果需要完整資源配置、您應該設定後端定義檔或「儲存類別」。如果兩者都已設定、則「儲存類別」優先。設定ONTAP 下列項目以供參考：</block>
  <block id="2d0384de8b72e53c3476a478a5d4ec53" category="list-text">在「儲存類別」上、將「資源配置類型」屬性設為「完整」。</block>
  <block id="3764067c4b14276efb241c511c8b0cc2" category="list-text">在後端定義檔中、將「backend spaceReserve參數」設為Volume、以啟用厚磁碟區。</block>
  <block id="d4391b26a81fead46afc74243c4029aa" category="section-title">如何確保即使意外刪除了PVC,也不會刪除使用中的磁碟區？</block>
  <block id="e58a684cd1a44d4879defbb2ec06b9a4" category="paragraph">Kubernetes從1.10版開始自動啟用PVc保護。</block>
  <block id="8d766c7d692523686b8954d72ee86ea4" category="section-title">我可以擴充由Astra Trident所建立的NFS PVCs嗎？</block>
  <block id="328e34871ba32779f27f3e8a8e78499a" category="paragraph">是的。您可以擴充由Astra Trident所建立的永久虛電路。請注意、Volume自動擴充ONTAP 是不適用於Trident的功能。</block>
  <block id="3319194e0ba07a6aa327aefa1ab1e41f" category="section-title">我可以在磁碟區處於SnapMirror資料保護（DP）或離線模式時匯入該磁碟區嗎？</block>
  <block id="0b10afe39923054016a71caf423fdec6" category="paragraph">如果外部磁碟區處於DP模式或離線、則磁碟區匯入會失敗。您會收到下列錯誤訊息：</block>
  <block id="eed67b2d196c61d9c6cf4a50878ba446" category="section-title">資源配額如何轉譯至NetApp叢集？</block>
  <block id="45f78013e46c8f3e884ed0f7becbd5ab" category="paragraph">只要NetApp儲存設備具備容量、Kubernetes儲存資源配額就能運作。當NetApp儲存設備因為容量不足而無法遵守Kubernetes配額設定時、Astra Trident會嘗試進行資源配置、但卻發生錯誤。</block>
  <block id="491a93842f7a65b8cbe82aca71db0d3f" category="section-title">我可以使用Astra Trident建立Volume Snapshot嗎？</block>
  <block id="9792ac41ce6f91861f84548e1b4a2b1c" category="paragraph">是的。Astra Trident支援從快照建立隨需磁碟區快照和持續磁碟區。若要從快照建立PV、請確定已啟用「Volume SnapshotDataSource」功能閘道。</block>
  <block id="1eedb8a6574b0c07ea61689a7e3ec8d4" category="section-title">哪些驅動程式支援Astra Trident Volume快照？</block>
  <block id="804a6c22698fe4782c44f1e8d446964e" category="paragraph">到目前爲止、我們的「ONTAP-NAS」、「ONTAP-NAS-flexgroup」、「ONTAP-SAN」、「ONTAP-san經濟型」、「Poolidfire SAN」、 「GCP-CVS」、以及「azure-NetApp-fil」後端驅動程式。</block>
  <block id="24c649a639a2c31810a4dfc6ed0190da" category="section-title">我要如何針對Astra Trident提供ONTAP 的含有「支援」功能的磁碟區進行快照備份？</block>
  <block id="0bdcd128fab544a7df404bc496a4126e" category="paragraph">這可在「ONTAP-NAS」、「ONTAP-SAN」及「ONTAP-NAA-flexgroup」等驅動程式上使用。您也可以針對FlexVol 「ontap-san經濟」驅動程式指定「快照原則」、以利執行此作業。</block>
  <block id="933b520ff6d70262ddb482995c684d57" category="paragraph">這也可在「ONTAP-NAS-節約」驅動程式中找到、但FlexVol 可在「不」於qtree層級精細度上找到。若要讓Astra Trident提供的磁碟區快照、請將後端參數選項「快照原則」設為ONTAP 在支援後端上定義的所需快照原則。Astra Trident不知道儲存控制器所拍攝的任何快照。</block>
  <block id="594e8a352537de25938bdd663d6211b5" category="section-title">我可以為透過Astra Trident佈建的磁碟區設定快照保留百分比嗎？</block>
  <block id="8db5662205f3a6430af4bea6f08e7d45" category="paragraph">是的、您可以在後端定義檔中設定「快照保留區」屬性、保留特定百分比的磁碟空間、以便透過Astra Trident來儲存快照複本。如果您在後端定義檔中設定了「快照原則」和「快照保留」、則快照保留百分比會根據後端檔案中所述的「快照保留」百分比來設定。如果未提及「快照保留」百分比數字、ONTAP 則根據預設、將快照保留百分比設為5。如果將「快照原則」選項設為「無」、則快照保留百分比會設為0。</block>
  <block id="6b0d34d8a0749198a6b80eec69479c86" category="section-title">我可以直接存取Volume Snapshot目錄並複製檔案嗎？</block>
  <block id="eb3a2d1eb3c4022269f4c6837332311a" category="paragraph">是的、您可以在後端定義檔中設定「shapshotDir'參數、以存取Trident所佈建之磁碟區上的Snapshot目錄。</block>
  <block id="81dbf5e91cc69bfcf6477128389d8a25" category="section-title">我可以透過Astra Trident為磁碟區設定SnapMirror嗎？</block>
  <block id="64dd4ea74b402889a9c341da491f4933" category="paragraph">目前、SnapMirror必須使用ONTAP CLI或OnCommand 《系統管理程式》從外部設定。</block>
  <block id="e321bf6d54ded18df56a41ea51223a2a" category="section-title">如何將持續磁碟區還原至特定ONTAP 的不還原快照？</block>
  <block id="5325f5d2cf63aaaa6610f09e8aa4dc35" category="paragraph">若要將磁碟區還原ONTAP 成一個無法修復的快照、請執行下列步驟：</block>
  <block id="4e789db936072df2058e9f271a9b8db8" category="list-text">靜止使用持續磁碟區的應用程式Pod。</block>
  <block id="b34baa75f4f799a23b19de9b94e86868" category="list-text">透過ONTAP NetApp CLI或OnCommand 《系統管理程式》回復至所需的快照。</block>
  <block id="08754f2800804f1fe3673c858b4b56e0" category="list-text">重新啟動應用程式Pod。</block>
  <block id="0d3ef54a4cc337b5d907b6639e51c6d4" category="section-title">如何區分每位客戶/租戶的儲存類別使用量？</block>
  <block id="fda1b35892cb6f61447f0e49415937d9" category="paragraph">Kubernetes不允許命名空間中的儲存類別。不過、您可以使用Kubernetes來限制每個命名空間的特定儲存類別使用量、方法是使用儲存資源配額（每個命名空間）。若要拒絕特定儲存設備的特定命名空間存取、請將該儲存類別的資源配額設為0。</block>
  <block id="0f5dc79c8003190ab8f758b1748ba0d8" category="summary">NetApp持續改善及強化其產品與服務。以下是最新版Astra Trident的一些最新功能、增強功能及錯誤修正。</block>
  <block id="2e6ce374ac42de81aea6a3d682b92e33" category="paragraph">版本資訊提供最新版Astra Trident的新功能、增強功能及錯誤修正資訊。</block>
  <block id="e4c4d344a524d21b898e4d04b6539aa7" category="admonition">安裝程式壓縮檔中提供的Linux試用版（tridentctl）二進位檔是經過測試且受支援的版本。請注意、不會測試或支援壓縮檔中「/Extras」部分提供的「macos」二進位檔。</block>
  <block id="368b120a3b5f53a49dc3ab96ec9b8dbd" category="paragraph">NetApp持續改善及強化其產品與服務。以下是Astra Trident的一些最新功能。如需舊版的資訊、請參閱<block ref="25da125dffad1d6323c21354bccf0203" category="inline-link-rx"></block>。</block>
  <block id="7072ec708b0ea7e3243747d8b79c0d20" category="admonition">如果您要從任何先前的Trident版本升級並使用Azure NetApp Files 更新版本、則「位置」組態參數現在是必填的單一欄位。</block>
  <block id="41cf959adc98386b54829d71a6ed5d37" category="section-title">修正</block>
  <block id="c1748037d10cffabb8e95e4ccf77c613" category="section-title">增強功能</block>
  <block id="723b30bcece2d0d47914a6eaf0c550cc" category="list-text">Trident現在將HSTC標頭新增至其安全端點的回應。</block>
  <block id="621b9733ee07089711b96dd6b0b7861a" category="list-text">Trident現在會自動嘗試啟用Azure NetApp Files 「UNIX權限」功能。</block>
  <block id="3f39a3207529d5f8129199a33e60ef87" category="section-title">移除</block>
  <block id="3d0d8392962843a02a6fa979f76b5a91" category="paragraph">E系列驅動程式（自20.07起停用）已移除。</block>
  <block id="72387bfdb0acfd8a27877f000a3abeac" category="section-title">22.01.1中的變更</block>
  <block id="a98b2ebbcbb381d3abc81e2ecfb2054c" category="inline-link-macro">GitHub問題#691</block>
  <block id="61465c1d4383dd4afdf168925e15e767" category="list-text">已修正在刪除節點上解除發佈磁碟區的問題。（<block ref="5fee6ab43e8008edba54375694a29266" category="inline-link-macro-rx"></block>）</block>
  <block id="e50f1057ba4b67b255c98fa09c5ba6f8" category="list-text">存取零欄位以取得ONTAP 靜止API回應中的集合空間時、會出現固定的恐慌。</block>
  <block id="135c438d01a49275c458e22005e39c6e" category="section-title">22.01.0版的變更</block>
  <block id="3c72f47eeb46270dd13a77b32ec10dd3" category="list-text">* Kubernetes：*增加大型叢集的節點登錄回退重試時間。</block>
  <block id="0ef48234390855900384d0bc8a0a8a24" category="list-text">已解決以下問題：azure-NetApp-Files驅動程式可能會被同名的多個資源混淆。</block>
  <block id="7eaa7391130c13b3bf9a7e4ae755d908" category="list-text">如果使用方括弧指定SAN IPv6資料生命量、現在就能正常運作。ONTAP</block>
  <block id="404cef2e43cb97ccef52692419ad6f6b" category="inline-link-macro">GitHub問題#489</block>
  <block id="7213ed07f5b718aa66cfac350f023a77" category="list-text">修正嘗試匯入已匯入磁碟區傳回EOF、使PVc處於擱置狀態的問題。（<block ref="b9a2290d6389b9a605883cda4e717749" category="inline-link-macro-rx"></block>）</block>
  <block id="c28d8c94f865f3ef7e4b01a157510ef6" category="list-text">修正當在SolidFire 一個穩定區上建立超過32個快照時、Astra Trident效能變慢的問題。</block>
  <block id="d0aaca968285d0d47ea0c5a0f7b9bab5" category="list-text">在建立SSL憑證時、以SHA-256取代SHA-1。</block>
  <block id="851679bec9b3e6c8e6284128fb750b1e" category="list-text">Kubernetes增強功能：</block>
  <block id="2767b461b2b49786f390c9e0509d2d12" category="list-text">新增對Kubernetes 1.23的支援。</block>
  <block id="7f10502f6f15537f180f07f0c89d2642" category="inline-link-macro">GitHub問題#65</block>
  <block id="2ff7a365e7c341f8f381cd7c2a4e15f6" category="list-text">透過Trident運算子或Helm安裝Trident Pod時、請新增排程選項。（<block ref="15fbe6dcd60762941b28bc5990803bde" category="inline-link-macro-rx"></block>）</block>
  <block id="90fdd892e78b26eb18a250c9c1bc19ff" category="inline-link-macro">GitHub問題#633</block>
  <block id="3ff8e54aa1f3735deb64771c4c65c420" category="list-text">允許GCP驅動程式中的跨區域磁碟區。（<block ref="efd445659801b6abfdba2997e23e5f4f" category="inline-link-macro-rx"></block>）</block>
  <block id="fef8c75d6cd00955b0f1c84d40af01aa" category="inline-link-macro">GitHub問題#6666</block>
  <block id="a4233200da50a08b295311036bb03ac1" category="section-title">棄用</block>
  <block id="de6284c149d2e011da3909f1ef2af627" category="paragraph">Trident REST介面只能以127.0.0.1或[:1]位址接聽和使用</block>
  <block id="58a2e8c17107cc1ca9cb1317cd0c1ee9" category="section-title">210.1的變更</block>
  <block id="cdb544a92bee555749f43046d53ef34e" category="admonition">v21.10.0版本發生問題、可在移除節點後將Trident控制器重新新增回Kubernetes叢集時、將其置於CrashLooper BackOff狀態。此問題已在版本210.1中修正（GitHub問題669）。</block>
  <block id="cd1bf2431d703fd3c62a278b9c812d56" category="list-text">修正在GCP CVS後端匯入磁碟區時可能發生的競爭狀況、導致無法匯入。</block>
  <block id="8e1e1dad95de3dc781f25f58483acdf3" category="list-text">修正刪除節點後、將Trident控制器重新加入Kubernetes叢集（GitHub問題669）時、使Trident控制器進入CrashLooper BackOff狀態的問題。</block>
  <block id="d7c32cb5ff2be4aaff3a8eaea9d18e0d" category="list-text">修正未指定SVM名稱時不再探索SVM的問題（GitHub問題612）。</block>
  <block id="43e92857220d1a7ea1da88250ea5e2e3" category="section-title">21.0</block>
  <block id="a6e7aa999ba654c6844672ae59f5137a" category="list-text">修正XFS磁碟區的複本無法與來源磁碟區掛載在同一個節點上的問題（GitHub問題514）。</block>
  <block id="4a921ae3eb8c2695dabd4044ff81141a" category="list-text">修正Astra Trident在關機時記錄嚴重錯誤的問題（GitHub問題597）。</block>
  <block id="852acc81ea6fa7363b73c5313002de83" category="list-text">Kubernetes相關修正：</block>
  <block id="f94cc5159119c43751041256941deb2c" category="list-text">使用「ONTAP-NAS」和「ONTAP-NAS-flexgroup」驅動程式建立快照時、傳回磁碟區的已用空間作為最小重新設定大小（GitHub問題645）。</block>
  <block id="742ce2e3c9c8496323bd1176af2838a4" category="list-text">修正磁碟區調整大小後記錄「無法擴充檔案系統」錯誤的問題（GitHub問題560）。</block>
  <block id="9a445ecbad9af70a94bd7558ba95e059" category="list-text">已解決Pod可能陷入「終止」狀態的問題（GitHub問題572）。</block>
  <block id="4f81c320a621b8c9d81c7334f2cffc71" category="list-text">修正「ONTAP-san經濟」FlexVol 的情況、即快照LUN可能已滿（GitHub問題533）。</block>
  <block id="169c3be63dd22b315ed7884e246338de" category="list-text">修正不同映像的自訂Yaml安裝程式問題（GitHub問題613）。</block>
  <block id="1077a1a91a96498c2f56bc630e632eee" category="list-text">修正快照大小計算（GitHub問題611）。</block>
  <block id="fe705e5b02638736087c9fd97b2c4952" category="list-text">修正所有Astra Trident安裝程式可將純Kubernetes識別為OpenShift的問題（GitHub問題639）。</block>
  <block id="27b76ffa775f907a1fd51f21a669551b" category="list-text">修正Trident運算子、在Kubernetes API伺服器無法連線時停止協調（GitHub問題599）。</block>
  <block id="1f9e922b6eff6cb06fca1ed9137eed38" category="list-text">新增了對GCP-CVS Performance Volume的「unixPermissions」選項支援。</block>
  <block id="294b850a76a040c20913e76c2fe6589a" category="list-text">在GCP中新增對大規模最佳化的CVS磁碟區的支援、範圍介於600 GiB到1 TiB之間。</block>
  <block id="0333eb54465646b87754facff75fdb5f" category="list-text">Kubernetes相關增強功能：</block>
  <block id="c32aa411caa1ffd0e30a271f5be834d9" category="list-text">新增對Kubernetes 1.22的支援。</block>
  <block id="fa1fd8841173fa7ccde5059fb7c2f903" category="list-text">讓Trident運算子和Helm圖表能與Kubernetes 1.22搭配使用（GitHub問題628）。</block>
  <block id="dbaa551f190105e514f7816811f4b397" category="list-text">將操作員映像新增至「tridentctl」映像命令（GitHub Issue 570）。</block>
  <block id="be575f1ff204f2800114965a5c0d8575" category="section-title">實驗性增強功能</block>
  <block id="29ddf941d9825cc9283521ee90468595" category="list-text">在「ONTAP-san」驅動程式中新增了對Volume複寫的支援。</block>
  <block id="e2f2b85987da5e2397c1e342a6fd9e28" category="list-text">新增*技術預覽* REST支援功能、支援「ONTAP-NAA-flexgroup」、「ONTAP-SAN」和「ONTAP-NAS-P節約」驅動程式。</block>
  <block id="95dc0391ce7b396d7dd5622284e8fc3e" category="section-title">已知問題</block>
  <block id="64a8f71bee95a6635e88bce00f1a2d3c" category="paragraph">已知問題可識別可能導致您無法成功使用產品的問題。</block>
  <block id="572b1d7e33a1c667884a1ffdff7a2d25" category="list-text">對於未在StorageClass中指定「FSType」的磁碟區、Astra Trident現在會執行空白的「FSType」（「FSType =」）。使用Kubernetes 1.17或更新版本時、Trident支援為NFS磁碟區提供空白的「FSType」。對於iSCSI磁碟區、您必須在使用安全性內容強制執行「fsGroup」時、在StorageClass上設定「FSType」。</block>
  <block id="91186d69835ccf9911e356f74938c539" category="list-text">在多個Astra Trident執行個體之間使用後端時、每個後端組態檔都應該有不同的「儲存前置字元」值、以供ONTAP 後端使用、或是使用不同的「TenantName」作為SolidFire 後端。Astra Trident無法偵測其他Astra Trident執行個體所建立的磁碟區。嘗試在ONTAP 不穩定或SolidFire 不穩定的後端上建立現有的Volume是成功的、因為Astra Trident將建立Volume視為強大的作業。如果「儲存前置詞」或「TenantName」沒有不同、則在相同後端上建立的磁碟區可能會發生名稱衝突。</block>
  <block id="9bf4c601179068ff3574d2cf87536564" category="list-text">安裝Astra Trident（使用「tridentctl」或Trident運算子）並使用「tridentctl」來管理Astra Trident時、您應確保設定「KUBECCONFIG」環境變數。這是表示Kubernetes叢集「tridentctl」應該與之搭配使用的必要項目。在使用多個Kubernetes環境時、您應該確保「KUBECCONFIG」檔案的來源正確無誤。</block>
  <block id="6d791d3b45515fd8619e489b938f39e8" category="inline-link">掛載選項</block>
  <block id="a5c785ee36f0f2d14349653f744c8e3b" category="list-text">若要執行iSCSI PV的線上空間回收、工作節點上的基礎作業系統可能需要將掛載選項傳遞至磁碟區。對於需要「disccard」的RHEL/RedHat CoreOS執行個體來說、這是正確的做法<block ref="2ee633fb26bfccf07d490458d29f92a2" category="inline-link-rx"></block>；請確定您的隨附了捨棄掛載選項<block ref="b44436f062a8f5a535d8cafcffeb70b2" category="inline-link-rx"></block> 支援線上區塊捨棄。</block>
  <block id="c2ebda3702872aaa7ad44122f2343d7e" category="list-text">如果每個Kubernetes叢集有一個以上的Astra Trident執行個體、Astra Trident就無法與其他執行個體通訊、也無法探索他們所建立的其他磁碟區、如果叢集內有多個執行個體執行、就會導致非預期和不正確的行為。每個Kubernetes叢集只應有一個Astra Trident執行個體。</block>
  <block id="294f8c33b7ccdbcbf422998b64c9c931" category="list-text">如果在Astra Trident離線時、從Kubernetes刪除Astra Trident型的「torageClass」物件、則Astra Trident在其資料庫恢復連線時、不會從資料庫中移除對應的儲存類別。您應該使用「tridentctl」或REST API來刪除這些儲存類別。</block>
  <block id="ddab3f1d971a7608afb4c30c688a32ac" category="list-text">如果使用者刪除由Astra Trident提供的PV、然後再刪除對應的PVC、則Astra Trident不會自動刪除備份Volume。您應該透過「tridentctl」或REST API來移除磁碟區。</block>
  <block id="0821431aba133adbfa7fa0ca1781eedd" category="list-text">除非集合體是每個資源配置要求的唯一集合體、否則無法同時配置多個支援區。ONTAP FlexGroup</block>
  <block id="38699c45ccc629a8b46bd780d7aef2f6" category="list-text">使用Astra Trident over IPv6時、您應該在後端定義的方括弧內指定「managementLIF」和「data LIF」。例如：「[FD20：8b1e：b258：2000：f816：3eff：feec：0]。</block>
  <block id="e9a7080bd6d1b50ff15cef6f14fa1d64" category="inline-link">Astra Trident GitHub</block>
  <block id="b94e036fb032554ca486dd8fc2e3fafe" category="list-text"><block ref="b94e036fb032554ca486dd8fc2e3fafe" category="inline-link-rx"></block></block>
  <block id="3334dfda9735f9b3ed55a34ef316b599" category="inline-link">Astra Trident部落格</block>
  <block id="d090b5d97388b77aa02e5d1203c037a0" category="list-text"><block ref="d090b5d97388b77aa02e5d1203c037a0" category="inline-link-rx"></block></block>
  <block id="db5eb84117d06047c97c9a0191b5fffe" category="doc">支援</block>
  <block id="d327e8f24b63b83e091dccdc48dd7b1b" category="sidebar">Astra Trident文件</block>
  <block id="7d0ee6fed10d3d4e5c9ee496729ab519" category="sidebar">版本資訊</block>
  <block id="93168a8084b3e838d2932c4734bd234e" category="sidebar">舊版</block>
  <block id="312b0dc38b01ff32c1b2f5f81ee1ab2d" category="sidebar">與Trident營運者一起部署</block>
  <block id="6a693eb5cd23e4e5743663c7edc37aed" category="sidebar">部署適用於Docker的Astra Trident</block>
  <block id="386307d41b3f4169a1e6e046a727cdd2" category="sidebar">與Trident營運者一起升級</block>
  <block id="eb1f347fa6176ae2c9175df3bc414954" category="sidebar">使用Astra Trident</block>
  <block id="81a123ccab93cd947289b672b0e50348" category="sidebar">示範教學課程</block>
  <block id="28348a71bed382b86fa6de4d3a307715" category="sidebar">Astra Trident影片</block>
  <block id="813011e2103649bb71f124adedcc10ea" category="sidebar">部落格社群</block>
  <block id="6394eceb2639574114b02e6e817eb19a" category="sidebar">Astra部落格</block>
  <block id="874d8a5301794a9ca2aba132ac2460f3" category="sidebar">Kubernetes Hub</block>
  <block id="d59c00abbeaf33a9a094b3a69c563405" category="sidebar">NetApp.IO</block>
  <block id="f14894e4c400a400c02367258a93029a" category="sidebar">適合Docker的Astra Trident</block>
  <block id="e08bfc79c5202517b3814efd6e82fb2c" category="sidebar">升級或解除安裝Trident</block>
  <block id="0460583622f03a52d7693094d6fa2452" category="sidebar">概念</block>
  <block id="58eaebf972358f1cf03d386a4ade1a0f" category="sidebar">接下來呢？</block>
  <block id="a20f982d79c3dd66d244ffe0f7d940ee" category="sidebar">最佳實務做法與建議</block>
  <block id="c91cf7abea9584bc1edbc8ff4948ada0" category="sidebar">Astra Trident整合</block>
  <block id="63d5049791d9d79d86e9a108b0a999ca" category="sidebar">參考資料</block>
  <block id="324fb1352ffffb105d10013810c42896" category="sidebar">Kubernetes和Astra Trident物件</block>
  <block id="9c87569b835a8f66b7490390d350d9a4" category="paragraph">如果您的Kubernetes發佈版本未包含快照控制器和客戶需求日、您可以依照下列方式進行部署。</block>
  <block id="469f7ca16938508b5dcb777767828b70" category="list-text">建立Volume Snapshot客戶需求日。</block>
  <block id="086e6c16e3fe8e13c336612ef636aa02" category="sidebar">Astra Trident</block>
  <block id="5a333b18a215ecfd4457ba0e1732654b" category="section-title">是否能在已設定負載共享鏡射的SVM上、對磁碟區進行Trident資源配置？</block>
  <block id="0e7629426b9d7596800cd5d72f558a7f" category="paragraph">您可以為透過NFS提供資料的SVM根磁碟區建立負載共享鏡像。針對Trident所建立的磁碟區、自動更新負載共享鏡像。ONTAP這可能會導致掛載磁碟區延遲。使用Trident建立多個磁碟區時、資源配置磁碟區會仰賴ONTAP 於更新負載共享鏡像。</block>
  <block id="d5d195efeafde24a6a22effd3dd39339" category="list-text">認證型：您可以將「fsxadmin」使用者用於您的檔案系統、或是為SVM設定的「vsadmin」使用者。</block>
  <block id="7d3f46589c43a64fd040e4f0e0691a86" category="inline-link-macro">掌舵表</block>
  <block id="c9ffe59301b588bbc33bb004cfd312ee" category="section-title">部署Trident操作員、並使用Helm安裝Astra Trident</block>
  <block id="1ea1b160621872df5909653ebde1bf7f" category="paragraph">您可以更新現有的後端、以便在認證型和憑證型方法之間移動。不過、一次只支援一種驗證方法。若要切換至不同的驗證方法、您必須從後端組態中移除現有方法。</block>
  <block id="7335992f174c029a990442aca68aacbd" category="admonition">如果您嘗試同時提供*認證與認證*、後端建立將會失敗、並在組態檔中提供多種驗證方法。</block>
  <block id="d1914bc190cdc3bc9eee6db0c81021bc" category="section-title">節點服務探索</block>
  <block id="2b6ab5193160f5eaca51526b15f27e3a" category="admonition">節點服務探索可識別探索到的服務、但無法保證服務已正確設定。相反地、沒有探索到的服務並不保證磁碟區掛載會失敗。</block>
  <block id="412427d9207c4cc4b01539aff3c50e7c" category="cell">《網路功能》</block>
  <block id="6dc4cb19f2792a3eadfa64d4b4b6d177" category="paragraph">您所有的Kubernetes工作節點都必須安裝適當的NFS工具。請參閱 <block ref="f1f954e59a21e3ffe189e77dd2ee9f86" category="inline-link-macro-rx"></block> 以取得更多詳細資料。</block>
  <block id="6adbf3424e5de1b4e2baad3b4d632c4a" category="paragraph">您可以更新現有的後端、以使用不同的驗證方法或旋轉其認證資料。這兩種方法都可行：使用使用者名稱/密碼的後端可更新以使用憑證；使用憑證的後端可更新為使用者名稱/密碼。若要這麼做、您必須移除現有的驗證方法、然後新增驗證方法。然後使用更新的backend.json檔案、其中包含執行「tridentctl後端更新」所需的參數。</block>
  <block id="4169ad079be240db45893881a795d255" category="paragraph">在上建立問題<block ref="e71a8230f1c77ee7d957187295b859e4" category="inline-link-rx"></block> 並在問題的主題和說明中提及* RFE*。</block>
  <block id="a7cfd917113a9ee9c1e789887d1d809f" category="inline-link-macro">不和通路</block>
  <block id="c0ecc0f40acc112b78de6c3fd3c29e83" category="paragraph">如果您有任何問題、問題或要求、請透過我們的Astra與我們聯絡 <block ref="6130664377fa14615bb1abd5257e9714" category="inline-link-macro-rx"></block> 或GitHub。</block>
  <block id="880cacf6429ab3c253b14beac8b73951" category="summary">Kubernetes Pod安全標準（Ps）和Pod安全政策（Ps）定義權限等級、並限制Pod的行為。OpenShift Security內容限制（SCC）同樣定義OpenShift Kubernetes Engine特有的Pod限制。為了提供此自訂功能、Astra Trident可在安裝期間啟用特定權限。</block>
  <block id="bc3c69459955aa51e6720ee4098db2c2" category="doc">Pod安全標準（PSS）與安全內容限制（SCC）</block>
  <block id="9d482ecca4ba8a41fd8e1180c97a4b97" category="paragraph">Kubernetes Pod安全標準（Ps）和Pod安全政策（Ps）定義權限等級、並限制Pod的行為。OpenShift Security內容限制（SCC）同樣定義OpenShift Kubernetes Engine特有的Pod限制。為了提供此自訂功能、Astra Trident可在安裝期間啟用特定權限。以下各節詳細說明Astra Trident設定的權限。</block>
  <block id="80af9ab2cf8f28973d329b09a2aa3bf3" category="inline-link-macro">Kubernetes：安全性</block>
  <block id="181049d711e79ba087e97d579f11e3f7" category="admonition">PSS-取代Pod安全性原則（PSP）。在Kubernetes v1.21中、已不再使用PSP、將在v1.25中移除。如需詳細資訊、請參閱 <block ref="18a97095ea40d42decd22f31a2040afe" category="inline-link-macro-rx"></block>。</block>
  <block id="92699490afddc06ebad285ff002fc80d" category="section-title">必要的Kubernetes安全內容和相關欄位</block>
  <block id="ed5dea09095f671b801bee34ea28a319" category="cell">權限</block>
  <block id="b315e1c68490baab38c1a28e00fe0f5a" category="cell">權限</block>
  <block id="62868c5d24fd89e2fd8046454e18b6c4" category="inline-link-macro">Kubernetes：掛載傳播</block>
  <block id="a2d97da130dea6b381b1e770af5d9c74" category="cell">SCSI需要雙向裝載點、這表示Trident節點Pod必須執行特殊權限容器。如需詳細資訊、請參閱 <block ref="36e6e997c8e1e33355ee35fb5cf65f2b" category="inline-link-macro-rx"></block>。</block>
  <block id="92a5c8ffa6bee2a9377f18499950da23" category="cell">主機網路</block>
  <block id="154cdce0e5451a5578085caa8a7e7a3e" category="cell">iSCSI精靈所需。「iscsiadm'管理iSCSI掛載、並使用主機網路來與iSCSI精靈通訊。</block>
  <block id="2ff982b19c53a275ae05f015dafe166d" category="cell">主機iPC</block>
  <block id="eac6730a7bdbb0156f167d1a073b4a7c" category="cell">NFS使用程序間通訊（IPC）與nfsd通訊。</block>
  <block id="b25a60a6190808e0d6e849ca6325b91c" category="cell">主機PID</block>
  <block id="50a75b984e49b81a5c2b366ffe8cfba2" category="cell">需要啟動NFS的「rps-statd」。Astra Trident會查詢主機處理程序、以判斷在掛載NFS磁碟區之前是否正在執行「rps-statd」。</block>
  <block id="82ec2cd6fda87713f588da75c3b1d0ed" category="cell">功能</block>
  <block id="4aeb7a1484240b8d479aee0a012de3a4" category="cell">「SYS-ADMIN」功能是專為特殊權限容器提供的預設功能之一。例如、Docker為特殊權限容器設定了這些功能：「CapPrm：0000003fffffffff'、「CapEff: 0000003fffffff'」</block>
  <block id="b2dbe899d8bf9b4c25f337efe8b1ce7c" category="cell">Seccomp</block>
  <block id="bc13155252332e44b7dd850ea5842641" category="cell">Seccomp設定檔在特殊權限容器中一律為「未限制」、因此無法在Astra Trident中啟用。</block>
  <block id="1a3d8802d280d4ec910f54042cd62998" category="cell">SELinux</block>
  <block id="86b4800be380b1baaeaeead5f71076db" category="cell">在OpenShift上、權限容器會在「spc_t」（「超級權限容器」）網域中執行、而非權限容器則會在「container_t」網域中執行。在安裝了「containerd」的「container-SELinux」上、所有的容器都會在「spc_t」網域中執行、這會有效停用SELinux。因此、Astra Trident不會在容器中加入「sheLinux選項」。</block>
  <block id="52a8b954485e8bf8ebe32865d17563a6" category="cell">DAC</block>
  <block id="6ddc0f1aebd745677bb51e725f080883" category="cell">權限容器必須以root身分執行。非權限容器會以root身分執行、以存取csi所需的UNIX通訊端。</block>
  <block id="479f0a2e760ff0014bb53fcbe4b5dfbf" category="section-title">Pod安全標準（PSS）</block>
  <block id="b021df6aac4654c454f46c77646e745f" category="cell">標籤</block>
  <block id="ede4d9142f78c8313ce1ea912023214a" category="cell">"pod安全性.Kubernetes.io/enforce（pod安全性）。Kubernetes.io/enforce版本</block>
  <block id="0ccd226f7ad098ef19857dcf15eed611" category="cell">允許Trident控制器和節點進入安裝命名空間。請勿變更命名空間標籤。</block>
  <block id="0634b3cd8d233df0b38fe73154f03a86" category="cell">「enforce：特權」的「enforce version：&lt;目前叢集的版本或通過測試的最高版本的PSS&gt;.」</block>
  <block id="830d087702172a8173337c2f014f24b3" category="admonition">變更命名空間標籤可能會導致無法排程Pod、「建立錯誤：...」或「警告：Trident：Cig-...」。如果發生這種情況、請檢查「特殊權限」的命名空間標籤是否已變更。如果是、請重新安裝Trident。</block>
  <block id="a2e4b41e2525b6345ec43bbfe91c66fb" category="section-title">Pod安全原則（PSP）</block>
  <block id="6f16a5f8ff5d75ab84c018adacdfcbb7" category="cell">欄位</block>
  <block id="0c3c80a8b192c50af55549addaec04e9" category="cell">「允許升級」</block>
  <block id="13d1281eff2b6a57e6fe877e0379a8f0" category="cell">特殊權限容器必須允許權限提高。</block>
  <block id="22cfef4d87bd251ba39dd92d08a6b0bb" category="cell">"真的"</block>
  <block id="f3acfbe4d2b93ab163024b31a31b1a6e" category="cell">《分配CSIDriver》</block>
  <block id="e4938c724a08c7ba91677f8cb5e069f0" category="cell">Trident不使用即時的csi暫時性磁碟區。</block>
  <block id="ce2c8aed9c2fa0cfbed56cbda4d8bf07" category="cell">空白</block>
  <block id="2eb7a988516ab2e49fd1dd1d0f505ba4" category="cell">《分配能力》</block>
  <block id="7f18f0f8e3ec21ef031ae007e78292f1" category="cell">非權限Trident容器不需要比預設集更多的功能、而且會將所有可能的功能授予權限容器。</block>
  <block id="577f713a1a3fd5fe6851754c1e780b62" category="cell">《分配FlexVolumes》</block>
  <block id="5a40ff04e0748fc5c56343bfccb1bf43" category="inline-link-macro">FlexVolume驅動程式</block>
  <block id="117394bda9c12e1ab1e0ddefda7340f6" category="cell">Trident並未使用 <block ref="5cf2fb2d9c4de828b06e030ea5b9ff75" category="inline-link-macro-rx"></block>因此，它們不會包含在允許的磁碟區清單中。</block>
  <block id="e26fd3e84b999df4093d0b9f1cf8bbdb" category="cell">《主機路徑》</block>
  <block id="87c065485525cde8c75f60bd233a546b" category="cell">Trident節點Pod會掛載節點的根檔案系統、因此設定此清單沒有任何好處。</block>
  <block id="88e5e12dbdeac08e751e562ed902d6af" category="cell">《處理器類型》</block>
  <block id="b989e7796e7fe01d9a48795f499ee3e8" category="cell">Trident不使用任何「ProctMountTypes」。</block>
  <block id="6784c364453355e4499a625166f9d76e" category="cell">Trident不需要任何不安全的「縮圖」。</block>
  <block id="43dbe35647dc1ec91f9ab70bb9c67eb7" category="cell">'資料錯誤附加功能'</block>
  <block id="21b6f9c280cf0efb8619e386208ee181" category="cell">不需要將任何功能新增至權限容器。</block>
  <block id="782434a33bb3747f8aa86293dc2ae86c" category="cell">「DefaultAllowPrivilegeEscalation」</block>
  <block id="4e1db4d4f52542bf76625bb1724050ca" category="cell">每個Trident Pod都會處理允許權限提高的問題。</block>
  <block id="249091efa412cf5e332461c484b979d0" category="cell">「假」</block>
  <block id="7b18008579516cbef313996f0c7a3f5e" category="cell">《ForbiddenSysctls》</block>
  <block id="1507e7ba036aa98fd30589e618a7a4eb" category="cell">不允許使用"sysctls"。</block>
  <block id="042337cb48219589a279b3bf0ba9107a" category="cell">「fsGroup」</block>
  <block id="07556f620d0b827238e3ef0142c49b78" category="cell">Trident容器以root執行。</block>
  <block id="ac0f2e366ea63da20af91efebbac6563" category="cell">《RunAsAny》</block>
  <block id="0041ceee5434032966a8b03eae8738ac" category="cell">《hostipc》</block>
  <block id="41c30833eb5d5997e9b7a31ee0c66616" category="cell">掛載NFS磁碟區需要主機iPC與"nfsd"通訊</block>
  <block id="9bffb5bb38918d1a1d3ae47e97dfc0c4" category="cell">「主機網路」</block>
  <block id="42a138ad382896646a09fac2eb0167c6" category="cell">iscsiadm要求主機網路與iSCSI精靈進行通訊。</block>
  <block id="13135fc0519a6dd0521fa0c0e2445184" category="cell">"hostPID"</block>
  <block id="608c4a2fdcf8e14356058df9005ae8ad" category="cell">需要主機PID來檢查節點上是否正在執行「rps-statd」。</block>
  <block id="7d820b24ee2bfd41495fba608bfe1fb0" category="cell">"hostPortes"</block>
  <block id="7afcaaf2763ecc0e6dee9f0b63026a58" category="cell">Trident不使用任何主機連接埠。</block>
  <block id="cb8c6f5ff29df99724d3704d1af54bbd" category="cell">"特權"</block>
  <block id="aadb34687d099e9a40c9ad3bbaca9b52" category="cell">Trident節點Pod必須執行特殊權限容器、才能掛載磁碟區。</block>
  <block id="cd8e4b4bb856b53433b1d0369136d7c3" category="cell">《ReadOnlyRootFilesystem》</block>
  <block id="7621dbe4e923ccb1331f44e5fc326954" category="cell">Trident節點Pod必須寫入節點檔案系統。</block>
  <block id="7214fd778499c002452dfa1de7a63694" category="cell">《requireddropCapabilities》</block>
  <block id="0a687403dd751d7bcf9d36eb39b73187" category="cell">Trident節點Pod執行特殊權限容器、無法丟棄功能。</block>
  <block id="56d058c51fcd79545706c62569ba5a19" category="cell">無</block>
  <block id="e0cfa7f1a22bfc61e3c23d9b472cb229" category="cell">《RunAsGroup》（《RunAsGroup》）</block>
  <block id="72a9e1b9b252e5cf0980f359420147d4" category="cell">「RunAsUser」</block>
  <block id="0be043db3067cfba9e355c71f0d47963" category="cell">「RunAsAny」</block>
  <block id="2b13c797fbca116e0445fe9ed04aa753" category="cell">《RuntimeClass》</block>
  <block id="90eaf8074aef1d40fdd4ebb096ba3445" category="cell">Trident不使用「RuntimeClass」。</block>
  <block id="af697e6f277a737b01025e1b3ac8fd44" category="cell">「eLinux」</block>
  <block id="b2fe00f20eadde0a1ed6fcbd7f899a41" category="cell">Trident並未設定「最新Linux選項」、因為目前容器執行時間與Kubernetes發行版本處理SELinux的方式有所不同。</block>
  <block id="07b8b968ede124e1134951b502139223" category="cell">《支援團體》</block>
  <block id="707325d27093188691659cc218115f02" category="cell">《Volume》（Volume）</block>
  <block id="fd284b15eb12231bdce65744e6704677" category="cell">Trident Pod需要這些Volume外掛程式。</block>
  <block id="c28fb07c7c2463112f74e84cdea6df77" category="cell">《hostPath》、《Project預計》、《empityDir.》</block>
  <block id="12ed56c889a6b18b5fce1be5bd30b1c8" category="section-title">安全內容限制（SCC）</block>
  <block id="3ad6cb6100190c8f81e99fd52debf7ef" category="cell">標籤</block>
  <block id="244a3eb95cc1438e96d275b17eaa5bca" category="cell">"owHostDirVolume Plugin"</block>
  <block id="bdf1cf802b14a9ec8b930e1603663b2a" category="cell">Trident節點Pod會掛載節點的根檔案系統。</block>
  <block id="bb46f3196a53f2e3664f53addee28df1" category="cell">"owhostipc"</block>
  <block id="040a3e4977d39efd21138ca276545e91" category="cell">掛載NFS磁碟區需要主機iPC與"nfsd"通訊。</block>
  <block id="75a4305006cbe99edf6e6ec43424a3f9" category="cell">「允許主機網路」</block>
  <block id="3dc9b606cf3a7a8fc44c8489687131d1" category="cell">"owhostpID"</block>
  <block id="31773567f0268170ecfa4c74f91c5b74" category="cell">"allowHostPort"</block>
  <block id="606a5f1c705c363af0a1f97e60feaddc" category="cell">《允許使用容器》</block>
  <block id="2cc90cbcd409b90ed2d4270b587b4611" category="cell">《非安全性系統》</block>
  <block id="5be47a456f397efee757d8dd4e0c8726" category="cell">《團體》</block>
  <block id="c2ca437ef2abb914a8fc2ebb1b926ef6" category="cell">此SCC僅適用於Trident、並與其使用者有關。</block>
  <block id="fae56626a2743154c04411ee3d701833" category="cell">「Linux轉換」</block>
  <block id="5987c8a1437c5254a436c29c94220b55" category="cell">「eccompProfiles」</block>
  <block id="2c8f9f1b9abdfa728b8f5d50686e4da0" category="cell">特殊權限容器永遠都會執行「未限制」。</block>
  <block id="f94a437fb7858e092079378f93ef2c71" category="cell">《使用者》</block>
  <block id="402b7d2d5aea5e79576f9a964df89a32" category="cell">提供一個項目來將此SCC繫結至Trident命名空間中的Trident使用者。</block>
  <block id="274b68192b056e268f128ff63bfcd4a4" category="cell">不適用</block>
  <block id="50af2a553c2117ddd78da33865c6e35b" category="cell">《hostPath、DownwardAPI、Project預計、empyDir'》</block>
  <block id="b8f52a0e5f45341fb88241356af7f0c7" category="list-text">請參閱 <block ref="7c28a1514d14039d3824999236c4890d" category="inline-link-macro-rx"></block> 如需磁碟區擴充的詳細資料、</block>
  <block id="d63b67088a9f91802e555f6613dfc7e2" category="list-text">使用「tridentctl uninstall」命令解除安裝Trident時、會刪除Trident Pod、但不會清除建立的CRD。請參閱 <block ref="3e5b286354565ddfee44ed92d763b424" category="inline-link-macro-rx"></block> 瞭解如何徹底移除Trident並從頭重新設定。</block>
  <block id="6386b0f17b85463db72887bca8ae2bb7" category="inline-link-macro">設定後端</block>
  <block id="4ec9b12b750288e91222e3a7e15db932" category="paragraph">如需如何建構這些物件的詳細資訊、請參閱 <block ref="2e76dfee6bc1b5ee4173b3c5bbcd99e5" category="inline-link-macro-rx"></block>。</block>
  <block id="1733f6bf382fd79ef07194c1f01825fa" category="paragraph">Trident刪除程式會使用「系統節點關鍵」優先順序類別、這是Kubernetes中最高的優先順序類別、以確保Astra Trident能在正常節點關機期間識別及清理磁碟區、並讓Trident取消安裝Pod在資源壓力較高的叢集中、預先部署優先順序較低的工作負載。</block>
  <block id="bc1252710ec794375d6c59f55eea9823" category="paragraph">為達成此目標、Astra Trident採用「資源配額」物件、確保Trident的「系統節點關鍵」優先等級符合要求。在部署和建立實體化設定之前、Astra Trident會尋找「資源配額」物件、如果未發現、則會套用該物件。</block>
  <block id="253c5669d0ddb02485528df359bfb37d" category="paragraph">如果您需要對預設資源配額和優先順序類別的更多控制權、可以產生「custustry.yaml」、或使用Helm圖表來設定「資源配額」物件。</block>
  <block id="b6ba871f235b09a3d76844b7b5901586" category="paragraph">以下是「資源配額」物件優先處理Trident的範例。</block>
  <block id="4f4b1cca8d1c78f8ba309694d46d80f2" category="inline-link-macro">Kubernetes：資源配額</block>
  <block id="8893dca3c9374b0380c7018fc6f23846" category="paragraph">如需資源配額的詳細資訊、請參閱 <block ref="1fb556021be57083646a3e3c0079c64c" category="inline-link-macro-rx"></block>。</block>
  <block id="222924a66611c61f2a2192a2bab92ecf" category="inline-link-macro">正在解除安裝</block>
  <block id="dbcf7f603282c175a634104f7dbd55f2" category="paragraph">在極少數情況下、如果在建立「資源配額」物件之後安裝失敗、請先嘗試 <block ref="3bd802fb95da78515b3c3d98916ee73c" category="inline-link-macro-rx"></block> 然後重新安裝。</block>
  <block id="c4af59b1638f70f51816423f72df4dba" category="paragraph">如果這不管用、請手動移除「資源配額」物件。</block>
  <block id="ba991f2f6d0f733e9b8a2136cedc99b2" category="paragraph">如果您偏好控制自己的資源配置、可以使用下列命令移除Astra Trident的「資源配額」物件：</block>
  <block id="c217b0ac2dd5504f79ba78b220a9c358" category="summary">NetApp以多種方式支援Trident。全年無休提供廣泛的免費自助支援選項、例如不和通路。</block>
  <block id="702fa57eedc6ee8490a7294016f8b14f" category="list-text">《三八資源》</block>
  <block id="6b51834314ece904405eb0ce1a6e6bd8" category="list-text">NetApp HCI / Element軟體11或更新版本</block>
  <block id="468bc1e7f7712a8dc9b91d063523cdff" category="cell">1.24.0版</block>
  <block id="05759468b045fc55d22e8e6881dca01f" category="paragraph">** Kubernetes*</block>
  <block id="a885c202ff7951e3ed11491edbe869b2" category="inline-link-macro">GitHub問題#700</block>
  <block id="b649490c5687c23484f5e4043e17b9c5" category="list-text">修正使用Helm或Trident運算子設定Trident時、處理節點選取器的布林值和數字值的問題。（<block ref="4be853b49b0a07556a73959d38037d90" category="inline-link-macro-rx"></block>）</block>
  <block id="0ae28ee1c5edfd4bee3e296a8261ed8b" category="inline-link-macro">GitHub問題#736</block>
  <block id="69ce5488c3078e15fc6e51116d1d17ba" category="list-text">修正非CHAP路徑處理錯誤的問題、以便Kubelet在失敗時重試。 <block ref="a21b5d75e3a2341288a5ed769d7d4ca2" category="inline-link-macro-rx"></block>）</block>
  <block id="701ba87ab75dde70f4604769defc7d00" category="list-text">將k8s.gcr.IO轉換為登錄.k8s.IO、做為SCSI映像的預設登錄</block>
  <block id="90e3cd7cff1c9f6f4b8d2a509b127d44" category="list-text">隨附資源配額與Trident安裝、可確保在優先級類別使用量預設受限時、排定Trident示範集。</block>
  <block id="838a6d7e89b7c366cfc25d3b2115b901" category="inline-link-macro">GitHub問題#717</block>
  <block id="cab6f6f91105d87aa3f65650df43c553" category="inline-link-macro">GitHub問題#228</block>
  <block id="00ea108f36897d9ed3523b970b09e6ea" category="list-text">新增技術預覽功能可自動MetroCluster 切換偵測ONTAP 到不完整的驅動程式。（<block ref="0c9c84232975bfb33d3481050e5ef924" category="inline-link-macro-rx"></block>）</block>
  <block id="0b4fe975279063a2d1790cd061a8b8d1" category="list-text">** Kubernetes：*將支援的Kubernetes最低更新為1.19。</block>
  <block id="108e9d089b04380952a04c1021cdad80" category="list-text">後端組態不再允許在單一組態中使用多種驗證類型。</block>
  <block id="de278730ee66ed696db3f71d20aa30a5" category="list-text">AWS CVS驅動程式（自22.04年起已過時）已移除。</block>
  <block id="16cbbf51150ac75556b3850ff4a5a013" category="list-text">已從節點Pod移除不必要的SYS_ADMIN功能。</block>
  <block id="9f0be62f4bbebd42af8782e0151af649" category="list-text">將節點準備工作減至簡單的主機資訊和主動服務探索、以盡力確認工作節點上是否有NFS/iSCSI服務可用。</block>
  <block id="5b6cf869265c13af8566f192b4ab3d2a" category="section-title">文件</block>
  <block id="d3889fc650fa47326b5f1d0c56f50970" category="inline-link-macro">Pod安全標準</block>
  <block id="4e8effbd512bb14dbe10454c0f045ff2" category="paragraph">全新 <block ref="305368b4f0d008a807e095ab9da58448" category="inline-link-macro-rx"></block> （PSS）部分已新增、詳述由Astra Trident在安裝時啟用的權限。</block>
  <block id="278dc4a29aa2b881b9dc4b45a82929c5" category="section-title">22.04年的變化</block>
  <block id="cb60f101c87f3def78d0fef168389244" category="inline-link-macro">GitHub問題#681</block>
  <block id="2901fba3b85d37ea6000d90e72366ba6" category="list-text">改善iSCSI啟動器名稱的剖析。（<block ref="3947f141b94c1867221790f45a6ee173" category="inline-link-macro-rx"></block>）</block>
  <block id="8804e61e26be921d78a1632ad8607a4c" category="inline-link-macro">GitHub問題#598</block>
  <block id="d0aad022e470a22fe71fa5616ce002f8" category="list-text">修正不允許使用csi儲存類別參數的問題。（<block ref="032ea6b8f2fceffcd025bdcae99652ae" category="inline-link-macro-rx"></block>）</block>
  <block id="34fb36c5e51f4530848bc5114cf29aa7" category="inline-link-macro">GitHub問題#671</block>
  <block id="951995417edc5c2968955384b925b27e" category="list-text">修復Trident CRD中的重複金鑰宣告。（<block ref="6e73ffca3c5d1dc68cd639612845812c" category="inline-link-macro-rx"></block>）</block>
  <block id="55cd7443e4a1278a57f612df28b8eee3" category="inline-link-macro">GitHub問題#629</block>
  <block id="ec74c645b7b5f9d3051f68de156927d9" category="list-text">修正不正確的「csi Snapshot記錄」。（<block ref="9b20149e8d36c115b9349e728abebd54" category="inline-link-macro-rx"></block>）</block>
  <block id="28341d7630f486a1b72b5b97d39ce589" category="list-text">已修正在刪除節點上解除發佈磁碟區的問題。（<block ref="439c8b5253b3b0fa8d2ddb79f44cd784" category="inline-link-macro-rx"></block>）</block>
  <block id="fbb82269f3871bc5751dda6ade9cd9ea" category="inline-link-macro">GitHub問題#656</block>
  <block id="e02171b3da303c0d6b9bd3102650bb07" category="list-text">新增區塊裝置上檔案系統不一致的處理方式。（<block ref="b6c419ed0f79d6957e3796ca0e0742cb" category="inline-link-macro-rx"></block>）</block>
  <block id="1bae87f1c9d9a094dce218672331de02" category="inline-link-macro">GitHub問題#715</block>
  <block id="4aeb6a7748e689a0ce92c16344bb6285" category="list-text">修正在安裝期間設定「imageRegistry（影像登錄）」旗標時拉出自動支援映像的問題。（<block ref="5f789d3f3d58c42cfbeb0b6394bac993" category="inline-link-macro-rx"></block>）</block>
  <block id="70703300e76c51632e4ea22ce53c74af" category="inline-link-macro">GitHub問題#698</block>
  <block id="99df1eeec5b67fac5a47fb610c720712" category="list-text">若要連入Trident的安全端點、現在至少需要TLS 1.3。（<block ref="5ab4d3faf45db0d93ac1a5f7438f1c62" category="inline-link-macro-rx"></block>）</block>
  <block id="3786cba0bc294f586b13783c69b08371" category="inline-link-macro">GitHub問題#694</block>
  <block id="c0f60be70f5b8a5bc6c7c8071f4481fb" category="list-text">* Kubernetes*：Trident取消程式集現在以系統節點關鍵優先順序類別執行。（<block ref="b04869f92878b510e393bc41361c825d" category="inline-link-macro-rx"></block>）</block>
  <block id="8f5cc6430613f1c12f36965050bb7197" category="sidebar">不和</block>
  <block id="094a6e8342b02106129112ad2ff3d374" category="list-text">Mirantis Kubernetes Engine 3.5</block>
  <block id="c53358822905bb04d312060d1cb568af" category="inline-link">Astra Trident 22.04</block>
  <block id="fdd380631ba8063e7b8f842282a01e40" category="list-text"><block ref="fdd380631ba8063e7b8f842282a01e40" category="inline-link-rx"></block></block>
  <block id="ccb5eb98656346cbfa0b207e7d363bef" category="inline-link-macro">部署方法</block>
  <block id="e2bcf5dc117f31569d413bd9b7698bf2" category="list-text">使用其中一項部署Astra Trident <block ref="71cad0f2a077aa26894105299bf47b53" category="inline-link-macro-rx"></block>。</block>
  <block id="26798b67dd2e5b4c8d4f03c4c16170c7" category="list-text"><block ref="26798b67dd2e5b4c8d4f03c4c16170c7" category="inline-link-macro-rx"></block></block>
  <block id="85d7b73826973ab07bfe78af69bd85f4" category="list-text"><block ref="85d7b73826973ab07bfe78af69bd85f4" category="inline-link-macro-rx"></block></block>
  <block id="a1142049a82a11e90102d655bb7e234d" category="inline-link-macro">GitHub的_Assets區段</block>
  <block id="756909f99bc1a720d318a5f5b94eb094" category="section-title">收集記錄以進行疑難排解</block>
  <block id="3d945423f8e9496c429a5d8c65b4604f" category="paragraph">Ubuntu</block>
  <block id="134bf17c90c90b5aeed99dde262bf14d" category="admonition">如果您已經為Trident建立命名空間、則「-cree-namespacre」參數不會建立其他命名空間。</block>
  <block id="76ab201466ec43d71ec9051f8a556457" category="paragraph">針對使用SAN儲存驅動程式的幕後作業、Astra Trident可設定雙向CHAP、並透過「tridentctl」管理CHAP使用者名稱和機密。ONTAP請參閱 <block ref="2e905590b15db776a189c7b5f90d9174" category="inline-link-macro-rx"></block> 瞭解Astra Trident如何在ONTAP 不景點上設定CHAP。</block>
  <block id="ea4a2eeab32b5cd82414bd4a2fc3e8e6" category="section-title">Astra Trident如何與NVE和NAE搭配運作</block>
  <block id="c638f77e97a62d0d11f775816222d62a" category="inline-link-macro">設定NetApp Volume Encryption總覽</block>
  <block id="b65b10bf779c45e4940c255ecf83bdc3" category="paragraph">NetApp ONTAP 支援閒置資料加密、可在磁碟遭竊、退回或重新使用時、保護敏感資料。如需詳細資訊、請參閱 <block ref="e0b51490e5d435c82abc702d0a4ca15c" category="inline-link-macro-rx"></block>。</block>
  <block id="2f96099170687a6fc94d47d5c9e1db78" category="list-text">如果在後端啟用NAE、則Astra Trident中配置的任何磁碟區都將啟用NAE。</block>
  <block id="f2e4034ee02b84093370b28f55809870" category="list-text">如果後端未啟用NAE、則在Astra Trident中配置的任何Volume都會啟用NVE、除非您在後端組態中將NVE加密旗標設為「假」。</block>
  <block id="82d9a35a126449139766a969834999ca" category="paragraph">在啟用NAE的後端Astra Trident中建立的磁碟區、必須加密NVE或NAE。</block>
  <block id="1bb1c0791a9e9cff8de216ed44b1de31" category="list-text">您可以在Trident後端組態中將NVE加密旗標設為「true」、以覆寫NAE加密、並以每個磁碟區為基礎使用特定的加密金鑰。</block>
  <block id="c376f853ae2704beeb8bbb6836ada303" category="list-text">在啟用NAE的後端將NVE加密旗標設為「假」、將會建立啟用NAE的Volume。您無法將NVE加密旗標設為「假」、以停用NAE加密。</block>
  <block id="5991606c4d185f50bd7f678053004989" category="list-text">您可以在Astra Trident中手動建立NVE磁碟區、方法是將NVE加密旗標明確設定為「true」。</block>
  <block id="b6c7fef7b7bcf035a4f4ad02ff8808c2" category="paragraph">如需後端組態選項的詳細資訊、請參閱：</block>
  <block id="06c4db929b729ddf158ceb5cc15b122b" category="inline-link-macro">支援SAN組態選項ONTAP</block>
  <block id="6d9333eebb991611d29a4f8b7cc21fec" category="cell">在新磁碟區上啟用NetApp Volume Encryption（NVE）；預設為「假」。必須在叢集上授權並啟用NVE、才能使用此選項。如果在後端啟用NAE、則Astra Trident中配置的任何磁碟區都會啟用NAE。如需詳細資訊、請參閱： <block ref="00deada136b55f176f599153703cf50d" category="inline-link-macro-rx"></block>。</block>
  <block id="911675212835161abe9bce3f33c70af0" category="paragraph">在新磁碟區上啟用NetApp Volume Encryption（NVE）；預設為「假」。必須在叢集上授權並啟用NVE、才能使用此選項。</block>
  <block id="1811ba2842625864e8f6233e19051566" category="paragraph">如果在後端啟用NAE、則Astra Trident中配置的任何磁碟區都會啟用NAE。</block>
  <block id="cd6eb5bfdf9299ea3a76e2eb822c8293" category="paragraph">如需詳細資訊、請參閱： <block ref="00deada136b55f176f599153703cf50d" category="inline-link-macro-rx"></block>。</block>
  <block id="2bc97a247278d92f5552529c55ab7f0d" category="paragraph">在新磁碟區上啟用NetApp Volume Encryption（NVE）；預設為「假」。必須在叢集上授權並啟用NVE、才能使用此選項。</block>
  <block id="17d79009c5c2bb6bd570bb6f87552a2d" category="paragraph">Astra Trident支援調整NFS和iSCSI PV的大小。這可讓使用者透過Kubernetes層直接調整磁碟區大小。所有主要的NetApp儲存平台皆可進行Volume擴充、包括ONTAP ：NetApp、SolidFire/NetApp HCI及Cloud Volumes Service 背後端點。若要稍後允許擴充、請在與磁碟區相關的StorageClass中將「owVolume Expansion」設為「true」。每當需要調整「持續Volume」的大小時、請在「持續Volume」中編輯「s.pec.resistices.resistices.storage」註釋、使其符合所需的Volume大小。Trident會自動調整儲存叢集上的磁碟區大小。</block>
  <block id="ee3d8ea22d8bf88f2f7fcd6d6dbf26d2" category="paragraph">度量服務可針對OpenShift叢集的狀態、資源使用率及可用度、提供寶貴的資訊給系統管理員。此外、也需要Pod自動擴充功能、許多組織會使用指標服務的資料來支付費用和/或顯示應用程式。</block>
  <block id="06d5b814514e67e2a36b491b2493aed1" category="paragraph">請使用此處列出的建議、確保您的Astra Trident安裝安全無虞。</block>
  <block id="252ee40ccbd23adc008945e85af83513" category="section-title">使用Astra Trident搭配NVE和NAE</block>
  <block id="676ad90ce2543d29917d8a5a6fc02e01" category="inline-link-macro">ASNAS組態選項ONTAP</block>
  <block id="a44b6b00e5eebd7494e1fd00658685e2" category="inline-link-macro">NIST</block>
  <block id="83188252104d97bbc732f23aa3b26ae2" category="inline-link-macro">Gitlab：密碼設定</block>
  <block id="15671c66e35f11a8d4024ff7ca5e7fb6" category="list-text">基於效能考量、我們建議工作節點支援進階加密標準新增指令（AES-NI）。若要驗證AES-NI支援、請執行下列命令：</block>
  <block id="0520b57116af979714f913239aa512a5" category="inline-link-macro">Intel：進階加密標準指令（AES-NI）</block>
  <block id="64e4c9865ee7451edfc34d72da12ee7d" category="paragraph">如果沒有歸還任何內容、您的處理器就不支援AES-NI。如需AES-NI的詳細資訊、請造訪： <block ref="e77f47a78a9c4677daf14d5366b503b4" category="inline-link-macro-rx"></block>。</block>
  <block id="227eef96675ec0e7595951c060437608" category="list-text">使用<block ref="bed471c4a88e25ac9a7e4a7b980700a8" prefix=" " category="inline-code"></block> 使用LUKS加密定義儲存資源池。例如：</block>
  <block id="e646e16bee8b32e6ea29e30d01970a6c" category="section-title">限制</block>
  <block id="21d437ff7c8ceb5481603b5d2c05442a" category="inline-link">Astra Trident 22.07</block>
  <block id="8a7908446b584a99ce1055c602a9c74e" category="list-text"><block ref="8a7908446b584a99ce1055c602a9c74e" category="inline-link-rx"></block></block>
  <block id="027daea9679099cb5b0c6ddd862f1afc" category="paragraph">*在升級至Astra Trident 22.10*之前、您必須先閱讀下列重要資訊</block>
  <block id="83261c9e7e65d5ffc2d188c07767e5f6" category="admonition-title">&lt;strong&gt;關於Astra Trident 22.10&lt;/strong&gt;的重要資訊</block>
  <block id="c5d2d3c8dfa65a831c35d09ac4683434" category="list-text">Kubernetes 1.25現在已在Trident中受到支援。在升級至Kubernetes 1.25之前、您必須先將Astra Trident升級至22.10。</block>
  <block id="27418d8553177383cd6e1bb0e1ce4a57" category="list-text">Astra Trident現在嚴格強制執行SAN環境中的多重路徑組態使用、建議使用的值為<block ref="db729c5c8df447087e5a84b961df14f6" prefix=" " category="inline-code"></block> 在多重路徑.conf檔案中。</block>
  <block id="7b9eed191ce5e7cc8c8d1cb8cfe2d8c8" category="paragraph">使用非多重路徑組態或使用<block ref="a3a1d5b95e345a3db24a5a30e349f699" prefix=" " category="inline-code"></block> 或<block ref="e82e6d155396541f07f7347c984444ea" prefix=" " category="inline-code"></block> 多重路徑.conf檔案中的值會導致掛載失敗。Trident建議使用<block ref="db729c5c8df447087e5a84b961df14f6" prefix=" " category="inline-code"></block> 自21.07版本以來。</block>
  <block id="84ec6afbbe3e33afb3eba2b0375718b1" category="inline-link-macro">問題#759</block>
  <block id="e07bc583b0f70b05fdbb1008303e8f85" category="list-text">已修正ONTAP 特定於使用建立的靜止後端的問題<block ref="d3ed68f7315b7e72b8d886b2278fcac3" prefix=" " category="inline-code"></block> 在22.07.0升級期間、現場無法上線（..<block ref="294e408500bc8358b70c680986c23bdb" category="inline-link-macro-rx"></block>）。</block>
  <block id="958424a347179b6856de7610a2b99b8d" category="inline-link-macro">問題#548</block>
  <block id="9663034bca37c0603d813726d885503d" category="inline-link-macro">問題#760</block>
  <block id="26d08c0516dec92a4420f06d4da4fcf1" category="list-text">修正導致Docker Volume外掛程式無法在某些環境中啟動的問題（<block ref="78b7b57a86c570439562f2c638103de5" category="inline-link-macro-rx"></block> 和 <block ref="968dd574470c019c42c32878b5799fe9" category="inline-link-macro-rx"></block>）。</block>
  <block id="120b67b07f827aba020a1e3932877333" category="list-text">修正ONTAP 了特定於SAN後端的SLE問題、以確保僅發佈屬於報告節點的資料生命期子集。</block>
  <block id="8f9d66f5cbbd4fc027dbd00d46032c8e" category="list-text">修正連接磁碟區時發生不必要的iSCSI LUN掃描的效能問題。</block>
  <block id="4a9eb9834d90361e1b70e6ac3c8b9a5c" category="list-text">移除Astra Trident iSCSI工作流程中的精細重試次數、以快速失敗並縮短外部重試時間間隔。</block>
  <block id="08e9e62a917aaf944b6ff85929a9f1dd" category="list-text">修正當對應的多重路徑裝置已排清時、在排清iSCSI裝置時傳回錯誤的問題。</block>
  <block id="bc5611c731b034c5f323419d0258aa44" category="list-text">Kubernetes：</block>
  <block id="98f7f8fbd26f9272ad6a29f2fb6c930b" category="list-text">針對Trident部署和示範集新增了另一個ServiceAccount、ClusterRO容 和ClusterROlexBinding功能、以允許未來的權限增強功能。</block>
  <block id="609df46dff884c3eec4386eb8db4e358" category="inline-link-macro">跨命名空間磁碟區共用</block>
  <block id="09065204259df86d4fe38c35ea23f5af" category="list-text">所有Trident<block ref="aa44e980d222d5134b5e0d8a062e1543" prefix=" " category="inline-code"></block> 儲存驅動程式現在可搭配ONTAP 使用靜態API。</block>
  <block id="8485ea08789af7b6b7b44e024b526f9b" category="list-text">新增運算子yaml <block ref="5a02ebff4889c2de0379a0fb10bed282" prefix="(" category="inline-code"></block>）沒有<block ref="316707d12484dd3afede08839dee49bc" prefix=" " category="inline-code"></block> 支援Kubernetes 1.25。</block>
  <block id="26e871bef43095263845143b043aee4f" category="inline-link-macro">支援LUKS加密磁碟區</block>
  <block id="30b044636a9c63ab4b202192eec30c1c" category="list-text">新增對Windows Server 2019節點的支援。</block>
  <block id="38b9dc57f44121e6d970b34eede9ad0d" category="inline-link-macro">支援Windows節點上的SMB Volume</block>
  <block id="af8a9d07c7391207db96957ab59cb459" category="list-text">** Kubernetes：*將支援的Kubernetes最低更新為1.20。</block>
  <block id="d667cfc8e8d6ec0c2352fe97b0f09e40" category="list-text">移除Astra Data Store（廣告）驅動程式。</block>
  <block id="9b363ea2db99fe0dc5e9b43f47a37f20" category="list-text">已移除的支援<block ref="a6105c0a611b41b08f1209506350279e" prefix=" " category="inline-code"></block> 和<block ref="8c319f28d81d1527a9428e9a5c2195f5" prefix=" " category="inline-code"></block> 選項<block ref="19b30dc119e514235b739e076be9b3cc" prefix=" " category="inline-code"></block> 在設定iSCSI的工作節點多重路徑時。</block>
  <block id="1407cfeeb5e3916e1435ddea0f1c0a28" category="section-title">22.07年的變動</block>
  <block id="6f4b2a393838b7a42ebca342bdba2246" category="cell">v1.25.0</block>
  <block id="071d9becf308917b53d70c09e7da51b6" category="list-text">存取支援的NetApp儲存系統。</block>
  <block id="19eb712f406fc64109f96d9cf4055cb9" category="list-text">能夠從所有Kubernetes工作節點掛載磁碟區。</block>
  <block id="5f35b91e200cda68bf700d65b89c2c73" category="list-text">Linux主機<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block> （或<block ref="fb024832e51eb5f6da9113a745f1eb59" prefix=" " category="inline-code"></block>（如果您使用OpenShift）已安裝並設定為管理您要使用的Kubernetes叢集。</block>
  <block id="50f33d14f129e4548c1c270fd6725a78" category="section-title">組態選項</block>
  <block id="05f901da7fdacb9ca59e3d7e2d40f98d" category="cell"><block ref="0f4137ed1502b5045d6083aa258b5c42" prefix="" category="inline-code"></block></block>
  <block id="a3ff66cf5848a34d56915c8e879a5d52" category="section-title">組態範例</block>
  <block id="a6ba054ae6c021e3bc8a173393842c3d" category="paragraph">您可以在定義時使用上述屬性<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> 以自訂安裝。</block>
  <block id="3dabf672facbe8c5e2eeff030c2b8520" category="example-title">範例1：基本自訂組態</block>
  <block id="d21e69ca251cfbb211d0ee66fd06d5b3" category="paragraph">這是基本自訂組態的範例。</block>
  <block id="8438aa96607926cc56a36b843e04244f" category="example-title">範例2：使用節點選取器進行部署</block>
  <block id="fd2915a467b0d801691fa5242e597f02" category="paragraph">此範例說明如何使用節點選取器來部署Trident：</block>
  <block id="aa5b232f08f4f3a911b242c500c5c9a1" category="example-title">範例3：部署在Windows工作節點上</block>
  <block id="74b19e3113c78692266e87afce12f681" category="paragraph">此範例說明如何在Windows工作節點上進行部署。</block>
  <block id="8720cc63ac2a7bd9564830d7e775715e" category="paragraph"><block ref="210ab9e731c9c36c2c38db15c28a8d1c" prefix="" category="inline-code"></block> 旗標：*<block ref="490aa9b616d8535386ddf1c7037f79a0" prefix=" " category="inline-code"></block>：Volume的說明。*<block ref="e3bbbed29599d3e6e29ae22829ad7f13" prefix=" " category="inline-code"></block>：將查詢限制在從屬來源Volume。*<block ref="aed2a4a749284f757648f1057abf44cd" prefix=" " category="inline-code"></block>：將查詢限制在Volume的下屬。</block>
  <block id="5f82f4ab2783617b6e62bdd43d4a4e49" category="doc">準備使用ONTAP 支援的SAN驅動程式來設定後端</block>
  <block id="19eb1a22d8687def5fb4904d3402728a" category="doc">跨命名空間共用NFS磁碟區</block>
  <block id="9553e9f0cb878601784cbe35c7767060" category="paragraph">Astra TridentVolume Reference CR可讓您在一或多個Kubernetes命名空間中安全地共用ReadWriteMany（rwx）NFS磁碟區。此Kubernetes原生解決方案具有下列優點：</block>
  <block id="6b456f0abe4c4d2f0beb62e5985136cf" category="list-text">多層存取控制、確保安全性</block>
  <block id="6e5d93bf8e8aaaa4795a50f012bc8fea" category="list-text">可搭配所有Trident NFS Volume驅動程式使用</block>
  <block id="0ece56dd58b5aabac15e0d0a30553bc0" category="list-text">不依賴tridentctl或任何其他非原生Kubernetes功能</block>
  <block id="b6fcfcfd30bda2a77ebc74f23270f581" category="paragraph">此圖說明兩個Kubernetes命名空間之間的NFS Volume共用。</block>
  <block id="45208a2cac11f33c3e6af84d444ac7c5" category="image-alt">跨命名空間共用的概念性圖表。</block>
  <block id="06ad314b340900d226b1196e1fe289e9" category="section-title">快速入門</block>
  <block id="f5b36cc36c8381e7577788dd4db2019d" category="paragraph">您只需幾個步驟就能設定NFS Volume共享。</block>
  <block id="88b05b42d60719619c24f6101bcd381a" category="paragraph">來源命名空間擁有者授予存取來源PVc中資料的權限。</block>
  <block id="7037976663710169f00563675ffd3f91" category="paragraph">叢集管理員授予目的地命名空間擁有者建立TridentVolume Reference CR的權限。</block>
  <block id="46374486db0641fa4a3fc8e9c73766ed" category="paragraph">目的地命名空間的擁有者會建立TridentVolume Reference CR來參照來源PVC。</block>
  <block id="33fefc8d535df49d886c4bc78a08e3e5" category="paragraph">目的地命名空間的擁有者會建立從屬的PVc、以使用來源PVc的資料來源。</block>
  <block id="7238deab481379c03df561ea7c9b0e2e" category="section-title">設定來源和目的地命名空間</block>
  <block id="b23d212300860aa39d44f8fad02636a1" category="paragraph">為了確保安全性、跨命名空間共用需要來源命名空間擁有者、叢集管理員和目的地命名空間擁有者的協同作業與行動。使用者角色會在每個步驟中指定。</block>
  <block id="aae019fccb9b3ffee1ee77e9e5f2377a" category="list-text">*來源命名空間擁有者：*建立PVC <block ref="30520f4f96804df83914260b79f55962" prefix="(" category="inline-code"></block>） <block ref="6fde1ba4470caca933058264dbfdea2e" prefix="(" category="inline-code"></block>）使用<block ref="287f26e3328f9ac0f3f4da2cdaddd3e2" prefix=" " category="inline-code"></block> 註釋：</block>
  <block id="3c2d838391ba40c10d124535dfb833e2" category="paragraph">Astra Trident會建立PV及其後端NFS儲存磁碟區。</block>
  <block id="365b452a5b5d2d01e1f193fc8bd9bf2c" category="list-text">您可以使用以逗號分隔的清單、將永久虛擬儲存設備共用至多個命名空間。例如、<block ref="6b31015528f67fe4ce10b7c81957f601" prefix=" " category="inline-code"></block>。</block>
  <block id="fefd0d1f7e80bb8a4657265696b66694" category="list-text">您可以使用共用至所有命名空間<block ref="3389dae361af79b04c9c8e7057f60cc6" prefix=" " category="inline-code"></block>。例如、<block ref="e06421e15aa316addc52dd6c697027b7" prefix=" " category="inline-code"></block></block>
  <block id="bac5e1b9773b73b6702dfe25c8a61a05" category="list-text">您可以更新PVC,以納入<block ref="287f26e3328f9ac0f3f4da2cdaddd3e2" prefix=" " category="inline-code"></block> 隨時註釋。</block>
  <block id="512fce88fc641bb15b14b72474159acd" category="list-text">*叢集管理：*建立自訂角色和KUbeconfig、以授予目的地命名空間擁有者權限、以便在目的地命名空間中建立TridentVolume Reference CR。</block>
  <block id="5f560764a361bf1159f8a6c8cbd15dad" category="list-text">*目的地命名空間擁有者：*在參照來源命名空間的目的地命名空間中建立TridentVolume Reference CR<block ref="30520f4f96804df83914260b79f55962" prefix=" " category="inline-code"></block>。</block>
  <block id="d9bb6497cda089fc4a386c685a97cffa" category="list-text">*目的地命名空間擁有者：*建立一個PVC <block ref="3f6857fc20ae2372499a71869ac3fe7e" prefix="(" category="inline-code"></block>） <block ref="6fde1ba4470caca933058264dbfdea2e" prefix="(" category="inline-code"></block>）使用<block ref="57c54cbee1c6ed3d5902aa1d8cd1e55a" prefix=" " category="inline-code"></block> 註釋以指定來源PVc。</block>
  <block id="e22f320aefbf1cdb3ccd68c26b050060" category="admonition">目的地PVc的大小必須小於或等於來源PVc。</block>
  <block id="c6e8d7b047a148bcf2aeae743c286bbb" category="paragraph">Astra Trident讀取<block ref="57c54cbee1c6ed3d5902aa1d8cd1e55a" prefix=" " category="inline-code"></block> 在目的地永久虛擬磁碟上註釋、並將目的地PV建立為從屬磁碟區、而其本身並無儲存資源指向來源PV並共用來源PV儲存資源。目的地的PVc和PV似乎正常連結。</block>
  <block id="a5ddf1dcee266e65795efb120a45d2cb" category="section-title">刪除共享Volume</block>
  <block id="2b71b549a21992aba927484a35ad72f6" category="paragraph">您可以刪除跨多個命名空間共用的磁碟區。Astra Trident會移除對來源命名空間上磁碟區的存取權、並維持對其他共用該磁碟區的命名空間的存取權。當所有參照磁碟區的命名空間都移除時、Astra Trident會刪除該磁碟區。</block>
  <block id="9f2f83b0c97d84774c1d61107283bb68" category="paragraph">使用<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> 公用程式、您可以執行<block ref="b5eda0a74558a342cf659187f06f746f" prefix=" " category="inline-code"></block> 取得從屬磁碟區的命令。如需詳細資訊、請參閱連結：../ Trident參考/ tridentctl.html<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix="[" category="inline-code"></block> 命令與選項]。</block>
  <block id="b1cc54ad6906d5f41516543bae01e46f" category="list-text"><block ref="490aa9b616d8535386ddf1c7037f79a0" prefix="" category="inline-code"></block>：Volume的說明。</block>
  <block id="20668f390d13376c8d13ab4b20a53b5d" category="list-text"><block ref="e3bbbed29599d3e6e29ae22829ad7f13" prefix="" category="inline-code"></block>：將查詢限制在從屬來源Volume。</block>
  <block id="92c22bb3853554f94f513a2d2f36e8ef" category="list-text"><block ref="aed2a4a749284f757648f1057abf44cd" prefix="" category="inline-code"></block>：將查詢限制在Volume的下屬。</block>
  <block id="3ad6cc2d4a6ad6fbd07574653275a161" category="list-text">Astra Trident無法防止目的地命名空間寫入共用磁碟區。您應該使用檔案鎖定或其他程序來防止覆寫共用Volume資料。</block>
  <block id="3908892c437778f8b161a2ca006782cd" category="list-text">在從屬磁碟區上無法執行快照、複製和鏡射。</block>
  <block id="aec47cf6a0cb83824b504b756eb4b71c" category="doc">準備設定Azure NetApp Files 一個功能完善的後端</block>
  <block id="97d64245613ba751b698ce77fd51779a" category="inline-link">Azure：設定Azure NetApp Files 功能以建立NFS Volume</block>
  <block id="caa7dc98c21b44b17c214508b9b0fa3c" category="list-text"><block ref="bc54592d6183695b841c6d1880ec0bf8" prefix="" category="inline-code"></block>、<block ref="93c5bebdea9c94a0740fe6fd9bb250f0" prefix=" " category="inline-code"></block>和<block ref="2b53761249254ce6b502f521e5cc0683" prefix=" " category="inline-code"></block> 從 <block ref="63405c89f422580946169fa59c41e7ae" category="inline-link-macro-rx"></block> 在Azure Active Directory中、具備Azure NetApp Files 充分的權限執行此功能。應用程式登錄應使用下列其中一項：</block>
  <block id="ee495045d2c4c5131217a0248a404b4d" category="inline-link-macro">由Azure預先定義</block>
  <block id="2fbc632d5939633cc9c3b254d116080f" category="inline-link-macro">自訂貢獻者角色</block>
  <block id="b0ee19cc46a4fb3df97c1c676c0a5d57" category="inline-link-macro">使用Azure入口網站指派角色</block>
  <block id="993c1a80e778c965961521eeb4afd398" category="list-text">答 <block ref="8ad3956583058d3582a7dd1281d1f882" category="inline-link-macro-rx"></block> 在訂購層級 <block ref="e023f2926fb9af676f2809a760efeb14" prefix="(" category="inline-code"></block>）具有下列權限、僅限於Astra Trident所需的權限。建立自訂角色之後、 <block ref="af58105ed429db29198b767444ed6d0d" category="inline-link-macro-rx"></block>。</block>
  <block id="daba51cb28ea016a4e85ad77defc5a2c" category="list-text">Azure<block ref="d5189de027922f81005951e6efe0efd5" prefix=" " category="inline-code"></block> 至少包含一個 <block ref="e2df5d3690a644a8599397d798c15f56" category="inline-link-macro-rx"></block>。從Trident 22.01起<block ref="d5189de027922f81005951e6efe0efd5" prefix=" " category="inline-code"></block> 參數是後端組態檔最上層的必填欄位。會忽略虛擬資源池中指定的位置值。</block>
  <block id="77a4a369d552f7d3be163bda86f9113f" category="section-title">SMB磁碟區的其他需求</block>
  <block id="1f43150a13f29c496f07ed4a9750b2ff" category="list-text">Kubernetes叢集具備Linux控制器節點、以及至少一個執行Windows Server 2019的Windows工作節點。Astra Trident僅支援安裝在Windows節點上執行的Pod上的SMB磁碟區。</block>
  <block id="7595de66780a622cdd37b4823afebc07" category="inline-link-macro">GitHub：csi Proxy</block>
  <block id="c680a0c023a6d45186b9752a07e9938c" category="inline-link-macro">GitHub：適用於Windows的SCSI Proxy</block>
  <block id="2d6b406e65ac91f2af09f4228e3efe4f" category="list-text">設定為Windows服務的SCSI Proxy。若要設定<block ref="0f8126c17871ed45f2a848f15d96a1bb" prefix=" " category="inline-code"></block>、請參閱 <block ref="3ca23c6eadaac7aa23a492aef5e5d012" category="inline-link-macro-rx"></block> 或 <block ref="0b56a9ad79a8fef177779e7d3d856994" category="inline-link-macro-rx"></block> 適用於Windows上執行的Kubernetes節點。</block>
  <block id="3fec7156504f6ca677ea0a137456913e" category="summary">瞭Cloud Volumes Service 解如何使用提供的範例組態、將適用於Google Cloud的功能組態設定為Astra Trident安裝的後端。</block>
  <block id="eb89f16d07a93fa10a31ec6309045fe9" category="doc">SAN組態選項與範例ONTAP</block>
  <block id="b8ae61dc50cf8e8b79e68bc4a8d36393" category="cell"><block ref="0f179ba2bc32ab5d8f60692f5b800c86" prefix="" category="inline-code"></block></block>
  <block id="a56dcba8eacdac67fb510e1434d560d8" category="inline-link-macro">使用Linux統一金鑰設定（LUKS）</block>
  <block id="fd05c90de484dbc1cb963df796886af4" category="doc">準備使用ONTAP 不含NAS的驅動程式來設定後端</block>
  <block id="17a48ec106d5505e674ccdf56fce1058" category="doc">列舉後端組態選項與範例Azure NetApp Files</block>
  <block id="5fe26149fa172056aee5f841415c55fa" category="admonition">Astra Trident不支援手動QoS容量集區。</block>
  <block id="55eaeeb515ba1b8a42eb736b0e58f41f" category="cell">Volume的vnet功能集可能是<block ref="972e73b7a882d0802a4e3a16946a2f94" prefix=" " category="inline-code"></block> 或<block ref="eb6d8ae6f20283755b339c0dc273988b" prefix=" " category="inline-code"></block>。並非所有地區都提供網路功能、可能必須在訂閱中啟用。指定 <block ref="b0fdc9c7b96e4249152c61b506703142" prefix=" " category="inline-code"></block> 如果未啟用此功能、則會導致磁碟區資源配置失敗。</block>
  <block id="cc3d42de123c784e8d8e3c8404b943be" category="cell">精細控制NFS掛載選項。SMB磁碟區已忽略。若要使用NFS 4.1版掛載磁碟區、請包含 <block ref="c72da907ddca73ee114d92e5e098ce0e" prefix=" " category="inline-code"></block> 在以逗號分隔的掛載選項清單中、選擇NFS v4.1。儲存類別定義中設定的掛載選項會覆寫在後端組態中設定的掛載選項。</block>
  <block id="f0873081464f48da27a1068215270c60" category="cell"><block ref="296026821ada2ab8aebcf13547a63df5" prefix="" category="inline-code"></block></block>
  <block id="c0a4a0396978d1ad8816d2e358a2f05e" category="cell">設定NFS或SMB磁碟區建立。選項包括<block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix=" " category="inline-code"></block>、<block ref="79e0f325804dafbdaef73b3b17c0fd8d" prefix=" " category="inline-code"></block> 或null。NFS磁碟區的預設值設為null。</block>
  <block id="71e598dd105d32592243532b55392c55" category="cell"><block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix="" category="inline-code"></block></block>
  <block id="8cacf42dcc11f9e7779267100d4fd305" category="inline-link-macro">設定Azure NetApp Files 適用於某個聲音量的網路功能</block>
  <block id="4ace77649689419cf09eed38ddf4e74c" category="admonition">如需網路功能的詳細資訊、請參閱 <block ref="d4c16e3034c39d54544a2d5f2b2953d9" category="inline-link-macro-rx"></block>。</block>
  <block id="d37198994935307f0e4a95505678642e" category="section-title">必要的權限與資源</block>
  <block id="1860dce26ad531b08f4b17950bbda6a7" category="paragraph">的值<block ref="6a3560738716ddd805d769d4460ca7aa" prefix=" " category="inline-code"></block>、<block ref="87d26f327b9deeb6141721bda7f8ca65" prefix=" " category="inline-code"></block>、<block ref="338b00a62e6d8d3234c056bf48b711d0" prefix=" " category="inline-code"></block>、<block ref="a88edbe6cce8d8f180d87bef83408312" prefix=" " category="inline-code"></block>和<block ref="4f556606ab1f7cb51dd23811407facbd" prefix=" " category="inline-code"></block> 可以使用簡短或完整名稱來指定。在大多數情況下、建議使用完整名稱、因為短名稱可以符合多個名稱相同的資源。</block>
  <block id="8771cfaef1f991e1642d0a1ece8dcfa3" category="paragraph">。<block ref="6a3560738716ddd805d769d4460ca7aa" prefix=" " category="inline-code"></block>、<block ref="87d26f327b9deeb6141721bda7f8ca65" prefix=" " category="inline-code"></block>和<block ref="338b00a62e6d8d3234c056bf48b711d0" prefix=" " category="inline-code"></block> 值是篩選器、可將探索到的資源集合限制在此儲存後端可用的資源、並可任意組合指定。完整名稱格式如下：</block>
  <block id="be1b9ef68f31ecee991e2282c1f24f0f" category="section-title">Volume資源配置</block>
  <block id="6154de53659ccfe0ba0733effdb2da13" category="paragraph">您可以在組態檔的特殊區段中指定下列選項、以控制預設的Volume資源配置。請參閱 <block ref="c850cc933797a5d4472ae11f15a5ef5e" category="inline-xref-macro-rx"></block> 以取得詳細資料。</block>
  <block id="ea221277b2f168f5e17d112765f4a1c0" category="cell">匯出新磁碟區的規則。<block ref="c72971f17465d2a32345bc872af62a34" prefix=" " category="inline-code"></block> 必須是以逗號分隔的清單、以CIDR表示法列出所有的IPv4位址或IPv4子網路組合。SMB磁碟區已忽略。</block>
  <block id="21590b83460bd480131384ef53bdccc4" category="cell">新磁碟區的UNIX權限（4個八進位數字）。SMB磁碟區已忽略。</block>
  <block id="10c0eb6973453da95b4ef937f19ddb6c" category="section-title">組態範例</block>
  <block id="c0b04213f295bd61098649d5dec24291" category="section-title">儲存類別定義</block>
  <block id="cad675ae3fb846705512fe460e615ac3" category="paragraph">以下內容<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> 定義請參閱上述儲存資源池。</block>
  <block id="1abbfd87ab307af55b755fd27ce60191" category="paragraph">使用<block ref="4d859186a09b1da3597e5901157d9400" prefix=" " category="inline-code"></block> 您可以為每個項目指定<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> 用於裝載磁碟區的虛擬集區。該磁碟區會在所選的資源池中定義各個層面。</block>
  <block id="4b7db799aa8307d15835ff36beb1b97c" category="section-title">SMB磁碟區的定義範例</block>
  <block id="82b60bb483328d8efe9240dc8aa4a600" category="paragraph">使用<block ref="296026821ada2ab8aebcf13547a63df5" prefix=" " category="inline-code"></block>、<block ref="e12fdd044232e643620eed06bf33c7af" prefix=" " category="inline-code"></block>和 <block ref="1ad68a6a046942b7c1666aed825df70a" prefix=" " category="inline-code"></block>、您可以指定SMB磁碟區、並提供所需的Active Directory認證資料。</block>
  <block id="6de60e9a6b0ad8adcd762a8c85d540e2" category="example-title">範例1：預設命名空間的基本組態</block>
  <block id="1d8d21debc328526252944d2264246ca" category="example-title">範例2：每個命名空間使用不同的機密</block>
  <block id="06bb6ebc4dada525717294b660ba2b3b" category="example-title">範例3：每個磁碟區使用不同的機密</block>
  <block id="c51cc3b801a879870aea846bdde1c7a3" category="section-title">建立後端</block>
  <block id="7d8058d93ec1d95c673d83bf303326ff" category="doc">列舉NAS組態選項與範例ONTAP</block>
  <block id="ea61e2c2ff507048203824add1eb7c21" category="section-title">考量</block>
  <block id="8f395c84ad002394e9f070a25937dcc4" category="list-text">此支援服務不支援小於100 GB的磁碟區。Azure NetApp Files如果要求較小的磁碟區、Astra Trident會自動建立100-GB磁碟區。</block>
  <block id="1cf44a6bee7fa333861e5d0042926fb5" category="list-text">Astra Trident僅支援安裝在Windows節點上執行的Pod上的SMB磁碟區。</block>
  <block id="ef0f938ae67a04ac3370fe516c2a6baf" category="list-text">新增對Kubernetes 1.25的支援。在升級至Kubernetes 1.25之前、您必須先將Astra Trident升級至22.10。</block>
  <block id="d041a310ba7cc2599250e64801594107" category="list-text">新增支援 <block ref="ca184a2eda203b6d98158bdf24e5cf7d" category="inline-link-macro-rx"></block>。</block>
  <block id="adbfe36f6399f2846983b2901604a962" category="list-text">新增 <block ref="40be42d37bc6014716dcd0a1d368ffb5" category="inline-link-macro-rx"></block> 透過<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block> 儲存驅動程式：</block>
  <block id="f18a50f02f48551895d57b81dd288142" category="sidebar">跨命名空間共用NFS磁碟區</block>
  <block id="fd1117c82327fbe8671f26e897ceb8f4" category="inline-link-macro">使用BlueXP的Astra Trident</block>
  <block id="a76a1e164520105317267dc41b95e8ce" category="paragraph">與 <block ref="f8c16e8c21124ccc028d2db7fd32a98f" category="inline-link-macro-rx"></block>、您可以升級至最新版的Astra Trident、新增及管理儲存類別、並將其連線至工作環境、以及使用Cloud Backup Service NetApp備份持續的Volume。BlueXP支援使用Trident操作者手動或使用Helm進行Astra Trident部署。</block>
  <block id="6ce33e8f1e198bf1c3583bc5ef789b75" category="paragraph">您可以使用後端定義檔中的加密參數、在Trident所提供的磁碟區上設定加密。如需詳細資訊、請參閱： <block ref="3260a21902518174ce8d9bfef42be276" category="inline-link-macro-rx"></block></block>
  <block id="66f2c42a4ca561f5472459301bc7d096" category="list-text">目前市面上已普遍提供適用於整個過程的自動功能、例如針對不適用的驅動程式進行交換偵測。MetroCluster ONTAP</block>
  <block id="e87ded5ef8bc8adbc3c135528636f4f2" category="list-text"><block ref="e87ded5ef8bc8adbc3c135528636f4f2" category="inline-link-macro-rx"></block></block>
  <block id="fce586d9f649fb529d0a1846495ba259" category="list-text"><block ref="fce586d9f649fb529d0a1846495ba259" category="inline-link-macro-rx"></block></block>
  <block id="ecd7650a65b79124ad23fb7eed8faa7e" category="paragraph">NetApp產品組合中的每個儲存平台都有獨特的功能、無論應用程式是否為容器化的應用程式帶來好處。</block>
  <block id="e6dc22cf3c59dda6e09524b2b133f336" category="section-title">平台總覽</block>
  <block id="050fb8b0306d7532dbf8c15b8cba9745" category="paragraph">Trident可搭配ONTAP 使用沒有一個平台比其他平台更適合所有應用程式和案例、不過在選擇平台時、應考慮應用程式和管理裝置團隊的需求。</block>
  <block id="31b1d21fc5180ec9a5b3d9d7d5ce3295" category="paragraph">\https://&lt;login&gt;:&lt;password&gt;@&lt;mvip&gt;/json-rpc/&lt;element-version&gt;</block>
  <block id="8eadd25d5b4b5d0637cc13cd7349ce5d" category="paragraph">\https://admin:admin@192.168.160.3/json-rpc/8.0</block>
  <block id="88825f48aa3e053d7df66897e8b63e38" category="section-title">驗證需求</block>
  <block id="6bee7851f8606d588c9122b234c202e3" category="list-text">確認您的部署符合所有的 <block ref="6fc1811f5f9a8ae54793544600e2dff7" category="inline-link-macro-rx"></block>。</block>
  <block id="38b6e376f2701385062dee4bb00e03d2" category="summary">您可以使用Astra Trident安裝程式來自訂部署。</block>
  <block id="0dabff490bbf6c7e308950959cc5a024" category="section-title">深入瞭解安裝程式</block>
  <block id="1637137b97f70f3de86dbf02ba8c262b" category="paragraph">Astra Trident安裝程式可讓您自訂屬性。例如、如果您已將Trident映像複製到私有儲存庫、則可以使用來指定映像名稱<block ref="00e6ff45e8bcc6b9e35e9c68d8d5135c" prefix=" " category="inline-code"></block>。如果您已將Trident映像及所需的csi sidecar映像複製到私有儲存庫、最好使用指定該儲存庫的位置<block ref="53b228c1c8295f49b0c35325e14fcd6a" prefix=" " category="inline-code"></block> 交換器、採用格式<block ref="c4c34dc2c7d5cb25c084ca11127ba1c6" prefix=" " category="inline-code"></block>。</block>
  <block id="99c850b82f45e568828f2a8c5ab8f94d" category="section-title">深入瞭解Volume存取群組</block>
  <block id="7c14ddfe8f627e4786f4da7cd4cea9ba" category="section-title">儲存類別關聯</block>
  <block id="ab4589eca69db942d79a0dbbd9ec8399" category="section-title">Volume建立</block>
  <block id="3b878279a04dc47d60932cb294d96259" category="section-title">總覽</block>
  <block id="a6fbed601c3d014f6d8342990aeee0b5" category="section-title">深入瞭解Volume Snapshot建立</block>
  <block id="65e30750e10ee81a457f6e2a2d52b4a4" category="section-title">可用的命令和選項</block>
  <block id="bd75dd911fd79061ecd2d46e65ed7f74" category="paragraph">而 <block ref="8321852d17a287399cb52ef30f4b21eb" category="inline-link-macro-rx"></block> 這是與Astra Trident REST API互動最簡單的方法、您可以視需要直接使用REST端點。</block>
  <block id="7a72a102c2990b674624e8b6ec834e4d" category="section-title">何時使用REST API</block>
  <block id="d08436e363d4793fd6a0de3022ebfd63" category="paragraph">REST API適用於在非Kubernetes部署中使用Astra Trident做為獨立二進位元的進階安裝。</block>
  <block id="14dc7970933630896b0232f2a8b52039" category="paragraph">為了提升安全性、Astra Trident<block ref="aba3d4b49c454e1974970e7b5514b001" prefix=" " category="inline-code"></block> 在Pod內部執行時、預設限制為localhost。若要變更此行為、您必須設定Astra Trident的<block ref="38df54fe961fa2bf2a7f82a5854fabad" prefix=" " category="inline-code"></block> 其Pod組態中的引數。</block>
  <block id="eee97547fb40d9c4df018377ac6478bb" category="section-title">使用REST API</block>
  <block id="ee656aff7dc78e280efdea39a682afbb" category="section-title">升級前的考量</block>
  <block id="4e9ac50b8f51023570ef0b0a0a827912" category="inline-link-macro">支援的Kubernetes版本</block>
  <block id="c27e444dab3a08bf8ec59794897c1a27" category="inline-link-macro">支援的Kubernetes版本</block>
  <block id="756efcb3a97cdd37e8b34de3913c3d8f" category="paragraph">請參閱 <block ref="18d5551396fb2ce2e009cfdb709e4875" category="inline-link-macro-rx"></block>。在您確定已符合先決條件之後、就可以開始部署Astra Trident。</block>
  <block id="0d41f8565b8b74a59fc029ccf2becd83" category="list-text">使用託管外掛系統啟動Astra Trident。更換<block ref="3d689bd3819ead35ed794427bd12f459" prefix=" " category="inline-code"></block> 使用您所使用的外掛程式版本（xxx.xxx.xx）。</block>
  <block id="4f0e7dc30ffb3e25e75331c9afb2243a" category="cell">Volume模式</block>
  <block id="28c142639a9bbdd526b8eb986c13907d" category="paragraph">無檔案系統；原始區塊裝置</block>
  <block id="964ea71824e902693c3ef56b57cf78be" category="summary">使用Astra Trident、您可以在主要命名空間中建立磁碟區、並將其共用於一或多個次要命名空間中。</block>
  <block id="98f770b0af18ca763421bac22b4b6805" category="section-title">功能</block>
  <block id="8ff961668c6784e84b25c265cbb629d7" category="paragraph">若要深入瞭解跨命名空間Volume存取：</block>
  <block id="f1cfea5f1444de607dfa549b3aa57010" category="inline-link-macro">在命名空間之間共用磁碟區：歡迎使用跨命名空間磁碟區存取</block>
  <block id="2780f690b7670efc296ac19ef3029d0c" category="list-text">請造訪 <block ref="b0d29f1b2abb2cc552e4cc47177582ef" category="inline-link-macro-rx"></block>。</block>
  <block id="96e1384807331548bf745acde0fe1b73" category="inline-link-macro">NetAppTV</block>
  <block id="414883f8b6ef58c7b3b37e66fbfd482f" category="list-text">觀看示範 <block ref="1945a2d4809e81668f29485f6ae1bbc8" category="inline-link-macro-rx"></block>。</block>
  <block id="bd2cc8575fe69c7f775292759380c838" category="inline-link-macro">bunder_pre_1_25.yaml</block>
  <block id="5a02ebff4889c2de0379a0fb10bed282" category="inline-link-macro">bunder_POST_1_25.yaml</block>
  <block id="6f8896eb5896943e1606d92193f72fb8" category="section-title">使用疑難排解不成功的Trident部署<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block></block>
  <block id="d59db7846bd10b6d60d21543df9faa9e" category="paragraph-title">您需要的產品</block>
  <block id="6c6e605e09d47da14693d106977b6eb0" category="section-title">管理<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> 後端使用<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block></block>
  <block id="78fb4311dea625690d7fb6274025625a" category="section-title">步驟2：建立<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR</block>
  <block id="d6f4b4bedc693acd49ad08c1cf0cdad5" category="section-title">步驟3：確認的狀態<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR</block>
  <block id="a035fed1dd97545349b5fffbd9e3e88f" category="section-title">管理<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> 後端使用<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block></block>
  <block id="0901a332c26ed210204bad23d45c8b6d" category="section-title">步驟1：確認<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block> 設為<block ref="16d79ff80feadcf2f52096f073f2b94a" prefix=" " category="inline-code"></block></block>
  <block id="2f1beb23541bc11eb53ca6b33485d4f8" category="section-title">步驟2：刪除<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR</block>
  <block id="06c2cea18679d64399783748fa367bdd" category="inline-image-macro">一</block>
  <block id="32ec9b4824220f8ae03a723da009cd54" category="paragraph-title"><block ref="58f667aaf05f87159670e12bd9bc076b" category="inline-image-macro-rx" type="image"></block> 設定來源PVc以共用磁碟區</block>
  <block id="aada29daee1d64ed0fe907043855cb7e" category="inline-image-macro">二</block>
  <block id="82a9b6c32a91a1f4a714d648f5d3260f" category="paragraph-title"><block ref="54f425ce8d89f4ed6b8a546561af5d60" category="inline-image-macro-rx" type="image"></block> 授予在目的地命名空間中建立CR的權限</block>
  <block id="ca8a2087e5557e317599344687a57391" category="inline-image-macro">三</block>
  <block id="311a877e773f97b1e237db665a868dd9" category="paragraph-title"><block ref="05b2444faffd66d76e88602ea7dd353f" category="inline-image-macro-rx" type="image"></block> 在目的地命名空間中建立TridentVolume Reference</block>
  <block id="981b8fcee42e1e726a67a2b9a98ea6e9" category="inline-image-macro">四</block>
  <block id="fb16fc9d34d26a8e74ba1a7180766513" category="paragraph-title"><block ref="beadfa85a2fdca06b91edc1131c603e6" category="inline-image-macro-rx" type="image"></block> 在目的地命名空間中建立從屬的PVc</block>
  <block id="fd69c5cf902969e6fb71d043085ddee6" category="paragraph-title">結果</block>
  <block id="3f8e335666124e3b7f5db07f03fef0b1" category="section-title">使用<block ref="fed7609223e8cae53e079facb24f3426" prefix=" " category="inline-code"></block> 查詢從屬Volume</block>
  <block id="260817022a7340fc89eae3e7dbed8f6a" category="section-title">使用的範例定義<block ref="4d859186a09b1da3597e5901157d9400" prefix=" " category="inline-code"></block> 欄位</block>
  <block id="19ef07597f79648211dbed100709836b" category="section-title">更新後端以納入<block ref="1f2a94e142bf020b1f7c6297ec12413f" prefix=" " category="inline-code"></block></block>
  <block id="891d26d5e7410db6c0a971245c6025c0" category="section-title">範例1：的後端組態<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> 三種磁碟區類型的驅動程式</block>
  <block id="454631312fab234fc91bb2f85a751fac" category="section-title"><block ref="913a4b06671d1e04e6582a85afe3abbe" prefix="" category="inline-code"></block></block>
  <block id="e892fda55ead7e15eed753e850d35f12" category="section-title">步驟2：建立<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR</block>
  <block id="74257eabdceb63f8522f7c68b103da3a" category="section-title">停用<block ref="d51321f13693d09d4a9cbb2758b42d12" prefix=" " category="inline-code"></block> 適用於應用程式SVM</block>
  <block id="e49cf31f5ed35f0eb694c7714e8c3234" category="section-title"><block ref="76ea0bebb3c22822b4f0dd9c9fd021c5" prefix="" category="inline-code"></block></block>
  <block id="3649b15e31d22a1e2210f014d843b9fa" category="section-title"><block ref="099af53f601532dbd31e0ea99ffdeb64" prefix="" category="inline-code"></block></block>
  <block id="a4027ed0f56ae6ac2cbb7605a519932b" category="section-title"><block ref="b5eda0a74558a342cf659187f06f746f" prefix="" category="inline-code"></block></block>
  <block id="7920cf9e1a990d156e390321c1d5efeb" category="section-title"><block ref="59b514174bffe4ae402b3d63aad79fe0" prefix="" category="inline-code"></block></block>
  <block id="df6d9d5a4c545407095ea4ca424e9457" category="section-title"><block ref="f6c534966bc7687e0c87134d025f8837" prefix="" category="inline-code"></block></block>
  <block id="cc27cfd3259c2299d8dece590d5f6985" category="section-title"><block ref="19ad89bc3e3c9d7ef68b89523eff1987" prefix="" category="inline-code"></block></block>
  <block id="2acfb4ba14a6f33d7e82e8d1dda6542f" category="section-title"><block ref="2165e4fa5bddb65a31f6a0c495c2fa37" prefix="" category="inline-code"></block></block>
  <block id="9ce837bc2492d4ed390bc5d1ea9d1437" category="section-title"><block ref="2541d938b0a58946090d7abdde0d3890" prefix="" category="inline-code"></block></block>
  <block id="30cf71e674825d319eb0406032c1a80b" category="section-title"><block ref="3ac340832f29c11538fbe2d6f75e8bcc" prefix="" category="inline-code"></block></block>
  <block id="c4e2f712f33e39883cdadc27311ff798" category="section-title">Kubernetes<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block> 物件</block>
  <block id="40f23ed795a1a88d4da7ac2ef847ff7f" category="section-title">Kubernetes<block ref="858e55ea2e6429120a862313c50a9f5f" prefix=" " category="inline-code"></block> 物件</block>
  <block id="7df5b64daec466033329296995f05735" category="section-title">Kubernetes<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> 物件</block>
  <block id="db36743614e87531d560fe8ae0bc6c7d" category="section-title">Kubernetes<block ref="19476662cd814e0aa085eca121de89b8" prefix=" " category="inline-code"></block> 物件</block>
  <block id="63f2f0978770be469911c5f1722d82ca" category="section-title">Kubernetes<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block> 物件</block>
  <block id="1ca312948dba5b1321da24bc362f4148" category="section-title">Kubernetes<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block> 物件</block>
  <block id="4171707fb2a131f0fae96196310c5e3b" category="section-title">Kubernetes<block ref="99bc4b850e05bafd67cf5f5f49344c1e" prefix=" " category="inline-code"></block> 物件</block>
  <block id="65589e383667ac98801982f7e9704f2a" category="section-title">Astra Trident<block ref="0b79951d94d2a7fc1f7ba55091959bda" prefix=" " category="inline-code"></block> 物件</block>
  <block id="4f89992961c018acecad7b373dcce336" category="section-title">清理<block ref="0b79951d94d2a7fc1f7ba55091959bda" prefix=" " category="inline-code"></block> 如果安裝失敗</block>
  <block id="b9984d1eca39b86eb39cedf7db8f8c62" category="section-title">移除<block ref="0b79951d94d2a7fc1f7ba55091959bda" prefix=" " category="inline-code"></block></block>
  <block id="d3f7afc310875b4ea262305c6d7d6ca2" category="section-title"><block ref="7528035a93ee69cedb1dbddb2f0bfcc8" prefix="" category="inline-code"></block></block>
  <block id="1713a64319d60f7c9dce75d4e48ee14f" category="section-title"><block ref="a02439ec229d8be0e74b0c1602392310" prefix="" category="inline-code"></block></block>
  <block id="e4bcff97a02bbf2d15fc5a1c18b2b3dc" category="section-title"><block ref="32f68a60cef40faedbc6af20298c1a1e" prefix="" category="inline-code"></block></block>
  <block id="cc414e256eb2f4bb405602498ece0af6" category="section-title">瞭解Astra Trident對CVS for GCP的支援</block>
  <block id="a3edb76d25dfeb8d67e4711eafd2b5ca" category="paragraph">為您的儲存系統選取並部署後端驅動程式。</block>
  <block id="a57628924f909d4edd5cb81ee4f10896" category="section-title">背後驅動程式ONTAP</block>
  <block id="4ea57c8a88545a4fc2039131bc6fd74d" category="paragraph">以使用的傳輸協定和儲存系統上的磁碟區配置方式來區分後端驅動程式ONTAP 。因此、在決定要部署的驅動程式時、請謹慎考量。</block>
  <block id="642b59503457da90c85cbb7a35e02089" category="paragraph">可用ONTAP 的支援功能包括：</block>
  <block id="e44e590e4645ab9ef08fb84f61cede17" category="section-title">背後驅動程式Cloud Volumes ONTAP</block>
  <block id="fdde450e1a16aa1461e62c6fa5ac621f" category="section-title">Amazon FSXfor ONTAP Sendbackend驅動程式</block>
  <block id="d079959bb7c738f4e1704de5ff69b897" category="section-title">NetApp HCI / SolidFire後端驅動程式</block>
  <block id="64648abd6d020446c9c8d556a1584d71" category="section-title">背後驅動程式Azure NetApp Files</block>
  <block id="0dceb918cb4a4d7dcbe5af26d08e7657" category="section-title">特定後端使用率</block>
  <block id="ebaf90f7386ae95e7960a2fc0084116e" category="section-title">模擬QoS原則</block>
  <block id="125ad0610423d53866d257eb097320e4" category="section-title">根據特定功能使用後端</block>
  <block id="b6e026d8066036cf2628237905a58384" category="section-title">模擬不同的服務層級/QoS</block>
  <block id="628fd4af2a4e2fce014efbf03b84bb71" category="section-title">指派特定的層面組合</block>
  <block id="a599393b295f7ad56a8c7f1d327290de" category="paragraph">此範例會建立現有PVc的快照。</block>
  <block id="f6bd0d7447ff66cc6b859603a88fbde9" category="section-title">相關連結</block>
  <block id="35aa4a2a819e526c2e930e487df8d423" category="list-text"><block ref="35aa4a2a819e526c2e930e487df8d423" category="inline-link-macro-rx"></block></block>
  <block id="19476662cd814e0aa085eca121de89b8" category="inline-link-macro">Volume SnapshotClass</block>
  <block id="d63cadc96caf4b05f8fa532b08e889da" category="list-text"><block ref="d63cadc96caf4b05f8fa532b08e889da" category="inline-link-macro-rx"></block></block>
  <block id="3b64653c97a388d828849314b6a1b383" category="cell">集區的標籤值必須：</block>
  <block id="6da89265a9a8b0b28eb4946bb2ec0c6d" category="cell">相符</block>
  <block id="ecf92052d55345fee4602d9eb8c22063" category="cell">不相符</block>
  <block id="c6c1caf73b0f83d807abe5a717014ab7" category="cell">加入一組值</block>
  <block id="8daf6b016f4033d59900c23f162c0f73" category="cell">不在一組值中</block>
  <block id="c6bfba38b789fec8271d1d1496a9ee59" category="cell"><block ref="42538adbdb6240b2b083a000a615d5bd" prefix="" category="inline-code"></block></block>
  <block id="152f5dc0f7ac734f8e8ee17d4a482462" category="cell">保護</block>
  <block id="7b532e697a35209f3df3956577cc3d9c" category="cell">存在於任何值</block>
  <block id="eb0254f1d0a82e646c239d4d2e2f83ac" category="cell"><block ref="f65e5ff2a1bb1af969dccabe7dcd5cdd" prefix="" category="inline-code"></block></block>
  <block id="67a3b723b2d9024808eb2c6e686d00a0" category="cell">!保護</block>
  <block id="1fde97909b90bb329db2062f7744bd45" category="cell">不存在</block>
  <block id="5eb07a7cb7d445ef6bbb17270c65cf52" category="list-text">若搭配使用RMCOS 4.5或更新版本、或其他與RHEL相容的Linux套裝作業系統<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> 驅動程式和元素OS 12.5或更早版本、請確定CHAP驗證演算法已在中設定為MD5<block ref="104f48adc29dc1e1d7c9bbe7b5dd3f8d" prefix=" " category="inline-code"></block>。元素12.7提供安全的FIPS相容CHAP演算法SHA1、SHA-256和SHA3-256。</block>
  <block id="18c20e5d2e368f36f420dd39019d460f" category="list-text">如果使用<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> 使用OpenShift 4.5的驅動程式、請確保基礎工作者節點使用MD5做為CHAP驗證演算法。元素12.7提供安全的FIPS相容CHAP演算法SHA1、SHA-256和SHA3-256。</block>
  <block id="5896cc977dd7b9854957e18a2a5bf072" category="cell">要指派給所建立磁碟區的調適性QoS原則群組。選擇每個儲存集區/後端的其中一個qosPolicy或adaptiveQosPolicy。不受ONTAP-NAS-經濟支援。</block>
  <block id="19ab49765cdd2c8ab592eb40eeff08cf" category="cell">ONTAP-SAN、solidfire-san、ONTAP-san經濟型</block>
  <block id="054b5072368dea4f8748909c16c7de98" category="cell">厚：全ONTAP 是邊、薄：全ONTAP 是邊、邊、邊、邊、邊、邊、邊、邊、邊、邊、邊</block>
  <block id="dbdc06f8742b98dcacdf7fdb1af111ea" category="paragraph">ONTAP-NAS、ONTAP-NAS-經濟型、ONTAP-NAS-flexgroup、ONTAP-SAN、solidfire-san、GCP-CVS、azure-NetApp-Files、ONTAP-san經濟</block>
  <block id="f888aa18c19e41f8c1263fa99ca8b94c" category="cell">solidfire-san、ontap、nap、nap、nas經濟、ontap、nas、flexgroup、ontap、san、ONTAP-san經濟型</block>
  <block id="05a2712653dfbf7d695c18242d9848e6" category="paragraph">RHEL 8以上</block>
  <block id="bba4e1b8d8614fe9da2d67e2dcef4b52" category="paragraph"><block ref="8321592ce24c8a122ecf26a63cfca407" prefix="" category="inline-code"></block>、<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>、<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>、<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>、<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block></block>
  <block id="c95cada2a569592345ebc18e5ef4c7aa" category="paragraph">傳輸協定LIF的IP位址。</block>
  <block id="8d9cb98e50e02ba3850a7ebcaeccc076" category="paragraph">*《NAS驅動程式*》：建議您指定ONTAP<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block>。如果未提供、Astra Trident會從SVM擷取資料lifs。您可以指定要用於NFS掛載作業的完整網域名稱（FQDN）、讓您建立循環配置資源DNS、以便在多個資料生命期之間達到負載平衡。</block>
  <block id="25edde63e4922bb316018c25888e64a6" category="inline-link-macro">可選擇的LUN對應ONTAP</block>
  <block id="d26c127ab3dc860f4758d7b6a9b70413" category="paragraph">*《SAN驅動程式*：請勿指定用於iSCSI》ONTAP 。Astra Trident的用途 <block ref="2de2f329c45219df280af5a70ed7a17c" category="inline-link-macro-rx"></block> 探索建立多重路徑工作階段所需的iSCI LIF。如果發生此情況、將會產生警告<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block> 已明確定義。</block>
  <block id="0350980c728940d67af063bb5d711f0f" category="paragraph">如需系統型系統的單元檔案範例、請參閱<block ref="50a97f9b0dec64cc53ca48406c60fe4d" prefix=" " category="inline-code"></block> 在Git repo中。若要搭配RHEL使用檔案、請執行下列步驟：</block>
  <block id="2f6c694f9d016c7193ece4853c402d96" category="doc">自訂Trident操作員安裝</block>
  <block id="79445b5dba623a55ad4d974712853c2f" category="cell"><block ref="2b8b5018006a800ae06485c3aacfa08d" prefix="" category="inline-code"></block></block>
  <block id="cbea7dc9eb2c3c926a86130b0be6368f" category="cell">設定Trident運算子的影像提取原則。有效值包括：<block ref="68eec46437c384d8dad18d5464ebc35c" prefix=" " category="inline-code"></block> 永遠拉出映像。<block ref="7803982c6b845094275e8e83f0fad3a6" prefix=" " category="inline-code"></block> 僅當節點上尚未存在映像時才提取映像。<block ref="6e7b34fa59e1bd229b207892956dc41c" prefix=" " category="inline-code"></block> 永遠不要拉動映像。</block>
  <block id="ac7c98af4f51cc4b20acafb785a53284" category="cell"><block ref="7803982c6b845094275e8e83f0fad3a6" prefix="" category="inline-code"></block></block>
  <block id="00148cd37a97a236d1ff100ec0464493" category="summary">您可以部署Trident運算子、並使用Helm安裝Astra Trident。此程序適用於未將Astra Trident所需的容器映像儲存在私有登錄中的安裝。</block>
  <block id="2f74d18d1c9959832fc00b898fa2417e" category="doc">使用Helm部署Trident運算子（標準模式）</block>
  <block id="6852076d7b753ee3ea825ae4af1375ac" category="inline-link-macro">離線部署程序</block>
  <block id="20815399023070f3335b67451f864388" category="paragraph">您可以部署Trident運算子、並使用Helm安裝Astra Trident。此程序適用於未將Astra Trident所需的容器映像儲存在私有登錄中的安裝。如果您有私有映像登錄、請使用 <block ref="95202a095b590d767c9926fd1850fb68" category="inline-link-macro-rx"></block>。</block>
  <block id="d883ab5f686800bc89cab8e6bd776c10" category="paragraph">*您必須閱讀下列有關Astra Trident的重要資訊。*</block>
  <block id="92b6d6e1b0bf78702d88ede445c4256f" category="example-title">關於Astra Trid-功能 的資訊&lt;/strong&gt; &lt;strong&gt;</block>
  <block id="7416271d47db3d82227ab2164e43c75c" category="list-text">Astra Trident在SAN環境中嚴格執行多重路徑組態的使用、建議的值為<block ref="db729c5c8df447087e5a84b961df14f6" prefix=" " category="inline-code"></block> 在多重路徑.conf檔案中。</block>
  <block id="2f5480efe7a0a4b0cffbf110abec11c2" category="paragraph">使用Trident <block ref="cdacb2b0d49176a3c0d8cc9d693de833" category="inline-link-macro-rx"></block> 您可以部署Trident運算子、並在單一步驟中安裝Trident。</block>
  <block id="3342f1a2f74c6062a39d3076c35c5a5b" category="inline-link-macro">安裝總覽</block>
  <block id="6657de3ab3deaeef939684c50d5310e3" category="paragraph">檢閱 <block ref="17128a3e349370ba21c9ca13ca0bc297" category="inline-link-macro-rx"></block> 為了確保您符合安裝先決條件、並為您的環境選擇正確的安裝選項。</block>
  <block id="8f3958d59b8da100a4663b1cace112b7" category="inline-link-macro">部署先決條件</block>
  <block id="64d2af40480a5cebf7e64939f6253bf3" category="paragraph">此外 <block ref="c7282b7e52e27c635b613335e59bf436" category="inline-link-macro-rx"></block> 您的需求 <block ref="fc0cdbd8defe0c7175199dd05a0f8e76" category="inline-link-macro-rx"></block>。</block>
  <block id="113fbd468c6aaecfbef57e5d1e9b500d" category="list-text">新增Astra Trident Helm儲存庫：</block>
  <block id="d75fdc8e85ddcd7e9dc9f367168dec11" category="paragraph">您可以使用<block ref="cd4140d3de30b520500459331d08d2bf" prefix=" " category="inline-code"></block> 若要檢閱安裝詳細資料、例如名稱、命名空間、圖表、狀態、應用程式版本、和修訂編號。</block>
  <block id="4c5ab57df808d08e9978671e7e81bb2a" category="section-title">在安裝期間傳遞組態資料</block>
  <block id="c2bae6a1b11b371647052979113c2b7c" category="cell"><block ref="2c1d18b300e96c797f390483b0c6acdb" prefix="" category="inline-code"></block> （或<block ref="5338b151154663bac9980b0f044518f2" prefix=" " category="inline-code"></block>）</block>
  <block id="0bfab21a3b7a34a60173df3f165eda9c" category="paragraph">指定具有覆寫的Yaml檔案。這可以多次指定、最右邊的檔案會優先。</block>
  <block id="ef136231fb37749162723573d36b19c9" category="cell"><block ref="8b5806248570dbb13e7d3bc5e6c0ee37" prefix="" category="inline-code"></block></block>
  <block id="7595b6387dfaf9307f563edc4d951a0d" category="paragraph">在命令列上指定置換。</block>
  <block id="01e12de62fa77fda2815719aed8ff892" category="section-title">下一步</block>
  <block id="324e584edb971a95594d9f53d3cd5b56" category="summary">您可以使用Trident運算子（手動或使用Helm）或搭配安裝Astra Trident<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。本主題提供重要資訊、協助您選擇正確的安裝程序。</block>
  <block id="0769d1459ee3d99d6454d7f99246c894" category="doc">瞭解Astra Trident安裝</block>
  <block id="32a389c0498b062693ada7b4b9ac88d7" category="paragraph">為了確保Astra Trident可安裝在各種環境和組織中、NetApp提供多種安裝選項。您可以使用Trident運算子（手動或使用Helm）或搭配安裝Astra Trident<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。本主題提供重要資訊、協助您選擇正確的安裝程序。</block>
  <block id="ef911ad0da9f5477ca7ec7af0ba4181a" category="paragraph">無論安裝路徑為何、您都必須具備：</block>
  <block id="3f2851ece89063ca1615062ac2117a4e" category="list-text">對執行支援版本Kubernetes及啟用功能需求的Kubernetes叢集擁有完整權限。檢閱 <block ref="3675fd04b78685cacd6e23511ab11d10" category="inline-link-macro-rx"></block> 以取得詳細資料。</block>
  <block id="f6f19569d16b2b36f137e3df3e315626" category="list-text">。<block ref="39e7fa5a13dbc25a4aa8c4b323cd657c" prefix=" " category="inline-code"></block> 環境變數設定為指向Kubernetes叢集組態。</block>
  <block id="f73c8e5f81fc3213cf0bc8c399979852" category="admonition">如果您尚未熟悉 <block ref="0342248ee22d08eaf42465a29ddd67ec" category="inline-link-macro-rx"></block>現在正是這麼做的好時機。</block>
  <block id="a24b4ef46f44c1b54b99e62f49bef9af" category="section-title">選擇您的安裝方法</block>
  <block id="dcb987a2d08ee1a9198d1183b1a63a96" category="inline-link-macro">在方法之間移動</block>
  <block id="e11c9248bc5d43c6663f67955adbc53b" category="paragraph">選取最適合您的安裝方法。您也應該檢閱的考量事項 <block ref="e6ce874bf5f421a383109cc222a74763" category="inline-link-macro-rx"></block> 做出決定之前。</block>
  <block id="bd1cc9ebdb33ed22a54815219f97af08" category="section-title">使用Trident運算子</block>
  <block id="b2ad529645b5bea51c4bcd516a5c5c8f" category="inline-link-macro">自訂您的Trident營運者部署</block>
  <block id="938620f641cb8e0eead448105ff52780" category="paragraph">無論是手動部署或使用Helm、Trident營運者都是簡化安裝及動態管理Astra Trident資源的絕佳方式。您甚至可以 <block ref="5290e5312b651716bedf8a83ec5a6467" category="inline-link-macro-rx"></block> 使用中的屬性<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> 自訂資源（CR）。</block>
  <block id="9d2c1d92b0ecb606394b40e3553d07d2" category="paragraph">使用Trident營運者的好處包括：</block>
  <block id="636fc797e6d4f9b558107df8ad867cc7" category="example-title">不只是個Trident物件、更是個可說是個可說是個地方&lt;/strong&gt; &lt;strong&gt;</block>
  <block id="9bb09894435f05fa667865ab4c45ace7" category="paragraph">Trident運算子會自動為Kubernetes版本建立下列物件。</block>
  <block id="839be275cd4b0f32a2c3e0278ce6d568" category="list-text">營運者服務帳戶</block>
  <block id="f330ead337ce41659c5526de118cdac3" category="list-text">叢集角色和叢集角色繫結至服務帳戶</block>
  <block id="02c7e9dd319d7284e2200c673387dfdc" category="list-text">專屬的PodSecurity原則（適用於Kubernetes 1.25及更早版本）</block>
  <block id="504dabdcc3051fc4c1b7a92eb22fad82" category="example-title">還原功能的功能&lt;/strong&gt; &lt;strong&gt;</block>
  <block id="1505039bc5aa0b8285d451e49fba843e" category="paragraph">營運者會監控Astra Trident安裝、並主動採取措施來處理問題、例如刪除部署或意外修改部署。答<block ref="6088362e783ede60a64ba91287dc58c1" prefix=" " category="inline-code"></block> 建立Pod以建立關聯<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> 含Astra Trident安裝的CR。如此可確保叢集中只有一個Astra Trident執行個體、並控制其設定、確保安裝功能強大。當對安裝進行變更（例如刪除部署或節點取消設定）時、操作員會分別識別並修正這些變更。</block>
  <block id="0bfe7abd2878a67d5ff26746df309f8c" category="example-title">更新至現有安裝的更新功能&lt;/strong&gt; &lt;strong&gt;</block>
  <block id="cbbeebc91e4ea4f1960f7a74b5b14c23" category="paragraph">您可以輕鬆地與營運者一起更新現有的部署。您只需要編輯<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> 以更新安裝。</block>
  <block id="561b04cbccb34a376c360e7325ad76d0" category="paragraph">例如、假設您需要啟用Astra Trident來產生偵錯記錄的案例。若要這麼做、請修補您的<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> 以設定<block ref="8cddd364bfd0d68f21e3a9ba1123b849" prefix=" " category="inline-code"></block> 至<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>：</block>
  <block id="f72ba1a3a498489a96fd8774bfa9ea9d" category="example-title">支援升級功能的不一樣之處&lt;/strong&gt; &lt;strong&gt;</block>
  <block id="c3b2fe84f143129d7a18ad12df229bc6" category="example-title">使用BlueXP（前身為Cloud Manager）進行叢集管理&lt;/strong&gt; &lt;strong&gt;</block>
  <block id="4c24a3b9facf2ea9fc7ed2ca52dab45d" category="inline-link-macro">客製化安裝功能&lt;block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category='inline-code'/&gt;</block>
  <block id="40beff6895ce0eeff65f9568dd5c7247" category="paragraph">您可以 <block ref="d16089dfa270d6679e80d43ec8b5c378" category="inline-link-macro-rx"></block> 以產生Trident資源的資訊清單。這包括部署、取消程式集、服務帳戶、以及Astra Trident在安裝過程中所建立的叢集角色。</block>
  <block id="cb024a74bf03f9ba7a9433337492808e" category="admonition">從22.04版開始、每次安裝Astra Trident時、AES金鑰就不會再重新產生。在這個版本中、Astra Trident會安裝一個新的秘密物件、並在安裝過程中持續存在。這表示、<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> 在22.04中可以解除安裝舊版Trident、但舊版無法解除安裝22.04安裝。選取適當的安裝方法_。</block>
  <block id="84721e18f913ae71c91ded91f5eb0ccc" category="section-title">選擇安裝模式</block>
  <block id="ecafb217c7f4e740b9f654a4f2d90d83" category="paragraph">根據組織所需的安裝模式_（標準、離線或遠端）來判斷您的部署程序。</block>
  <block id="e0090e5eeb1da23a2924e8a8913a9bf8" category="open-title">標準安裝</block>
  <block id="2de7b81fa5e55c649aed923c069d97fa" category="paragraph">這是安裝Astra Trident最簡單的方法、適用於大多數不受網路限制的環境。標準安裝模式使用預設登錄來儲存所需的Trident <block ref="0b505db73d92bac18356fa3feb3cf7e3" prefix="(" category="inline-code"></block>）和csi <block ref="95d6355f896a633ab07c528c03b44c8e" prefix="(" category="inline-code"></block>）影像。</block>
  <block id="bed44ad15130067b96b51ba770e3e821" category="paragraph">使用標準模式時、Astra Trident安裝程式會：</block>
  <block id="ca02732ace7c24d10b82abb835861fa8" category="list-text">透過網際網路擷取容器映像</block>
  <block id="2a35874c002d31bf8a669cf5f15508f2" category="list-text">在Kubernetes叢集中的所有合格節點上建立部署或節點取消設定、以執行Astra Trident Pod</block>
  <block id="6c09f957f6dd5f1b3287dacfabe8711a" category="open-title">離線安裝</block>
  <block id="559e73031b36e6693dcd5724b5ec9488" category="paragraph">在無線或安全的位置可能需要離線安裝模式。在此案例中、您可以建立單一私有、鏡射的登錄或兩個鏡射登錄、以儲存所需的Trident和csi映像。</block>
  <block id="37f28a5a50507d5cf12665008632572f" category="admonition">無論您的登錄組態為何、都必須將csi映像存放在單一登錄中。</block>
  <block id="8e9a94c9655a1b4aac478f836ff8dde6" category="open-title">遠端安裝</block>
  <block id="3937570b6000a2f24b3066af230f4546" category="paragraph">以下是遠端安裝程序的高階概觀：</block>
  <block id="8be61d7ba452354892142828445281d0" category="section-title">根據您的方法和模式選取程序</block>
  <block id="667af34faf4c2e74b377bbe7608ca481" category="paragraph">做出決策後、請選擇適當的程序。</block>
  <block id="4c3880bb027f159e801041b1021e88e8" category="cell">方法</block>
  <block id="f8a17e31b9d98082aa01aa0b41f63a01" category="cell">安裝模式</block>
  <block id="e633d636fff46ea0b0998da525b2fba2" category="cell">Trident運算子（手動）</block>
  <block id="8f923c676fa6a52b7729476fc0d5f245" category="paragraph"><block ref="8f923c676fa6a52b7729476fc0d5f245" category="inline-link-macro-rx"></block></block>
  <block id="d295bad40364c9511c0d7b6a18e9557b" category="paragraph"><block ref="d295bad40364c9511c0d7b6a18e9557b" category="inline-link-macro-rx"></block></block>
  <block id="b9267203f04d91a5fcda0041ad2b3b64" category="cell">Trident運算子（Helm）</block>
  <block id="c197c2a4864a9d7a8190b1988d1e5885" category="paragraph"><block ref="c197c2a4864a9d7a8190b1988d1e5885" category="inline-link-macro-rx"></block></block>
  <block id="8dc52e4e0ca84a69e954b9b7a21c2bfc" category="paragraph"><block ref="8dc52e4e0ca84a69e954b9b7a21c2bfc" category="inline-link-macro-rx"></block></block>
  <block id="0b9d702360fb60f9b8b477339ca03a7b" category="cell"><block ref="c67fd1b99934afa248dfeb285a9a4191" prefix="" category="inline-code"></block></block>
  <block id="be686de0390e44f3981b994e059dfcb7" category="inline-link-macro">標準或離線安裝</block>
  <block id="9e244fc5020d1137289c0c34c2944ac4" category="paragraph"><block ref="9e244fc5020d1137289c0c34c2944ac4" category="inline-link-macro-rx"></block></block>
  <block id="dd341f866eaefb939dc86608773c909d" category="section-title">在安裝方法之間移動</block>
  <block id="84dfae02381a00cf11d01c571e3e3e0f" category="paragraph">您可以決定變更安裝方法。在執行此操作之前、請先考慮下列事項：</block>
  <block id="a2f9fc61dcbb8d315328956b20ee41f8" category="list-text">安裝及解除安裝Astra Trident時、請務必使用相同的方法。如果您已部署<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>、您應該使用適當版本的<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> 二進位以解除安裝Astra Trident。同樣地、如果您是與操作員一起部署、則應該編輯<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> 並設定<block ref="f41a95848a012f4f1a6550ce79c588aa" prefix=" " category="inline-code"></block> 解除安裝Astra Trident。</block>
  <block id="aa7d43663995cc5a82e0608e61443ac2" category="list-text">如果您想要移除並改用以營運者為基礎的部署<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> 若要部署Astra Trident、您應該先編輯<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> 並設定<block ref="f41a95848a012f4f1a6550ce79c588aa" prefix=" " category="inline-code"></block> 解除安裝Astra Trident。然後刪除<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> 以及營運者部署。然後您可以使用安裝<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。</block>
  <block id="e77325ac6e155cf5d14c756f1d64333f" category="list-text">如果您有手動的操作員型部署、而且想要使用以Helm為基礎的Trident操作員部署、您應該先手動解除安裝操作員、然後再執行Helm安裝。如此一來、Helm就能部署具有所需標籤和註釋的Trident運算子。如果您不這麼做、則Helm型Trident營運者部署將會失敗、並顯示標籤驗證錯誤和註釋驗證錯誤。如果您有<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>根據部署、您可以使用以Helm為基礎的部署、而不會發生問題。</block>
  <block id="901977c62370814085e1228ede1e5919" category="summary">在安裝Astra Trident之前、您應該先檢閱這些一般系統需求。特定後端可能有其他需求。</block>
  <block id="0ffed9ae8c0b8e64c5dc8cba81c4fe34" category="list-text">FAS/AFF/選取9.5或更新版本</block>
  <block id="6286d1b386e84c92fae11f2bcb9ceecd" category="paragraph">下表摘要說明此Astra Trident版本的可用功能及其支援的Kubernetes版本。</block>
  <block id="6726c1f070eb0e4315bf3ec874a13f78" category="paragraph">儘管Astra Trident並未正式支援特定作業系統、但已知下列項目仍能正常運作：</block>
  <block id="f8b1c66e563136ad12055c2d31964acc" category="paragraph">Kubernetes叢集中的所有工作節點都必須能夠掛載您已為Pod配置的磁碟區。若要準備工作節點、您必須根據所選的驅動程式來安裝NFS或iSCSI工具。</block>
  <block id="f36d25716a4b2c466ddcb8065bef3ae6" category="paragraph"><block ref="f36d25716a4b2c466ddcb8065bef3ae6" category="inline-link-macro-rx"></block></block>
  <block id="0d25ed458cdfc3817973631b0b776a34" category="paragraph">Astra Trident可能需要變更儲存系統、才能使用後端組態。</block>
  <block id="50823ee9226376c44bfb71c334ee2f3f" category="paragraph"><block ref="50823ee9226376c44bfb71c334ee2f3f" category="inline-link-macro-rx"></block></block>
  <block id="29dcef620f05a3eaaf13d29d1f14e860" category="paragraph">Astra Trident需要存取特定連接埠才能進行通訊。</block>
  <block id="b2dabe4b341f1e163a7ba3f3553d6b1b" category="paragraph"><block ref="b2dabe4b341f1e163a7ba3f3553d6b1b" category="inline-link-macro-rx"></block></block>
  <block id="725cbb3a0d4bcdf2e5483f06a14ffc8a" category="cell">1.26.0版</block>
  <block id="4bdf9319fbd791503ac6c31b80a89220" category="summary">您可以手動部署Trident運算子來安裝Astra Trident。此程序適用於將Astra Trident所需的容器映像儲存在私有登錄中的安裝。</block>
  <block id="44e21d73aa8bd7200fceac6671723524" category="doc">手動部署Trident運算子（離線模式）</block>
  <block id="11ad6eeb0e6095efdbf4599d71303b0e" category="inline-link-macro">標準部署程序</block>
  <block id="3410d56c3ae45b01726f4f271693484f" category="paragraph">您可以手動部署Trident運算子來安裝Astra Trident。此程序適用於將Astra Trident所需的容器映像儲存在私有登錄中的安裝。如果您沒有私有映像登錄、請使用 <block ref="0d70fdec6fbaf15c3c460970c31207c9" category="inline-link-macro-rx"></block>。</block>
  <block id="8ff1bc8a7ac69f081f871e9e2a8c0d0f" category="section-title">手動部署Trident運算子並安裝Trident</block>
  <block id="bcc71769dd00af93bb067088094d9b0b" category="paragraph">登入Linux主機、驗證其是否正在管理正常運作的和 <block ref="ac355729d1ddc95a290738ca862fed08" category="inline-link-macro-rx"></block> 而且您擁有必要的權限。</block>
  <block id="92e83bca2bb40324de35154f8c95083d" category="list-text">驗證Kubernetes版本：</block>
  <block id="b17eef151a74252395aad7db4b148b57" category="list-text">驗證叢集管理員權限：</block>
  <block id="987c560d773c81bc59f0fa11370626f5" category="list-text">確認您可以啟動使用Docker Hub映像的Pod、並透過Pod網路連線至儲存系統：</block>
  <block id="d868f4f0026c532dcfdb417dde3174c2" category="section-title">步驟1：下載Trident安裝程式套件</block>
  <block id="e0a7ed284b169328627ba69adfc9350d" category="paragraph">Astra Trident安裝程式套件包含部署Trident操作員及安裝Astra Trident所需的一切。從下載並擷取Trident安裝程式的最新版本 <block ref="6a7c34d1e7545bd3ab5abc336e61eb7f" category="inline-link-macro-rx"></block>。</block>
  <block id="e0755e6cf0a80c2d8535ac3b7eae0b4b" category="section-title">步驟2：建立<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> 客戶需求日</block>
  <block id="04bed90b9e7d65b6d7dd48211e0a9f6c" category="paragraph">建立<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> 自訂資源定義（CRD）。您將建立<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> 稍後再自訂資源。請使用中適當的CRD Y反 洗錢版本<block ref="91ff3926f7c7983bb4a56689f631e6c9" prefix=" " category="inline-code"></block> 以建立<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> 客戶需求日：</block>
  <block id="ad9aaefb573cd08d43c2b039449b1f0e" category="section-title">步驟3：更新操作員中的登錄位置</block>
  <block id="7e1c8354fb2b2ecb65abfa6a63e08970" category="section-title">步驟3：部署Trident運算子</block>
  <block id="05cb480f9344b60f5eeaed25c5e230d1" category="list-text">建立資源並部署營運者：</block>
  <block id="4488449936bc789dc4dfb6a7887b3533" category="paragraph">Astra Trident安裝程式提供一個套件檔案、可用來安裝運算子及建立相關的物件。套裝組合檔案是使用預設組態部署操作員及安裝Astra Trident的簡易方法。</block>
  <block id="69301f05825d437597b636d8b7e9d918" category="paragraph">您必須附加<block ref="4134d52569bb4a6545ebff1e4c83f2bc" prefix=" " category="inline-code"></block> 至<block ref="990dc1a09e10c7b5378e6bc8a1956cb8" prefix=" " category="inline-code"></block> 使用不同的登錄位置。</block>
  <block id="78f538d1739cfd8c70698ec72269da17" category="inline-link-macro">自訂您的Trident安裝</block>
  <block id="60b02b15eaf058a3b9da12633792321f" category="paragraph">您現在可以建立<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> 並安裝Astra Trident。您也可以選擇進一步 <block ref="af79c767b326b6188dbe7366c85a8007" category="inline-link-macro-rx"></block> 使用中的屬性<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> 規格下列範例顯示Trident與csi映像位於不同登錄中的安裝。</block>
  <block id="9c0f95d6de9186b24cce94c1c19ad0bb" category="section-title">驗證安裝</block>
  <block id="f33407040f00668c9fe98aa95119654b" category="paragraph">驗證安裝的方法有多種。</block>
  <block id="1ee1b78e8a634a10be54657432d990c0" category="section-title">使用<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> 狀態</block>
  <block id="59331c774767b9695025c001ca75a1f6" category="inline-link-macro">檢查記錄</block>
  <block id="4b3e10870e70ff689f8c7d5c4470bb56" category="paragraph">狀態<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> 指出安裝是否成功、並顯示安裝的Trident版本。安裝期間的狀態<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> 變更來源<block ref="2763f33c904a183bd0ef06f9c4fb4403" prefix=" " category="inline-code"></block> 至<block ref="98dd43dfae05b11befe1f140e0ec787a" prefix=" " category="inline-code"></block>。如果您觀察到<block ref="d7c8c85bf79bbe1b7188497c32c3b0ca" prefix=" " category="inline-code"></block> 狀態、而且營運者無法自行恢復、 <block ref="b02c5b645df4a829ba2f9c98296d4b15" category="inline-link-macro-rx"></block>。</block>
  <block id="474d9cf1b4e7f826154b0e1f35c59f5a" category="section-title">使用Pod建立狀態</block>
  <block id="726f87e7b7987ccf71570849c59ae750" category="paragraph">您可以檢閱建立的Pod狀態、確認是否已完成Astra Trident安裝：</block>
  <block id="8492a795a07bc459d58808ef0ab73c36" category="section-title">使用<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block></block>
  <block id="af78a296b63187cfcb391c6b5b7ab9ae" category="paragraph">您可以使用<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> 檢查安裝的Astra Trident版本。</block>
  <block id="3c70f31b6cfd2fccfef3e715c4c4cabb" category="doc">自訂tridentctl安裝</block>
  <block id="1925260c2cac73df14e8b004bfbabd67" category="paragraph">您可以使用Astra Trident安裝程式來自訂安裝。</block>
  <block id="9023b4b442239b429817bc22fb401e02" category="summary">您可以部署Trident運算子、並使用Helm安裝Astra Trident。此程序適用於將Astra Trident所需的容器映像儲存在私有登錄中的安裝。</block>
  <block id="3e8935de45b1559e2ec2b01c1bbb06c2" category="doc">使用Helm部署Trident運算子（離線模式）</block>
  <block id="dc0316b52aa2ab6526bdaee13c162530" category="paragraph">您可以部署Trident運算子、並使用Helm安裝Astra Trident。此程序適用於將Astra Trident所需的容器映像儲存在私有登錄中的安裝。如果您沒有私有映像登錄、請使用 <block ref="2230544d14bc4ba0c61a5a1b2030a1d4" category="inline-link-macro-rx"></block>。</block>
  <block id="3d289dfc040026f9fd5fd0d307821b6c" category="doc">使用tridentctl安裝</block>
  <block id="61697702c419c08b19643e7defded065" category="section-title">使用安裝Astra Trident<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block></block>
  <block id="953aeeea088f5f969f2eba121ae81f15" category="paragraph">在開始安裝之前、請先登入Linux主機、然後確認它正在管理正常運作的 <block ref="ac355729d1ddc95a290738ca862fed08" category="inline-link-macro-rx"></block> 而且您擁有必要的權限。</block>
  <block id="8e00e0acac84eb708bf35882acdffca9" category="paragraph">Astra Trident安裝程式套件會建立Trident pod、設定用來維持其狀態的CRD物件、並初始化csi sidecar以執行資源配置和將磁碟區附加至叢集主機等動作。從下載並擷取Trident安裝程式的最新版本 <block ref="6a7c34d1e7545bd3ab5abc336e61eb7f" category="inline-link-macro-rx"></block>。請使用&lt;trident-installer-XX.XX.X.tar.gz&gt; 您所選的Astra Trident版本來更新範例中的_SUR__。</block>
  <block id="4fba6bba4e54639c0f1d19c0a5679833" category="section-title">步驟2：安裝Astra Trident</block>
  <block id="c0e89c01626a7378d795a618051fccbf" category="paragraph">執行、在所需的命名空間中安裝Astra Trident<block ref="430bf77bee6c59d385d4194f84c21b16" prefix=" " category="inline-code"></block> 命令。您可以新增其他引數來指定映像登錄位置。</block>
  <block id="53c512e9599c71e1a585d636a5229820" category="open-title">標準模式</block>
  <block id="ca5380881d4e3b38f359d5d05acd6163" category="paragraph">您的安裝狀態應該類似這樣。</block>
  <block id="c5e8fc3926c956e64487a70aa036ec8c" category="paragraph">您可以使用Pod建立狀態或來驗證安裝<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。</block>
  <block id="5ba19178fb1b2111306714e923b35945" category="inline-link-macro">開啟偵錯模式</block>
  <block id="43e7d51a6323aabe7af3d192e157f5ed" category="admonition">如果安裝程式未成功完成或<block ref="ce3abad3e11d6a43c5178e20a0c7d64b" prefix=" " category="inline-code"></block> <block ref="2903817a25b5de1e17a06122d71c5cf9" prefix="(" category="inline-code"></block> 在23.01之前的版本中）沒有*執行中*的狀態、表示平台尚未安裝。使用<block ref="9b017020b9d48d433ec90c548e6b5c70" prefix=" " category="inline-code"></block> 至 <block ref="82f062b46969132d4baf9d002395a676" category="inline-link-macro-rx"></block> 並疑難排解問題。</block>
  <block id="f032a385b0ce5fcf6464cead04cd3018" category="summary">您可以手動部署Trident運算子來安裝Astra Trident。此程序適用於未將Astra Trident所需的容器映像儲存在私有登錄中的安裝。</block>
  <block id="5d8f25140dde9344f1318b1319929306" category="doc">手動部署Trident運算子（標準模式）</block>
  <block id="b6d3bf16e1407232f27db7edf1b1aeb2" category="paragraph">您可以手動部署Trident運算子來安裝Astra Trident。此程序適用於未將Astra Trident所需的容器映像儲存在私有登錄中的安裝。如果您有私有映像登錄、請使用 <block ref="3fd9bb28718715a2d036f0ab9d9239b8" category="inline-link-macro-rx"></block>。</block>
  <block id="baa9ad279e74fa4534c3259cbc91b518" category="paragraph">建立<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> 自訂資源定義（CRD）。您將建立<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> 稍後再自訂資源。請使用中適當的CRD Y反 洗錢版本<block ref="91ff3926f7c7983bb4a56689f631e6c9" prefix=" " category="inline-code"></block> 以建立<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> 客戶需求日</block>
  <block id="c35c65e4cd4cef23559781ed63709eb0" category="section-title">步驟4：建立<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> 並安裝Trident</block>
  <block id="70e42312f50f2ab1f64d8045ef7bee39" category="paragraph">您現在可以建立<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> 並安裝Astra Trident。您也可以選擇 <block ref="af79c767b326b6188dbe7366c85a8007" category="inline-link-macro-rx"></block> 使用中的屬性<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> 規格</block>
  <block id="7911fdf4657d2e334f854a18bd855d10" category="paragraph">管理LIF為必填項目。資料LIF會有所不同：</block>
  <block id="0f118344f15151d321a269948a521caf" category="list-text">支援SAN：請勿指定iSCSI ONTAP 。Astra Trident的用途 <block ref="2de2f329c45219df280af5a70ed7a17c" category="inline-link-macro-rx"></block> 探索建立多重路徑工作階段所需的iSCI LIF。如果發生此情況、將會產生警告<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block> 已明確定義。請參閱 <block ref="823b6e1f172888081aece7b5cdeb0e03" category="inline-link-macro-rx"></block> 以取得詳細資料。</block>
  <block id="f09a3c9e4e8e8413b0a9e74e8e29bcdd" category="list-text">ASNAS：建議您指定ONTAP<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block>。如果未提供、Astra Trident會從SVM擷取資料lifs。您可以指定要用於NFS掛載作業的完整網域名稱（FQDN）、讓您建立循環配置資源DNS、以便在多個資料生命期之間達到負載平衡。請參閱 <block ref="879dc93198c7c5e8ce7148b6d1205d73" category="inline-link-macro-rx"></block> 以取得詳細資料</block>
  <block id="cb16cfa78684ba0c7fc9cff3e67df72b" category="paragraph">Astra Trident支援定義IPv6位址：</block>
  <block id="a24e915be64ce870d285c6e28a6df3f5" category="list-text"><block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix="" category="inline-code"></block> 和<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block> 適用於不支援NAS的後端ONTAP 。</block>
  <block id="fb250da700173f245f4c10d2970cfba8" category="list-text"><block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix="" category="inline-code"></block> 適用於SAN後端ONTAP 。您無法指定<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block> 在SAN後端ONTAP 。</block>
  <block id="26c2fac45b391513484ac592dfbd2e11" category="paragraph">必須使用安裝Astra Trident<block ref="0612dd31fddbea26c732fa571ce36adc" prefix=" " category="inline-code"></block> 旗標可讓IT透過IPv6運作。</block>
  <block id="f53ad7a29c3832e7ce3b551fa5add12d" category="paragraph">您可以在上更新Data LIF<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> 和<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> 僅限。</block>
  <block id="18e52eb5a60f4ee8d6f1fb37ab3e3781" category="paragraph">旗標：*<block ref="60072fc2fad0d30fc656850e04c7433f" prefix=" " category="inline-code"></block>：解除安裝說明。*<block ref="61bce13717a9d6da0266dbc3e2b1e642" prefix=" " category="inline-code"></block>：卸載期間禁用大多數輸出。</block>
  <block id="741970ef3d523752ab543427956bb1b8" category="cell">1.19 - 1.26</block>
  <block id="66163e38dd4a6a2a3e01f422ce501b1b" category="paragraph">深入瞭解Astra Trident用於通訊的連接埠。</block>
  <block id="2a531c1a1d290bb0e5f5a511bb48ad45" category="admonition">您可以在安裝期間使用變更活動力/整備度探針連接埠<block ref="d2090696319f15a4c659a414db8cd2cd" prefix=" " category="inline-code"></block> 旗標。請務必確認工作節點上的其他程序並未使用此連接埠。</block>
  <block id="1a87abd79c966e67f73bbe738ffa4e59" category="inline-link-macro">問題#783、#794</block>
  <block id="3e45ffbc961fc6c429b6e91f16331ee5" category="list-text">Kubernetes：新增選項以排除建立Pod安全性原則、以修正透過Helm（<block ref="f91cf268a0811064670bc9d51a6e2016" category="inline-link-macro-rx"></block>）。</block>
  <block id="a47f012619aa18f9e2c0fbb53d5878d9" category="list-text">新增對Kubernetes 1.26的支援。</block>
  <block id="d87b63603588c1795f58658ee14e505f" category="inline-link-macro">問題#757</block>
  <block id="8e3bb4ae68afca021f39502f7954a450" category="list-text">改善整體Trident RBAC資源使用率（<block ref="92a5fe29b2be509e7db5f2091f236ee0" category="inline-link-macro-rx"></block>）。</block>
  <block id="2508a7d2b2da760ab909b40a284aff9f" category="list-text">新增自動化功能、可偵測並修正主機節點上的中斷或過時iSCSI工作階段。</block>
  <block id="80a9d5ab26eec41d6d6967415e991c91" category="list-text">新增對擴充LUKS加密磁碟區的支援。</block>
  <block id="1e209dc1ac5964d0a9b1f9c2e9f2fc83" category="list-text">Kubernetes：新增了對LUKS加密磁碟區的認證旋轉支援。</block>
  <block id="c8f16bbec47a1722c0f16f173cf64d21" category="list-text">新增支援SMB Volume搭配Amazon FSX ONTAP for Sfor Sfor ONTAP - NAS儲存驅動程式。</block>
  <block id="8ce5e316405255bac435287fc5b61f0e" category="list-text">新增使用SMB磁碟區時對NTFS權限的支援。</block>
  <block id="e67f9f12d1f7c510d94da478c87b7d19" category="list-text">新增對採用CVS服務層級之GCP磁碟區的儲存資源池支援。</block>
  <block id="493569102442ea9186ac1061bb527388" category="list-text">新增對使用ONTAP-NAS-Flexgroup儲存驅動程式建立FlexGroups時、FlexGroupAggregateList的選用使用支援。</block>
  <block id="af2331cf2d8ade7bb48e4d540510db26" category="list-text">在管理多個FlexVols時、為ONTAP-NAS經濟型儲存驅動程式提升效能。</block>
  <block id="c26c6c796afe3b5c10e0c830715daf3a" category="list-text">已啟用所有ONTAP 的支援不支援NAS儲存驅動程式的資料LIF更新。</block>
  <block id="56f71deb4744b8ffc7a92bde36d3f4d4" category="list-text">更新Trident部署和示範設定命名慣例、以反映主機節點作業系統。</block>
  <block id="6ea33f83a7d973b1fa7de807364662d4" category="list-text">Kubernetes：將支援的Kubernetes最低更新為1.21。</block>
  <block id="25854d9b7e460f2667b773a052ff6830" category="list-text">在設定時、不應再指定資料生命期<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> 或<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> 驅動程式：</block>
  <block id="562840ed450b90bfe87c70479237a8da" category="section-title">22.10的變更</block>
  <block id="816cf1fb2aa5f808ab09b4740f8ec199" category="list-text">新增 <block ref="d387032e9d71b36f3d6219f60f33a659" category="inline-link-macro-rx"></block> 適用於<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> 和<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> 儲存驅動程式：</block>
  <block id="001bb59b1bc94ca13afb90cc0e7a4ed5" category="admonition">您無法指定<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block> 在SAN後端ONTAP 。Astra Trident會探索所有可用的iSCSI LIF、並使用它們來建立多重路徑工作階段。</block>
  <block id="ecab08714a2cb76336fb5fe50c888c56" category="paragraph">Astra Trident版本遵循日期型<block ref="fb6921a005d395f9482cdac0306d4935" prefix=" " category="inline-code"></block> 命名慣例、其中「是」是一年的最後兩位數、「公釐」是月份。DOT版本遵循A<block ref="d93ec759c4a0e8c1cf9c7653b2939656" prefix=" " category="inline-code"></block> 慣例、其中「X」是修補程式層級。您將根據要升級的版本、選擇要升級的版本。</block>
  <block id="74652b96889938fdef1037f82abf39b0" category="inline-link-macro">在安裝方法之間移動</block>
  <block id="441b9a0ce7113f17c0021f9922b1c865" category="inline-link-macro">使用Trident營運者進行升級</block>
  <block id="589143858f045594979d5d3cf5289bf6" category="paragraph">您可以使用輕鬆升級現有的Astra Trident安裝<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。</block>
  <block id="bdae3121e140e5325fd05919c86dd97f" category="list-text">如果您使用自訂初始安裝<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> 屬性、您可以編輯<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> 物件以修改安裝參數。這可能包括針對離線模式指定鏡射Trident和csi映像登錄、啟用偵錯記錄或指定映像提取機密所做的變更。</block>
  <block id="b0f8c567e856516aabf80f916e995d4f" category="paragraph">如果您在初始安裝期間設定任何非預設選項（例如指定Trident和csi映像的私有、鏡射登錄）、請使用<block ref="8b5806248570dbb13e7d3bc5e6c0ee37" prefix=" " category="inline-code"></block> 為了確保升級命令中包含這些選項、否則這些值會重設為預設值。</block>
  <block id="3d0107bfa0874592e9dc04f9869b604b" category="list-text">執行<block ref="cd4140d3de30b520500459331d08d2bf" prefix=" " category="inline-code"></block> 以確認圖表和應用程式版本均已升級。執行<block ref="3e725291d4b17065fdcd321172fcfae3" prefix=" " category="inline-code"></block> 以檢閱任何偵錯訊息。</block>
  <block id="3fe5d266a33f137293c314a2e334b611" category="inline-link">Astra Trident 22.10</block>
  <block id="9fefe9ff51badc61edd8a36c8240aa29" category="list-text"><block ref="9fefe9ff51badc61edd8a36c8240aa29" category="inline-link-rx"></block></block>
  <block id="55559f520040667d3f8931728b37ef07" category="paragraph">21.07之前的版本、請重新導向至舊版文件網站。</block>
  <block id="79126799d841fcc6275e2d0dd60f9d39" category="paragraph">若要整合Astra Trident、下列設計與架構元素需要整合：驅動程式選擇與部署、儲存類別設計、虛擬集區設計、持續磁碟區宣告（PVc）、使用Astra Trident對儲存資源配置、磁碟區作業及OpenShift服務部署的影響。</block>
  <block id="d7f3ab8ebe0633127c883b84d0b2bc4a" category="section-title">在Google Cloud後端驅動程式上執行Cloud Volumes Service</block>
  <block id="dbdb93270c6038ae53d21c36a0ec3a06" category="paragraph">Astra Trident使用<block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block> 在Cloud Volumes Service Google Cloud上連結至該解決方案的驅動程式。</block>
  <block id="6615bc816ef19ce9b090bf84cb2577e8" category="paragraph">。<block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block> 驅動程式使用虛擬資源池來抽象化後端、並允許Astra Trident決定磁碟區放置。系統管理員會在中定義虛擬資源池<block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block> 檔案：儲存類別會使用選取器來依標籤識別虛擬資源池。</block>
  <block id="88e5e1ee5a287a3e1e8bcd0bd36d4405" category="list-text">如果在後端定義了虛擬資源池、Astra Trident會嘗試在Google Cloud儲存資源池中建立該虛擬資源池所限制的磁碟區。</block>
  <block id="350ba3703a7557f9470ce37c01800b89" category="list-text">如果後端未定義虛擬資源池、Astra Trident會從該地區可用的儲存資源池中選取Google Cloud儲存資源池。</block>
  <block id="1c6765c31de34eaa48e2dc86edefdb85" category="paragraph">若要在Astra Trident上設定Google Cloud後端、您必須指定<block ref="80ef6899136dfcff295c16caa93c2138" prefix=" " category="inline-code"></block>、<block ref="1e9c0fd1beef5ff8ed3bef2ae3b7e560" prefix=" " category="inline-code"></block>和<block ref="c9ff119073ea2567730fb42e3a4fe805" prefix=" " category="inline-code"></block> 在後端檔案中。您可以在Google Cloud主控台找到專案編號。API金鑰取自您在Google Cloud Volumes Service Cloud上設定API存取功能時所建立的服務帳戶私密金鑰檔案。</block>
  <block id="2d081c5748fc9d24a176594dfdff1ed6" category="paragraph">如需Cloud Volumes Service 有關Google Cloud服務類型與服務層級的詳細資訊、請參閱 <block ref="5b5fd03722abab2c395288a6ee42ad11" category="inline-link-macro-rx"></block>。</block>
  <block id="b8777f333c4d18731d4e5746513dc8eb" category="cell">適用於Google Cloud驅動程式Cloud Volumes Service</block>
  <block id="e8257e01d592104a99a17c192f84e86a" category="cell">僅適用於CVS效能服務類型。</block>
  <block id="e6f7c10d8c16eee55f72ce71c4b10a2f" category="list-title">複寫附註</block>
  <block id="6b0213ecbd17731dba9697d0053bee09" category="list-text">複寫不由Astra Trident管理。</block>
  <block id="706c8ebf7645c5a984d080882f157905" category="list-text">該實體複本會建立在與來源Volume相同的儲存資源池中。</block>
  <block id="aa3a2f2908114304b0a2fa7847f52c52" category="section-title">虛擬資源池</block>
  <block id="f68e83b9ec275643f0ddf455710de4a0" category="paragraph">所有Astra Trident後端均可使用虛擬資源池。您可以使用Astra Trident提供的任何驅動程式、為任何後端定義虛擬資源池。</block>
  <block id="fcda845207c8bb4d447496c11173c0af" category="paragraph">虛擬集區可讓系統管理員在後端建立抽象層級、以便透過「儲存類別」加以參考、以提高磁碟區在後端的靈活度與效率。不同的後端可以使用相同的服務類別來定義。此外、您也可以在相同的後端上建立多個儲存資源池、但其特性不同。當儲存類別設定為具有特定標籤的選取器時、Astra Trident會選擇符合所有選取器標籤的後端來放置磁碟區。如果儲存類別選取器標籤符合多個儲存資源池、Astra Trident會選擇其中一個來配置磁碟區。</block>
  <block id="46eefe0a9f18e4edef4d602d3868ad26" category="section-title">虛擬資源池設計</block>
  <block id="b8c8132a188c589a80147f1e0b22bf92" category="paragraph">建立後端時、您通常可以指定一組參數。系統管理員無法以相同的儲存認證和一組不同的參數來建立另一個後端。隨著虛擬資源池的推出、這個問題已經減輕。虛擬集區是後端與Kubernetes儲存類別之間的層級抽象、可讓系統管理員定義參數及標籤、並以不受後端限制的方式透過Kubernetes儲存類別做為選取元來參考。可使用Astra Trident為所有支援的NetApp後端定義虛擬資源池。這份清單包括SolidFire/NetApp HCI、ONTAP 《關於Cloud Volumes Service GCP的功能、功能、功能、功能Azure NetApp Files 、功能、以及</block>
  <block id="e531eef4bc68547759b647c917ac2567" category="admonition">定義虛擬資源池時、建議您不要嘗試重新排列後端定義中現有虛擬資源池的順序。此外、建議您不要編輯/修改現有虛擬資源池的屬性、改為定義新的虛擬資源池。</block>
  <block id="f274bdd304a8c3825a2766a1f8ff8fa7" category="paragraph">可從單一儲存後端設計多個具有特定層面的虛擬集區。若要這麼做、請使用多個標籤來設定後端、並在每個標籤下設定所需的層面。現在、請使用建立不同的Kubernetes儲存類別<block ref="bed471c4a88e25ac9a7e4a7b980700a8" prefix=" " category="inline-code"></block> 對應至不同虛擬資源池的欄位。在後端上進行資源配置的磁碟區、將會在所選的虛擬資源池中定義各個層面。</block>
  <block id="77392d80c7d8caad401b2619f5dd4581" category="paragraph">在建立永久虛擬儲存設備時、超出所要求儲存類別的部分參數可能會影響Astra Trident的資源配置決策程序。</block>
  <block id="5425c134e042a4473f453cbfaaf776df" category="summary">您可以在ONTAP Astra Trident上啟用Linux Unified Key Setup（LUKS）來加密支援的SAN和ONTAP 支援的SAN經濟版磁碟區。Astra Trident支援LUKS加密磁碟區的磁碟區大小調整和金鑰（通關密碼）旋轉。</block>
  <block id="b6969fa89b54a37ee3628194aebbbea3" category="doc">Linux統一化金鑰設定（LUKS）</block>
  <block id="a5a1aad62aa2cbb5ff9f9547c24671f4" category="paragraph">您可以在ONTAP Astra Trident上啟用Linux Unified Key Setup（LUKS）來加密支援的SAN和ONTAP 支援的SAN經濟版磁碟區。Astra Trident支援使用密碼的輪替和磁碟區擴充、適用於使用LUKS加密的磁碟區。</block>
  <block id="b1597f08149b233ec5901eb1dc041042" category="paragraph">在Astra Trident中、LUKS加密的磁碟區會依照所建議的方式使用AES-XTS-plain64 cypher和模式 <block ref="79a538d5fda32e1565131ca044d589f6" category="inline-link-macro-rx"></block>。</block>
  <block id="525588be7f6bc2cf7b3b257ced2b19c7" category="list-text">工作者節點必須安裝密碼設定2.1或更高版本（但低於3.0）。如需詳細資訊、請造訪 <block ref="39c06d5570d5dfd5c63abe15a0d8d2fb" category="inline-link-macro-rx"></block>。</block>
  <block id="83f59a8c99f92feae93c90d4f7bd0d68" category="section-title">啟用LUKS加密</block>
  <block id="b9a97083b1f9ee5d9d6fd1ec4025a836" category="paragraph">您可以使用Linux Unified Key Setup（LUKS）來啟用每個Volume、主機端的加密功能、以利ONTAP 執行SAN和ONTAP 支援SAN經濟效益的磁碟區。</block>
  <block id="d197aff07a41df5dbefcace33058435c" category="list-text">在後端組態中定義LUKS加密屬性。如需ONTAP 有關支援不支援SAN的後端組態選項的詳細資訊、請參閱 <block ref="e87ded5ef8bc8adbc3c135528636f4f2" category="inline-link-macro-rx"></block>。</block>
  <block id="a99f022d7515cf14d9d2e49a72198c5c" category="list-text">建立包含LUKS通關密碼的秘密。例如：</block>
  <block id="6d8e596656bc0dc6684415f94bee7e6a" category="paragraph">LUKS加密磁碟區無法利用ONTAP 重複資料刪除技術與壓縮技術。</block>
  <block id="f9d3cd939395358ac0f0bd3a1043656c" category="section-title">旋轉LUKS複雜密碼</block>
  <block id="5173c14a913aecabc2aa4a398abfd3a1" category="paragraph">您可以旋轉LUKS複雜密碼並確認輪調。</block>
  <block id="870809044094847738d2e3b2d3490240" category="admonition">請勿忘記密碼、除非您已驗證它不再被任何磁碟區、快照或機密所引用。如果參考的通關密碼遺失、您可能無法掛載磁碟區、而且資料將保持加密且無法存取。</block>
  <block id="bbe48fb854ea022537208eeeff822f91" category="paragraph-title">關於這項工作</block>
  <block id="0887b239ebf59802cdd0acb89f746b66" category="paragraph">如果在指定新的LUKS通關密碼之後建立裝載磁碟區的Pod、則會發生LUKS通關密碼循環。建立新的Pod時、Astra Trident會比較磁碟區上的LUKS通關密碼與機密中的作用中通關密碼。</block>
  <block id="a09edd6ec72e24ea93fe0643001ce09b" category="list-text">如果磁碟區上的通關密碼與機密中的作用中通關密碼不相符、就會發生輪調。</block>
  <block id="85341a765feac19c14ddb5733a16bb0f" category="list-text">如果磁碟區上的通關密碼與機密中的作用中通關密碼相符<block ref="4146f2b31b5baccc1599d6209e20b87f" prefix=" " category="inline-code"></block> 參數被忽略。</block>
  <block id="e11fe3d05d72f7812c946ac80ae339ed" category="list-text">新增<block ref="c774c2255b7e3b1f75cd200c366d4148" prefix=" " category="inline-code"></block> 和<block ref="59ab79bfd6177f0b40d74d58d4a94d89" prefix=" " category="inline-code"></block> StorageClass參數。例如：</block>
  <block id="7fe288bcd08368971a3839f1de636c7c" category="list-text">識別磁碟區或快照上的現有密碼。</block>
  <block id="bd7a9717d29c5ddcab1bc175eda1e298" category="listing-title">Volume</block>
  <block id="d4e2713d1b1725a1592f9268589f990d" category="listing-title">Snapshot</block>
  <block id="c0526adc9b28d758d8fab9d4a5b998ef" category="list-text">更新磁碟區的LUKS機密、以指定新的和先前的密碼。確保 <block ref="119d124de86f53dbdf015ff1809c10e1" prefix=" " category="inline-code"></block> 和<block ref="4146f2b31b5baccc1599d6209e20b87f" prefix=" " category="inline-code"></block> 請與先前的通關密碼相符。</block>
  <block id="4f8a79fea6c3cc09f49769b8473808f7" category="list-text">建立新的Pod以掛載Volume。這是啟動旋轉所需的。</block>
  <block id="bcf837455c951c49bd9138ead166c489" category="list-text">確認複雜密碼已旋轉。</block>
  <block id="0c7eac961f50eef2d0c82d382fdd18b3" category="paragraph">只有在磁碟區和快照上傳回新的通關密碼時、才會旋轉通關密碼。</block>
  <block id="6ff457ceee4568584dc3fd66c1ae658a" category="admonition">例如、如果傳回兩個複雜密碼<block ref="b5b0f81d5dbb45d3dd031f1b02af8bf3" prefix=" " category="inline-code"></block>、旋轉不完整。您可以觸發新的Pod以嘗試完成旋轉。</block>
  <block id="b3f9d5f1e12f2ba5ecd2ece1e9084f3f" category="section-title">啟用Volume擴充</block>
  <block id="e5307495a3aec6528b42d3f3e835a761" category="paragraph">您可以在LUKS加密的Volume上啟用Volume擴充。</block>
  <block id="aeec1a5a7dc7624995570096ce8156ef" category="inline-link-macro">Kubernetes 1.25：使用Secrets進行節點導向的SCSI Volume擴充</block>
  <block id="1282398415278cc77bc47970640d4188" category="list-text">啟用<block ref="b0e105de2a2f0820528649fee8d2e331" prefix=" " category="inline-code"></block> 功能閘道（beta 1.25 +）。請參閱 <block ref="35e3bd84b2522e04fd4ead86130c9227" category="inline-link-macro-rx"></block> 以取得詳細資料。</block>
  <block id="e4de718025be845e2dec22064bb4eece" category="list-text">新增<block ref="91985ce21cd787a6ab2a13cc97f58968" prefix=" " category="inline-code"></block> 和<block ref="641c8d6753dd78e60ebb61a20e6a2742" prefix=" " category="inline-code"></block> StorageClass參數。例如：</block>
  <block id="e718558948d1441cf3873df6fb7b10c3" category="paragraph">當您啟動線上儲存擴充時、kubelet會將適當的認證資料傳遞給驅動程式。</block>
  <block id="8a6112da5167fe6f44136715f1d86c36" category="paragraph">對於具有專用基礎架構節點（例如OpenShift）或其他節點無法排程使用者應用程式的部署、應使用個別的匯出原則、進一步限制對儲存資源的存取。這包括為部署至這些基礎架構節點的服務（例如OpenShift Metrics和記錄服務）、以及部署至非基礎架構節點的標準應用程式建立匯出原則。</block>
  <block id="a330e835c41b0ff1dfc7e483e7e7f70e" category="summary">虛擬資源池在Astra Trident的儲存後端與Kubernetes的StorageClass之間提供抽象層。管理員可透過通用的後端不受後端限制的方式、定義各個層級的位置、效能及保護、而無需使用StorageClass來指定要用於符合所需條件的實體後端、後端集區或後端類型。</block>
  <block id="9f77ac8822dd45ff19910e0170669eb7" category="paragraph">虛擬資源池可在Astra Trident儲存後端與Kubernetes之間提供抽象層<block ref="f652904c3bfb48fb25a0a75f485f0ff6" prefix=" " category="inline-code"></block>。管理員可以透過通用的後端不受限制的方式、定義各個方面、例如位置、效能及每個後端的保護、而無需進行任何操作<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> 指定要用於符合所需條件的實體後端、後端集區或後端類型。</block>
  <block id="c395d1a6e14d73fb73663b1198b0b134" category="section-title">瞭解虛擬資源池</block>
  <block id="f66146f5a5a305009d0129474f6fc10e" category="paragraph">儲存管理員可在Json或Yaml定義檔案的任何Astra Trident後端上定義虛擬資源池。</block>
  <block id="6293784c303cb134632b85dc06f372df" category="image-alt">顯示虛擬集區的概念性圖表。</block>
  <block id="e26346b2afab61526141ea7275a77ba3" category="list-text">定義虛擬資源池時、請勿嘗試重新排列後端定義中現有虛擬資源池的順序。</block>
  <block id="92aa2031bb642a0c5c916142f725400d" category="list-text">我們建議您不要修改現有虛擬資源池的屬性。您應該定義新的虛擬資源池以進行變更。</block>
  <block id="43d41b472d09879b85f78a3b8e487fd1" category="paragraph">大部分方面都是以後端特定的詞彙來指定。最重要的是、在後端驅動程式之外、不會顯示高寬比值、也無法在中進行比對<block ref="f652904c3bfb48fb25a0a75f485f0ff6" prefix=" " category="inline-code"></block>。而是由系統管理員為每個虛擬資源池定義一或多個標籤。每個標籤都是「金鑰：值配對」、而且標籤可能在獨特的後端之間通用。如同個別層面、標籤可依資源池指定、也可全域指定至後端。不同於具有預先定義名稱和值的各個層面、系統管理員有充分的判斷權、可視需要定義標籤金鑰和值。為了方便起見、儲存管理員可以針對每個虛擬資源池定義標籤、並依標籤將磁碟區分組。</block>
  <block id="e084f7ea866c7ad616e67a911925c850" category="paragraph">答<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> 透過參照選取元參數中的標籤來識別要使用的虛擬資源池。虛擬資源池選取器支援下列運算子：</block>
  <block id="0b62778604e11f72525f5a82bbd26c6a" category="paragraph"><block ref="6a2736fcbb5755dd03d114a5153506eb" category="inline-link-rx"></block> 是完全託管的AWS服務、可讓客戶啟動及執行採用NetApp ONTAP 資訊儲存作業系統的檔案系統。FSX for ONTAP VMware可讓您運用熟悉的NetApp功能、效能和管理功能、同時充分發揮儲存AWS資料的簡易性、敏捷度、安全性和擴充性。FSX for ONTAP Sfor支援ONTAP Isf供 檔案系統功能和管理API。</block>
  <block id="9b85b10750f4b0e98b7853ee468d8bd5" category="list-text">SMB Volume：</block>
  <block id="cf201a9e802aa6e35997590206919b1a" category="list-text">使用支援SMB磁碟區<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> 僅限驅動程式。</block>
  <block id="b184cfad0a2d14c9220db3d72006958c" category="list-text">在啟用自動備份的Amazon FSX檔案系統上建立的磁碟區、無法由Trident刪除。若要刪除PVCs、您需要手動刪除PV和FSXfor ONTAP the Sesfvolume。若要避免此問題：</block>
  <block id="867730e819742e7e493081f160c42c61" category="paragraph">您可以ONTAP 使用下列驅動程式、將Astra Trident與Amazon FSX for NetApp整合：</block>
  <block id="676f29c1b0b3626bc959bdc6ebc8953b" category="paragraph">Astra Trident提供兩種驗證模式。</block>
  <block id="2dc4717be6b9cdf676df17aa86465f02" category="admonition">Astra Trident希望以<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block> SVM使用者或具有相同角色之不同名稱的使用者。適用於NetApp ONTAP 的Amazon FSX具備以下功能<block ref="679500f227997b45be97e3ca8115c678" prefix=" " category="inline-code"></block> 使用者只能有限地取代ONTAP 此功能<block ref="21232f297a57a5a743894a0e4a801fc3" prefix=" " category="inline-code"></block> 叢集使用者：強烈建議使用<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block> 使用Astra Trident。</block>
  <block id="43c502a16d6b21dc6eb26a2067154e11" category="paragraph">您可以更新後端以在認證型和憑證型方法之間移動。不過、如果您嘗試提供*認證資料和認證*、後端建立將會失敗。若要切換至不同的驗證方法、您必須從後端組態中移除現有方法。</block>
  <block id="994eaa47aad78cae857818e1655e2800" category="paragraph">如需啟用驗證的詳細資訊、請參閱您的驅動程式類型驗證：</block>
  <block id="57e00ef3eabad47fc79d0ef1319f989c" category="inline-link-macro">ASNAS驗證ONTAP</block>
  <block id="840db27e4fe9967e908b8b101ca72198" category="list-text"><block ref="840db27e4fe9967e908b8b101ca72198" category="inline-link-macro-rx"></block></block>
  <block id="562276ffa617658595d5e6df35ef971c" category="inline-link-macro">支援SAN驗證ONTAP</block>
  <block id="4a5e4254b1862ddbff7f81ed84e87125" category="list-text"><block ref="4a5e4254b1862ddbff7f81ed84e87125" category="inline-link-macro-rx"></block></block>
  <block id="d2aae26c4b1e25027872b1df4cee2081" category="paragraph">在您設定Azure NetApp Files 完後端功能之前、您必須確保符合下列要求。</block>
  <block id="53ba532dfa04fe29152221a3efb3e98f" category="doc">設定Cloud Volumes Service 適用於Google Cloud後端的功能</block>
  <block id="c891939fd67dfe2cdc8d8bd5a1404644" category="paragraph">瞭Cloud Volumes Service 解如何使用提供的範例組態、將NetApp for Google Cloud設定為Astra Trident安裝的後端。</block>
  <block id="ac7ba403929463ebd2aabb621c443399" category="section-title">深入瞭解Astra Trident對Cloud Volumes Service Google Cloud的支援</block>
  <block id="f391d05be666574cba6a6b88827e5766" category="paragraph">Astra Trident可在Cloud Volumes Service 兩個地方建立一個不二的資料區 <block ref="a3cd55e5a9ff014b76f6953040234c24" category="inline-link-macro-rx"></block>：</block>
  <block id="3671a5060127094ad405aad9295e6609" category="inline-link-macro">三種服務層級</block>
  <block id="9b44bc41471d2c2cc25eb7a9e5e01b49" category="list-text">* CVS效能*：預設的Astra Trident服務類型。這種效能最佳化的服務類型最適合重視效能的正式作業工作負載。CVS效能服務類型是一種硬體選項、可支援最小100 GiB大小的磁碟區。您可以選擇其中一項 <block ref="87d12cea36129673eb9128fd986958c5" category="inline-link-macro-rx"></block>：</block>
  <block id="1b3b34a1280074ca8311ff50bbacac6c" category="list-text"><block ref="c00f0c4675b91fb8b918e4079a0b1bac" prefix="" category="inline-code"></block></block>
  <block id="3f27980baf5bae9c9c40df09c54f6f23" category="list-text"><block ref="a288195832f8717bca4671416014a464" prefix="" category="inline-code"></block></block>
  <block id="091d891c1f040cef1072e2593b7f1f3b" category="list-text"><block ref="287e9593819b2fcdf9945e7ccacd637d" prefix="" category="inline-code"></block></block>
  <block id="1048ee58172376b84dda9c7505d858ea" category="inline-link-macro">兩種服務層級</block>
  <block id="6c62a8c68facf167a61fbd54e9cceb5f" category="list-text">* CVS：CVS服務類型提供高分區可用度、但效能等級僅限於中度。CVS服務類型是一種軟體選項、使用儲存資源池來支援小至1 GiB的磁碟區。儲存資源池最多可包含50個磁碟區、其中所有磁碟區都會共用資源池的容量和效能。您可以選擇其中一項 <block ref="21d52e1e64b94d45bea308be30f5a76a" category="inline-link-macro-rx"></block>：</block>
  <block id="277d5dd64fbcc2dbcd79252b41d6113e" category="list-text"><block ref="317ec56a799e879712bbd2d0fcbd3b93" prefix="" category="inline-code"></block></block>
  <block id="4bfd77bf3278584b71bc8c9deef39ca9" category="list-text"><block ref="75b65576cc4a19f0836b73610ad5957a" prefix="" category="inline-code"></block></block>
  <block id="66d7ad821e261a4b5099f37ced19ebb1" category="list-text">Google Cloud帳戶已設定NetApp Cloud Volumes Service 功能</block>
  <block id="f56a3add505b7e123b55b814f7acc26b" category="list-text">API金鑰檔案、供Cloud Volumes Service 您的I方面 帳戶使用</block>
  <block id="82409a3ea24b043087a2159a3e1f9f74" category="cell">用於指定CVS服務類型的選用參數。使用<block ref="f9fa10ba956cacf91d7878861139efb9" prefix=" " category="inline-code"></block> 可選擇CVS服務類型。否則、Astra Trident會採用CVS效能服務類型 <block ref="3ca14c518d1bf901acc339e7c9cd6d7f" prefix="(" category="inline-code"></block>）。</block>
  <block id="5782f9a9357b5678058d6d3ceed21988" category="cell"><block ref="c614017642b6cfd9e6a25c7df122d917" prefix="" category="inline-code"></block></block>
  <block id="4efa10ec47c98c5ed67e1a72f7515240" category="cell">僅限CVS服務類型。選用參數、用於指定用於建立磁碟區的儲存資源池。</block>
  <block id="4149383e1cf45a36b373c5bded2ff6ba" category="cell">Google Cloud帳戶專案編號。此值可在Google Cloud入口網站首頁找到。</block>
  <block id="f0559497c76611a262c1a6fa93592cd7" category="cell">如果使用共享VPC網路、則為必要項目。在此案例中、<block ref="80ef6899136dfcff295c16caa93c2138" prefix=" " category="inline-code"></block> 是服務專案、以及<block ref="b5caf2c58446baec75b83bf637a98d1b" prefix=" " category="inline-code"></block> 是主機專案。</block>
  <block id="dbac640079c94d4a257a3513191a1ad6" category="cell">Astra Trident在Google Cloud區域建立Cloud Volumes Service 了各種不全的功能。建立跨區域Kubernetes叢集時、會在中建立磁碟區<block ref="1e9c0fd1beef5ff8ed3bef2ae3b7e560" prefix=" " category="inline-code"></block> 可用於在多個Google Cloud區域的節點上排程的工作負載。跨區域流量會產生額外成本。</block>
  <block id="665f1a07bc016a07fdc13ef823fcdb03" category="cell">的Google Cloud服務帳戶API金鑰<block ref="4a5395c87dd91b3242056f83b7cedb9b" prefix=" " category="inline-code"></block> 角色：其中包含Google Cloud服務帳戶私密金鑰檔案（逐字複製到後端組態檔）的JSON-格式內容。</block>
  <block id="3430995d97c2d987bf88dfb93ddb34f7" category="cell">Proxy URL（如果需要Proxy伺服器才能連線至CVS帳戶）。Proxy伺服器可以是HTTP Proxy或HTTPS Proxy。對於HTTPS Proxy、會跳過憑證驗證、以允許在Proxy伺服器中使用自我簽署的憑證。不支援已啟用驗證的Proxy伺服器。</block>
  <block id="4d9239a7fce916964ba8529021ab535f" category="cell">如果要求的磁碟區大小高於此值、則資源配置失敗。</block>
  <block id="c4105759a421b56f4e5aa47752aa6812" category="cell">適用於新磁碟區的CVS效能或CVS服務層級。CVS的效能值為<block ref="c00f0c4675b91fb8b918e4079a0b1bac" prefix=" " category="inline-code"></block>、<block ref="a288195832f8717bca4671416014a464" prefix=" " category="inline-code"></block>或<block ref="287e9593819b2fcdf9945e7ccacd637d" prefix=" " category="inline-code"></block>。CVS值包括<block ref="317ec56a799e879712bbd2d0fcbd3b93" prefix=" " category="inline-code"></block> 或<block ref="75b65576cc4a19f0836b73610ad5957a" prefix=" " category="inline-code"></block>。</block>
  <block id="5c3d9364df4807427e3297a90edf2831" category="cell">CVS效能預設為「標準」。CVS預設為「標準」。</block>
  <block id="5715e76155b75e9062107ef13c0576ed" category="cell">Google Cloud網路用於Cloud Volumes Service 解決資料不整的問題。</block>
  <block id="ad438db80cb3bcd5f6fccdb1010b02f1" category="cell">疑難排解時要使用的偵錯旗標。範例：<block ref="9b8710f6da218ae915e4ba2ae63f23d0" prefix=" " category="inline-code"></block>。除非您正在進行疑難排解並需要詳細的記錄傾印、否則請勿使用此功能。</block>
  <block id="a5f4597012dd7af2b717fd4cc2f687fe" category="cell"><block ref="df6ccab784b5892507a7d11443254dc8" prefix="" category="inline-code"></block></block>
  <block id="d2e98deb07632de971600ae032776fe8" category="cell">若要啟用跨區域存取、您的StorageClass定義適用於<block ref="df6ccab784b5892507a7d11443254dc8" prefix=" " category="inline-code"></block> 必須包含所有區域。例如：<block ref="3e7c75911911d149520dd40104fd92d7" prefix=" " category="inline-code"></block></block>
  <block id="eb60cd2c0cff094ad0ecbe9d6fededcf" category="section-title">Volume資源配置選項</block>
  <block id="afe8445a326424c54dfec7cc20994e8f" category="paragraph">您可以在中控制預設的Volume資源配置<block ref="a4a918a45181164207929d52aec36aec" prefix=" " category="inline-code"></block> 組態檔的一節。</block>
  <block id="fdcd5d79603b7f7c0f9b4525dd19b6ab" category="cell">新磁碟區的匯出規則。必須是以逗號分隔的清單、以CIDR表示法列出所有的IPv4位址或IPv4子網路組合。</block>
  <block id="d5c8102144978e060556ba194e006d1e" category="cell">新磁碟區的大小。CVS效能最低為100 GiB。CVS最低為1 GiB。</block>
  <block id="400f2f53e7d26564783ac50a601d32cb" category="cell">CVS效能服務類型預設為「100GiB」。CVS服務類型並未設定預設值、但至少需要1 GiB。</block>
  <block id="94e5c486f56b72f4237fe801615b4406" category="section-title">CVS效能服務類型範例</block>
  <block id="dea6ff4202a54251e04f7b84647690b6" category="paragraph">下列範例提供CVS效能服務類型的範例組態。</block>
  <block id="ae174742813090d1ddbc3ed75d27f7f2" category="paragraph">這是使用預設「標準」服務層級的預設CVS效能服務類型的最低後端組態。</block>
  <block id="8228a8de88271b4a6a07d5021ae4ff7c" category="example-title">範例2：服務層級組態</block>
  <block id="38a24bdf59c77f7705c407c60f3ea81e" category="paragraph">本範例說明後端組態選項、包括服務層級和Volume預設值。</block>
  <block id="4565a2282ee3312eddd091b3a3f6a263" category="example-title">範例3：虛擬資源池組態</block>
  <block id="ed7c2c2093c7c8deca88a6580c82633a" category="paragraph">此範例使用<block ref="ddecebdea58b5f264d27f1f7909bab74" prefix=" " category="inline-code"></block> 來設定虛擬集區和<block ref="f652904c3bfb48fb25a0a75f485f0ff6" prefix=" " category="inline-code"></block> 請回頭參考。請參閱 <block ref="f986c11e10e5f3c768f256080a1f3f99" category="inline-xref-macro-rx"></block> 以瞭解如何定義儲存類別。</block>
  <block id="935927e4b464388790a08251e1c2254d" category="paragraph">此處會針對所有設定的虛擬資源池設定特定的預設值<block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix=" " category="inline-code"></block> 5%和<block ref="c72971f17465d2a32345bc872af62a34" prefix=" " category="inline-code"></block> 至0.00.0/0。虛擬資源池是在中定義的<block ref="ddecebdea58b5f264d27f1f7909bab74" prefix=" " category="inline-code"></block> 區段。每個個別虛擬集區都會定義自己的虛擬集區<block ref="f1d0ae63f2e948a9e43dcc60303d595d" prefix=" " category="inline-code"></block>和某些資源池會覆寫預設值。虛擬資源池標籤是用來區分資源池的依據<block ref="c05f6c233521207f6fe311afef550c3c" prefix=" " category="inline-code"></block> 和<block ref="152f5dc0f7ac734f8e8ee17d4a482462" prefix=" " category="inline-code"></block>。</block>
  <block id="857fa84eb2e850753da87c8599addab3" category="section-title">儲存類別定義</block>
  <block id="5b797cdb3913e416eaea99109620eb0d" category="paragraph">下列StorageClass定義適用於虛擬集區組態範例。使用<block ref="bed471c4a88e25ac9a7e4a7b980700a8" prefix=" " category="inline-code"></block>、您可以為每個StorageClass指定用於裝載磁碟區的虛擬集區。該磁碟區會在所選的資源池中定義各個層面。</block>
  <block id="ea7cdbae94b0329e6731e1f3ae9fc4fc" category="example-title">儲存類別範例</block>
  <block id="48bbf2b27d410d92674b0f8f5d3447a0" category="list-text">第一個StorageClass <block ref="d3b08f69c5bb5aadd45b7ba9391c7447" prefix="(" category="inline-code"></block>）對應至第一個虛擬資源池。這是唯一提供極致效能、快照保留率為10%的資源池。</block>
  <block id="c218d6520025e93f73bb7b0b289f3ebe" category="list-text">最後一個StorageClass <block ref="92c87bc6be7db462499a5a2258aa7ba9" prefix="(" category="inline-code"></block>）撥出提供快照保留10%的任何儲存資源池。Astra Trident決定選取哪個虛擬集區、並確保符合快照保留需求。</block>
  <block id="d371b8466ee11b2a14782e343e3ed344" category="section-title">CVS服務類型範例</block>
  <block id="f7a4e685ebf6839fc43b3bbaeff96c33" category="paragraph">下列範例提供CVS服務類型的範例組態。</block>
  <block id="96899a80429985fe87db6dedf997357e" category="example-title">範例1：最低組態</block>
  <block id="2bab01748045e624b36f643d0a50b1c2" category="paragraph">這是使用的最低後端組態<block ref="78ec9b60245b46a4f05158076962ace9" prefix=" " category="inline-code"></block> 指定CVS服務類型和預設值<block ref="317ec56a799e879712bbd2d0fcbd3b93" prefix=" " category="inline-code"></block> 服務層級：</block>
  <block id="d1f5fcc31a1c5bb592600c9f986af71c" category="example-title">範例2：儲存資源池組態</block>
  <block id="879b7d1da5135e7d94358584a7245e33" category="paragraph">此範例後端組態使用<block ref="c614017642b6cfd9e6a25c7df122d917" prefix=" " category="inline-code"></block> 以設定儲存資源池。</block>
  <block id="4a9c2b6feb83a77f2806513226f33d05" category="summary">您可以將Amazon FSX for NetApp ONTAP 的支援文件系統與Astra Trident整合、以確保在Amazon Elastic Kubernetes Service（EKS）中執行的Kubernetes叢集能夠配置區塊並以ONTAP 支援的方式歸檔持續Volume。</block>
  <block id="8373fe009c8ffdbdda12cfedf744172c" category="doc">整合Amazon FSX for NetApp ONTAP 功能</block>
  <block id="0629fb104936d0fb60cc736b6cb01caa" category="inline-link-macro">Astra Trident的需求</block>
  <block id="241f2511660937482446bd41efeac638" category="paragraph">此外 <block ref="1615f1c495dc4acc1bb5bea393c7532b" category="inline-link-macro-rx"></block>、若要將FSXfor ONTAP 支援與Astra Trident整合、您需要：</block>
  <block id="288b1cbb87d08c32abf3084c28636e5c" category="inline-link-macro">NFS或iSCSI</block>
  <block id="d7481875afa061fb651628b2597d52ec" category="list-text">已準備好的工作節點 <block ref="966ed3bab2d39ae1014ad2eb34527e0f" category="inline-link-macro-rx"></block>。</block>
  <block id="d0341760d873a30f82a310a6eab0ba9c" category="admonition">請務必遵循Amazon Linux和Ubuntu所需的節點準備步驟<block ref="70013ee128d5437b3d9579d66ece4066" category="inline-link-rx"></block> （AMis）、視您的EKS AMI類型而定。</block>
  <block id="8df63c807f3c78b6087ad0d6ee434fb2" category="list-text">至少有一個Astra Trident機密、其中包含您的Active Directory認證資料。以產生機密<block ref="e47a193687dde960f6b6f80d394142a3" prefix=" " category="inline-code"></block>：</block>
  <block id="9303b8f40cf82f5e37702c7a6387e725" category="section-title">整合SAN和NAS驅動程式ONTAP</block>
  <block id="83d1f963158732d2aedc5119f242bcff" category="admonition">如果您要設定SMB磁碟區、則必須閱讀 <block ref="688177e6b45c5d27a545463079c58d82" category="inline-xref-macro-rx"></block> 在建立後端之前。</block>
  <block id="c8aecc44e726368f30c6757e9ab5b64b" category="list-text">收集SVM管理LIF DNS名稱。例如、使用AWS CLI尋找<block ref="a3c3b30ab91f2501f21058ee87f27a4f" prefix=" " category="inline-code"></block> 輸入<block ref="b8724da75fb917e992576b17378e66b3" prefix=" " category="inline-code"></block> -&gt;<block ref="fe4dbcab9b910577e5035e97ac068dae" prefix=" " category="inline-code"></block> 執行下列命令之後：</block>
  <block id="ed625a73c7dbbe8b3d51e643adb7ddfd" category="inline-link-macro">NAS後端驗證</block>
  <block id="cac491bba67bb09dddb8fa935c0ed9d6" category="inline-link-macro">SAN後端驗證</block>
  <block id="2c4646cfa545b727f14a7ee6560b41b8" category="list-text">建立及安裝的憑證 <block ref="e0dfdc1f3574886f1078f7699f0f57f0" category="inline-link-macro-rx"></block> 或 <block ref="2ba00bd5ff04f92ed7b3b69e76174936" category="inline-link-macro-rx"></block>。</block>
  <block id="fc4e16be02eac62a40d8ba5714cbeda1" category="section-title">準備配置SMB磁碟區</block>
  <block id="fbf3304d2358758ea71475804b2cbeae" category="paragraph">您可以使用來配置SMB磁碟區<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> 驅動程式：完成之前 <block ref="24f26185e00986318dc562523d4edbf6" category="inline-xref-macro-rx"></block> 完成下列步驟。</block>
  <block id="d98f239eeb5789a80cb4b247e5be144d" category="inline-link-macro">Microsoft管理主控台</block>
  <block id="8e6249724e4eef8026e47829f03f9e67" category="list-text">建立SMB共用區。您可以使用兩種方式之一來建立SMB管理共用區 <block ref="364bc251e9c8cfbf6ce258767d17d682" category="inline-link-macro-rx"></block> 共享資料夾嵌入式管理單元或使用ONTAP CLI。若要使用ONTAP CLI建立SMB共用：</block>
  <block id="c9e9c2bb32e43693c4687ec082488811" category="list-text">如有必要、請建立共用的目錄路徑結構。</block>
  <block id="8a19300a396203718795b4620552b59c" category="paragraph">。<block ref="293a1aaca0a542f4f1b1dc1a3ad95728" prefix=" " category="inline-code"></block> 命令會在共用建立期間檢查-path選項中指定的路徑。如果指定的路徑不存在、則命令會失敗。</block>
  <block id="a968d0620b250ca44da661cadac02e42" category="list-text">建立與指定SVM相關的SMB共用區：</block>
  <block id="e172e0c83051eb537305571585af294a" category="list-text">確認共用區已建立：</block>
  <block id="a6e62ff657f01a7df2d91d1ea0d3e76c" category="inline-link-macro">建立SMB共用區</block>
  <block id="39026ea2687a8de2a318f8245aceb992" category="admonition">請參閱 <block ref="2b8c6fb4597e9bb000d4d88db3769c9a" category="inline-link-macro-rx"></block> 以取得完整詳細資料。</block>
  <block id="e4f84f59067aa8e22119bf499379385a" category="inline-link-macro">FSX提供ONTAP 各種組態選項和範例</block>
  <block id="ca088cbb36bbab4b23e57d63d95a628c" category="list-text">建立後端時、您必須設定下列項目以指定SMB Volume。如需ONTAP 所有的FSXfor Sendbackend組態選項、請參閱 <block ref="dd05fa371cf4b2c8377b8b4b261a8edd" category="inline-link-macro-rx"></block>。</block>
  <block id="7bb910e3cf11d0b34ca215aa399d3f23" category="cell"><block ref="5910159ef86741f119f7574a9064b5b0" prefix="" category="inline-code"></block></block>
  <block id="3b84c7b88317953423192c633a83db9f" category="cell">*必須設定為<block ref="79e0f325804dafbdaef73b3b17c0fd8d" prefix=" " category="inline-code"></block>.*如果為null、則預設為<block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix=" " category="inline-code"></block>。</block>
  <block id="1928bae58ae496b53ef1a163c3dbeeb4" category="cell">新磁碟區的模式。SMB磁碟區*必須保留為空白。*</block>
  <block id="ded47128219e64b5f24343dab357151b" category="admonition">Astra Trident強制執行空白<block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix=" " category="inline-code"></block> 針對所建立的磁碟區。對於iSCSI後端、建議強制執行<block ref="01cd995fd9a843d3ca767e057de28873" prefix=" " category="inline-code"></block> 在StorageClass中。您應該刪除現有的StorageClass並重新建立<block ref="01cd995fd9a843d3ca767e057de28873" prefix=" " category="inline-code"></block> 已指定。</block>
  <block id="3418e818bbbe397a49b7096a5ed87929" category="cell">源自SVM</block>
  <block id="1545a9d9aae1b8b83497bbe9185d348b" category="cell">使用CHAP驗證iSCSI以供ONTAP 支援不支援的SAN驅動程式使用[布林值]。設定為<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block> 用於Astra Trident設定及使用雙向CHAP做為後端SVM的預設驗證。請參閱 <block ref="866e591dc2a03ecc454dad25a664ca86" category="inline-link-macro-rx"></block> 以取得詳細資料。</block>
  <block id="2da9f60cc5b99a5987580c38e6db0842" category="cell">受信任CA憑證的Base64編碼值。選用。用於憑證型驗證。</block>
  <block id="394d848f17683e31e21f6cde5fd9e3e4" category="cell">與ONTAP 該叢集通訊所需的使用者名稱。用於認證型驗證。</block>
  <block id="6f0acf4836d44b03512e1caa0d774777" category="cell">與ONTAP 該叢集通訊所需的密碼。用於認證型驗證。</block>
  <block id="a0de2cc0c77c388210e1f48423eea29c" category="cell">在SVM中配置新磁碟區時所使用的前置碼。稍後無法修改。若要更新此參數、您需要建立新的後端。</block>
  <block id="e54cbd8ca5da26dc7e4be3bbfd23467e" category="cell">如果使用率高於此百分比、則無法進行資源配置。如果您使用Amazon FSX for NetApp ONTAP Sendbackend、請勿指定 <block ref="d57551b1efacf8a7be84b4d10c5a6e99" prefix=" " category="inline-code"></block>。提供的<block ref="679500f227997b45be97e3ca8115c678" prefix=" " category="inline-code"></block> 和<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block> 請勿包含擷取Aggregate使用量所需的權限、並使用Astra Trident加以限制。</block>
  <block id="f804cd6668c0728e26448509210268d3" category="cell">如果要求的磁碟區大小高於此值、則資源配置失敗。也會限制其管理的qtree和LUN磁碟區大小上限。</block>
  <block id="cc30671ec52693851659adb7020e02b1" category="cell">使用ONTAP Isrest API的布林參數。*技術預覽*<block ref="14d839191d1ecf387a15b5b0c802a8ae" prefix=" " category="inline-code"></block> 以*技術預覽*的形式提供、建議用於測試環境、而非用於正式作業工作負載。設定為時<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>、Astra Trident將使用ONTAP 靜止API與後端進行通訊。此功能需要ONTAP 使用更新版本的版本。此外ONTAP 、所使用的登入角色必須能夠存取<block ref="a9ba4dc88fa11d44cc7c0c918d174778" prefix=" " category="inline-code"></block> 應用程式：這是預先定義的<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block> 和<block ref="fdb6ba311fad29ec53069808f10ebef4" prefix=" " category="inline-code"></block> 角色：<block ref="14d839191d1ecf387a15b5b0c802a8ae" prefix=" " category="inline-code"></block> 不支援MetroCluster 使用支援。</block>
  <block id="c59183b2f668b355e81e7bb1256f92b3" category="paragraph">您可以使用中的這些選項來控制預設資源配置<block ref="a4a918a45181164207929d52aec36aec" prefix=" " category="inline-code"></block> 組態區段。如需範例、請參閱下列組態範例。</block>
  <block id="d4fbfa2dd496728ba6294eb840ce25eb" category="cell">要指派給所建立磁碟區的QoS原則群組。選擇每個儲存集區/後端的其中一個qosPolicy或adaptiveQosPolicy。搭配Astra Trident使用QoS原則群組需要ONTAP 使用更新版本的版本。我們建議使用非共用的QoS原則群組、並確保原則群組會個別套用至每個組成群組。共享的QoS原則群組將強制所有工作負載的總處理量上限。</block>
  <block id="b71ccf1062cee8c376a7eb37e3c42603" category="cell">啟用LUKS加密。請參閱 <block ref="569f9f91cdcc19909b8acbf6f423daf7" category="inline-link-macro-rx"></block>。</block>
  <block id="e62f5d0a5a95571e25197caafe78cd98" category="section-title">Volume資源配置範例</block>
  <block id="1b9ef354b22d8a8b125247fd538da4b2" category="section-title">虛擬集區的後端範例</block>
  <block id="615c9f89b360c50cfba2b2de02584387" category="paragraph">下列StorageClass定義是指上述虛擬資源池。使用<block ref="bed471c4a88e25ac9a7e4a7b980700a8" prefix=" " category="inline-code"></block> 欄位中、每個StorageClass會呼叫哪些虛擬資源池可用於裝載Volume。磁碟區將會在所選的虛擬資源池中定義各個層面。</block>
  <block id="065b7cc24b33be7af1e15f59024402d2" category="paragraph">Astra Trident將決定選取哪個虛擬集區、並確保符合儲存需求。</block>
  <block id="c632eed28bf53466df8b8a33aedab3af" category="list-text">虛擬資源池（若有）必須維持與原始後端相同的順序。</block>
  <block id="87a522ecb9df14bf978f6f1da8a654a8" category="list-text">您無法藉由移除來撤銷對來源PVc的存取權<block ref="287f26e3328f9ac0f3f4da2cdaddd3e2" prefix=" " category="inline-code"></block> 或<block ref="11650d25d20af47978d85fd6e19c89aa" prefix=" " category="inline-code"></block> 註釋或刪除<block ref="d6995f631b22fb3f8e94aad1b40d1280" prefix=" " category="inline-code"></block> CR.若要撤銷存取權、您必須刪除從屬的PVc。</block>
  <block id="ae8df8316f5c485b7db4e7141e899701" category="cell">指定位址或從SVM衍生（若未指定）（不建議使用）</block>
  <block id="ad898a5f5863162f9c13e958485877d5" category="cell">啟用自動匯出原則建立及更新[布 林值]。使用<block ref="323e871cfe2e70ead9c713e8f3164f8f" prefix=" " category="inline-code"></block> 和<block ref="b9c40fbe9daa81e40e06509d5bbd5a6c" prefix=" " category="inline-code"></block> 選項：Astra Trident可自動管理匯出原則。</block>
  <block id="82530dd92610570d634788e7fac29c1b" category="cell">如果使用率高於此百分比、則無法進行資源配置。*不適用於Amazon FSX for ONTAP Sfor Sfor *</block>
  <block id="9f0e1cc91ea4107261588e8f1bd02d07" category="cell">如果要求的磁碟區大小高於此值、則資源配置失敗。也會限制其管理的qtree和LUN、以及的磁碟區大小上限<block ref="8b08152c170e621ffcc8bfac7c4d6785" prefix=" " category="inline-code"></block> 選項可自訂每FlexVol 個支援區的配額樹數上限。</block>
  <block id="5c8b39f8ec19acb1fddb0b5c021f090d" category="cell">疑難排解時要使用的偵錯旗標。範例：｛"API"：假、「method」：true｝不使用<block ref="effa2d809c72dcb6cce15a1e0b040e63" prefix=" " category="inline-code"></block> 除非您正在疑難排解並需要詳細的記錄傾印。</block>
  <block id="b660669829d401dc613c20939ed01e6e" category="cell">以逗號分隔的NFS掛載選項清單。Kubernetes持續磁碟區的掛載選項通常會在儲存類別中指定、但如果儲存類別中未指定掛載選項、則Astra Trident會改回使用儲存後端組態檔中指定的掛載選項。如果儲存類別或組態檔中未指定掛載選項、Astra Trident將不會在相關的持續磁碟區上設定任何掛載選項。</block>
  <block id="0275de02c3bba722f4540469d23cc535" category="paragraph">此範例顯示<block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix=" " category="inline-code"></block> 使用IPv6位址。</block>
  <block id="0bd54df5242a2a2e9eca045fc695b41f" category="section-title">更新<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block> 初始組態之後</block>
  <block id="d0b121ba3c5e39bba858ccfcf5a75957" category="paragraph">您可以在初始組態後變更資料LIF、方法是執行下列命令、以更新資料LIF提供新的後端Json檔案。</block>
  <block id="3fa13ec46a3746ee36c97d65fa53f096" category="admonition">如果將PVCS附加至一或多個Pod、您必須關閉所有對應的Pod、然後將其重新啟動、新的資料LIF才會生效。</block>
  <block id="a84a64b02579dc14f89cbfdf30b6e938" category="list-text">您可以使用指定記錄保留時間範圍<block ref="86339c2ed773d5bd944b82d3086d3477" prefix=" " category="inline-code"></block> 旗標。例如：<block ref="e238339d491d4840f7d8e509bdbb7b63" prefix=" " category="inline-code"></block>。此資訊會透過收集和傳送<block ref="9d80ca17f097c8e365550f4036ccf0e3" prefix=" " category="inline-code"></block> 安裝於Astra Trident旁的容器。您可以從取得Container映像<block ref="1b00454f0ab35dcec2ee1a0061efc6e5" category="inline-link-rx"></block>。</block>
  <block id="76b4586b7207f884c66397194b773e14" category="summary">深入瞭解Amazon FSX for ONTAP Sfor Sf。本節提供後端組態範例。</block>
  <block id="bf432628a3769cd379c6784688db312f" category="cell">傳輸協定LIF的IP位址。*不適用NAS驅動程式*：建議您指定dataLIF ONTAP 。如果未提供、Astra Trident會從SVM擷取資料lifs。您可以指定要用於NFS掛載作業的完整網域名稱（FQDN）、讓您建立循環配置資源DNS、以便在多個資料生命期之間達到負載平衡。可在初始設定之後變更。請參閱 <block ref="b2c939cb81e81d99a25f4be74f517f2f" category="inline-xref-macro-rx"></block>。*《SAN驅動程式*：請勿指定用於iSCSI》ONTAP 。Astra Trident使用ONTAP 「選擇性LUN地圖」來探索建立多重路徑工作階段所需的iSCI lifs。如果明確定義dataLIF、就會產生警告。如果使用安裝Astra Trident、則可設定使用IPv6位址<block ref="4a4ef9f92e69acc000120379678aadcf" prefix=" " category="inline-code"></block> 旗標。IPv6位址必須以方括弧來定義、例如[28e8：d9fb：a825：b7bf：69a8：d02f：9e7b：3555]。</block>
  <block id="508e91a481a0d10be716ae1a501447d0" category="cell">「[「0.00.0.0/0」、「：/0」]」</block>
  <block id="b8c7e19ba614c29878588409008e29c6" category="cell">連線至叢集或SVM的使用者名稱。用於認證型驗證。例如、vsadmin。</block>
  <block id="9a2486a943ad2a4c99f2797d6984f3d0" category="cell">連線至叢集或SVM的密碼。用於認證型驗證。</block>
  <block id="6018b4c39d938c6589decae81b54c6f0" category="cell">指定SVM管理LIF時衍生。</block>
  <block id="4cba35e041b22828be7c835295ee9102" category="cell">在SVM中配置新磁碟區時所使用的前置碼。無法在建立後修改。若要更新此參數、您需要建立新的後端。</block>
  <block id="2b3e2c0490ded1bc79028dd367358b9d" category="cell">*請勿指定Amazon FSX for NetApp ONTAP 的功能。*所提供的<block ref="679500f227997b45be97e3ca8115c678" prefix=" " category="inline-code"></block> 和<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block> 請勿包含擷取Aggregate使用量所需的權限、並使用Astra Trident加以限制。</block>
  <block id="86f4c9647fe8f4c500055c772753cc6f" category="cell">請勿使用。</block>
  <block id="bd4c4a75acd87c86694e9aca1e4050e2" category="cell">每FlexVol 個LUN的最大LUN數量、範圍必須為[50、200]。僅限SAN。</block>
  <block id="e939be085c2babe4ff0f08e09d0cdfd2" category="cell">設定NFS或SMB磁碟區建立。選項包括<block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix=" " category="inline-code"></block>、<block ref="79e0f325804dafbdaef73b3b17c0fd8d" prefix=" " category="inline-code"></block>或null。*必須設定為<block ref="79e0f325804dafbdaef73b3b17c0fd8d" prefix=" " category="inline-code"></block> 對於SMB Volume。*設定為null、預設為NFS Volume。</block>
  <block id="2ab2b81dde76a2ec7ed3798f1538f823" category="cell">使用ONTAP Isrest API的布林參數。*技術預覽*<block ref="14d839191d1ecf387a15b5b0c802a8ae" prefix=" " category="inline-code"></block> 以*技術預覽*的形式提供、建議用於測試環境、而非用於正式作業工作負載。設定為時<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>、Astra Trident將使用ONTAP 靜止API與後端進行通訊。此功能需要ONTAP 使用更新版本的版本。此外ONTAP 、所使用的登入角色必須能夠存取<block ref="a9ba4dc88fa11d44cc7c0c918d174778" prefix=" " category="inline-code"></block> 應用程式：這是預先定義的<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block> 和<block ref="fdb6ba311fad29ec53069808f10ebef4" prefix=" " category="inline-code"></block> 角色：</block>
  <block id="f9d8bcec134b3ae3cb7aaac7048373ee" category="cell">要指派給所建立磁碟區的QoS原則群組。選擇每個儲存集區或後端的其中一個qosPolicy或adaptiveQosPolicy。搭配Astra Trident使用QoS原則群組需要ONTAP 使用更新版本的版本。我們建議使用非共用的QoS原則群組、並確保原則群組會個別套用至每個組成群組。共享的QoS原則群組將強制所有工作負載的總處理量上限。</block>
  <block id="a8fe789c9febc6b76736fb83c90df2b7" category="cell">要指派給所建立磁碟區的調適性QoS原則群組。選擇每個儲存集區或後端的其中一個qosPolicy或adaptiveQosPolicy。不受ONTAP-NAS-經濟支援。</block>
  <block id="8336fb38c3b943161d5d6e73af8f4a12" category="cell">啟用LUKS加密。請參閱 <block ref="3646c7a69a11bdd94c010bf856bda313" category="inline-link-macro-rx"></block>。僅限SAN。</block>
  <block id="8ba802b52dc84f4e82bfbbf2e2d4a807" category="cell">新磁碟區的模式。*如果是SMB磁碟區、請保留空白。*</block>
  <block id="ce627e1ba8a6bccff2793f66b44012fa" category="cell">「」</block>
  <block id="88b0b88c998957f004af42563d5e5b40" category="paragraph">使用<block ref="296026821ada2ab8aebcf13547a63df5" prefix=" " category="inline-code"></block>、<block ref="e12fdd044232e643620eed06bf33c7af" prefix=" " category="inline-code"></block>和<block ref="1ad68a6a046942b7c1666aed825df70a" prefix=" " category="inline-code"></block>、您可以指定SMB磁碟區、並提供所需的Active Directory認證資料。使用支援SMB磁碟區<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> 僅限驅動程式。</block>
  <block id="98e45a92edd75cce26a32a68de45f178" category="summary">後端定義了Astra Trident與儲存系統之間的關係。它告訴Astra Trident如何與該儲存系統通訊、以及Astra Trident如何從該儲存系統配置磁碟區。</block>
  <block id="a576cff5a76e67426a0051b7e1b93331" category="paragraph">Astra Trident會自動從後端提供符合儲存類別所定義需求的儲存資源池。瞭解如何設定儲存系統的後端。</block>
  <block id="262309361fe5b6dcda3a2eae08a48c2d" category="section-title">選擇適當的工具</block>
  <block id="82ee439808998e63e6868ec2c2945ec9" category="paragraph">如果您使用的是驅動程式組合、則應該安裝NFS和iSCSI工具。</block>
  <block id="2cb4ed05fbad97efb755e294c572862d" category="paragraph-title">NFS工具</block>
  <block id="a9e67ed867ad461570158dca74719f75" category="paragraph">如果您使用的是：<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>、<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>、<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>、<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block>、<block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block></block>
  <block id="0172151d0fbf6ae973feaaaf8a2c1b3a" category="paragraph-title">iSCSI工具</block>
  <block id="b7ebd185ede5c83487cb4ac908bab891" category="paragraph">如果您使用的是：<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>、<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>、<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block></block>
  <block id="d3d338d650fae8dd20bbce45831b41a9" category="admonition">最新版本的RedHat CoreOS預設會安裝NFS和iSCSI。</block>
  <block id="b5a99bc586551f60f1fa102fcf3a90de" category="paragraph">Astra Trident會嘗試自動偵測節點是否能執行iSCSI或NFS服務。</block>
  <block id="6a9c3f120f628091afbdc5343cbbe0e1" category="paragraph-title">檢閱事件</block>
  <block id="331ef15228e3a5548d228c3aea284e38" category="paragraph">Astra Trident會為節點建立事件、以識別探索到的服務。若要檢閱這些事件、請執行：</block>
  <block id="70db3e5b82bc8c7ce4389fe8a025df28" category="paragraph-title">檢閱探索到的服務</block>
  <block id="ce31bc8e7fc118dd3b337bcf4c41e399" category="paragraph">Astra Trident可識別Trident節點CR上每個節點所啟用的服務。若要檢視探索到的服務、請執行：</block>
  <block id="eeacf148d8ecc80cfae337218dd81f43" category="paragraph">使用作業系統的命令來安裝NFS工具。確保NFS服務在開機期間啟動。</block>
  <block id="7b05c6f5db7b1690970d79c209e667fc" category="admonition">安裝NFS工具之後、請重新啟動工作節點、以避免將磁碟區附加至容器時發生故障。</block>
  <block id="66ccc45f9958fe5f1a0ef0427d36d4c3" category="paragraph">Astra Trident可自動建立iSCSI工作階段、掃描LUN、探索多重路徑裝置、將其格式化、並將其掛載至Pod。</block>
  <block id="e81b5ef34c686914f0cc58204241cace" category="section-title">iSCSI自我修復功能</block>
  <block id="f0621bdb4caa030dcd0bb9924891842e" category="paragraph">對於支援此技術的系統、Astra Trident每五分鐘執行一次iSCSI自我修復、以便ONTAP ：</block>
  <block id="432fa9215202553559f7b2d4d10ef5ee" category="list-text">*識別*所需的iSCSI工作階段狀態和目前的iSCSI工作階段狀態。</block>
  <block id="fdb53d548f3fa1b93129b49ad4bc7990" category="list-text">*比較*所需狀態與目前狀態、以識別所需的維修。Astra Trident決定了維修優先順序、以及何時預先排除維修。</block>
  <block id="587fcf25ecbc5ff7cf19f7b1a159b5e9" category="list-text">*執行必要的修復*、以將目前的iSCSI工作階段狀態恢復至所需的iSCSI工作階段狀態。</block>
  <block id="aa66c6c24f8a8540d1582c79e4534c94" category="admonition">自我修復活動記錄位於<block ref="7883e3d8f80ff24d70c49bd975fb3f75" prefix=" " category="inline-code"></block> 容器位於各自的Dempon Pod上。若要檢視記錄、您必須設定好<block ref="ad42f6697b035b7580e4fef93be20b4d" prefix=" " category="inline-code"></block> 在Astra Trident安裝期間達到「true」。</block>
  <block id="0be81019f18cde342a2e6728cbcb66cc" category="paragraph">Astra Trident iSCSI自我修復功能有助於預防：</block>
  <block id="4b42deda281d95aafb0896a44484007a" category="list-text">發生網路連線問題後、可能會發生過時或不正常的iSCSI工作階段。在過時的工作階段中、Astra Trident會在登出前等待七分鐘、重新建立與入口網站的連線。</block>
  <block id="39460cb84da78b4a87c2014972b2f901" category="admonition">例如、如果在儲存控制器上旋轉CHAP機密、而網路失去連線、則舊的（_stal__）CHAP機密可能會持續存在。自我修復可辨識此情況、並自動重新建立工作階段、以套用更新的CHAP機密。</block>
  <block id="9e9d382760025434fdf113f91e894cf4" category="list-text">遺失iSCSI工作階段</block>
  <block id="3f7bf0ef305a15c68efdc95a50750bd0" category="list-text">遺失LUN</block>
  <block id="15ffa30c3d1ab6322e5ff52935a86a50" category="section-title">安裝iSCSI工具</block>
  <block id="10ff9e1b33974d06317ff739498154ce" category="paragraph">使用適用於您作業系統的命令來安裝iSCSI工具。</block>
  <block id="0dfbc86ddb50cb439c7039bbf012a2b6" category="admonition">安裝iSCSI工具之後、請重新啟動工作節點、以避免將磁碟區附加至容器時發生故障。</block>
  <block id="3aa4918283a3160586bdbe1e76a338f3" category="example-title">範例4：虛擬資源池組態</block>
  <block id="baca3a42ff523348689308c7bd411b38" category="paragraph">此後端組態可在單一檔案中定義多個儲存集區。當您有多個容量集區支援不同的服務層級、而且想要在Kubernetes中建立代表這些層級的儲存類別時、這很有用。虛擬資源池標籤是用來區分資源池的依據<block ref="c05f6c233521207f6fe311afef550c3c" prefix=" " category="inline-code"></block>。</block>
  <block id="6d0abb9b77cb1a57bf68282003ad11b9" category="list-text">您所有的Kubernetes工作節點都應該安裝適當的iSCSI工具。請參閱 <block ref="073953144b84efd85603bb3d49521e06" category="inline-link-macro-rx"></block>。</block>
  <block id="bfd7bf04b3d28a42267e8d1b30a05f01" category="section-title">範例2：的後端與儲存類別組態<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> 驅動程式與虛擬資源池</block>
  <block id="418ff75ccabac38370cc8570721746a3" category="paragraph">此範例顯示使用虛擬資源池設定的後端定義檔、以及參照這些資源池的StorageClass。</block>
  <block id="d0f8c7d1b12ede190acf9656da99c079" category="paragraph">Astra Trident會在資源配置時、將儲存資源池上的標籤複製到後端儲存LUN。為了方便起見、儲存管理員可以針對每個虛擬資源池定義標籤、並依標籤將磁碟區分組。</block>
  <block id="d17a2942ee77aa1532660a5f0cf0d6e5" category="paragraph">第一個StorageClass <block ref="166028d9a95f5465a6ae917e6e089ce6" prefix="(" category="inline-code"></block>）將對應至第一個虛擬資源池。這是唯一提供黃金級效能的資源池<block ref="89bf6c97f9a3eaea76c86df0086361bc" prefix=" " category="inline-code"></block> 金級。最後一個StorageClass <block ref="b4457b3eeca98cadb51648f8fcef36cb" prefix="(" category="inline-code"></block>）撥出任何提供銀級效能的儲存資源池。Astra Trident將決定選取哪個虛擬集區、並確保符合儲存需求。</block>
  <block id="7ac6994e44af62a9075fd956e72ee6fb" category="paragraph">請記住、後端定義是唯一以純文字儲存認證的位置。建立後端之後、使用者名稱/密碼會以Base64編碼、並儲存為Kubernetes機密。建立或更新後端是唯一需要具備認證知識的步驟。因此、這是一項純管理員操作、由Kubernetes /儲存管理員執行。</block>
  <block id="f1fe71442cd08e74d342114df7ee1551" category="sidebar">安裝Astra Trident</block>
  <block id="46921a75e8534ad7d1c379a9e3aec033" category="sidebar">安裝總覽</block>
  <block id="3183dc3907c0b67930b221a316c94cb2" category="sidebar">使用Trident操作員安裝</block>
  <block id="ca19905e19a036badc8a33897130382d" category="sidebar">手動部署Trident運算子（標準）</block>
  <block id="ef39c7f15f2671234f3264999cce5679" category="sidebar">手動部署Trident運算子（離線）</block>
  <block id="0f441bb0252fa34f85fc82a08f2db0c7" category="sidebar">使用Trident Helm圖表（標準）</block>
  <block id="70eb578fbddf25c465d8f4886be750b7" category="sidebar">使用Trident Helm圖表（離線）</block>
  <block id="71f5771dab663d80ba4dad1627e3386a" category="sidebar">升級總覽</block>
  <block id="301ebdf8067a213d5a55c65fbb488290" category="sidebar">安全性建議</block>
  <block id="58834b137fd6fa7a9ca23468a5c91fd6" category="sidebar">準備進行設定</block>
  <block id="6fc0b7515ecca271c88eae4a685da613" category="sidebar">不含SolidFire NetApp HCI</block>
  <block id="60be48bb4b3314965bf50e88e7ae728c" category="sidebar">整合Amazon FSX for ONTAP Sf</block>
  <block id="ea3d51fb2b16acb7cb260f25bc8965b1" category="sidebar">Astra Trident是由NetApp維護的開放原始碼儲存資源配置程式和Orchestrator。它可讓您為Docker和Kubernetes所管理的容器化應用程式建立儲存磁碟區。</block>
  <block id="e267c2490c7d73d0ffa909b77267cfaf" category="inline-link-macro">Astra Control複寫先決條件</block>
  <block id="9814801b0db6e324ebd72f671418de64" category="paragraph">Astra Control可為使用建立的磁碟區提供無縫保護、災難恢復和移動性（在Kubernetes叢集之間移動磁碟區）<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>、<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>和<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> 驅動程式：請參閱 <block ref="dfc981ac97be73172a3119f3b831eaf8" category="inline-link-macro-rx"></block> 以取得詳細資料。</block>
  <block id="df7dec428425115b59101028bbebe58c" category="list-text">請勿使用<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> 如果您預期需要資料保護、災難恢復或行動性、</block>
  <block id="f5d176b3de4662ca3603a69ab08bc166" category="paragraph">NAS選項、可存取已配置的NFS Volume。</block>
  <block id="053b422d907cb55ac105c173adde1080" category="paragraph">NFS支援<block ref="1d770934d44de09b0d24f04fd01708ba" prefix=" " category="inline-code"></block> 和<block ref="4913a9178621eadcdf191db17915fbcb" prefix=" " category="inline-code"></block> 安全樣式：預設值為<block ref="4913a9178621eadcdf191db17915fbcb" prefix=" " category="inline-code"></block>。</block>
  <block id="69f25314e2d927ebcaa0f19c9f2a57da" category="paragraph"><block ref="4913a9178621eadcdf191db17915fbcb" prefix="" category="inline-code"></block></block>
  <block id="2bd69c3354973375e1abed3c9beb1eff" category="cell"><block ref="f777ab485270937cd9b9efc63021484f" prefix="" category="inline-code"></block></block>
  <block id="767b06b78582b463da02281e05c82e45" category="cell"><block ref="79e0f325804dafbdaef73b3b17c0fd8d" prefix="" category="inline-code"></block></block>
  <block id="11d7f0efe30199fc66cbc43c427e147d" category="cell">新磁碟區的安全樣式。*必須設定為<block ref="68e98b83f5bd746f1468dff89f529d1b" prefix=" " category="inline-code"></block> 或<block ref="1d770934d44de09b0d24f04fd01708ba" prefix=" " category="inline-code"></block> 適用於SMB磁碟區。*</block>
  <block id="e76ea7f2be658dc914f9c95fe8d14fcf" category="cell"><block ref="68e98b83f5bd746f1468dff89f529d1b" prefix="" category="inline-code"></block> 或<block ref="1d770934d44de09b0d24f04fd01708ba" prefix=" " category="inline-code"></block> 適用於SMB磁碟區</block>
  <block id="375aa0b790f300787cdecf0f896b97f5" category="cell">新磁碟區的安全樣式。NFS支援<block ref="1d770934d44de09b0d24f04fd01708ba" prefix=" " category="inline-code"></block> 和<block ref="4913a9178621eadcdf191db17915fbcb" prefix=" " category="inline-code"></block> 安全樣式：SMB支援<block ref="1d770934d44de09b0d24f04fd01708ba" prefix=" " category="inline-code"></block> 和<block ref="68e98b83f5bd746f1468dff89f529d1b" prefix=" " category="inline-code"></block> 安全樣式：</block>
  <block id="4a359bdcdb3ce547581bdea3ce6c5bd7" category="cell">NFS預設為<block ref="4913a9178621eadcdf191db17915fbcb" prefix=" " category="inline-code"></block>。SMB預設為<block ref="68e98b83f5bd746f1468dff89f529d1b" prefix=" " category="inline-code"></block>。</block>
  <block id="15bee4120a83692e1e575f756f0259e2" category="admonition"><block ref="ed48900d86ac476d7fed80ae1701877f" prefix="" category="inline-code"></block> 支援SMB磁碟區的集區篩選器。<block ref="7b2498fa5e66ef102dc531d0bf5c27a4" prefix=" " category="inline-code"></block> 或<block ref="45e1f49760c85197cd1d0fb6ee50f180" prefix=" " category="inline-code"></block> NFS集區的篩選器。</block>
  <block id="e69dee79b2104ff7c08b095e6212f492" category="list-text">將Kubernetes叢集從1.24升級至1.25或更新版本、且已安裝Astra Trident時、您必須更新vales.yaml才能設定<block ref="94ef2a130a825358ab3002442d6e5145" prefix=" " category="inline-code"></block> 至<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block> 或新增<block ref="96d5d0b9a6e3e01b2ae2ed889f75d22e" prefix=" " category="inline-code"></block> 至<block ref="cd01e1bae83933b9c59c914bc71332ac" prefix=" " category="inline-code"></block> 命令、然後才能升級叢集。</block>
  <block id="b3735f022036728c24121c449da97183" category="inline-link-macro">Trident和csi影像</block>
  <block id="c4ffea098f78924a9b9331b8f5e9c8b4" category="open-title">一個登錄中的映像</block>
  <block id="4847c552b2ff9251806e41c8fa907e19" category="open-title">不同登錄中的映像</block>
  <block id="7a958030f69f08aa24ff2b440556c305" category="summary">您可以使用安裝Astra Trident<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。此程序適用於將Astra Trident所需的容器映像儲存在私有登錄中或不儲存在私有登錄中的安裝。</block>
  <block id="9b809d56a3bb0caddcd0793e74d8e636" category="paragraph">您可以使用安裝Astra Trident<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。此程序適用於將Astra Trident所需的容器映像儲存在私有登錄中或不儲存在私有登錄中的安裝。以自訂您的<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> 部署、請參閱 <block ref="8e7a26c9800a78fa0b68fb2423ba3fb4" category="inline-link-macro-rx"></block>。</block>
  <block id="7a79f435dcaa0ca2322cde1d80c13868" category="section-title">步驟4：部署Trident運算子</block>
  <block id="579b44412770c0d6b65bc3fd9bf7c61c" category="section-title">步驟5：更新中的映像登錄位置<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block></block>
  <block id="d0ebde94f92d8c1bae0c6660a5847bba" category="paragraph">您的 <block ref="57de9a35aeedde82408b1e047030d221" category="inline-link-macro-rx"></block> 可以位於一個登錄或不同的登錄中、但所有的SCSI映像都必須位於同一個登錄中。更新<block ref="7b4b81fb05ca7f2a09fe73526ac95482" prefix=" " category="inline-code"></block> 根據登錄組態新增額外的位置規格。</block>
  <block id="5295ac8fb520b71deb8a1b57857b2562" category="section-title">步驟6：建立<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> 並安裝Trident</block>
  <block id="43e6c0a141c1737a96917c56c7e22a73" category="inline-link-macro">安裝&lt;block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category='inline-code'/&gt; 功能</block>
  <block id="1a2de31d648d8c09e5c2a9257a5ad67b" category="paragraph">如果您現有的部署必須升級、或是想要高度自訂部署、您應該考慮 <block ref="e214bf159dbaf6573cfe15f1373b92db" category="inline-link-macro-rx"></block>。這是部署Astra Trident的傳統方法。</block>
  <block id="19466ff921af5aa01da62b42cdaaf617" category="list-text">固定Trident運算子在SPEC中指定安裝時使用IPv6 localhost。</block>
  <block id="5b313836498a7a26e99e4f084ee1baec" category="inline-link-macro">問題#799</block>
  <block id="b2fc842cefdc715af09b8d184e09db56" category="list-text">固定的Trident運算子叢集角色權限、可與套件組合權限同步 <block ref="25d51e363866fb30c759c73e05114b0d" category="inline-link-macro-rx"></block>。</block>
  <block id="97848233b9fe6ae43be1728a4e603020" category="list-text">新增修正程式、允許外部程序執行至完成。</block>
  <block id="3a35c66b59df0fa02e2490983b964261" category="list-text">已解決在rwx模式下、在多個節點上附加原始區塊Volume的問題。</block>
  <block id="21b2b5bca26be7b23af4468b85c68b34" category="list-text">針對FlexGroup SMB Volume提供固定的實體複製支援和Volume匯入。</block>
  <block id="190a9f9a8311c8a23bff1fd7a5693342" category="section-title">23.01年的變更</block>
  <block id="1cb76b1c7887cad1e077a4cbdc765b9b" category="list-text">驗證 Astra Trident 版本：</block>
  <block id="705dbdc50888270bf4b0230d75c7ae1d" category="paragraph">Trident運算子可讓您使用中的屬性來自訂Astra Trident安裝<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> 規格如果您想要自訂安裝內容以外的內容<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> 引數允許、請考慮使用<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> 產生自訂的 YAML 資訊清單、以視需要進行修改。</block>
  <block id="a5199cf0d9f113491f9efa18f3bee2e1" category="section-title">瞭解控制器 Pod 和節點 Pod</block>
  <block id="f412c056318f78edc1cce01ed98e751b" category="paragraph">Astra Trident 會以單一控制器 Pod 的形式執行、並在叢集中的每個工作節點上提供節點 Pod 。節點 Pod 必須在任何想要裝載 Astra Trident Volume 的主機上執行。</block>
  <block id="30735a308956ec6de6caa328d0d5b43b" category="inline-link-macro">節點選取器</block>
  <block id="1db653cf6745dd1e6aa8d6e843ea5e96" category="inline-link-macro">容忍和污染</block>
  <block id="0897b2b75e3d0217c2f6994605a2cae7" category="paragraph">Kubernetes <block ref="219288b06ade6fd51c16efe605941441" category="inline-link-macro-rx"></block> 和 <block ref="9466cd429d8630101055a8fd14904bd9" category="inline-link-macro-rx"></block> 用於限制 Pod 在特定或偏好的節點上執行。使用「 ControllerPlugin' 」和<block ref="96687552cc4dff10038a1b07a8bf3bd3" prefix=" " category="inline-code"></block>，您可以指定限制和置換。</block>
  <block id="e3826c3aea0bf8502f2ba8ff27eeef19" category="list-text">控制器外掛程式可處理磁碟區資源配置與管理、例如快照和調整大小。</block>
  <block id="361d997e700d422835e56b644784bb7e" category="list-text">節點外掛程式會處理將儲存設備附加至節點的問題。</block>
  <block id="1736b3823517cc62395e05494b09ddb9" category="admonition"><block ref="b2c66bca748ffde67c7b6817cb8dd795" prefix="" category="inline-code"></block> 在中指定<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> 表示 Astra Trident 安裝的命名空間。此參數*無法在安裝Astra Trident之後更新*。嘗試這麼做會導致<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> 要變更為的狀態<block ref="d7c8c85bf79bbe1b7188497c32c3b0ca" prefix=" " category="inline-code"></block>。Astra Trident不打算跨命名空間移轉。</block>
  <block id="a739aa7f082abebdf65f4b114dd3ad7d" category="paragraph">本表詳細說明<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> 屬性。</block>
  <block id="c350769115c3c8e4132e9c428b166b12" category="doc">Astra Trident 架構</block>
  <block id="d90582d42d65d5af05c3d40ad0eb4987" category="admonition">如果您是第一次使用 Azure NetApp Files 、或是在新位置使用、則必須先進行一些初始設定、才能設定 Azure NetApp Files 並建立 NFS Volume 。請參閱<block ref="b6e93c3bfc36cf835c63e42e55586d97" category="inline-link-rx"></block>。</block>
  <block id="84444089b52eed627a838de74ae8d652" category="section-title">NFS 和 SMB 磁碟區的必要條件</block>
  <block id="99c7065ab76131a7b7763287bb5b6735" category="inline-link-macro">Microsoft ：為 Azure NetApp Files 建立容量集區</block>
  <block id="ee59ecaa79882c8dc8f7f897c113094a" category="list-text">容量集區。請參閱 <block ref="96caced282b604468ab13f86483cd9f6" category="inline-link-macro-rx"></block>。</block>
  <block id="7ed0731ff411d37210b51a78b95c1fc3" category="inline-link-macro">Microsoft ：將子網路委派給 Azure NetApp Files</block>
  <block id="c896cfae248dc2b000cc04c39d8a8de6" category="list-text">委派給 Azure NetApp Files 的子網路。請參閱 <block ref="795b5e8f62d2267a0996a3b260968048" category="inline-link-macro-rx"></block>。</block>
  <block id="856955b6cbc3fe2168b2dcd43fb0a5dd" category="list-text">擁有者或貢獻者角色 <block ref="76b3209c91e1786a477c35a6e91cf55f" category="inline-link-macro-rx"></block>。</block>
  <block id="227e516e7258b6dcab3e7bcb4148f7f1" category="paragraph">若要建立 SMB Volume 、您必須具備：</block>
  <block id="d8c74c31c4550aed073521ba0fb8984a" category="inline-link-macro">Microsoft ：建立及管理 Azure NetApp Files 的 Active Directory 連線</block>
  <block id="6bb7e9dc5268dcbdde1a91b151d9a94b" category="list-text">Active Directory 已設定並連線至 Azure NetApp Files 。請參閱 <block ref="2f3bcda54aaf4e8e45316bb04708293f" category="inline-link-macro-rx"></block>。</block>
  <block id="3742b45a8312c4721cad63322a4932ac" category="list-text">至少有一個 Astra Trident 秘密、內含您的 Active Directory 認證、以便 Azure NetApp Files 能夠驗證至 Active Directory 。以產生機密<block ref="e47a193687dde960f6b6f80d394142a3" prefix=" " category="inline-code"></block>：</block>
  <block id="d924b4945b9cee37e07a2c601d1081be" category="paragraph">此表格和<block ref="ba05023d0f1b5d4b64b6cad4cf9a7ecd" prefix=" " category="inline-code"></block> 檔案是 Helm 圖表的一部分、提供按鍵清單及其預設值。</block>
  <block id="e0e228e32d97e1461cf4492bd5366550" category="cell"><block ref="6370f866cf64618c026027da41bd248e" prefix="" category="inline-code"></block></block>
  <block id="f54139bbd014c510ee9fa277241d4666" category="cell">Pod 指派的節點標籤</block>
  <block id="b7f663c63859fec6f7d2f1ecd891de73" category="cell"><block ref="6e0bd2b3fba01f3f74634cfc6fcc31d6" prefix="" category="inline-code"></block></block>
  <block id="6b164b6efa957c912428e089b86ecd45" category="cell">Pod 註釋</block>
  <block id="4e3c35024b2d124aa9ab33a254e2545c" category="cell"><block ref="7c73e8c8cba054b3164d0b641ef36a41" prefix="" category="inline-code"></block></block>
  <block id="1a6308fa062d92acbff3b1304615d1db" category="cell">部署註釋</block>
  <block id="716c09bbd59aa99d3932f73b7f517b2c" category="cell"><block ref="d6c26478ca41a23cc9741a4e92576269" prefix="" category="inline-code"></block></block>
  <block id="1147c70db6b1e5ac87df9b1ef26ea59a" category="cell">Pod 指派的容錯功能</block>
  <block id="ed550d998ef1de0c69744fb5f7f7173c" category="cell"><block ref="1474047fb00b2d8d95646f7436837ed0" prefix="" category="inline-code"></block></block>
  <block id="064fd06fa9edd7a1e29b4da6fd9a1688" category="cell">Pod 指派的關聯性</block>
  <block id="b81e781314c37667d0eae6eeba5f0468" category="cell"><block ref="d525dcbea000b0429493d47a891b5ad9" prefix="" category="inline-code"></block></block>
  <block id="85e06bb6e03e71b7708d9d4b6f4967ea" category="cell">用於 Pod 的其他節點選取器。請參閱 <block ref="662636849823c896b8f86e3f7d6afa9b" category="inline-xref-macro-rx"></block> 以取得詳細資料。</block>
  <block id="0ccd4d74122ec81d149bc2bb132524d6" category="cell"><block ref="e8c1183eadfdb38078a7bd66bfa038ac" prefix="" category="inline-code"></block></block>
  <block id="74f3be1a07b1f65cef69ac77defaff4b" category="cell">覆寫 Pod 的 Kubernetes 公差。請參閱 <block ref="662636849823c896b8f86e3f7d6afa9b" category="inline-xref-macro-rx"></block> 以取得詳細資料。</block>
  <block id="c5387f0fc94f27d79519bb1299916e0f" category="cell"><block ref="bc0951b6e57a04c942fe6054649bb323" prefix="" category="inline-code"></block></block>
  <block id="7923027736f9cc9bbc6f6914e020e8a2" category="cell"><block ref="85dec10eb608a93a9febb24b39f5dae5" prefix="" category="inline-code"></block></block>
  <block id="a5dbdd22874a005ac9265ab4869f4b42" category="cell">識別的登錄<block ref="c39d2745402b5d2987cfdd8df3bda0e1" prefix=" " category="inline-code"></block>、<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block>和其他影像。保留空白以接受預設值。</block>
  <block id="7211a1f37ce0f92a2727e11de77a5256" category="cell">設定的映像拉出原則<block ref="c39d2745402b5d2987cfdd8df3bda0e1" prefix=" " category="inline-code"></block>。</block>
  <block id="f19aec010e48d5133114e8de96e071cd" category="cell">設定的影像拉出秘密<block ref="c39d2745402b5d2987cfdd8df3bda0e1" prefix=" " category="inline-code"></block>、<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block>和其他影像。</block>
  <block id="b8ef31ad215c14ea7ac3aa4744f3b42f" category="cell">允許覆寫 kubelet 內部狀態的主機位置。</block>
  <block id="9f61c56640ad918301f4486f261872db" category="cell">'/var/lib/kubelet'</block>
  <block id="5e2907912eaee9094910d428b8f01073" category="cell"><block ref="2d9583aa0b2422324be870c86f92540f" prefix="" category="inline-code"></block></block>
  <block id="a580f5edb0407fe7fc07e03adb88d2be" category="cell">允許 Trident 運算子的記錄層級設定為：<block ref="04a75036e9d520bb983c5ed03b8d0182" prefix=" " category="inline-code"></block>、<block ref="ad42f6697b035b7580e4fef93be20b4d" prefix=" " category="inline-code"></block>、<block ref="caf9b6b99962bf5c2264824231d7a40c" prefix=" " category="inline-code"></block>、<block ref="1ea4c3ab05ee0c6d4de30740443769cb" prefix=" " category="inline-code"></block>、<block ref="cb5e100e5a9a3e7f6d1fd97512215282" prefix=" " category="inline-code"></block>或<block ref="df6402fd9ecc60f5a2159fdf45711cd4" prefix=" " category="inline-code"></block>。</block>
  <block id="17b455f4f77262089207347508d91156" category="cell"><block ref="94b4515f09a2cc099780cd762366bc78" prefix="" category="inline-code"></block></block>
  <block id="0b401c459e3ff134b1e0ef7924967db5" category="cell"><block ref="844aa3cc935c46477e308955f84504e9" prefix="" category="inline-code"></block></block>
  <block id="0d1fd401e197635acbe814b44cbbe0f0" category="cell">允許將 Trident 運算子的記錄層級設為偵錯。</block>
  <block id="e6e859881d25cceaf35be98ff2b495e5" category="cell"><block ref="225eb420f27fc1614025e3e94f1dbcd4" prefix="" category="inline-code"></block></block>
  <block id="3e23960e7162cfc391ab62ee009d09b5" category="cell">允許完全置換的映像<block ref="c39d2745402b5d2987cfdd8df3bda0e1" prefix=" " category="inline-code"></block>。</block>
  <block id="586d412183efcbc76c2b206c73911009" category="cell"><block ref="5a50bd404d515b199254e69f83732c55" prefix="" category="inline-code"></block></block>
  <block id="87a9d5d1548b0e39b7cfe5115c686d2d" category="cell">允許覆寫的標記<block ref="c39d2745402b5d2987cfdd8df3bda0e1" prefix=" " category="inline-code"></block> 映像。</block>
  <block id="ba6229139ac12ca183160040964cdaae" category="cell"><block ref="c185b55e62d1fe703eb97b2a31b6c2a3" prefix="" category="inline-code"></block></block>
  <block id="fbb572d608f0afb5d8449144a2f9e8f3" category="cell">允許 Astra Trident 在 IPv6 叢集中運作。</block>
  <block id="aacf685d031cae06a5c158144296d071" category="cell"><block ref="b958a6de9ca123713491252f2ab02f59" prefix="" category="inline-code"></block></block>
  <block id="f8d2c273db74b394820e68a59b18bfff" category="cell">覆寫大部分 Kubernetes API 作業的預設 30 秒逾時（如果非零、則以秒為單位）。</block>
  <block id="2911e600bbad981e24b3e2a2b3a03f82" category="cell"><block ref="cfcd208495d565ef66e7dff9f98764da" prefix="" category="inline-code"></block></block>
  <block id="fbf0a4141bdac5821d271a6c1de1f483" category="cell"><block ref="70b0324e2a65a29bea1b014606caba39" prefix="" category="inline-code"></block></block>
  <block id="d74c6fe1792f46d6c929a448fd8b99cd" category="cell">以取代 HTTP 要求的預設 90 秒逾時<block ref="bb61fa2850d04f4e5e34449de13febe4" prefix=" " category="inline-code"></block> 是超時的無限持續時間。不允許使用負值。</block>
  <block id="ab7c61393023df91a4271d09e26bda15" category="cell"><block ref="558c8a41e3e5c9a0f109be6e60efce8d" prefix="" category="inline-code"></block></block>
  <block id="b2ffdfaa5c81870c0fb113956a7244aa" category="cell"><block ref="141d9fad9dd7e4fec852d6e55f414373" prefix="" category="inline-code"></block></block>
  <block id="595576072ae91fd3ed07cffb0f6bf8dc" category="cell">可停用 Astra Trident 定期 AutoSupport 報告。</block>
  <block id="22ca6470a16bcd1b3a0fd7b7dc456b4c" category="cell"><block ref="9626ee86c83efe1de7c3f5e2669b4a04" prefix="" category="inline-code"></block></block>
  <block id="afed3cb70fa67ef62195179f6c724664" category="cell">可覆寫 Astra Trident AutoSupport 容器的映像標記。</block>
  <block id="dfdc01cf8fa557986d9b3e8702b6ff1b" category="cell"><block ref="3d689bd3819ead35ed794427bd12f459" prefix="" category="inline-code"></block></block>
  <block id="8639f9efa7d4198eba06690d4a1f0d16" category="cell"><block ref="c370bb44f26914bb0c965f35a89a42f7" prefix="" category="inline-code"></block></block>
  <block id="b830fe1139fea1840be49f78927d6364" category="cell">允許 Astra Trident AutoSupport 容器透過 HTTP Proxy 撥打電話回家。</block>
  <block id="b081a6c6ed5931a2b55e31e706aae502" category="cell"><block ref="5836094432fed0c547c18869122bbf9a" prefix="" category="inline-code"></block></block>
  <block id="6ea2564bcf36b1d8878738d14312d34e" category="cell">設定 Astra Trident 記錄格式 <block ref="1cb251ec0d568de6a929b520c4aed8d1" prefix="(" category="inline-code"></block> 或<block ref="466deec76ecdf5fca6d38571f6324d54" prefix=" " category="inline-code"></block>）。</block>
  <block id="db8e1facb8efde48ce50388e2dc9cfcc" category="cell"><block ref="20cd815523e5806aec29a57282b0d49f" prefix="" category="inline-code"></block></block>
  <block id="4d165b964c1ea4708882da42c3ef5194" category="cell"><block ref="0be533d5261bfa202a27dd6f4a2ff4da" prefix="" category="inline-code"></block></block>
  <block id="67471026c71afd28bcd767ef1006c39a" category="cell">停用 Astra Trident 稽核記錄程式。</block>
  <block id="c7bc9c0edf4b3f771388feb15b8ad592" category="cell"><block ref="cd4906de65bd0389fcc62105f05b77d6" prefix="" category="inline-code"></block></block>
  <block id="5f65c3e97612dfc2a1875871e1d5298d" category="cell">允許將 Astra Trident 的記錄層級設定為：<block ref="04a75036e9d520bb983c5ed03b8d0182" prefix=" " category="inline-code"></block>、<block ref="ad42f6697b035b7580e4fef93be20b4d" prefix=" " category="inline-code"></block>、<block ref="caf9b6b99962bf5c2264824231d7a40c" prefix=" " category="inline-code"></block>、<block ref="1ea4c3ab05ee0c6d4de30740443769cb" prefix=" " category="inline-code"></block>、<block ref="cb5e100e5a9a3e7f6d1fd97512215282" prefix=" " category="inline-code"></block>或<block ref="df6402fd9ecc60f5a2159fdf45711cd4" prefix=" " category="inline-code"></block>。</block>
  <block id="c97f5436c3ba56768a7996ac0a152830" category="cell"><block ref="efc1e9e3a120c20b12e892ce2f230ff8" prefix="" category="inline-code"></block></block>
  <block id="40caa5c31158e12517414bf1429ad350" category="cell">允許將 Astra Trident 的記錄層級設為<block ref="ad42f6697b035b7580e4fef93be20b4d" prefix=" " category="inline-code"></block>。</block>
  <block id="3e52a0855ea502bd31c48eb02424ee67" category="cell"><block ref="aaeab2a659f3d6ac5063b6d8a4e7c24a" prefix="" category="inline-code"></block></block>
  <block id="5934b7dd9f1b8b0cd103a9f658e321a2" category="cell">允許啟用特定的 Astra Trident 工作流程、以進行追蹤記錄或記錄抑制。</block>
  <block id="66468bda18a84578afccd8255efa1845" category="cell"><block ref="d5c1386f335f8df3cd920142f8ee23b7" prefix="" category="inline-code"></block></block>
  <block id="b09ba1c3bffb182e31b3e02e89809aff" category="cell">允許啟用特定的 Astra Trident 圖層、以進行追蹤記錄或記錄抑制。</block>
  <block id="1aaea3b64b47a673c851da63225fddfb" category="cell">允許完整置換 Astra Trident 的影像。</block>
  <block id="a74941f6c96a1995cbfb438419467c32" category="cell"><block ref="fdd0820bbfc488d6a2ccba8ba0f74e73" prefix="" category="inline-code"></block></block>
  <block id="63742b48f6bddb4de8ebee8c4337f07e" category="cell">可覆寫 Astra Trident 的影像標記。</block>
  <block id="50c1c44df91bb9f35aaa04b0157d6136" category="cell"><block ref="60c65b849dbb837618645b7860aa608e" prefix="" category="inline-code"></block></block>
  <block id="74b30241e61b88d42e066d77a638a568" category="cell">允許覆寫 Kubernetes 活性 / 整備性探查所使用的預設連接埠。</block>
  <block id="e07d4a2a2e6f176011493e3326962c52" category="cell">允許在 Windows 工作節點上安裝 Astra Trident 。</block>
  <block id="b4f36de9fda080c1fd1d9edb1e60e36b" category="cell"><block ref="badc795d88a7db6cc65d56bc758b3ea4" prefix="" category="inline-code"></block></block>
  <block id="0a08ed3de9d17e8644d3e57dc374c3ea" category="cell">允許啟用強制分離功能。</block>
  <block id="632a46acdaa26f30f25b11d5c83eaa58" category="cell"><block ref="94ef2a130a825358ab3002442d6e5145" prefix="" category="inline-code"></block></block>
  <block id="ad77b466842808c8dce5116073a3e52b" category="cell">不建立營運商 Pod 安全性原則。</block>
  <block id="31aae55e68bb5034f8f948ec526b9ff3" category="paragraph">您可以更新現有的後端、以使用不同的驗證方法或旋轉其認證資料。這兩種方法都可行：使用使用者名稱/密碼的後端可更新以使用憑證；使用憑證的後端可更新為使用者名稱/密碼。若要這麼做、您必須移除現有的驗證方法、然後新增驗證方法。然後使用更新的backend.json檔案、其中包含要執行的必要參數<block ref="defd1e55f93269ac9278afc086951ba8" prefix=" " category="inline-code"></block>。</block>
  <block id="488e366967d09f9808e7b3de7df261ac" category="paragraph">如需此驅動程式及其設定方式的詳細資訊、請參閱 <block ref="7f5bc9035106c3c834aeb8867a5fce2c" category="inline-link-macro-rx"></block>。</block>
  <block id="bd4b2f0d545a83fd434f5ba1f17dd087" category="paragraph">以下是後端定義範例：</block>
  <block id="9463f87bbed1fcdacfb8d40e185ca2bc" category="open-title">YAML</block>
  <block id="0ecd11c1d7a287401d148a23bbd7a2f8" category="open-title">JSON</block>
  <block id="4bf283d1d1c781fbb7e90b237dc80ac4" category="paragraph">以建立<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> 若要連結至現有的後端、您必須取得後端組態。在此範例中、假設使用下列Json定義建立後端：</block>
  <block id="2043559d67ba802541907de326b5ecdd" category="paragraph">以下是定義預設值的範例：</block>
  <block id="2fc042d3545f5ad7df1999c9e5486176" category="paragraph"><block ref="c4ca4238a0b923820dcc509a6f75849b" prefix="" category="inline-code"></block></block>
  <block id="7ff5348ddee6132fe7c166b8b7917cc0" category="paragraph">Volume名稱的選用首碼。預設：<block ref="689ee6510c7f9ef9df1c263a08823d96" prefix=" " category="inline-code"></block>。</block>
  <block id="81998bdb6c3f52ba69dbecf0ec513180" category="paragraph"><block ref="46fa46eed970046d03e2dedc95cdc83b" prefix="" category="inline-code"></block></block>
  <block id="5d8040f7ca409e3993359a877f675e59" category="paragraph"><block ref="75da9d6de91e782eca4fa00341367135" prefix="" category="inline-code"></block></block>
  <block id="9548d4d33e26f6bbe564b4eb47a52e4b" category="paragraph">新磁碟區的選用預設大小。預設：<block ref="7d0f45b4b1cf6603762c74ca39c833dd" prefix=" " category="inline-code"></block></block>
  <block id="dfda6aac7ee732ec79153da76a0e963a" category="paragraph"><block ref="08aa1584c9a5791fb64b0f7f1453f9eb" prefix="" category="inline-code"></block></block>
  <block id="b6d628512c1127da9adb6c459c9f7c95" category="paragraph"><block ref="190dafab69706a67221c1226360de7dc" prefix="" category="inline-code"></block></block>
  <block id="251296d0166ace97771b155156985b38" category="paragraph"><block ref="98a2cd7efa1ba950d42e42af495c4248" prefix="" category="inline-code"></block></block>
  <block id="9fcbfb18564773bb1604cf400912944c" category="paragraph"><block ref="b26399fddd6473c150b4e7528fb04fdc" prefix="" category="inline-code"></block></block>
  <block id="8131d179a4284fbb0ed410bbbbcf1eb6" category="paragraph"><block ref="6173aa5206484b5224450952747c7148" prefix="" category="inline-code"></block></block>
  <block id="c4dc9cb5606cc8c0597a5c8f1f77b005" category="paragraph"><block ref="5ebe2294ecd0e0f08eab7690d2a6ee69" prefix="" category="inline-code"></block></block>
  <block id="fc3424ba1777889d0d49ea7f5a675c9e" category="paragraph"><block ref="70d2c7701d2837552c0a38c02a326592" prefix="" category="inline-code"></block></block>
  <block id="e84b7103384d0a3393c0847330716669" category="paragraph"><block ref="f819de81247be4a5428dc0e169de28b8" prefix="" category="inline-code"></block></block>
  <block id="7dd39afeb1c0b05aac5f4bf6fbd94990" category="paragraph"><block ref="301c869c551e12d862ab0291837102a0" prefix="" category="inline-code"></block></block>
  <block id="98ce75f2128e52057c9dbf00a9eb2736" category="paragraph"><block ref="f07e606cfe25ac6fb07d9c4af941d9a2" prefix="" category="inline-code"></block></block>
  <block id="1ae6e291c93a6d5962af8004aecd9c4c" category="paragraph"><block ref="94f6d7e04a4d452035300f18b984988c" prefix="" category="inline-code"></block></block>
  <block id="af2bffb136dd0c22342ad9cb06187197" category="paragraph">空間保留模式；<block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block> （精簡配置）或<block ref="210ab9e731c9c36c2c38db15c28a8d1c" prefix=" " category="inline-code"></block> （粗）</block>
  <block id="7f0d015762fc8e2b44f0ad1cd5429af5" category="paragraph">要使用的 Snapshot 原則、預設為<block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block></block>
  <block id="0b89124cc899d4e75924c83a9eaf86ce" category="paragraph">Snapshot 保留百分比、預設為「」接受 ONTAP 預設值</block>
  <block id="11663b17d5bcea48dbfb36b13965663b" category="paragraph"><block ref="d3d9446802a44259755d38e6d163e820" prefix="" category="inline-code"></block></block>
  <block id="871c12a80dbc519da4b71b3ea166cdc4" category="paragraph">建立複本時、將其父複本分割成預設值<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block></block>
  <block id="290cc6c07ae2ba0a638720a38f1356ed" category="paragraph">NAS 選項適用於已佈建的 NFS 磁碟區、預設為<block ref="f1c1592588411002af340cbaedd6fc33" prefix=" " category="inline-code"></block></block>
  <block id="8dfb6d491cffb51a17396f993c195d8b" category="paragraph"><block ref="f1c1592588411002af340cbaedd6fc33" prefix="" category="inline-code"></block></block>
  <block id="b7655e29a015ee3721339f8462d5d2b6" category="paragraph">NAS選項、可存取<block ref="a15da8cecb1f1192c4d913b8ba676121" prefix=" " category="inline-code"></block> 目錄、預設為<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block></block>
  <block id="1667ea9b715250d5f295353e97cde10e" category="paragraph">NFS 匯出原則使用的 NAS 選項、預設為<block ref="c21f969b5f03d33d43e04f8f136e7682" prefix=" " category="inline-code"></block></block>
  <block id="980ef1c1aa7d1456ee087df02119341e" category="paragraph"><block ref="c21f969b5f03d33d43e04f8f136e7682" prefix="" category="inline-code"></block></block>
  <block id="19d28ffef37322622a55f9d7f1f9fa59" category="paragraph">SAN 選項可選擇檔案系統類型、預設為<block ref="40d1d2ce03569076bd0dc1e0ff90aa4c" prefix=" " category="inline-code"></block></block>
  <block id="c90caaafbe0da0287b6a84f0894fa40b" category="paragraph"><block ref="310201b6353c5f38bc039e0e51b079d3" prefix="" category="inline-code"></block></block>
  <block id="6cd4bb7e4d59531066c198c531ea267a" category="paragraph">要使用的分層原則、預設為<block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block>；<block ref="8805d416ce540c5f2df34af5b18d742b" prefix=" " category="inline-code"></block> 適用於 ONTAP 9.5 之前的 SVM-DR 組態</block>
  <block id="c1fd85851a162222ab0690383666bd47" category="paragraph"><block ref="05b6053c41a2130afd6fc3b158bda4e6" prefix="" category="inline-code"></block></block>
  <block id="bf0a8b77dbb95465376fb2cfec90b422" category="paragraph"><block ref="76bb7251da6a3c88e629c03a402b9d15" prefix="" category="inline-code"></block></block>
  <block id="8e6b1878428055edaef42698026bd1b5" category="paragraph">依預設、Astra Trident不會使用Kubernetes將掛載選項設為任何值。若要在Kubernetes儲存類別中指定掛載選項、請遵循所提供的範例 <block ref="29e04d8356a523f6fc836193630ad63e" category="inline-link-macro-rx"></block>。</block>
  <block id="419c95e5a9e44d427f99debdcf0550c7" category="list-text">使用Trident時可能會遇到的常見問題<block ref="4568986ef6397d7c901269fc0e190ede" category="inline-link-rx"></block> 當租戶和用戶端機密來自權限不足的應用程式登錄時。如需Trident需求的完整清單、請參閱 <block ref="cd38c25b6345abc8733d2ef72739cd97" category="inline-link-macro-rx"></block> 組態：</block>
  <block id="1dedbfd605df8b562acc8f759a8e9acc" category="list-text">執行的Kubernetes叢集 <block ref="229e1052bb9ecd8cf2680d6f44691174" category="inline-link-macro-rx"></block></block>
  <block id="17c5eeb01739643b5aef94fe18b6c849" category="paragraph">您可以使用版本選取器、在最新版本與前四個版本之間瀏覽、或使用下列連結。</block>
  <block id="4693b2393d80830cd4f198db20bf2b72" category="inline-link">Astra Trident 23.01</block>
  <block id="cd494508ccf1cdc45163d6d9d0f401ff" category="list-text"><block ref="cd494508ccf1cdc45163d6d9d0f401ff" category="inline-link-rx"></block></block>
  <block id="2122a8acb599837078e6b76436e892c4" category="list-text">Kubernetes 1.27 現在支援 Trident 。升級Kubernetes之前先升級Trident。</block>
  <block id="40991bba76926bfbcf7fb0b9c207187f" category="list-text">Antos on － Prem （ VMware ）和 Antos on bare met金 片 1.12</block>
  <block id="362997bacf08e019288e372d8ae1f070" category="list-text">受 OpenShift Container Platform （ AMD64 和 ARM64 ）支援的 RedHat CoreOS （ RHCOS ）版本</block>
  <block id="a3460163c4a2854c79a419dda57ac917" category="list-text">RHEL 8+ （ AMD64 和 ARM64 ）</block>
  <block id="f51a58a0cffb9f9953edce6411578b53" category="list-text">Ubuntu 22.04 或更新版本（ AMD64 和 ARM64 ）</block>
  <block id="1285a056fd837828136d15f7e76d09cc" category="list-text">Windows Server 2019 （ AMD64 ）</block>
  <block id="b38420e98813aed20daa115db2ac94a9" category="cell">v1.27.0</block>
  <block id="1ff1fd258a61bd04eee000a1fb6131fa" category="example-title">範例 1 ：啟用 Astra Trident 在 Windows 節點上執行</block>
  <block id="f53514cf8829a41463c245b088ae732e" category="paragraph">若要啟用 Astra Trident 在 Windows 節點上執行：</block>
  <block id="a921baa9e8c81f13d59fed4fce57ec88" category="example-title">範例 2 ：啟用強制分離</block>
  <block id="c5b5b00ff1b3a892c8694ab932cbf9ca" category="paragraph">如需強制分離的詳細資訊、請參閱 <block ref="63cac71755fb6ef1f1fea34cf4037121" category="inline-link-macro-rx"></block>。</block>
  <block id="30042512b273723cf2eec336b6576d84" category="cell"><block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix="" category="inline-code"></block> 和<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> 僅限。與 Kubernetes Non-Graceful Node Shutdown （ NGNS ）一起運作、讓叢集管理員能夠在節點發生問題時、將已掛載磁碟區的工作負載安全移轉至新節點。* 這是 23.04 的實驗功能。 * 請參閱 <block ref="620ff2552a2d798650bb027eb1271b17" category="inline-xref-macro-rx"></block> 以取得重要詳細資料。</block>
  <block id="38a0b9f59e6fe23e1617dc0e78498afe" category="section-title">強制分離的詳細資料</block>
  <block id="20c0c9efee2da2645ec0eefaf3c75d8c" category="inline-link-macro">Kubernetes ：非正常節點關機</block>
  <block id="c2b73a5f3aeb6a0120f6d516eaedfceb" category="paragraph">可以使用強制分離<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> 和<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> 僅限。啟用強制分離之前、必須先在 Kubernetes 叢集上啟用非正常節點關機（ NGNS ）。如需詳細資訊、請參閱 <block ref="1da18b4f36c698c06b8a402542c42858" category="inline-link-macro-rx"></block>。</block>
  <block id="388f611a7cb1d3b4a55895211f24e657" category="admonition">由於 Astra Trident 仰賴 Kubernetes NGNS 、因此請勿移除<block ref="2ea3337d8d7fc43880e82df308aa0f16" prefix=" " category="inline-code"></block> 從不正常的節點污染、直到重新排程所有不可容忍的工作負載為止。如果不考慮套用或移除污染、可能會危及後端資料保護。</block>
  <block id="0490d92bd49cf4ca0e3d1454b8166318" category="paragraph">當 Kubernetes 叢集管理員套用時<block ref="7b58fe53e2e4b586e9605f1371e1ebf3" prefix=" " category="inline-code"></block> 污染到節點和<block ref="badc795d88a7db6cc65d56bc758b3ea4" prefix=" " category="inline-code"></block> 設為<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>、 Astra Trident 將決定節點狀態、並：</block>
  <block id="5a46bcb638ad3abfd754aecfb450a781" category="list-text">停止掛載到該節點之磁碟區的後端 I/O 存取。</block>
  <block id="9e359eb51c11b0162faa185a9f2e6132" category="list-text">將 Astra Trident 節點物件標記為<block ref="32478ef751ab0a81974a3aa8569607b9" prefix=" " category="inline-code"></block> （新出版品不安全）。</block>
  <block id="dea3db0d9b1c1d5a2c070829016eb1d9" category="admonition">Trident 控制器會拒絕新的發佈 Volume 要求、直到節點重新符合資格為止（在標記為之後）<block ref="32478ef751ab0a81974a3aa8569607b9" prefix=" " category="inline-code"></block>）。在 Astra Trident 能夠驗證節點之前、任何以掛載的 PVC 排程的工作負載（即使在叢集節點健全且準備就緒之後）都不會被接受<block ref="123402c04dcfb6625f688f771a5fc05d" prefix=" " category="inline-code"></block> （新出版品的安全性）。</block>
  <block id="2f2c77c0463a5147779a2fe92fffee6d" category="paragraph">當節點健全狀況恢復且刪除污染物時、 Astra Trident 將：</block>
  <block id="8f57f52b7233aecf56728bcd48d3a51c" category="list-text">識別並清除節點上過時的已發佈路徑。</block>
  <block id="a36983f9842a4a5cf4db7f9d23253de0" category="list-text">如果節點位於<block ref="4304fb35c4cdfa886970499304f2aaba" prefix=" " category="inline-code"></block> 狀態（服務外污點已移除、節點位於中<block ref="e7d31fc0602fb2ede144d18cdffd816b" prefix=" " category="inline-code"></block> 狀態）且所有過時的已發佈路徑都是乾淨的、 Astra Trident 將重新將節點重新接收為<block ref="123402c04dcfb6625f688f771a5fc05d" prefix=" " category="inline-code"></block> 並允許新發行的磁碟區到節點。</block>
  <block id="beee3e754bb36e7321f32ad13d4ac60a" category="paragraph">您所有的Kubernetes工作節點都必須安裝適當的iSCSI工具。請參閱 <block ref="9e8cf70fcb465bf1907b585f74e9e1a6" category="inline-link-macro-rx"></block> 以取得詳細資料。</block>
  <block id="37225474f75e9da42c0f924ba87b113a" category="cell"><block ref="8321592ce24c8a122ecf26a63cfca407" prefix="" category="inline-code"></block>、<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>、<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>、<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>、<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block></block>
  <block id="56d1e7863190cbf5e7689e2821d0959e" category="cell"><block ref="47cb44be55a0dffa15dfc900a4c687be" prefix="" category="inline-code"></block></block>
  <block id="3bc2d9079510db6d0570883494bc5984" category="cell"><block ref="f899139df5e1059396431415e770c6dd" prefix="" category="inline-code"></block></block>
  <block id="06daeb0fdb584c4694891d290310e1ed" category="cell"><block ref="3644a684f98ea8fe223c713b77189a77" prefix="" category="inline-code"></block></block>
  <block id="996a57df5a7c8752e8bc23b6af020be4" category="cell">如果<block ref="0a236e7685e50a59df980d0a30929d6c" prefix=" " category="inline-code"></block> 是<block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block>、<block ref="2954e92a9b4d0e998fe4893f8141649a" prefix=" " category="inline-code"></block> 「」</block>
  <block id="58c09f2c9581bc7c58c32116266b6d8f" category="cell">要使用的分層原則<block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block></block>
  <block id="49ed5b3ecd0e966bec6b74083f06599e" category="cell"><block ref="8805d416ce540c5f2df34af5b18d742b" prefix="" category="inline-code"></block> 適用於 ONTAP 9.5 之前的 SVM-DR 組態</block>
  <block id="6792aad2d8c086a9d25f5ad8ec090f35" category="paragraph">在建立元素後端之前、您需要下列項目。</block>
  <block id="690b3c7311638da5eef87f5e07aa1258" category="section-title">管理磁碟區</block>
  <block id="24da0fbaaa9930515c555e7019db09d2" category="paragraph">請參閱下列內容、瞭解如何使用 Astra Trident 來管理 Volume 。</block>
  <block id="00a9bbaf4185978435bd4d6cb7aba6c4" category="summary">使用 Astra Trident 搭配 Amazon FSX for NetApp ONTAP 、您可以確保在 Amazon Elastic Kubernetes Service （ EKS ）中執行的 Kubernetes 叢集可以佈建由 ONTAP 備份的區塊和檔案持續性磁碟區。</block>
  <block id="5178ad00e596ece0be9aceff179b4303" category="paragraph">Astra Trident 提供一組 Prometheus 指標端點、可用來監控 Astra Trident 的效能。</block>
  <block id="51e6d748c5af856ade589011dc2c7e85" category="cell"><block ref="37a6259cc0c1dae299a7866489dff0bd" prefix="" category="inline-code"></block></block>
  <block id="ddbd2735bfb88c5da807f77f6fe5f6c8" category="doc">ONTAP NAS 驅動程式概述</block>
  <block id="1faffcbb00c529812b5526b1b22b2b56" category="paragraph">您必須在 SVM 上同時設定 NFS 和 SMB/CIFS 通訊協定、才能建立<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> 適用於內部部署 ONTAP 的 SMB Volume 。若未設定上述任一種通訊協定、將導致 SMB 磁碟區建立失敗。</block>
  <block id="5cc1e28c0d7b6c40ca94aacb554b31ca" category="doc">ONTAP SAN 驅動程式概觀</block>
  <block id="904628b57a33f3a2f6d71a6d991e15c6" category="paragraph">Astra Trident可以利用、選擇性地建立磁碟區、並將磁碟區附加至Kubernetes叢集中的節點<block ref="80b9a4f4a1bc9851317207ee3477041a" category="inline-link-rx"></block>。</block>
  <block id="3eba7c2a6bd35cbac350dcbfb90408f6" category="paragraph">使用「csi拓撲」功能、可根據區域和可用性區域、限制對磁碟區的存取、只能存取一部分節點。如今、雲端供應商可讓Kubernetes管理員建立以區域為基礎的節點。節點可位於某個區域內的不同可用度區域、或位於不同區域之間。為了協助在多區域架構中配置工作負載的磁碟區、Astra Trident使用了csi拓撲。</block>
  <block id="4ba6a75e6aacbc3737630ba55916cd27" category="section-title">管理後端的選項</block>
  <block id="798f4548a52b3c91b25609a82ff6a12e" category="paragraph">隨之推出<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>管理員現在有兩種獨特的後端管理方法。這會提出下列問題：</block>
  <block id="8e523fab738ccb6504fc60551cbaefdf" category="paragraph">Astra Trident 會建立及管理每個節點<block ref="58f3779afe9da9ffdc085dc3064306f7" prefix=" " category="inline-code"></block> 做為<block ref="e77a1bd34ff5793aca292b38d23bc2c9" prefix=" " category="inline-code"></block>。</block>
  <block id="0ee19d4be17e297cfb39c398cb268b5e" category="paragraph">此值不可變更或省略。</block>
  <block id="07d41595da50d0c332f22902db2f76d8" category="paragraph">*僅適用於<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> 驅動程式 * 。</block>
  <block id="684a16b15a51568bcdd546607176bd57" category="paragraph"><block ref="e77a1bd34ff5793aca292b38d23bc2c9" prefix="" category="inline-code"></block></block>
  <block id="ab946346d7b6ebd4a84d96bb78dcd833" category="section-title">用於匯入 LUKS Volume 的後端組態</block>
  <block id="6159e851594f646ce383a87fc615fbd1" category="paragraph">若要匯入 LUKS Volume 、您必須設定<block ref="0f179ba2bc32ab5d8f60692f5b800c86" prefix=" " category="inline-code"></block> 至<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block> 在後端。。<block ref="0f179ba2bc32ab5d8f60692f5b800c86" prefix=" " category="inline-code"></block> 選項會告訴 Astra Trident 、磁碟區是否符合 LUKS 標準 <block ref="b326b5062b2f0e69046810717534cb09" prefix="(" category="inline-code"></block>）或不符合 LUKS 規範 <block ref="68934a3e9455fa72420237eb05902327" prefix="(" category="inline-code"></block>）如以下範例所示。</block>
  <block id="490414e0366b091220802d406e52c076" category="doc">新功能</block>
  <block id="3317f97754f7308b6a0e2a12c0241d39" category="admonition">僅當 Kubernetes 版本啟用非正常節點關機功能閘道時、才支援 ONTAP - SAN* 磁碟區的強制磁碟區分離。必須在安裝時使用啟用強制分離<block ref="d75e90115a6343745df96039920422fc" prefix=" " category="inline-code"></block> Trident 安裝程式旗標。</block>
  <block id="8743cc1328bba53ea356fd3e593a3f9c" category="list-text">固定的 Trident 運算子叢集角色權限、可與套件權限（<block ref="25d51e363866fb30c759c73e05114b0d" category="inline-link-macro-rx"></block>）。</block>
  <block id="c16e7ed05955f3a772cc5e37988626a6" category="inline-link-macro">問題 #811.</block>
  <block id="c8b742414af3be73bd16e0c1ed978ae5" category="list-text">修正 Trident 控制器無法立即關機的問題（<block ref="6916c682464f601a812aa726b7255568" category="inline-link-macro-rx"></block>）。</block>
  <block id="e82b00f6dda8d75f6267522d6e8e21b3" category="list-text">新增修正程式、列出與指定 LUN 相關的所有 igroup 名稱、並以 ontap － san 驅動程式進行佈建。</block>
  <block id="3f32e3199847516d3773942171a3320e" category="inline-link-macro">問題 #537</block>
  <block id="8ac5248178b612abfaaec81ca7b06c94" category="list-text">修正 s390 架構的編譯錯誤（<block ref="a2e3737cce03fa6e94f8357a427b1da2" category="inline-link-macro-rx"></block>）。</block>
  <block id="70d039054d2873e8b0f28587cb19086a" category="inline-link-macro">問題 781</block>
  <block id="48b91d8b8b87d6d8c95cbc34bbae12e7" category="list-text">修正磁碟區裝載作業期間的記錄層級不正確（<block ref="8bb65f034421623db4038f879681c20b" category="inline-link-macro-rx"></block>）。</block>
  <block id="6c85ef6d99d7dc6999989d8228ad56d9" category="inline-link-macro">問題 #802</block>
  <block id="6edadfcf2d991f369cdf934677bb161a" category="list-text">修正潛在類型聲明錯誤（<block ref="e6bc1d779eb6c87e7246c3841e50b482" category="inline-link-macro-rx"></block>）。</block>
  <block id="afcf8fa41398f15ad38c5874372e9b4c" category="list-text">增加了對 Kubernetes 1.27 的支援。</block>
  <block id="67db0e94c8905c93eda71f86cb532e07" category="list-text">新增匯入 LUKS Volume 的支援。</block>
  <block id="6de845032edacfacdf7599428fce6ce3" category="list-text">新增支援 ReadWriteOncePod PVC 存取模式。</block>
  <block id="9297bb6ec4e523b7875643c53cc9f528" category="list-text">新增在非正常節點關機案例中強制卸除 ONTAP SAN* 磁碟區的支援。</block>
  <block id="bf75c88234d165d6aa37891adda4465a" category="inline-link-macro">問題 758</block>
  <block id="8ba74f6fd31160a630f1dc4eeb7d2e20" category="list-text">所有 ONTAP SAN * 磁碟區現在都會使用每個節點的 igroup 。LUN 只會對應到 igroup 、而會主動發佈到這些節點、以改善我們的安全狀態。當 Trident 判斷在不影響作用中工作負載的情況下、現有磁碟區將會切換至新的 igroup 配置（<block ref="9c63b965233843690f19867523ba780c" category="inline-link-macro-rx"></block>）。</block>
  <block id="79e79d7d8fe825308bd0e601daaa1131" category="list-text">透過清理 ONTAP SAN* 後端未使用的 Trident 管理的 igroup 、改善 Trident 的安全性。</block>
  <block id="18596399dedf47a387f514e9c9862876" category="list-text">將 Amazon FSX 對 SMB Volume 的支援新增至 ONTAP NAS 經濟型和 ONTAP NAS Flexgroup 儲存驅動程式。</block>
  <block id="42bbebea36c49138518f54240583f571" category="list-text">新增了 ONTAP NAS 、 ONTAP NAS 經濟型和 ONTAP NAS Flexgroup 儲存驅動程式的 SMB 共享支援。</block>
  <block id="4332590e7a6bcbdc2a06dc0e18c0731b" category="inline-link-macro">問題 #732</block>
  <block id="5a8fc8277a0f6ed003c225aa1e7c48b6" category="list-text">新增對 arm64 節點的支援（<block ref="c2778c70230759cdeecc0357ca334a05" category="inline-link-macro-rx"></block>）。</block>
  <block id="69ef45b431e1a60332ee3ce7e1a67645" category="list-text">透過先停用 API 伺服器來改善 Trident 關機程序（<block ref="6916c682464f601a812aa726b7255568" category="inline-link-macro-rx"></block>）。</block>
  <block id="be70537c794b0fc1d909e1bf6ffbbc59" category="list-text">新增 Windows 和 arm64 主機的跨平台建置支援至 Makefile ；請參閱 build .md 。</block>
  <block id="6f03549bdf867b6dbabec83da444ffcf" category="paragraph">**Kubernetes:** 設定 ONTAP - SAN 和 ONTAP - SAN 經濟型驅動程式時、將不再建立後端範圍的 igroup （<block ref="9c63b965233843690f19867523ba780c" category="inline-link-macro-rx"></block>）。</block>
  <block id="7558c614baceb6010756b848dd26325e" category="section-title">23.01.1 的變更</block>
  <block id="d7393ea674321a4e126b601e3097f2ec" category="admonition">Kubernetes 1.27 現在支援 Trident 。升級Kubernetes之前、請先升級Astra Trident。</block>
  <block id="99836a64b28c522e35a15aa0a4b39257" category="list-text">ONTAP-SAN磁碟區現在會使用每節點igroup、只將LUN對應至igroup、同時主動發佈至這些節點、以改善我們的安全狀態。當 Astra Trident 發現在不影響作用中工作負載的情況下、現有的磁碟區將會切換至新的 igroup 方案、以確保安全無虞。</block>
  <block id="33871b6190a8d5adbe8b15282054766c" category="sidebar">新增功能</block>
  <block id="ffd4000c9e43a23d97e231d47f99dcd4" category="list-text">您可以執行多個驅動程式、並建立指向其中一個或另一個的儲存類別。例如、您可以設定使用的Gold類別<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> 驅動程式和銅級、使用<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> 一、</block>
  <block id="a571dbb3887a364b4b4dcb82a5fa6ec9" category="list-text">建立Snapshot控制器。</block>
  <block id="ae3ba2e438847d5fb2abc16b3c73ccab" category="admonition">如有必要、請開啟<block ref="31a2c725707ce238c3eb4dd82c7e3af9" prefix=" " category="inline-code"></block> 和更新<block ref="89801e9e98979062e84647433a8ed3e9" prefix=" " category="inline-code"></block> 到您的命名空間。</block>
  <block id="c48edc45b9266a1f0d1869ac35615605" category="section-title">使用快照恢復 Volume 資料</block>
  <block id="4714f3cf4c41291cc2dae88a7150cbe5" category="paragraph">快照目錄預設為隱藏、以協助使用進行資源配置的磁碟區達到最大相容性<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> 和<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> 驅動程式：啟用<block ref="a15da8cecb1f1192c4d913b8ba676121" prefix=" " category="inline-code"></block> 直接從快照恢復資料的目錄。</block>
  <block id="8f580d002ee0bbc67930846839d50dbe" category="paragraph">使用 Volume Snapshot Restore ONTAP CLI 將磁碟區還原至先前快照中記錄的狀態。</block>
  <block id="f84dc17e0595ca9097097e70b9b927e1" category="admonition">當您還原快照複本時、會覆寫現有的 Volume 組態。建立快照複本之後對 Volume 資料所做的變更將會遺失。</block>
  <block id="389fca3b29dd7808b825fbd953242ed9" category="summary">瞭解 Astra Trident 的保護與恢復選項、以及使用 Astra Trident 建立的 Volume 。對於每個應用程式、您都應該有持續性需求的資料保護與還原策略。</block>
  <block id="03c39d763ca15978d9ef16c2ba5fe98a" category="doc">資料保護與災難恢復</block>
  <block id="e3d45c3e9eb2d2949067a0aa7b61e476" category="section-title">Astra Trident 複寫與還原</block>
  <block id="44f293896af5541a26ccc287fc71266b" category="paragraph">您可以建立備份、在發生災難時還原 Astra Trident 。</block>
  <block id="9b35fe66a1b68aa00dbffd236d3fe856" category="section-title">Astra Trident 複寫</block>
  <block id="65808079dd14440eb9053549bdf96b26" category="paragraph">Astra Trident 使用 Kubernetes CRD 來儲存及管理其本身的狀態、 Kubernetes 叢集 etcd 則用來儲存其中繼資料。</block>
  <block id="082510018437a15b6d42065dfe5a5384" category="inline-link-macro">Kubernetes ：備份 etcd 叢集</block>
  <block id="ec3558916e2679d1a4b592e0ade35471" category="list-text">使用備份 Kubernetes 叢集 etcd  <block ref="901b02918d705c0966dae4033c132965" category="inline-link-macro-rx"></block>。</block>
  <block id="47eab96eced19efdca77f2407d8e44aa" category="list-text">將備份產出工件放在 FlexVol 上。</block>
  <block id="798d6cc5f40dde831172bf108a793297" category="admonition">我們建議您保護 FlexVol 所在的 SVM 、並與另一個 SVM 建立 SnapMirror 關係。</block>
  <block id="49319f2bf766b5cf558ec82dd35f5a46" category="section-title">Astra Trident 恢復</block>
  <block id="6275e3378f7bc1d5792a600e82c7aa6c" category="paragraph">使用 Kubernetes CRD 和 Kubernetes 叢集 etcd 快照、您可以復原 Astra Trident 。</block>
  <block id="b30057689f3e745e5feeb142585ff30b" category="list-text">從目的地 SVM 、將包含 Kubernetes etcd 資料檔案和憑證的磁碟區掛載到將設定為主要節點的主機上。</block>
  <block id="5fefcae3a4602913a273a904829295ce" category="list-text">複製下 Kubernetes 叢集的所有必要憑證<block ref="890b0e4d98741eac800c616b757217cb" prefix=" " category="inline-code"></block> 以及下的 etcd 成員檔案<block ref="3fa01691da932f6c45bf424027ffabb8" prefix=" " category="inline-code"></block>。</block>
  <block id="51fa31507539ecf10c55d8cc513269d0" category="inline-link-macro">Kubernetes ：還原 etcd 叢集</block>
  <block id="3167e8459c0d46545dc7978a60ef4978" category="list-text">使用從 etcd 備份還原 Kubernetes 叢集 <block ref="c87a91d2cf6358248ae560cfa802edf4" category="inline-link-macro-rx"></block>。</block>
  <block id="54d0429fea223af0d32d9f061ed733c9" category="list-text">執行<block ref="1ec8e1992e296a9bdb691f1931d391fe" prefix=" " category="inline-code"></block> 若要驗證所有 Trident 自訂資源都已出現、請擷取 Trident 物件、以驗證所有資料是否可用。</block>
  <block id="c87c1a25aa5e2ef1af216bc50d1fd391" category="section-title">SVM 複寫與還原</block>
  <block id="0d3b37ff5855bf299f3c4a154373c1e2" category="inline-link">ONTAP SnapMirror</block>
  <block id="968aa074079a26dbcd09cc3312c6e0d8" category="paragraph">Astra Trident 無法設定複寫關係、不過儲存管理員可以使用<block ref="eae3571c3bcc896c3c2934b9eeb2171a" category="inline-link-rx"></block> 複寫 SVM 。</block>
  <block id="9299ebdcbaefed4a9ea27b355bb0f75e" category="paragraph">發生災難時、您可以啟動SnapMirror目的地SVM、開始提供資料服務。系統還原時、您可以切換回主要系統。</block>
  <block id="1de93d4bf941bc79aec631023559b9e7" category="paragraph">使用 SnapMirror SVM 複寫功能時、請考量下列事項：</block>
  <block id="1868906f3a3fbcf756260737545805d6" category="list-text">您應該為每個啟用 SVM-DR 的 SVM 建立不同的後端。</block>
  <block id="f9f808f1692cabf1bf803e07da9adbe7" category="list-text">設定儲存類別、僅在需要時才選取複寫的後端、以避免將不需要複寫的磁碟區佈建到支援 SVM-DR 的後端。</block>
  <block id="6fa2f5991a9e2ee7d4668899f94e78e4" category="list-text">應用程式管理員應瞭解複寫的額外成本與複雜度、並在開始此程序之前仔細考慮其還原計畫。</block>
  <block id="2b5ffe73affd6d09b3b5e160e117e5c9" category="section-title">SVM 複寫</block>
  <block id="9f4b9999b69320b559438c600d724ff9" category="inline-link-macro">ONTAP ： SnapMirror SVM 複寫</block>
  <block id="d628a099db3505c9d0435e12076d8a61" category="paragraph">您可以使用 <block ref="89150b9d328c8330200fceb39b37760e" category="inline-link-macro-rx"></block> 建立 SVM 複寫關係。</block>
  <block id="b9f28001ddc636f8628bd929334b258e" category="paragraph">SnapMirror 可讓您設定選項、以控制要複寫的內容。您必須知道自己在進行預先設定時所選擇的選項 <block ref="885698069be8fdb81e43cb59c9632744" category="inline-xref-macro-rx"></block>。</block>
  <block id="524218dc9ff1ef52c9a0404971525b21" category="inline-link-macro">-identity 保留為真</block>
  <block id="8dc4e22513bbb97acc41295bfe46d5fe" category="list-text"><block ref="c758ffe020dc40d00c9a9c46ecbdd824" category="inline-link-macro-rx"></block> 複寫整個 SVM 組態。</block>
  <block id="d18f05a5c35a5a7d999263600f0356bf" category="inline-link-macro">-discard 配置網路</block>
  <block id="97c20c3eb8c7569982dc9f84e7f31ba3" category="list-text"><block ref="afa9da8af32f091c8328b13559d456b1" category="inline-link-macro-rx"></block> 不包括生命和相關的網路設定。</block>
  <block id="224ea277d21a44b59b0fa43747b4f6a6" category="inline-link-macro">-identity 保留錯誤</block>
  <block id="471621652d0597dca59f266effb8f90f" category="list-text"><block ref="1faf7e0b3f51b53ae01a4f860a9ed344" category="inline-link-macro-rx"></block> 僅複寫磁碟區和安全組態。</block>
  <block id="e3dcf348731966425abf967f0c0c575d" category="section-title">使用 Astra Trident 進行 SVM 恢復</block>
  <block id="58c8a712ac4d3255cd28c6024ad43f71" category="paragraph">Astra Trident不會自動偵測SVM故障。發生災難時、管理員可以手動啟動 Trident 容錯移轉至新的 SVM 。</block>
  <block id="da29de46c3a7d3e66fc701b2781fcbce" category="list-text">取消已排程和持續的 SnapMirror 傳輸、中斷複寫關係、停止來源 SVM 、然後啟動 SnapMirror 目的地 SVM 。</block>
  <block id="98bdea55e26fba2494cc5f163b6f8076" category="list-text">如果您指定<block ref="224ea277d21a44b59b0fa43747b4f6a6" prefix=" " category="inline-code"></block> 或<block ref="e932330dd004e680ebd1a75db84b73ce" prefix=" " category="inline-code"></block> 設定 SVM 複寫時、請更新<block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix=" " category="inline-code"></block> 和<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block> 在 Trident 後端定義檔案中。</block>
  <block id="6141984e8f91176bd3a76175b02c1a09" category="list-text">確認<block ref="ed66bef2b107983b6e4066fddf8c45c3" prefix=" " category="inline-code"></block> 存在於 Trident 後端定義檔案中。此參數無法變更。省略<block ref="ed66bef2b107983b6e4066fddf8c45c3" prefix=" " category="inline-code"></block> 將導致後端更新失敗。</block>
  <block id="51589b18e320f20306c944a08241dac1" category="list-text">更新所有必要的後端、以反映新的目的地 SVM 名稱、使用：</block>
  <block id="d980e1fdfa951088567e6d057ba7dc9c" category="list-text">如果您指定<block ref="224ea277d21a44b59b0fa43747b4f6a6" prefix=" " category="inline-code"></block> 或<block ref="89680afd09991bc3d4db985c40c861c1" prefix=" " category="inline-code"></block>、您必須退回所有應用程式 Pod 。</block>
  <block id="debd7fcd99a55e4ad2700a29cadc6aa3" category="admonition">如果您指定<block ref="524218dc9ff1ef52c9a0404971525b21" prefix=" " category="inline-code"></block>、當目的地 SVM 啟動時、 Astra Trident 所佈建的所有磁碟區都會開始提供資料。</block>
  <block id="cceb49886fed38f241928d51abab95a2" category="section-title">Volume 複寫與還原</block>
  <block id="815f28e53ebfb423dfe835a845095bf6" category="inline-link-macro">ONTAP SnapMirror 複寫與還原</block>
  <block id="a5217e87e9aef874c28773b5774ecf37" category="paragraph">Astra Trident 無法設定 SnapMirror 複寫關係、不過儲存管理員可以使用 <block ref="c3487d6df2463efc752acd6f5cc45a1f" category="inline-link-macro-rx"></block> 複寫 Astra Trident 所建立的 Volume 。</block>
  <block id="c3c343b5a84229bd5095fd09f2afc5f5" category="inline-link-macro">tridentctl Volume 匯入</block>
  <block id="d8d9dfeae772da34290b750d0f848a26" category="admonition">匯入不受支援<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>、 <block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>或<block ref="70d5dbddc55e3700ddbc8d21f0de22a3" prefix=" " category="inline-code"></block> 驅動程式：</block>
  <block id="b489b293d6cbe8b86835d3cac8c315fb" category="section-title">Snapshot 資料保護</block>
  <block id="f332d72a4b78e34e31131f3a98c98053" category="paragraph">您可以使用下列項目來保護及還原資料：</block>
  <block id="97fb495fd3b6672c40bb0092ca102eca" category="list-text">外部快照控制器和 CRD 、用於建立持續磁碟區（ PV ）的 Kubernetes Volume 快照。</block>
  <block id="83cd672b9742ba621e93a8b69c4ab2d4" category="list-text">ONTAP 快照可還原磁碟區的全部內容、或是還原個別檔案或 LUN 。</block>
  <block id="ad336d1fccea3e918d07055edac855a3" category="inline-link-macro">ONTAP 快照</block>
  <block id="0cb949d1baa06577db93328185a8f24d" category="paragraph"><block ref="0cb949d1baa06577db93328185a8f24d" category="inline-link-macro-rx"></block></block>
  <block id="044d1500d5e33461ef3341121d2aebda" category="section-title">Astra Control Center 應用程式複寫</block>
  <block id="3ee9187f7387265ff6f477d26adad0f2" category="paragraph">使用 Astra Control 、您可以使用 SnapMirror 的非同步複寫功能、將資料和應用程式變更從一個叢集複寫到另一個叢集。</block>
  <block id="4910c9e59da080576c2dedc885e19ed7" category="inline-link-macro">Astra Control ：使用 SnapMirror 技術將應用程式複寫到遠端系統</block>
  <block id="0868eb323c2e097c6c408f7c59642c94" category="paragraph"><block ref="0868eb323c2e097c6c408f7c59642c94" category="inline-link-macro-rx"></block></block>
  <block id="2e77d5277311f3a9232a73cdbbcd754b" category="section-title">總覽與考量</block>
  <block id="df6f3bebb689d436041be7a75ee22542" category="paragraph">您可以將磁碟區匯入 Astra Trident 、以便：</block>
  <block id="88541191ec5fe50ba0d21b4300401b85" category="list-text">將應用程式容器化、並重新使用其現有的資料集</block>
  <block id="77d782125cafbbf0fe1c5c95755d143f" category="list-text">針對臨時應用程式使用資料集的複本</block>
  <block id="d265b515faaf05e2c32727d8b9742a78" category="list-text">重建故障的 Kubernetes 叢集</block>
  <block id="6766ef9d5b11abf03ee72b55c5745f4b" category="list-text">在災難恢復期間移轉應用程式資料</block>
  <block id="4c321a56c9c030449cd3315863de525b" category="paragraph">匯入 Volume 之前、請先檢閱下列考量事項。</block>
  <block id="3c65d97abe967081cd896f071baa434f" category="list-text">Astra Trident 只能匯入 RW （讀寫）類型的 ONTAP Volume 。DP （資料保護）類型磁碟區是 SnapMirror 目的地磁碟區。您應該先中斷鏡射關係、再將 Volume 匯入 Astra Trident 。</block>
  <block id="e47be4dcc849b534107f57afd92f801f" category="list-text">我們建議您在沒有作用中連線的情況下匯入磁碟區。若要匯入使用中的 Volume 、請複製該 Volume 、然後執行匯入。</block>
  <block id="e4618ea9b1ae23e5ed30f6f19e6a77e8" category="admonition">這對區塊磁碟區特別重要、因為 Kubernetes 不會知道先前的連線、而且很容易將作用中的磁碟區附加到 Pod 。這可能導致資料毀損。</block>
  <block id="8cbc7a45d1e8d9d63beba7825c76f6ff" category="list-text">不過<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> 必須在 PVC 上指定、 Astra Trident 在匯入期間不會使用此參數。建立磁碟區時會使用儲存類別、根據儲存特性從可用的集區中選取。由於該磁碟區已經存在、因此在匯入期間不需要選取任何集區。因此、即使磁碟區存在於與 PVC 中指定的儲存類別不相符的後端或集區、匯入也不會失敗。</block>
  <block id="a31db9efd829f01dd21fdc97db2d29e4" category="list-text">現有的 Volume 大小是在 PVC 中決定和設定的。儲存驅動程式匯入磁碟區之後、PV會以PVc的ClaimRef建立。</block>
  <block id="604eea1f3df98285b6887ff059258827" category="list-text">回收原則一開始設定為<block ref="16d79ff80feadcf2f52096f073f2b94a" prefix=" " category="inline-code"></block> 在PV中。Kubernetes成功繫結了PVc和PV之後、系統會更新回收原則以符合儲存類別的回收原則。</block>
  <block id="5d24684cf5054f53b1e945be75b37f69" category="list-text">如果儲存類別的回收原則為<block ref="099af53f601532dbd31e0ea99ffdeb64" prefix=" " category="inline-code"></block>、儲存磁碟區會在PV刪除時刪除。</block>
  <block id="746af08b5a2da065387679e35fb75f55" category="list-text">根據預設、 Astra Trident 會管理 PVC 、並重新命名後端上的 FlexVol 和 LUN 。您可以通過<block ref="e2b9359adf7cdd62fc784b5090c3c452" prefix=" " category="inline-code"></block> 用於匯入非託管磁碟區的旗標。如果您使用<block ref="e2b9359adf7cdd62fc784b5090c3c452" prefix=" " category="inline-code"></block>、 Astra Trident 在物件生命週期內、不會在 PVC 或 PV 上執行任何其他作業。刪除 PV 時不會刪除儲存磁碟區、也會忽略其他操作、例如 Volume Clone 和 Volume resize 。</block>
  <block id="be303acf01bc566d5d211f228131bee4" category="admonition">如果您想要將Kubernetes用於容器化工作負載、但想要管理Kubernetes以外儲存磁碟區的生命週期、則此選項非常實用。</block>
  <block id="db31dcd83fd57b294fb0340ea975015f" category="section-title">匯入 Volume</block>
  <block id="61a1adebea5e6a017b4bd4b405ae4f52" category="paragraph">您可以使用<block ref="a768f5449e3a83ac56f2fb8ab4562339" prefix=" " category="inline-code"></block> 匯入 Volume 。</block>
  <block id="8feb5f647cb423db7fa8a957ae4ef075" category="list-text">建立持續 Volume Claim （ PVC ）檔案（例如、<block ref="88bf8ee4d993e535425148da6a64c1c2" prefix=" " category="inline-code"></block>）用於建立 PVC 。PVC 檔案應包含在內<block ref="b068931cc450442b63f5b3d276ea4297" prefix=" " category="inline-code"></block>、<block ref="89801e9e98979062e84647433a8ed3e9" prefix=" " category="inline-code"></block>、<block ref="1963d17f24888bdf1f22d7ea7f72f607" prefix=" " category="inline-code"></block>和<block ref="ee822781a3bd0ae0f8f6331dc4865d9c" prefix=" " category="inline-code"></block>。您也可以指定<block ref="c005e78d4bd808038335c32dd84cf7da" prefix=" " category="inline-code"></block> 在您的 PVC 定義中。</block>
  <block id="7f745c89a2e8fd59353bab523e12eb77" category="paragraph">以下是最低規格的範例：</block>
  <block id="a9e31569460a0b133fdd97c5f482c04e" category="admonition">請勿包含其他參數、例如 PV 名稱或 Volume 大小。這可能會導致匯入命令失敗。</block>
  <block id="62baed444b3b0cdadb9d1c1ed6d56876" category="list-text">使用<block ref="a768f5449e3a83ac56f2fb8ab4562339" prefix=" " category="inline-code"></block> 用於指定 Astra Trident 後端名稱的命令、該後端包含磁碟區、以及唯一識別儲存區中磁碟區的名稱（例如： ONTAP FlexVol 、 Element Volume 、 Cloud Volumes Service 路徑）。。<block ref="5338b151154663bac9980b0f044518f2" prefix=" " category="inline-code"></block> 需要引數來指定 PVC 檔案的路徑。</block>
  <block id="37c0e0081d2fa3ebdf688df7e37ecd7a" category="paragraph">請參閱下列 Volume 匯入範例、瞭解支援的驅動程式。</block>
  <block id="b8cd11aae04b2508e6cf401f43cdb4f9" category="section-title">ONTAP NAS 和 ONTAP NAS FlexGroup</block>
  <block id="7a4c35874a7b87427d89cd3aecdcb443" category="paragraph">Astra Trident 支援使用匯入 Volume<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> 和<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> 驅動程式：</block>
  <block id="6551d29114ca8e4ced094b1f68242124" category="list-text">。<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> 驅動程式無法匯入及管理qtree。</block>
  <block id="15f21f5d1f84f4b986a4db037c57333d" category="list-text">。<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> 和<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> 驅動程式不允許重複的磁碟區名稱。</block>
  <block id="3fa3bc64b029b88f42b842bb7dc4e52d" category="paragraph-title">ONTAP NAS 範例</block>
  <block id="77fe25c67ee05760d58e91a98e3ff055" category="paragraph">以下是託管 Volume 和非託管 Volume 匯入的範例。</block>
  <block id="865c1a701e3847de9fbff4a375ac7177" category="open-title">託管 Volume</block>
  <block id="9baac1fff2f93c6aa6f2205921fe6b32" category="paragraph">以下範例會匯入名為的 Volume<block ref="b61fdc0d7fc5d08e674f3891a91d3116" prefix=" " category="inline-code"></block> 在名為的後端上<block ref="b0253ee501e433d48faea12f8e40ef28" prefix=" " category="inline-code"></block>：</block>
  <block id="ed12f17a6dc2e65dfdf289eb64d258ae" category="open-title">非託管 Volume</block>
  <block id="412d430c2de2722ad4f878fba9145e3f" category="paragraph">使用時<block ref="e2b9359adf7cdd62fc784b5090c3c452" prefix=" " category="inline-code"></block> 引數 Astra Trident 不會重新命名 Volume 。</block>
  <block id="30690ec57cb4844d007f7d2e2c9393a2" category="paragraph">以下範例匯入<block ref="60d9e6d88af815fe67aed90572f53184" prefix=" " category="inline-code"></block> 在上<block ref="b0253ee501e433d48faea12f8e40ef28" prefix=" " category="inline-code"></block> 後端：</block>
  <block id="548fedaf4074fe2826e3c53dfd92a19e" category="section-title">SAN ONTAP</block>
  <block id="30bb262b9fe2f6c714c560a0608899dc" category="paragraph">Astra Trident 可以匯入包含單一 LUN 的 ONTAP SAN FlexVols 。這與一致<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> 驅動程式、為FlexVol 每個實體磁碟和FlexVol 一個LUN建立一個實體。Astra Trident 會匯入 FlexVol 、並將其與 PVC 定義相關聯。</block>
  <block id="854d516b7e1eddbead5cbea0b17dac88" category="paragraph-title">ONTAP SAN 範例</block>
  <block id="eb87428bc7ec6d211f503b31240aec94" category="paragraph">對於託管的 Volume 、 Astra Trident 會將 FlexVol 重新命名為<block ref="b1a57c8f543d163276a264ab84f98485" prefix=" " category="inline-code"></block> 格式化及FlexVol LUN在功能區內<block ref="1793051c27c3288cfb3a1c86e4e41b41" prefix=" " category="inline-code"></block>。</block>
  <block id="c59e9e1ae2ff6860f6aa6f2d3dc9f872" category="paragraph">下列範例會匯入<block ref="9c263b72b293041bdc16e8711bb55a99" prefix=" " category="inline-code"></block> 上的顯示FlexVol<block ref="5461c7e570fd7b4318a37f0dceb291c1" prefix=" " category="inline-code"></block> 後端：</block>
  <block id="d172829ee06c1c52828b60f0544b2f06" category="paragraph">以下範例匯入<block ref="a5c0fa75ec8cf92d22eadab558660dda" prefix=" " category="inline-code"></block> 在上<block ref="2dec4fe0d108047546d031f48f4073f7" prefix=" " category="inline-code"></block> 後端：</block>
  <block id="58f7692a8b6ce5b3fa31b6daec3259fe" category="paragraph">如果您將 LUN 對應至與 Kubernetes 節點 IQN 共用 IQN 的 igroup 、如下列範例所示、您將會收到錯誤訊息：<block ref="4524d417d10c9cf90c4a674da76c4964" prefix=" " category="inline-code"></block>。您需要移除啟動器或取消對應 LUN 、才能匯入磁碟區。</block>
  <block id="5ccef908ed30c9dac1afd0a7f3dc5e7f" category="inline-image-macro">對應至 iqn 和叢集 iqn 的 LUN 影像。</block>
  <block id="81238a539b4fc11fb20c6d27db1e5d33" category="paragraph"><block ref="81238a539b4fc11fb20c6d27db1e5d33" category="inline-image-macro-rx" type="image"></block></block>
  <block id="67cb0d15ee759f80dd6bde1ab60c32e1" category="paragraph">Astra Trident 支援使用 NetApp Element 軟體和 NetApp HCI Volume 匯入<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> 驅動程式：</block>
  <block id="00b0b4c3f91cc8ead8c7a1fac316cd43" category="admonition">Element驅動程式支援重複的Volume名稱。不過、如果有重複的磁碟區名稱、 Astra Trident 會傳回錯誤。因應措施是複製磁碟區、提供唯一的磁碟區名稱、然後匯入複製的磁碟區。</block>
  <block id="d12ef9e4a047861afd11513bde147f35" category="paragraph-title">元素範例</block>
  <block id="e91134286ebcca5f894ca859ce6e6527" category="paragraph">下列範例會匯入<block ref="ce9d6be888db333d9f15ad3ca22aab5c" prefix=" " category="inline-code"></block> 後端上的 Volume<block ref="54034d50b7e92e0dd9d45b9be754d7bd" prefix=" " category="inline-code"></block>。</block>
  <block id="5c9ef0d871938dccceb29ee63fad8ddb" category="section-title">Google Cloud Platform</block>
  <block id="cf31c490360937ec8a3ce1c25928d464" category="paragraph">Astra Trident 支援使用匯入 Volume<block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block> 驅動程式：</block>
  <block id="b83141d187ef372685e66e6dfe4cabd9" category="admonition">若要在 Google Cloud Platform 中匯入以 NetApp Cloud Volumes Service 為後盾的 Volume 、請依其 Volume 路徑識別該 Volume 。Volume 路徑是之後 Volume 匯出路徑的一部分<block ref="fb256b96ee496724e4579987e5a6e4da" prefix=" " category="inline-code"></block>。例如、如果匯出路徑為<block ref="3bbe8dafc880d124219c1e4f73d41cf9" prefix=" " category="inline-code"></block>、磁碟區路徑為<block ref="8886a1ac9f5b94f2fb54d752c304777f" prefix=" " category="inline-code"></block>。</block>
  <block id="9dfa04a9ad04eba811811f2fbd0f5f0e" category="paragraph-title">Google Cloud Platform 範例</block>
  <block id="dd8d0b5581c0eb32a23d802032124024" category="paragraph">下列範例會匯入<block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block> 後端上的 Volume<block ref="b242744397b7d8bc9391b3e836628c5e" prefix=" " category="inline-code"></block> 的磁碟區路徑<block ref="8886a1ac9f5b94f2fb54d752c304777f" prefix=" " category="inline-code"></block>。</block>
  <block id="7501988e9549daa8c2fcd13e55b9fc78" category="admonition">若要匯入 Azure NetApp Files Volume 、請依磁碟區路徑識別該磁碟區。Volume 路徑是之後 Volume 匯出路徑的一部分<block ref="fb256b96ee496724e4579987e5a6e4da" prefix=" " category="inline-code"></block>。例如、如果掛載路徑為<block ref="a88065dde27cea3a008a18172c5a9c9e" prefix=" " category="inline-code"></block>、磁碟區路徑為<block ref="062b749476713f7b5bbc675159e90bad" prefix=" " category="inline-code"></block>。</block>
  <block id="1cfd9b4e20d41cdca62f758d3b0cb58b" category="paragraph-title">Azure NetApp Files 範例</block>
  <block id="bd46b0a8c2c4c89a60ee85052ad2dd0e" category="paragraph">下列範例會匯入<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block> 後端上的 Volume<block ref="d8dd89ab9d39f5487714722f9becb468" prefix=" " category="inline-code"></block> 磁碟區路徑<block ref="062b749476713f7b5bbc675159e90bad" prefix=" " category="inline-code"></block>。</block>
  <block id="0b8ca2be5f4fe564fb8e843cbc53703d" category="admonition">如果在 GKE 環境中建立隨需磁碟區快照、請勿建立快照控制器。GKE使用內建的隱藏式快照控制器。</block>
  <block id="ad90b7d29d0d8a9c746868fe1f38ca90" category="paragraph">Rwo 、 ROX 、 rwx 、 RWOP</block>
  <block id="f28228f84cb57be6c4037bf94a6afbd2" category="paragraph">刪除具有相關快照的持續Volume時、對應的Trident Volume會更新為「刪除狀態」。移除 Volume 快照以刪除 Astra Trident Volume 。</block>
  <block id="f736607140d617c85245dd139003582e" category="list-text">在指定 Kubernetes 叢集中的所有命名空間中、應該只安裝一個 Astra Trident 執行個體。</block>
  <block id="69bdd71a77ecd87974ee464a579ebc8f" category="list-text">升級時、請務必提供<block ref="f6e7f85d8aee15940665bf722f7afac2" prefix=" " category="inline-code"></block> 在中<block ref="f652904c3bfb48fb25a0a75f485f0ff6" prefix=" " category="inline-code"></block> 由Astra Trident使用。您可以刪除並重新建立<block ref="f652904c3bfb48fb25a0a75f485f0ff6" prefix=" " category="inline-code"></block> 無需中斷既有的磁碟區。</block>
  <block id="33966eba1ed0cde6afda5a97ffaffb09" category="inline-link">安全性內容</block>
  <block id="326aae224b3bbcf4b9eb8fc0a262fc24" category="list-text">這是強制實施的一項**要求<block ref="cafe4c6014d8c45aaac70e49318f1a2a" category="inline-link-rx"></block> 適用於SAN磁碟區。</block>
  <block id="87459c33b1692755deb4b22c7eaa864c" category="section-title">步驟 1 ：選取版本</block>
  <block id="04ac7e8dacc8e0cf0377df2ca192d643" category="admonition">在 OpenShift Container Platform 上使用 Trident 運算子進行升級時、您應升級至 Trident 21.01.1 或更新版本。隨21.01.0一起發行的Trident運算子包含已在21.01.1中修正的已知問題。如需詳細資訊、請參閱<block ref="bcebcdd21adcbb3d7c640d63a711c6fb" category="inline-link-rx"></block>。</block>
  <block id="6d2d3a9fb621ba23b0f8ec56dc8b0a24" category="section-title">步驟 2 ：確定原始安裝方法</block>
  <block id="ce42d65061b497ce09f8f7253a47d3ec" category="paragraph">若要判斷您原本用來安裝 Astra Trident 的版本：</block>
  <block id="57e2fc21500db064f15f9f0dd71fac43" category="list-text">如果沒有操作員 Pod 、則使用安裝 Astra Trident<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。</block>
  <block id="32f6915fd282657ead56cf3557648c00" category="list-text">如果有操作員 Pod 、則使用 Trident 操作員手動或使用 Helm 來安裝 Astra Trident 。</block>
  <block id="4b9dbf746fd46d6f3df5db09d61acc78" category="list-text">如果有操作員 Pod 、請使用<block ref="2bbaa285a4b0035313ee3178abf33313" prefix=" " category="inline-code"></block> 判斷 Astra Trident 是否使用 Helm 安裝。</block>
  <block id="2653c4eb88f71c9c09dd63163c3279a3" category="list-text">如果有 Helm 標籤、則使用 Helm 安裝 Astra Trident 。</block>
  <block id="62813503b38101db99e720ca48a2e384" category="list-text">如果沒有 Helm 標籤、則使用 Trident 運算子手動安裝 Astra Trident 。</block>
  <block id="dccfb2ce978b2c73d6a7308a124d0043" category="section-title">步驟 3 ：選擇升級方法</block>
  <block id="d6b7a42c6c41b071d2c80b3e4c2a7edf" category="inline-link-macro">選擇升級方法</block>
  <block id="ab639a35db468f671d4a76735e801015" category="paragraph">檢閱 <block ref="5cffa5fbe758cc3901f0e33c78b29d1b" category="inline-link-macro-rx"></block> 使用升級之前<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。</block>
  <block id="a38e5a20ac16df242bdde92e028a100e" category="list-text">在中執行解除安裝命令<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> 移除與 Astra Trident 相關的所有資源、但 CRD 和相關物件除外。</block>
  <block id="e7447899210826e544345ba93e133255" category="inline-link-macro">使用tridentctl安裝Astra Trident</block>
  <block id="0c147de2192f3060367ba5761742d227" category="list-text">重新安裝 Astra Trident 。請參閱 <block ref="d55139d84e0ac19d8211d27772e17544" category="inline-link-macro-rx"></block>。</block>
  <block id="1d2d1200e759d67b259f843be2270f71" category="admonition">請勿中斷升級程序。確保安裝程式執行完成。</block>
  <block id="053bfc722ec4b4805e32c307458f8ea5" category="paragraph">確保您使用的是執行中的 Kubernetes 叢集 <block ref="d502dc64864e79085bee32826e6fe213" category="inline-link-macro-rx"></block>。</block>
  <block id="71530aef1814290453dc7add3bdae349" category="list-text">在同一個命名空間中部署叢集範圍的運算子。</block>
  <block id="8d23be098d49e797284393a4c1479c53" category="list-text">確認 Trident 已升級至所需版本。</block>
  <block id="210f1e5eca9c602b1282553f342448ae" category="list-text">對於執行 Kubernetes 1.24 或更早版本的叢集、請使用<block ref="bd2cc8575fe69c7f775292759380c838" prefix=" " category="inline-code"></block>。</block>
  <block id="e4941fda44f66f353885d1a37ca63e2b" category="list-text">對於執行 Kubernetes 1.25 或更新版本的叢集、請使用<block ref="5a02ebff4889c2de0379a0fb10bed282" prefix=" " category="inline-code"></block>。</block>
  <block id="dacbfb309aa16cb942510c02c224fdbc" category="example-title">憑證型驗證範例</block>
  <block id="60eac39d4383fedcc1df436a2d0e856d" category="paragraph">在此基本組態範例中<block ref="79fffaff4013c1e8c508e76646eca77b" prefix=" " category="inline-code"></block>、<block ref="19dce7ac7f5290fc8fa218ad0c858df5" prefix=" " category="inline-code"></block>和<block ref="8468461bca00a47ab5ddba2afc45f52c" prefix=" " category="inline-code"></block> （選用、如果使用信任的CA）會填入<block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block> 並分別取得用戶端憑證、私密金鑰及信任CA憑證的基礎64編碼值。</block>
  <block id="71b79981e733eabd769324fa40c8fa6d" category="paragraph">在下面顯示的後端定義檔案範例中、會針對所有儲存池設定特定的預設值、例如<block ref="cae77b049bf504af7afc43b99b6c5213" prefix=" " category="inline-code"></block> 無、<block ref="45922ba6ba8428764f22ed06f814c762" prefix=" " category="inline-code"></block> 假、和<block ref="5bdf74912a51c34815f11e9a3d20b609" prefix=" " category="inline-code"></block> 錯。虛擬資源池是在儲存區段中定義的。</block>
  <block id="71fcdf20b31ca43f6ef64c06530f313d" category="paragraph">在這些範例中、有些儲存池是自行設定的<block ref="cae77b049bf504af7afc43b99b6c5213" prefix=" " category="inline-code"></block>、<block ref="45922ba6ba8428764f22ed06f814c762" prefix=" " category="inline-code"></block>和<block ref="5bdf74912a51c34815f11e9a3d20b609" prefix=" " category="inline-code"></block> 值、而某些資源池會覆寫預設值。</block>
  <block id="574e53d92fdeaac37ba2d879a9b88f12" category="example-title">ONTAP NAS 範例</block>
  <block id="bdb252122df8a6e68a54782628d1944f" category="example-title">ONTAP NAS FlexGroup 範例</block>
  <block id="9561077d9ef091b88a253b8593eb8bfb" category="example-title">ONTAP NAS 經濟效益範例</block>
  <block id="eb2e955f1a984e2be0e3fa8cdbe6667c" category="paragraph">請參閱下列 StorageClass 定義 <block ref="d690aebda44a37b8ae9c2c6f1918cb30" category="inline-xref-macro-rx"></block>。使用<block ref="bed471c4a88e25ac9a7e4a7b980700a8" prefix=" " category="inline-code"></block> 欄位中、每個 StorageClass 都會呼叫哪些虛擬集區可用於主控磁碟區。磁碟區將會在所選的虛擬資源池中定義各個層面。</block>
  <block id="01eacb47d802acac83a7e60311768055" category="list-text">。<block ref="63f9100803e1f67a5e33cbd5da9dbb33" prefix=" " category="inline-code"></block> StorageClass 會對應至中的第一個和第二個虛擬集區<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> 後端：這是唯一提供金級保護的資源池。</block>
  <block id="6b35cdd98b7f7e55e698a6d0628e18e0" category="list-text">。<block ref="afbfe298fa275e5fff1aca9b2f213d9a" prefix=" " category="inline-code"></block> StorageClass 會對應至中的第三和第四個虛擬集區<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> 後端：這是唯一提供金級以外保護層級的資源池。</block>
  <block id="535efa214445261dfda5d5edc613e56b" category="list-text">。<block ref="65846755494383158592c748f74421ec" prefix=" " category="inline-code"></block> StorageClass 會對應至中的第四個虛擬集區<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> 後端：這是唯一為 mysqldb 類型應用程式提供儲存池組態的集區。</block>
  <block id="d0c5a28c77fc4e37f7271d37f7372724" category="list-text">t<block ref="2e63b2ff91d4aeb88b54db5c90b71443" prefix=" " category="inline-code"></block> StorageClass 會對應至中的第三個虛擬集區<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> 後端：這是唯一提供銀級保護和 20000 個信用點數的資源池。</block>
  <block id="0191eea3640b05213a7522d6581a2fd5" category="list-text">。<block ref="a96bee9dd30f3ea0af93b4c64ca1e4a4" prefix=" " category="inline-code"></block> StorageClass 會對應至中的第三個虛擬集區<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> 後端和中的第二個虛擬集區<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> 後端：這是唯一擁有 5000 個信用點數的集區方案。</block>
  <block id="c9410b4405958bba6c2f782b5da4c684" category="admonition">如果您在 NetApp ONTAP 上搭配 Astra Trident 使用 Amazon FSX 、建議您指定生命的 DNS 名稱、而非 IP 位址。</block>
  <block id="cd5dd52b9f0bba70b1336e13afe05818" category="paragraph">這是使用的基本組態<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> 驅動程式：</block>
  <block id="31089bb4131b18ca65c3d384cdd49644" category="example-title">雙向 CHAP 範例</block>
  <block id="17baa03e9287aee400bc2e606d247156" category="paragraph">這些範例使用建立後端<block ref="099cb468880f266cba40b49391fa46bc" prefix=" " category="inline-code"></block> 設定為<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>。</block>
  <block id="7a4c6868ec70d1fbee3cb3a7483e21d0" category="listing-title">ONTAP SAN CHAP 範例</block>
  <block id="a0c1c7f21916f2a4fb0f0d56732adc90" category="listing-title">ONTAP SAN 經濟 CHAP 範例</block>
  <block id="6b743d9085f7f94d7a334c4386fbe239" category="paragraph">在這些後端定義檔案範例中、會針對所有儲存池設定特定的預設值、例如<block ref="cae77b049bf504af7afc43b99b6c5213" prefix=" " category="inline-code"></block> 無、<block ref="45922ba6ba8428764f22ed06f814c762" prefix=" " category="inline-code"></block> 假、和<block ref="5bdf74912a51c34815f11e9a3d20b609" prefix=" " category="inline-code"></block> 錯。虛擬資源池是在儲存區段中定義的。</block>
  <block id="4930386ddaad825d64732ee9ec5e65b8" category="example-title">ONTAP SAN 範例</block>
  <block id="8a10ba8eb41944c10648f18ba7e16239" category="example-title">ONTAP SAN 經濟效益範例</block>
  <block id="50543d5d423c4c1a0b4fdd41383189e5" category="paragraph">下列 StorageClass 定義請參閱 <block ref="d690aebda44a37b8ae9c2c6f1918cb30" category="inline-xref-macro-rx"></block>。使用<block ref="bed471c4a88e25ac9a7e4a7b980700a8" prefix=" " category="inline-code"></block> 欄位中、每個 StorageClass 都會呼叫哪些虛擬集區可用於主控磁碟區。磁碟區將會在所選的虛擬資源池中定義各個層面。</block>
  <block id="514e71168790374132badc1258ee5136" category="list-text">。<block ref="63f9100803e1f67a5e33cbd5da9dbb33" prefix=" " category="inline-code"></block> StorageClass 會對應至中的第一個虛擬集區<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> 後端：這是唯一提供金級保護的集區。</block>
  <block id="a9c41ef671a6da4ed0f439f86683b714" category="list-text">。<block ref="afbfe298fa275e5fff1aca9b2f213d9a" prefix=" " category="inline-code"></block> StorageClass 會對應至中的第二個和第三個虛擬集區<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> 後端：這是唯一提供金級以外保護層級的集區。</block>
  <block id="910ed65246d7ee240ec166f94b1fd5c9" category="list-text">。<block ref="65846755494383158592c748f74421ec" prefix=" " category="inline-code"></block> StorageClass 會對應至中的第三個虛擬集區<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> 後端：這是唯一為 mysqldb 類型應用程式提供儲存池組態的集區。</block>
  <block id="fa03c7de8b1b7b7061bb536c211f3aaf" category="list-text">。<block ref="2e63b2ff91d4aeb88b54db5c90b71443" prefix=" " category="inline-code"></block> StorageClass 會對應至中的第二個虛擬集區<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> 後端：這是唯一提供銀級保護和 20000 個信用點數的資源池。</block>
  <block id="ac996ac8e4442d8a2791ba8b1e301a02" category="list-text">。<block ref="a96bee9dd30f3ea0af93b4c64ca1e4a4" prefix=" " category="inline-code"></block> StorageClass 會對應至中的第三個虛擬集區<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> 中的後端和第四個虛擬集區<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> 後端：這是唯一擁有 5000 個信用點數的集區方案。</block>
  <block id="b003731e1d339366ed065ffe5a0f50ca" category="paragraph">在下圖所示的範例後端定義檔中、會針對所有設定的儲存資源池設定特定的預設值<block ref="599dcce2998a6b40b1e38e8c6006cb0a" prefix=" " category="inline-code"></block> 銀級。虛擬資源池是在中定義的<block ref="ddecebdea58b5f264d27f1f7909bab74" prefix=" " category="inline-code"></block> 區段。在此範例中、有些儲存資源池會自行設定類型、有些資源池則會覆寫上述預設值。</block>
  <block id="622bbef04f6f2121d92777cd7c59cc83" category="list-text">根據預設、 Trident 安裝程式會在中部署運算子<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block> 命名空間。如果是<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block> 命名空間不存在、請使用以下方式建立：</block>
  <block id="5bb66df6f3cd1e022e0cb84d5ef9e8e6" category="list-text">可在非的命名空間中部署運算子<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block> 命名空間、更新<block ref="8610cac3beb01fb0b43bc94c587a807d" prefix=" " category="inline-code"></block>、<block ref="a3df76a4fb69b2a5e9ec42d242e90ea3" prefix=" " category="inline-code"></block> 和<block ref="9fa80de5781893b057ff1d535201893b" prefix=" " category="inline-code"></block> 並使用產生套裝組合檔案<block ref="67b2cc1cd5b1570014463995fb2ada61" prefix=" " category="inline-code"></block>。</block>
  <block id="c6c7f5dc0544ce8f73992592be4fa6f0" category="list-text">建立<block ref="67b2cc1cd5b1570014463995fb2ada61" prefix=" " category="inline-code"></block> 使用下列命令、其中包含 &lt;bundle&gt;<block ref="b30cd2dae2689e160b36283c2657caa5" prefix=" " category="inline-code"></block> 或<block ref="e4384751f7a5be47c7eaafbdfc116ab5" prefix=" " category="inline-code"></block> 以 Kubernetes 版本為基礎。</block>
  <block id="34e1bffd3ed9e5b9d2d9cec17fd7eadf" category="list-text">使用以下命令編譯套件（其中的 &lt;bundle&gt; 是）<block ref="b30cd2dae2689e160b36283c2657caa5" prefix=" " category="inline-code"></block> 或<block ref="e4384751f7a5be47c7eaafbdfc116ab5" prefix=" " category="inline-code"></block> 以 Kubernetes 版本為基礎。</block>
  <block id="806742cccf8380250ffb871d582a0a03" category="list-text">確認已建立運算子、部署和複本集。</block>
  <block id="9b800ce65251b771d0eb86610e11f6b0" category="list-text">可從叢集工作節點存取的現有 Amazon FSX for NetApp ONTAP 檔案系統和儲存虛擬機器（ SVM ）。</block>
  <block id="888a040cbb1dfe496b305a27374a73a5" category="list-text">Astra Trident僅支援安裝在Windows節點上執行的Pod上的SMB磁碟區。請參閱 <block ref="688177e6b45c5d27a545463079c58d82" category="inline-xref-macro-rx"></block> 以取得詳細資料。</block>
  <block id="f55c34459cf261d1102750bcbde548d8" category="paragraph">在您使用配置 SMB 磁碟區之前、請先使用<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> 驅動程式、您必須具備下列項目。</block>
  <block id="0533fb8f0faef28ecb6da05caf5fd644" category="cell">您可以指定下列其中一項：使用 Microsoft 管理主控台或 ONTAP CLI 建立的 SMB 共用名稱、或是允許 Astra Trident 建立 SMB 共用的名稱。

ONTAP 後端的 Amazon FSX 需要此參數。</block>
  <block id="433d29840a179b402df37de14e4679f3" category="summary">瞭解如何在 Astra Trident 安裝中建立及使用 ONTAP NAS 驅動程式。本節提供後端組態範例、以及如何將後端對應至StorageClass的詳細資料。</block>
  <block id="9b59e3a675bc9ca359f3369591ee7df3" category="cell">您可以指定下列其中一項：使用 Microsoft 管理主控台或 ONTAP CLI 建立的 SMB 共用名稱；允許 Astra Trident 建立 SMB 共用的名稱；或將參數保留空白以防止共用磁碟區存取。

對於內部部署 ONTAP 、此參數為選用項目。

Amazon FSX 需要此參數才能支援 ONTAP 後端、且不可為空白。</block>
  <block id="78e5b29e139db71ceb7ca6bc99b5e228" category="paragraph">這是最小的後端組態範例。<block ref="79fffaff4013c1e8c508e76646eca77b" prefix=" " category="inline-code"></block>、<block ref="19dce7ac7f5290fc8fa218ad0c858df5" prefix=" " category="inline-code"></block>和<block ref="8468461bca00a47ab5ddba2afc45f52c" prefix=" " category="inline-code"></block> （選用、如果使用信任的CA）會填入<block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block> 並分別取得用戶端憑證、私密金鑰及信任CA憑證的基礎64編碼值。</block>
  <block id="8c35a9f7d631f51e05811b36617db641" category="paragraph">本範例說明如何指示Astra Trident使用動態匯出原則來自動建立及管理匯出原則。這對的運作方式相同<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> 和<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> 驅動程式：</block>
  <block id="33ef55e82416e2c1c4beb9cba9560b02" category="paragraph">。<block ref="5910159ef86741f119f7574a9064b5b0" prefix=" " category="inline-code"></block> 使用 SMB 磁碟區的 ONTAP 需要 FSX 參數。</block>
  <block id="ef0e40b987d8b9ad523bdde2bba5157a" category="summary">瞭解使用 ONTAP NAS 驅動程式設定 ONTAP 後端的需求、驗證選項和匯出原則。</block>
  <block id="c63609aba869239be30364b58d99b1a3" category="section-title">驗證 ONTAP 後端</block>
  <block id="e5fdb627c170dc14e3873b3da32f3aa5" category="paragraph">只需稍加準備、您就可以使用來配置 SMB 磁碟區<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> 驅動程式：</block>
  <block id="8de0a7910b914d44521684fe2a3a28c6" category="paragraph">在配置 SMB 磁碟區之前、您必須具備下列項目。</block>
  <block id="ff8c6e3b6971ed699a5dc2e00455aa82" category="list-text">對於內部部署 ONTAP 、您可以選擇性地建立 SMB 共用、或是 Astra Trident 可以為您建立一個。</block>
  <block id="6a402202521e2168a911181e81c72faf" category="admonition">Amazon FSX for ONTAP 需要 SMB 共享。</block>
  <block id="7f7041fc0ca0e00f3d3e39e4ce4a5149" category="paragraph">您可以使用兩種方式之一來建立SMB管理共用區 <block ref="364bc251e9c8cfbf6ce258767d17d682" category="inline-link-macro-rx"></block> 共享資料夾嵌入式管理單元或使用ONTAP CLI。若要使用ONTAP CLI建立SMB共用：</block>
  <block id="00aa30f1783ef69183794c0da05e43b5" category="cell"><block ref="5910159ef86741f119f7574a9064b5b0" prefix="" category="inline-code"></block>
您可以指定下列其中一項：使用 Microsoft 管理主控台或 ONTAP CLI 建立的 SMB 共用名稱；允許 Astra Trident 建立 SMB 共用的名稱；或將參數保留空白以防止共用磁碟區存取。

對於內部部署 ONTAP 、此參數為選用項目。

Amazon FSX 需要此參數才能支援 ONTAP 後端、且不可為空白。</block>
  <block id="a513707a481ff6afe9846fefc6411bca" category="paragraph">Astra Trident希望以ONTAP 支援的形式執行、通常是以支援的方式執行<block ref="21232f297a57a5a743894a0e4a801fc3" prefix=" " category="inline-code"></block> 叢集使用者或<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block> SVM使用者、或具有相同角色之不同名稱的使用者。</block>
  <block id="624061180b7b402618e3add29c08bd51" category="paragraph">對於Amazon FSX for NetApp ONTAP 支援的NetApp功能、Astra Trident預期會以ONTAP 使用叢集的形式執行、以執行支援或SVM管理員的身分<block ref="679500f227997b45be97e3ca8115c678" prefix=" " category="inline-code"></block> 使用者或<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block> SVM使用者、或具有相同角色之不同名稱的使用者。。<block ref="679500f227997b45be97e3ca8115c678" prefix=" " category="inline-code"></block> 使用者是叢集管理使用者的有限替代。</block>
  <block id="7d159230ccaa721872f31bf9be31afeb" category="paragraph">雖然可以在 ONTAP 中建立更具限制性的角色、讓 Trident 驅動程式可以使用、但我們不建議這樣做。Trident的大多數新版本都會呼叫額外的API、而這些API必須納入考量、使升級變得困難且容易出錯。</block>
  <block id="37a679c38162162811d93d22ba8f5b4a" category="paragraph">瞭解使用 ONTAP SAN 驅動程式設定 ONTAP 後端的需求和驗證選項。</block>
  <block id="7fbe6e40125b7d1b2f5c5c05044e7526" category="section-title">啟用憑證型驗證</block>
  <block id="3262251091b863054cfabf046c0e3493" category="paragraph">NFS
中小企業</block>
  <block id="e8a058c8c47f6e4976a9fc5b5c00ec92" category="summary">建立 PersistentVolume （ PV ）和 PersistentVolume Claim （ PVC ）、使用設定的 Kubernetes StorageClass 來要求存取 PV 。然後、您可以將 PV 掛載至 Pod 。</block>
  <block id="a3b7bd8edd528214a68ac3ceb5c9935c" category="doc">配置 Volume</block>
  <block id="5ba2aa62f23a406454c266617a909b2c" category="inline-link-macro">_PersistentVolumer_</block>
  <block id="2d63b64b84c821bc810927f7ca7fa993" category="inline-link">_PersistentVolume Claim</block>
  <block id="327ef40b7c425ffcbf26478a9722fffd" category="paragraph">答 <block ref="a78bebec6640822542673392ee125821" category="inline-link-macro-rx"></block> （ PV ）是叢集管理員在 Kubernetes 叢集上配置的實體儲存資源。。<block ref="b1b93f46fc69df9fe663c091f4d6c2b4" category="inline-link-rx"></block> （ PVC ）是存取叢集上 PersistentVolume 的要求。</block>
  <block id="d948cda211eadd3a86a406b43ee0d5fa" category="paragraph">可將 PVC 設定為要求儲存特定大小或存取模式。叢集管理員可以使用相關的 StorageClass 來控制超過 PersistentVolume 大小和存取模式的權限、例如效能或服務層級。</block>
  <block id="62372f4a99505a189eb1b891ea0c1dc9" category="paragraph">建立 PV 和 PVC 之後、您可以將磁碟區裝入 Pod 。</block>
  <block id="35e98ba80f6254a33de7a37ab113316e" category="section-title">範例資訊清單</block>
  <block id="3c5f9191f489dbdd8d950bafc3dea6e0" category="example-title">PersistentVolume 範例資訊清單</block>
  <block id="a992ed82e7964281386cdd46c0c21da6" category="paragraph">此範例資訊清單顯示與 StorageClass 相關的 10Gi 基本 PV<block ref="1c62ceba602064183a6346b85fe26c96" prefix=" " category="inline-code"></block>。</block>
  <block id="79ddefb35e8989bd46983da549591a62" category="example-title">PersistentVolume Claim 範例資訊清單</block>
  <block id="cdeec5159e0548de993d76d7d1dcc992" category="paragraph">此範例顯示具有 rwo 存取權的基本 PVC 、與命名的 StorageClass 相關聯<block ref="1c62ceba602064183a6346b85fe26c96" prefix=" " category="inline-code"></block>。</block>
  <block id="214059413fbd58acf0b1945104224cf2" category="example-title">Pod 資訊清單範例</block>
  <block id="bb970cb0639998faceb4ab3a67e3f1e3" category="section-title">建立 PV 和 PVC</block>
  <block id="0305eb03fd924b3f68ccbf10aeced8a6" category="list-text">建立 PV 。</block>
  <block id="b4acd617ac02334a1b983b6ff960a909" category="list-text">確認 PV 狀態。</block>
  <block id="e1f83bd8f580cc9a48311142d551b3cf" category="list-text">建立 PVC 。</block>
  <block id="150f6f248f009f461b84862124e2b499" category="list-text">確認 PVC 狀態。</block>
  <block id="6a308a8072d1cf8c73629852d7f0b1af" category="list-text">將磁碟區裝入 Pod 。</block>
  <block id="b5450caedb9c7aa352b9fb0427aee784" category="admonition">您可以使用監控進度<block ref="6abdceb61753f298491e021c4da24ddd" prefix=" " category="inline-code"></block>。</block>
  <block id="8118780a1733b73d43c1042889af94bd" category="list-text">確認磁碟區已掛載到上<block ref="9f5298598b1aa26f257834220853cb05" prefix=" " category="inline-code"></block>。</block>
  <block id="6604c85c599768bb970b37e590ef79fe" category="list-text">您現在可以刪除 Pod 。Pod 應用程式將不再存在、但該磁碟區仍會保留。</block>
  <block id="03acae9774d9987ad049d0765b795840" category="paragraph">請參閱 <block ref="879ce943b486ecaae1c4cb96b01133e9" category="inline-link-macro-rx"></block> 如需儲存類別如何與互動的詳細資訊、請參閱<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block> 以及用於控制 Astra Trident 如何配置容量的參數。</block>
  <block id="6bd9323e6feca4fbf8b30b626be7920f" category="summary">您可以設計 Kubernetes StorageClass 檔案、並建立 StorageClass 以指示 Astra Trident 如何配置 Volume 。</block>
  <block id="adb998c877c843080cb8c94f182f8b6a" category="paragraph">設定 Kubernetes StorageClass 物件並建立儲存類別、以指示 Astra Trident 如何配置 Volume 。</block>
  <block id="95d4f411b57eb8201e27fa4636c30816" category="section-title">設定 Kubernetes StorageClass 物件</block>
  <block id="b8d89cc8455fbb137550c0819b7813c8" category="inline-link">Kubernetes StorageClass 物件</block>
  <block id="b92c56f76eb1fd7e747c63e99a829e57" category="paragraph">。<block ref="da3f7f170e13df7f56e057fc4226aa85" category="inline-link-rx"></block> 將 Astra Trident 識別為用於該類別的資源配置程式、指示 Astra Trident 如何佈建 Volume 。例如：</block>
  <block id="d955a256e02907c43d2afd5bfdb671ea" category="paragraph">建立 StorageClass 物件之後、即可建立儲存類別。 <block ref="1310ad9d78b8b659f76828400b5d8126" category="inline-xref-macro-rx"></block> 提供一些您可以使用或修改的基本範例。</block>
  <block id="a221a060125881c2027807248f8302a2" category="list-text">這是 Kubernetes 物件、請使用<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block> 在Kubernetes中建立。</block>
  <block id="f31a577daf927c7edc5555c9ceabc983" category="section-title">儲存類別範例</block>
  <block id="64c314ed1bd24115a72a8a4284115a5c" category="inline-link">特定後端的簡單儲存類別定義</block>
  <block id="cd05956789bea1b8ca185126ede9bfe6" category="paragraph">Astra Trident 提供<block ref="fdffa1e2d88d340a5703a5f7123df6a4" category="inline-link-rx"></block>。</block>
  <block id="d9ab9b10b2101546e16eeab0b981d10c" category="paragraph">或者、您也可以編輯<block ref="9a35c6080acd99f860d0c669b1a980f9" prefix=" " category="inline-code"></block> 安裝程式隨附並取代的檔案<block ref="9c9a0798e59f3f4d7b08e45faef1e131" prefix=" " category="inline-code"></block> 儲存驅動程式名稱。</block>
  <block id="ff87ac5778183437377f5f963a3dccac" category="paragraph">編輯 StorageClass 定義以設定<block ref="6add71a247c8f4513060920be14857bc" prefix=" " category="inline-code"></block> 欄位至<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>。</block>
  <block id="efe0663b3e4eed08a4a1b30c3f3a2aac" category="paragraph">編輯 PVC 定義並更新<block ref="02b011e6fe36e26e5f7365ba08bf5a48" prefix=" " category="inline-code"></block> 以反映新的所需大小、此大小必須大於原始大小。</block>
  <block id="9d384cd22f1c9bc6a23136fe35d2a51c" category="paragraph">將 PV 附加至 Pod 、以便調整大小。調整iSCSI PV的大小有兩種情況：</block>
  <block id="a22a8450047f7b7aea2c76b348f6ba43" category="summary">您可以檢視現有的儲存類別、設定預設的儲存類別、識別儲存類別後端、以及刪除儲存類別。</block>
  <block id="e372af4ebeb99af557aa13609f47f47c" category="admonition">叢集中一次只應有一個預設儲存類別。Kubernetes在技術上並不妨礙您擁有多個儲存類別、但它的行為方式就如同完全沒有預設的儲存類別一樣。</block>
  <block id="29b91846b4d21394034dc9b0f7414f8e" category="summary">Kubernetes 持續磁碟區（ PV ）的磁碟區快照可啟用磁碟區的時間點複本。您可以建立使用 Astra Trident 建立的磁碟區快照、匯入 Astra Trident 外部建立的快照、從現有快照建立新的磁碟區、以及從快照復原磁碟區資料。</block>
  <block id="ab12af74f48620acb3eaeb14535b6d02" category="paragraph">支援Volume Snapshot<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>、<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>、<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>、<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>、<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block>、<block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block>和<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block> 驅動程式：</block>
  <block id="c1ec7161e63fe862aeb30466f8f3f3b8" category="paragraph">您必須擁有外部快照控制器和自訂資源定義（ CRD ）、才能使用快照。這是Kubernetes Orchestrator的責任（例如：Kubeadm、GKE、OpenShift）。</block>
  <block id="d0838c5cbd45cca11f4f53eb773d017d" category="paragraph">如果您的Kubernetes發佈版本未包含快照控制器和CRD、請參閱 <block ref="048c22f74eff12037af96b48becdf135" category="inline-xref-macro-rx"></block>。</block>
  <block id="c4f5303a406f47eb87bf815d986165ee" category="section-title">建立磁碟區快照</block>
  <block id="86690b5147c7d6867042b834d17ef28b" category="list-text">建立<block ref="19476662cd814e0aa085eca121de89b8" prefix=" " category="inline-code"></block>。如需詳細資訊、請參閱 <block ref="0ad6a602adca2b32136ef84f7518b131" category="inline-link-macro-rx"></block>。</block>
  <block id="d5677a436c4d202c4475253ae64255b0" category="list-text">。<block ref="e2d45d57c7e2941b65c6ccd64af4223e" prefix=" " category="inline-code"></block> 指向 Astra Trident CSI 驅動程式。</block>
  <block id="eea37fbd5872936b77e1e2e8a4af0cea" category="list-text"><block ref="98e7d6463271d7848db255ae6467817a" prefix="" category="inline-code"></block> 可以<block ref="f2a6c498fb90ee345d997f888fce3b18" prefix=" " category="inline-code"></block> 或<block ref="afece4245269582cb2f1009d4fb52047" prefix=" " category="inline-code"></block>。設定為時<block ref="afece4245269582cb2f1009d4fb52047" prefix=" " category="inline-code"></block>、儲存叢集上的基礎實體快照、即使在<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block> 物件已刪除。</block>
  <block id="0c9cf2ac15a6b5c5324b08e91b840fa4" category="list-text">建立現有 PVC 的快照。</block>
  <block id="8f72fd9aa081cd83550f8e13086b8967" category="list-text">此範例會為名稱為 PVC 的 Volume Snapshot 物件建立一個<block ref="30520f4f96804df83914260b79f55962" prefix=" " category="inline-code"></block> 快照名稱設為<block ref="2599ab7993e15386327b6345bc1cc4e1" prefix=" " category="inline-code"></block>。Volume Snapshot類似於PVC、並與相關聯<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block> 代表實際快照的物件。</block>
  <block id="4a2834678b378c24001efcc2f1ca5238" category="list-text">您可以識別<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block> 的物件<block ref="2599ab7993e15386327b6345bc1cc4e1" prefix=" " category="inline-code"></block> 描述Volume Snapshot。。<block ref="25fb031d6a134e0fb5a240d6d4c12b01" prefix=" " category="inline-code"></block> 識別提供此快照的Volume SnapshotContent物件。。<block ref="a701d928aada0f89c8ad0abc16ccdfcc" prefix=" " category="inline-code"></block> 參數表示快照可用於建立新的 PVC 。</block>
  <block id="a7fab4013a8993c3310ee07c7e101fc1" category="section-title">從磁碟區快照建立 PVC</block>
  <block id="698ebb07855a850e7bcbd189f9322e21" category="paragraph">您可以使用<block ref="d9d448f70687a1aa1f12b2f5ddaa4977" prefix=" " category="inline-code"></block> 使用名為的 Volume Snapshot 建立 PVC<block ref="38741d2dca753415660b08a54f8ad3a9" prefix=" " category="inline-code"></block> 做為資料來源。建立好永久虛擬基礎架構之後、就能將它附加到Pod上、就像使用任何其他永久虛擬基礎架構一樣使用。</block>
  <block id="8d9f716dc04d23bb9af0a64fef3bbbd9" category="paragraph">以下範例使用建立 PVC<block ref="2599ab7993e15386327b6345bc1cc4e1" prefix=" " category="inline-code"></block> 做為資料來源。</block>
  <block id="c2d480d58505386b1609d69c842aaf44" category="section-title">匯入 Volume 快照</block>
  <block id="868f2cc6f424bbd531c3ac4f053a8125" category="inline-link-macro">Kubernetes 預先配置的快照程序</block>
  <block id="f6e6b6f8bbabf2b4d61efaa16f96f7c7" category="list-text">Trident 退貨<block ref="0253f5e864e2646df8eab03ca4f066ee" prefix=" " category="inline-code"></block>。</block>
  <block id="2fae3f8997b56adf73a63fcf9e10a75d" category="list-text">* 任何使用者： * 建立<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block> 以參考新的<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block>、其中<block ref="be455c19a1930c91806853db05c277d9" prefix=" " category="inline-code"></block> （或<block ref="43cbd4bd62b601d2f5e0b618220b0f44" prefix=" " category="inline-code"></block>）名稱為<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block> 名稱。</block>
  <block id="35d57da577b5f55299f7644e8b2de091" category="section-title">刪除含有相關快照的 PV</block>
  <block id="b1bc7c11251b98a19ba1fc0ad08275ed" category="section-title">部署 Volume Snapshot 控制器</block>
  <block id="785a74cfc0b587326abdc91a50fc4a95" category="paragraph">Astra Trident 提供動態管理 ONTAP 後端匯出原則的能力。這可讓儲存管理員為工作節點IP指定允許的位址空間、而非手動定義明確的規則。它可大幅簡化匯出原則管理；修改匯出原則不再需要在儲存叢集上進行手動介入。此外、這有助於限制只有在指定範圍內有IP的工作者節點才能存取儲存叢集、以支援精細且自動化的管理。</block>
  <block id="66cbadc48d2dbe3accb93937a8d42d1e" category="paragraph">必須使用兩種組態選項。以下是後端定義範例：</block>
  <block id="e98bc47811eddcaad07f10623b28d028" category="admonition">使用此功能時、您必須確保SVM中的根連接點具有先前建立的匯出原則、並具有允許節點CIDR區塊（例如預設匯出原則）的匯出規則。請務必遵循 NetApp 建議的最佳實務做法、將 SVM 專門用於 Astra Trident 。</block>
  <block id="1042787fd4ac6b51cfd71a9564293ec1" category="cell">使用 CHAP 驗證 iSCSI 。Astra Trident 使用 CHAP 。</block>
  <block id="16c5a19000fdf77116a42ef5615c4685" category="list-text"><block ref="a52f2fa2f1fec0074848a3750307fb69" prefix="" category="inline-code"></block>： AutoSupport 遙測的容器映像（預設為「 NetApp/trident autosupport ： &lt;current-version&gt; 」）。</block>
  <block id="1d1a0da3e4ed6ccf7826b60a0633c618" category="list-text"><block ref="4531ec288530509b32f6f51400c1fddc" prefix="" category="inline-code"></block>：覆寫 Trident 控制器 REST API 的 HTTP 要求逾時（預設值為 1m30s ）。</block>
  <block id="a03c5f2c1a3d118d44bc3e92d52663bb" category="paragraph">Trident也提供<block ref="77167d63af133b47bca3bbacd580fa44" prefix=" " category="inline-code"></block> 和<block ref="58c1c86186ef8de4f6e12d8f3aed8b64" prefix=" " category="inline-code"></block> 建立複本的附註。您可以使用這些註釋來複製 PVC 、而無需使用 CSI 實作。</block>
  <block id="5f117d85f5b23527c781bb26a4b15109" category="paragraph">。<block ref="75e4a0ceb294a9d74374c938e4e8ddc8" prefix=" " category="inline-code"></block> 目錄包含用於Trident的PVc定義範例。請參閱 <block ref="62155edb2842dfbdb69802620baa3865" category="inline-xref-macro-rx"></block> 以取得與 Trident Volume 相關的參數和設定的完整說明。</block>
  <block id="6229286496513c532bbb85d111e6228f" category="paragraph">Astra Trident的用途<block ref="99bc4b850e05bafd67cf5f5f49344c1e" prefix=" " category="inline-code"></block> 保留Trident物件身分的物件、例如Trident後端、Trident儲存類別和Trident Volume。這些物件由Trident管理。此外、「csi Volume Snapshot」架構也引進了定義Volume快照所需的部分CRD。</block>
  <block id="5ecf0e8b098b4ea6bc01c794d40a3fbe" category="section-title">Astra Trident<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> 物件</block>
  <block id="4b9c0a0ad9ce7e75e59f955a526e9367" category="section-title">Astra Trident 後端物件</block>
  <block id="1e82ec36f9663b7e8b91dc727ebaa70b" category="section-title">Astra Trident<block ref="5e5d444b688db40e013a7d0b8b3c0898" prefix=" " category="inline-code"></block> 物件</block>
  <block id="5e32849b22982f8931eb5a8a2b334104" category="section-title">Astra Trident<block ref="bd7a9717d29c5ddcab1bc175eda1e298" prefix=" " category="inline-code"></block> 物件</block>
  <block id="4d030713789beb2071b47e51b99ea17f" category="section-title">Astra Trident<block ref="d4e2713d1b1725a1592f9268589f990d" prefix=" " category="inline-code"></block> 物件</block>
  <block id="822293db528ee892466bd05ecce74b14" category="section-title">Astra Trident 的重要資訊</block>
  <block id="88faa8ac89cdba5b170eddcb5d3c227f" category="list-text">Kubernetes 1.22 - 1.27</block>
  <block id="aa919adfeb24335f206c7d14733b5a18" category="list-text">OpenShift 4.10 - 4.13</block>
  <block id="a5fd2691a6a5df653970895b1c5045ed" category="inline-link-macro">升級 Helm 安裝</block>
  <block id="e94d606eb30ec23b1c90bde5c842bbd7" category="admonition">在將Kubernetes叢集從1.24升級至1.25或更新版本、且已安裝Astra Trident之前、請參閱 <block ref="1b428bb9b9fe27db6cd8932526864634" category="inline-link-macro-rx"></block>。</block>
  <block id="bdecef051e32495c339265b13937fdd2" category="list-text">Docker 。 IO/NetApp/trident 自動支援： 23.07</block>
  <block id="9b99c0d216202fb5b3542f33737fc7cd" category="list-text">registry ． k8s.io/SIG-storage / csi 置備程序： v3.5.0</block>
  <block id="51c642e645718f28d506b2bf03ecad77" category="list-text">登錄 .k8s.IO/SIG-storage / csi 附加程式： v4.3.0</block>
  <block id="2b137b6d62621064ff952b61fea42b29" category="list-text">登錄 .k8s.io/SIG-storage / csi 大小調整： v1.8.0</block>
  <block id="18a8e4619e4059aeaf215a48da7867f9" category="list-text">登錄 .k8s.IO/SIG-storage / csi 快照機： v6.2.2</block>
  <block id="20388ac1d79215adf3bb812d9291e0be" category="list-text">登錄 .k8s.io/SIG-storage / csi 節點驅動程式登錄器： V2.5.0</block>
  <block id="a97fcb333111f781986275ea628fc4da" category="summary">Astra Trident 會在叢集中的每個工作節點上、以單一控制器 Pod 加上節點 Pod 的形式執行。節點 Pod 必須在任何想要裝載 Astra Trident Volume 的主機上執行。</block>
  <block id="26ad893be275d6f4dd0e2992250c147f" category="inline-link-macro">Kubernetes CSI Sidecar Container</block>
  <block id="db4723304a1add25b171bb663d394c84" category="paragraph">Astra Trident 部署為單一 <block ref="7f05a5daccc48435b05c14a7b739fa36" category="inline-xref-macro-rx"></block> 以及一或多個 <block ref="8642ddce0d2b15cad48dfefb369d4c89" category="inline-xref-macro-rx"></block> 在 Kubernetes 叢集上、並使用標準 Kubernetes _CSI Sidecar Containers_ 來簡化 CSI 外掛程式的部署。 <block ref="c1b69fa7e0376b667b144d553d4653a8" category="inline-link-macro-rx"></block> 由 Kubernetes 儲存社群維護。</block>
  <block id="4d519246037122ee497d936027625f3f" category="paragraph">Kubernetes <block ref="219288b06ade6fd51c16efe605941441" category="inline-link-macro-rx"></block> 和 <block ref="9466cd429d8630101055a8fd14904bd9" category="inline-link-macro-rx"></block> 用於限制 Pod 在特定或偏好的節點上執行。您可以在 Astra Trident 安裝期間、為控制器和節點 Pod 設定節點選取器和公差。</block>
  <block id="fe074a7b5062cf480cd4090c9aa43d35" category="image-title">Astra Trident 部署在 Kubernetes 叢集上</block>
  <block id="401bff2b74ab332d611440cb096ebd63" category="image-alt">Kubernetes 叢集上的 Astra Trident 架構圖表。</block>
  <block id="7457022455b6a26d17766b38200639d9" category="section-title">Trident 控制器 Pod</block>
  <block id="8268d8b8723783972c959e76371dd7df" category="paragraph">Trident 控制器 Pod 是執行 CSI 控制器外掛程式的單一 Pod 。</block>
  <block id="4d52310e56906c6b51b5691f5aca1a86" category="list-text">負責在 NetApp 儲存設備中佈建及管理磁碟區</block>
  <block id="64ebc3b44b9bf9706d440310d6edc2a9" category="list-text">由 Kubernetes 部署管理</block>
  <block id="77dde6100b9c974d6b8f13a2c5a5d91f" category="list-text">可在控制面或工作節點上執行、視安裝參數而定。</block>
  <block id="c8d85d76462b8224e3b823eec9636faa" category="image-title">Trident 控制器 Pod 圖表</block>
  <block id="bea45d305fedae15441ab438c3abf9a6" category="image-alt">執行 CSI 控制器外掛程式的 Trident 控制器 Pod 圖、並附有適用的 CSI 側邊。</block>
  <block id="7ac36fe121832c95b5cc692aac2d42e9" category="section-title">Trident 節點 Pod</block>
  <block id="cb5b3335d8639110c33aa74ae67f7ec2" category="paragraph">Trident Node Pod 是執行 CSI Node 外掛程式的特殊權限 Pod 。</block>
  <block id="23b09b316e4e6d2ab77e24ae85097f4f" category="list-text">負責裝載和卸載主機上執行的 Pod 儲存設備</block>
  <block id="5d6469c46b1f411571e059e13a5fe826" category="list-text">由 Kubernetes 示範集管理</block>
  <block id="723997cd24cc1452bfa6efd9349f4262" category="list-text">必須在將裝載 NetApp 儲存設備的任何節點上執行</block>
  <block id="ffc3cbdd80c8b7dee840511d7c7b2cce" category="image-title">Trident Node Pod 圖表</block>
  <block id="8f29ef239c0926132689374fc142a732" category="image-alt">使用適用的 CSI sidecar 執行 CSI Node 外掛程式的 Trident Node Pod 圖表。</block>
  <block id="f7061d58754c5b931160c3682d0a1990" category="summary">Astra Trident是NetApp在Astra產品系列中所維護的完整支援開放原始碼專案。其設計旨在協助您使用業界標準介面（例如 Container Storage Interface （ CSI ））來滿足容器化應用程式的持續需求。</block>
  <block id="7a19c007a4b226b38d5083e75e0b81c5" category="paragraph">Astra Trident 是由 NetApp 維護的完全支援開放原始碼專案、是的一部分 <block ref="a1650a2308dbba03b9ca704756a5a37d" category="inline-link-macro-rx"></block>。其設計旨在協助您使用業界標準介面（例如 Container Storage Interface （ CSI ））來滿足容器化應用程式的持續需求。</block>
  <block id="d53515658d4ee6f86fc8c7bc0c6158a7" category="paragraph">Astra可讓企業更輕鬆地管理、保護及搬移在公有雲內部及內部部署的Kubernetes上執行的資料豐富的容器化工作負載。</block>
  <block id="82cf01b889b2b07b25693168b674d1fa" category="paragraph">Astra 提供並提供以 Astra Trident 為基礎的永久性容器儲存設備。它也提供先進的應用程式感知資料管理功能、例如快照、備份與還原、活動記錄、以及主動複製、以保護資料、災難 / 資料恢復、資料稽核、以及 Kubernetes 工作負載的移轉使用案例。</block>
  <block id="c2537fa0108c78965a232ce91e201649" category="inline-link-macro">Astra 或註冊免費試用</block>
  <block id="50034647010e013c2ef85849d6596455" category="paragraph">深入瞭解 <block ref="e3ab0bc094b5f5922b36a8f82419e175" category="inline-link-macro-rx"></block>。</block>
  <block id="67d2496668f52509ed9b31321ed0ad92" category="section-title">什麼是 Astra Trident ？</block>
  <block id="2ef4899233dc95a6c5d56a5803e8707f" category="paragraph">Astra Trident 可在所有常見的 NetApp 儲存平台、公有雲或內部部署（包括 ONTAP （ AFF 、 FAS 、 Select 、 Cloud 、 Amazon FSX for NetApp ONTAP ）、 Element 軟體（ NetApp HCI 、 SolidFire ）、 Azure NetApp Files 服務、以及 Google Cloud 上的 Cloud Volumes Service 。</block>
  <block id="c91b2e44f4ff3aa5f18de409969c58ba" category="paragraph">Astra Trident 是符合 Container Storage Interface （ CSI ）規範的動態儲存協調器、可與原生整合 <block ref="c4f47b2d4c7b6c009c3ed9bc1f952dce" category="inline-link-macro-rx"></block>。Astra Trident 會在叢集中的每個工作節點上、以單一控制器 Pod 加上節點 Pod 的形式執行。請參閱 <block ref="d9cc95c35405d0ba55bb1c80379b860b" category="inline-link-macro-rx"></block> 以取得詳細資料。</block>
  <block id="f4cab711a5db26c5dec21e0173f62fd7" category="paragraph">Astra Trident 也可直接整合 NetApp 儲存平台的 Docker 生態系統。NetApp Docker Volume 外掛程式（ nDVP ）支援從儲存平台到 Docker 主機的儲存資源配置與管理。請參閱 <block ref="bd99603bf838e5d30758870d40588f8e" category="inline-link-macro-rx"></block> 以取得詳細資料。</block>
  <block id="58095fffdb6c13585af5e47e876f7afe" category="inline-link-macro">Kubernetes 概念與工具</block>
  <block id="1bc6462cd59612636c72620a6a67410b" category="admonition">如果這是您第一次使用 Kubernetes 、您應該熟悉 <block ref="41eecc10f74d492dbf2a2c207d5acb1b" category="inline-link-macro-rx"></block>。</block>
  <block id="b513091c9ef80c504ca4004f0f33cee7" category="section-title">參加 Astra Trident 試用</block>
  <block id="67d2e4eb35b7300690ac2b14677e2fad" category="paragraph">若要試用、請要求存取「輕鬆部署及複製容器化工作負載的持續儲存設備」 <block ref="eb9c34df0ed196dd801ef85207c8bf2c" category="inline-link-macro-rx"></block> 使用現成的實驗室映像。此測試磁碟機提供一個沙箱環境、其中安裝並設定了三節點 Kubernetes 叢集和 Astra Trident 。這是熟悉 Astra Trident 並探索其功能的好方法。</block>
  <block id="3ff64d30b8ccd0f89740b2ba54cf8bf3" category="paragraph">另一個選項是 <block ref="c7dbb75618a5e106a360075f923cb87f" category="inline-link-macro-rx"></block> 由Kubernetes提供。</block>
  <block id="80f4cfbe493e12651c3514c9481ce1ee" category="admonition">請勿在正式作業環境中使用這些指示來建置 Kubernetes 叢集。請使用經銷商所提供的正式作業部署指南、以用於正式作業就緒的叢集。</block>
  <block id="46e28df17b257e6671b042b98bd37787" category="list-text"><block ref="46e28df17b257e6671b042b98bd37787" category="inline-link-rx"></block></block>
  <block id="fac0082fb8411565f3d5cb3788a17b17" category="doc">Astra Trident 的快速入門</block>
  <block id="9a052cea99f186c7d930a0041b20a79b" category="admonition">如需 Docker 、請參閱 <block ref="934c01af2efea144da6665bf428d8f6d" category="inline-link-macro-rx"></block>。</block>
  <block id="b0434693308513b990bcffe2314d6fb5" category="paragraph-title"><block ref="58f667aaf05f87159670e12bd9bc076b" category="inline-image-macro-rx" type="image"></block> 安裝Astra Trident</block>
  <block id="c8fce1b550592f1b2285ab7a61547927" category="paragraph">Astra Trident 提供多種安裝方法和模式、針對各種環境和組織進行最佳化。</block>
  <block id="f15ffbfcd0e5a0ad91ac171f83121ff4" category="paragraph"><block ref="f15ffbfcd0e5a0ad91ac171f83121ff4" category="inline-link-macro-rx"></block></block>
  <block id="2d15dd50ddfe5e28746975645a5652ca" category="paragraph-title"><block ref="54f425ce8d89f4ed6b8a546561af5d60" category="inline-image-macro-rx" type="image"></block> 準備工作節點</block>
  <block id="aba4bc9d3bde7d18b07c23d5c7d0f495" category="paragraph">Kubernetes叢集中的所有工作節點都必須能夠掛載您已為Pod配置的磁碟區。</block>
  <block id="f3b066024fd8e2699d194d41d5e46a5d" category="paragraph-title"><block ref="05b2444faffd66d76e88602ea7dd353f" category="inline-image-macro-rx" type="image"></block> 建立後端</block>
  <block id="2865195658f1488af43d46690ad5826e" category="inline-link-macro">設定後端</block>
  <block id="079428cf070b5e0039780f2cb4a5a962" category="paragraph"><block ref="8be76aeedec602130bcedf5acbf56030" category="inline-link-macro-rx"></block> 適用於您的儲存系統</block>
  <block id="eda4708b025e26e5f9759856f4f88876" category="paragraph-title"><block ref="beadfa85a2fdca06b91edc1131c603e6" category="inline-image-macro-rx" type="image"></block> 建立 Kubernetes StorageClass</block>
  <block id="24740ec53fb04d2caca5671a9e9f554f" category="paragraph">Kubernetes StorageClass 物件會將 Astra Trident 指定為置備程式、並可讓您建立儲存類別、以使用可自訂的屬性來佈建磁碟區。Astra Trident 為 Kubernetes 物件建立相符的儲存類別、以指定 Astra Trident 資源配置程式。</block>
  <block id="abf99adee0d47955ab8c148a0937ce6e" category="paragraph"><block ref="abf99adee0d47955ab8c148a0937ce6e" category="inline-link-macro-rx"></block></block>
  <block id="e5d9de39f7ca1ba2637e5640af3ae8aa" category="inline-image-macro">五</block>
  <block id="b625988ee18e5f1370f9b328cfa197b7" category="paragraph-title"><block ref="99e8b2f00e172bfcff96afdce69907bc" category="inline-image-macro-rx" type="image"></block> 配置 Volume</block>
  <block id="185cde3c1e3ef64c59eaee8662d4048a" category="paragraph">_PersistentVolumer_ （ PV ）是叢集管理員在 Kubernetes 叢集上配置的實體儲存資源。_PersistentVolume Claim （ PVC ）是存取叢集上 PersistentVolume 的要求。</block>
  <block id="7646000ea978570e919e657f5ec9aa57" category="paragraph"><block ref="7646000ea978570e919e657f5ec9aa57" category="inline-link-macro-rx"></block></block>
  <block id="abefc87b0c4c459aa6fdb12d98caf984" category="paragraph">您現在可以新增其他後端、管理儲存類別、管理後端、以及執行 Volume 作業。</block>
  <block id="fcf85cd17f22ed47dfe9169453e44dc1" category="paragraph">Astra Trident 會將新磁碟區與設定的存取群組建立關聯、但不會自行建立或以其他方式管理存取群組。存取群組必須先存在、才能將儲存後端新增至 Astra Trident 、而且必須包含 Kubernetes 叢集中每個節點的 iSCSI IQN 、這些節點可能會裝載該後端所佈建的磁碟區。在大多數安裝中、這包括叢集中的每個工作節點。</block>
  <block id="ca3c25915a30bef4ec583f6082477acf" category="paragraph">如果您是從使用預設值的組態修改組態<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block> 存取群組也會使用其他群組、包括的ID<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block> 清單中的存取群組。</block>
  <block id="88e4f10ca85b56deb88df953f1b028c9" category="admonition">如果您使用 Astra Control 來保護、恢復和移動、請閱讀 <block ref="655b383e69b0d2ae89ad0b4bf7e37964" category="inline-xref-macro-rx"></block>。</block>
  <block id="c6891a9678e67fff611982bdd3dc5a4d" category="section-title">Astra Control 驅動程式相容性</block>
  <block id="b2edeceecc054572188ee3b08cd58c64" category="list-text">放置二進位檔案並建立組態檔案之後、請使用所需的組態檔案啟動 Trident 精靈。</block>
  <block id="ed79382c003eb221606454bd2116c86f" category="summary">Astra Trident是由NetApp維護的開放原始碼儲存資源配置程式和Orchestrator。它可讓您為Docker和Kubernetes所管理的容器化應用程式建立儲存磁碟區。** 請閱讀版本說明、瞭解升級至 Astra Trident 23.07 的重要資訊。 **</block>
  <block id="19b14d01c950971a7d832e9a179ba005" category="doc">Astra Trident 23.07 文件</block>
  <block id="b4f83b03956523a39e8bbbd0895f0f29" category="inline-link-macro">Cloud Insights</block>
  <block id="46792977f68671d8fa16e6cf46018cf1" category="paragraph">是的。可用於收集 Astra Trident 作業相關資訊的 Prometheus 端點、例如管理的後端數目、已配置的磁碟區數量、使用的位元組等。您也可以使用 <block ref="7a2477b8055ecdaa4bd473b0556bcb2a" category="inline-link-macro-rx"></block> 用於監控與分析。</block>
  <block id="8bcc65cd81ef7ffed875ca40674efa09" category="paragraph">是的。Astra Trident 支援 ONTAP 後端的雙向 CHAP 。這需要設定<block ref="68978ccf4ed83900c8dd27558ca5ec18" prefix=" " category="inline-code"></block> 在後端組態中。</block>
  <block id="10318a43fca1fe376b7af5445f41fec8" category="paragraph">Astra Trident可從20.04版起、動態建立及管理匯出原則。如此一來、儲存管理員就能在其後端組態中提供一或多個CIDR區塊、並將位於這些範圍內的Trident新增節點IP、加入其所建立的匯出原則。如此一來、Astra Trident就能自動管理新增和刪除在指定CIDR內具有IP的節點規則。</block>
  <block id="63bfc0691d397470e5b0b05f2a9bcbe4" category="inline-link-macro">問題 #740</block>
  <block id="c8af8b49eb3be9ce411280db66de8a12" category="list-text">修正 Trident 升級、以忽略卡在終止狀態（<block ref="6f993c83118cc4a1dd5351c8501e26c9" category="inline-link-macro-rx"></block>）。</block>
  <block id="cf182305f6f941fa317842399de1ca4a" category="inline-link-macro">問題 #795</block>
  <block id="4f2f189f428da83c5c5d7e21123fb37a" category="list-text">新增公差至「暫態 - 三叉 - 版本 - pod 」定義（<block ref="cc0c8d3c31e9e289114ade0ef394e90b" category="inline-link-macro-rx"></block>）。</block>
  <block id="0fc3850c9a9a5c53529bc5bfadf0cd58" category="list-text">修正 ONTAP ZAPI 要求、確保在節點暫存作業期間取得 LUN 屬性以識別和修正軌跡 iSCSI 裝置時、會查詢 LUN 序號。</block>
  <block id="d5d58a85f5f4a2ac889804742dd7cbb0" category="inline-link-macro">問題 #816</block>
  <block id="057a4c7c1e2ca8cd3deafe12ee9f2083" category="list-text">已修正儲存驅動程式碼（<block ref="9862a2577d865ba18fdd2c972f46545b" category="inline-link-macro-rx"></block>）。</block>
  <block id="97327b29ec21422eaecf8ba479782331" category="list-text">使用 ONTAP 驅動程式搭配 use-rest = true 時、可調整固定配額大小。</block>
  <block id="4e6566ec95776d26fcd04a8b88c3e2bc" category="list-text">在 ONTAP SAN 經濟環境中建立固定 LUN 複製。</block>
  <block id="dcfc8521cd4d3b29941e756366e00988" category="list-text">從還原發佈資訊欄位<block ref="380d41b2be72ecdeb109d9d8bf377a97" prefix=" " category="inline-code"></block> 至<block ref="cad41ea6c72f7b62b784d199bdd6ec73" prefix=" " category="inline-code"></block>；新增邏輯以填入及恢復（在某些情況下）<block ref="cad41ea6c72f7b62b784d199bdd6ec73" prefix=" " category="inline-code"></block> 欄位。</block>
  <block id="4f2d668b01cf06eca683c287dd7e5082" category="list-text">新增匯入預先配置快照的支援。</block>
  <block id="c47a181e80e553128675166326adecf7" category="inline-link-macro">問題 #817</block>
  <block id="5f595b574bc00c971991f9f665431b60" category="list-text">最小化部署和取消 Linux 權限設定（<block ref="aef28cf398bf45d3657483afbc3d3240" category="inline-link-macro-rx"></block>）。</block>
  <block id="62dcabbe3f6dc07f213482f5acada256" category="list-text">不再報告「線上」磁碟區和快照的狀態欄位。</block>
  <block id="4ff2bb4ecc0b6d51be0477f9d63d5273" category="inline-link-macro">問題 #801</block>
  <block id="9fde208cd399f14480a57fc99b20d291" category="inline-link-macro">#543</block>
  <block id="0696447eb82cdf62dcb8b6c916f35746" category="list-text">如果 ONTAP 後端離線（<block ref="961e04dd6eabff35abb325a6607994ca" category="inline-link-macro-rx"></block>、 <block ref="fc57c79b0b6691b508ed06011d9f5581" category="inline-link-macro-rx"></block>）。</block>
  <block id="277ca88d500a9627118781ff85088e70" category="list-text">LUN 序號一律會在 ControllerVolume Publish 工作流程中擷取及發佈。</block>
  <block id="810ba7b767989fc4c733ae7e9e3460cd" category="list-text">新增其他邏輯來驗證 iSCSI 多重路徑裝置序號和大小。</block>
  <block id="76ba5d25ded4cc29f1dbfeb16ad652f4" category="list-text">iSCSI 磁碟區的額外驗證、確保未分段正確的多重路徑裝置。</block>
  <block id="3f46c22d346dcb4ef51b664a9e105030" category="section-title">實驗性增強</block>
  <block id="866a2a7036f4701ef7fe25f161516e81" category="paragraph">新增 ONTAP SAN 驅動程式的 NVMe over TCP 技術預覽支援。</block>
  <block id="8e2ae59abc43c08fd49c55abd4da0925" category="paragraph">許多組織和格式化的改善都已完成。</block>
  <block id="fbfae4e9fcac672dd7f5304651cd7713" category="list-text">移除對 v1beta1 快照的支援。</block>
  <block id="662d0c4b0dab9a3aa7e86162000ad383" category="list-text">移除對 CSI 前磁碟區和儲存類別的支援。</block>
  <block id="8c20e8f4703bb12917ce6ae87f5c65a1" category="list-text">已將支援的 Kubernetes 最小值更新為 1.22 。</block>
  <block id="30e50aa1d9f8718f34cb0ecbef4ec9ea" category="section-title">23.04 年的變更</block>
  <block id="bd669abfdc05714a67725374ec8795ed" category="paragraph">NetApp建議部署雙向CHAP、以確保主機與NetApp HCI 支援功能及SolidFire 支援功能之間的驗證。Astra Trident使用每個租戶包含兩個CHAP密碼的秘密物件。安裝 Astra Trident 時、它會管理 CHAP 機密、並將其儲存在中<block ref="3ddc70b4b408f6dd5bbd5fe7d6008993" prefix=" " category="inline-code"></block> 對應PV的CR物件。建立 PV 時、 Astra Trident 會使用 CHAP 機密來啟動 iSCSI 工作階段、並透過 CHAP 與 NetApp HCI 和 SolidFire 系統通訊。</block>
  <block id="da644f9e3f33b9b8b1a75f2b066fc084" category="admonition">Astra Trident 所建立的磁碟區不會與任何 Volume Access Group 相關聯。</block>
  <block id="2ae7281d275fb0db889e8ad073e94629" category="paragraph">您可以在後端定義中指定CHAP啟動器和目標使用者名稱和密碼、並在SVM上啟用Trident啟用CHAP。使用<block ref="099cb468880f266cba40b49391fa46bc" prefix=" " category="inline-code"></block> 後端組態中的參數、Trident會驗證iSCSI連線ONTAP 、以CHAP作為後端。</block>
  <block id="8f971d8f40dd91f1f3041a0d7faf5f85" category="paragraph">您應該確保每個後端都有一個匯出原則、只允許存取Kubernetes叢集中的節點。Trident 可以自動建立及管理匯出原則。如此一來、Trident就能限制對Kubernetes叢集中節點所配置之磁碟區的存取、並簡化節點的新增/刪除作業。</block>
  <block id="6266c7eef6928dbebcb2fa1abb611959" category="verse-content-simple">上述表格的註腳：
是註腳： 1[] ：不由 Astra Trident 管理
是註腳： 2[] ：由 Astra Trident 管理、但非 PV Granular 管理
是註腳： 3[] ：不由 Astra Trident 管理、而非 PV Granular 管理
是註腳： 4[] ：支援原始區塊磁碟區
是註腳： 5[] ： Astra Trident 支援</block>
  <block id="1c62ad76355c68d0de5faf475ab1861e" category="inline-link-macro">Astra Trident 支援生命週期</block>
  <block id="039b1be5cbe744fb8a84aa3fb3f1e4e0" category="paragraph">如果您未執行 Astra Trident 23.07 、則會根據提供先前版本的文件 <block ref="6e1ac221c7aa10f6bb30cbfd51cb3204" category="inline-link-macro-rx"></block>。</block>
  <block id="35e136dc2ee53639294dbf7dbadf4436" category="inline-link">Astra Trident 23.04</block>
  <block id="b409a213a2362e60968efbd1c87c6713" category="list-text"><block ref="b409a213a2362e60968efbd1c87c6713" category="inline-link-rx"></block></block>
  <block id="727d2d1e15a5c7260e90c50b1c250a4c" category="inline-link">Astra Trident 20.10</block>
  <block id="568faefb90021c668cb5de911e54d468" category="list-text"><block ref="568faefb90021c668cb5de911e54d468" category="inline-link-rx"></block></block>
  <block id="52009bb7ee17227f566cd26a02caee56" category="inline-link-macro"><block ref="52009bb7ee17227f566cd26a02caee56" category="inline-link-rx"></block></block>
  <block id="a1a9afcf552a769c282769271829889a" category="paragraph"><block ref="a1a9afcf552a769c282769271829889a" category="inline-link-macro-rx"></block></block>
  <block id="f99aa604031e5049799e73b5c3748a98" category="inline-link-macro"><block ref="f99aa604031e5049799e73b5c3748a98" category="inline-link-rx"></block></block>
  <block id="5d545fe5152641e2ebe654e336e520e5" category="paragraph"><block ref="5d545fe5152641e2ebe654e336e520e5" category="inline-link-macro-rx"></block></block>
  <block id="88e5eabd3917048b6927c42496b98f86" category="inline-link-macro"><block ref="88e5eabd3917048b6927c42496b98f86" category="inline-link-rx"></block></block>
  <block id="dd38f906b37d412de7d1c1dcf4cbf31c" category="paragraph"><block ref="dd38f906b37d412de7d1c1dcf4cbf31c" category="inline-link-macro-rx"></block></block>
  <block id="8acb58cbd50ef1b468a020ee0bd351d3" category="inline-link-macro"><block ref="8acb58cbd50ef1b468a020ee0bd351d3" category="inline-link-rx"></block></block>
  <block id="2352c4e1f4d0024ade0869e00e6243f4" category="paragraph"><block ref="2352c4e1f4d0024ade0869e00e6243f4" category="inline-link-macro-rx"></block></block>
  <block id="1b42faf3fa3bff2aa6908b45f8fa32d3" category="section-title">Astra Trident 23.07 的重要資訊</block>
  <block id="7b0d9f7412b27b7678fe3c1e9ecd655d" category="example-title">&lt;strong&gt; 問責表 &lt;/strong&gt;</block>
  <block id="1e208b01b50ff4accf1a23f62c0926e1" category="paragraph">叢集範圍的 Trident 運算子可在叢集層級管理與 Astra Trident 安裝相關的資源。這可減輕使用命名空間範圍運算子來維護叢集範圍資源時可能造成的錯誤。這對於自我修復和修補至關重要。</block>
  <block id="33ab2c3f94452baf7f17dab03982edfb" category="paragraph">之後<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> 更新後、營運者會處理更新並修補現有安裝。這可能會觸發建立新的 Pod 、以據此修改安裝。</block>
  <block id="ac0482b416d6b2d907db760f79e018a7" category="example-title">&lt;strong&gt; 的重新安裝過程 &lt;/strong&gt;</block>
  <block id="ae2cbb250a37c9e09570ff02857e4cbe" category="paragraph">叢集範圍的 Trident 運算子可清除移除叢集範圍的資源。使用者可以完全解除安裝 Astra Trident 、並輕鬆重新安裝。</block>
  <block id="8e2504f56599a577cd2bbee322a41d4e" category="paragraph">Astra Trident依照每季發行時段進行、每一日曆年發行四個主要版本。每個新版本均以舊版為基礎、並提供新功能、效能增強、錯誤修正及改善功能。我們鼓勵您每年至少升級一次、以善用Astra Trident的新功能。</block>
  <block id="4aa39142850a8999e9a4e9350f8bfbe9" category="list-text">Astra Trident 23.07 及更新版本需要 v1 Volume 快照、不再支援 Alpha 或 beta 快照。</block>
  <block id="34c1edfb4ac8581528c3791be680aeb3" category="inline-link-macro">CVS服務類型</block>
  <block id="5797c3891863b81173e1bb10d6488a72" category="inline-link-macro">CVS 服務類型範例</block>
  <block id="7993b54bc115df4675f3a823c4f0a34b" category="list-text">如果您在中建立了 Cloud Volumes Service for Google Cloud <block ref="f85eaeb5fc440d0981667ac30b117af7" category="inline-link-macro-rx"></block>、您必須更新後端組態才能使用<block ref="317ec56a799e879712bbd2d0fcbd3b93" prefix=" " category="inline-code"></block> 或<block ref="75b65576cc4a19f0836b73610ad5957a" prefix=" " category="inline-code"></block> 從 Astra Trident 23.01 升級時的服務層級。無法更新<block ref="f1d0ae63f2e948a9e43dcc60303d595d" prefix=" " category="inline-code"></block> 在後端中、可能會導致磁碟區故障。請參閱 <block ref="83a0df2fb9a604879fdb2fab6c5f77c1" category="inline-link-macro-rx"></block> 以取得詳細資料。</block>
  <block id="6429305365094c29848a93a6d17a7f53" category="list-text">https://github.com/NetApp/trident/tree/master/trident-installer/sample-input[sample INPUT ^] 目錄包含 https://github.com/NetApp/trident/blob/master/trident-installer/sample-input/storage-class-samples/storage-class-basic.yaml.templ 等範例<block ref="9abb8c7777ddb413820ee07d5d93aa4a" prefix="[" category="inline-code"></block>^] 和連結： https://github.com/NetApp/trident/blob/master/trident-installer/sample-input/storage-class-samples/storage-class-bronze-default.yaml<block ref="69ae2d9a6d831af7488e53fec053b77e" prefix="[" category="inline-code"></block>^]。</block>
  <block id="bd13b44dd39ca58b0cf89a17d8a43f0e" category="list-text">如需詳細資訊、請參閱 <block ref="04cf7258a315ca08f4b436c194fef69d" category="inline-link-macro-rx"></block>。</block>
  <block id="48ac462ded5eb0988ed401f7da378102" category="list-text">您可以直接升級至安裝版本的四個版本範圍內的任何目標版本。例如、您可以直接從 22.07 （或任何 22.07 點版本）升級到 23.07 。</block>
  <block id="2251733916a92fc0c61d943165128928" category="inline-link-macro">舊版</block>
  <block id="d72c4dbe3a7bcd15dfb605aa584d9e06" category="list-text">如果您要從四個版本的外部版本升級、請執行多步驟升級。請使用的升級指示 <block ref="a799aa6eaf3a5192b34ea19f24bb716f" category="inline-link-macro-rx"></block> 您要從升級至最新版本、以符合四個版本的時間範圍。例如、如果您執行 21.07 且想要升級至 23.07 ：</block>
  <block id="8d5724ba65902bcd4a2074b550d98e02" category="list-text">第一次從 2007 年 21 月 7 日升級至 2007 年 22 月 22 日。</block>
  <block id="f2576433ea639d3237f635a8f173e34c" category="list-text">然後從 22.07 升級到 23.07 。</block>
  <block id="7bd3bf704987c7c25848acd94f0e499d" category="list-text">使用<block ref="8dd3e3fab389d3d56b4dbea697d52e91" prefix=" " category="inline-code"></block> 檢查 Pod 。</block>
  <block id="ae0da380d74bf3d71ac89124c088358a" category="paragraph">一般而言、您應該使用與初始安裝相同的方法進行升級、不過您可以 <block ref="e34c010032791417159012a5e31d7540" category="inline-link-macro-rx"></block>。有兩種方法可以升級Astra Trident。</block>
  <block id="672218727121432fb7209f42c6a00514" category="list-text"><block ref="672218727121432fb7209f42c6a00514" category="inline-link-macro-rx"></block></block>
  <block id="a81c3a8630da0b8548245caae368a3c2" category="inline-link-macro">瞭解營運商升級工作流程</block>
  <block id="14d76a1fc05dcace5308e48b3d9bad49" category="admonition">我們建議您檢閱 <block ref="4185c20447fb5f0bb4f33698bfd20d27" category="inline-link-macro-rx"></block> 與操作員一起升級之前。</block>
  <block id="a18aa1b83c1605570c9c2911c5180a7b" category="inline-link-macro">升級&lt;block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category='inline-code'/&gt; 功能</block>
  <block id="3b2fa532fe7cebc94d245316f8af8ab4" category="list-text"><block ref="fd3f4a100d968c915adb11c8797ef5d2" category="inline-link-macro-rx"></block></block>
  <block id="3d40f2a5a694e68fd88105fc4f5ee0d4" category="section-title">Trident 營運商升級處理</block>
  <block id="74e51c48d68796e06830c062f5c955c1" category="inline-link-macro">使用 Trident 運算子的優點</block>
  <block id="1a1508da73374db3dd227799f48fdf63" category="list-text">刪除並重新建立 Trident Controller 部署和節點示範集。</block>
  <block id="88b9e59609789e4bf00d72c8be9dd376" category="list-text">以新版本更換 Trident 控制器 Pod 和 Trident 節點 Pod 。</block>
  <block id="6d3156de6583a452ead75c70c186fcb8" category="list-text">如果節點未更新、則不會阻止其餘節點更新。</block>
  <block id="e232b75d1eb891caededece68ccba4bd" category="list-text">只有執行中 Trident Node Pod 的節點才能裝載磁碟區。</block>
  <block id="74a95a8eea4566dad9e480f5e1defb1e" category="admonition">如需 Kubernetes 叢集上 Astra Trident 架構的詳細資訊、請參閱 <block ref="3663c9ca295bfa48935631bb67d2ba2e" category="inline-link-macro-rx"></block>。</block>
  <block id="672bc0defc3e808ff4066a5bb35984ff" category="section-title">營運商升級工作流程</block>
  <block id="09fca30aacc5af8d0afe600848776412" category="paragraph">當您使用 Trident 運算子啟動升級時：</block>
  <block id="de1c3bc7b6551ded8e26b3c59f25fd6a" category="list-text">* Trident 運算子 * ：</block>
  <block id="58f8d33affdc8b1877db3f889be3b246" category="list-text">偵測目前安裝的 Astra Trident 版本（版本 _n_ ）。</block>
  <block id="95c09f4a69ddcda8ea23efaa0892e31f" category="list-text">更新所有 Kubernetes 物件、包括 CRD 、 RBAC 和 Trident SVC 。</block>
  <block id="fa5496466c33ad47156dabe9b4b7a83d" category="list-text">刪除版本 _n_ 的 Trident 控制器部署。</block>
  <block id="de4c5e6acc990d98e3ed3412db367a33" category="list-text">為版本 _n+1_ 建立 Trident Controller 部署。</block>
  <block id="55a86ba64e45e0262aa7012299b6e1a5" category="list-text">* Kubernetes* 為 _n+1 建立 Trident 控制器 Pod 。</block>
  <block id="9fcab903d35527e73aa8c9b8d55e4f02" category="list-text">刪除 _n_ 的 Trident 節點示範集。操作人員不會等待節點 Pod 終止。</block>
  <block id="a532235f4c82e61844620f45083fb82c" category="list-text">為 _n+1_ 建立 Trident 節點 Demont 。</block>
  <block id="5075af00f3f40cf13822f5863cc71c39" category="list-text">* Kubernetes* 會在未執行 Trident Node Pod 的節點上建立 Trident Node Pod 。如此可確保節點上的任何版本、都不會有超過一個 Trident Node Pod 。</block>
  <block id="8a384610e551264beec3d337869d4c07" category="summary">您應該使用與安裝 Astra Trident 相同的方法來解除安裝 Astra Trident 。如果您需要修正在升級、相依性問題或升級失敗或不完整之後所觀察到的錯誤、您應該解除安裝 Astra Trident 、並使用該版本的特定指示重新安裝舊版。</block>
  <block id="801bbd95fd335db15888ddc405e164f2" category="paragraph">您應該使用與安裝 Astra Trident 相同的方法來解除安裝 Astra Trident 。</block>
  <block id="d4cb2483966fc1e61b1cddfccb87aada" category="admonition">如果您需要修正升級、相依性問題或升級失敗或不完整之後所觀察到的錯誤、您應該解除安裝 Astra Trident 、並使用相關的特定指示重新安裝舊版 <block ref="e168bf6cc8da3b05fae6b22bcd12ba37" category="inline-link-macro-rx"></block>。這是將 _ 降級 _ 降級至較早版本的唯一建議方法。</block>
  <block id="9558f7d0f1d8a03299b4e8190dc99a73" category="paragraph">如果您要停用 Kubernetes 叢集、則必須先刪除所有使用 Astra Trident 所建立之 Volume 的應用程式、然後再解除安裝。如此可確保在刪除之前、不會在 Kubernetes 節點上發佈 PVC 。</block>
  <block id="298619534d23da6e9389fd113bb13495" category="section-title">確定原始安裝方法</block>
  <block id="d2848b9aec61d145beb9e29296f14e43" category="paragraph">您應該使用與安裝 Astra Trident 相同的方法來解除安裝 Astra Trident 。在解除安裝之前、請先確認您原本用來安裝 Astra Trident 的版本。</block>
  <block id="426346b94737adca6c2d979d911464ef" category="section-title">解除安裝 Trident 運算子安裝</block>
  <block id="253ead25988bfe2dee06d2227693e39d" category="paragraph">您可以手動或使用 Helm 解除安裝 Trident 運算子安裝。</block>
  <block id="2985edaba812b8b31d08cc8513fee0a3" category="section-title">解除安裝手動安裝</block>
  <block id="55f6e2744208ccefe34f3e05ced2c988" category="section-title">解除安裝 Helm 安裝</block>
  <block id="99dec4df69ba043a5eb3118e1e0b364e" category="section-title">解除安裝<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> 安裝</block>
  <block id="7a15e63f1d0efc213151254bbc1b2d0d" category="doc">升級 Trident 營運商安裝</block>
  <block id="0f443eb922735ce52f2b490ffca00e49" category="paragraph">您可以使用 Trident 運算子手動或使用 Helm 來升級 Astra Trident 。您可以從 Trident 運算子安裝升級至其他 Trident 運算子安裝、或從升級<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> 安裝至 Trident 運算子版本。檢閱 <block ref="5cffa5fbe758cc3901f0e33c78b29d1b" category="inline-link-macro-rx"></block> 在升級 Trident 操作員安裝之前。</block>
  <block id="3ef75911ec16a9d0ba70cfd4e68dcb71" category="section-title">升級手動安裝</block>
  <block id="b0e74afe1fdeb605b5c47b501c43b71b" category="inline-link-macro">您已安裝的版本</block>
  <block id="4642420c93e6091ce8421e89a16fd80d" category="admonition">若要從使用命名空間範圍運算子（ 20.07 至 20.10 版）安裝的 Astra Trident 進行升級、請使用的升級指示 <block ref="567dd1ff029f25a404a69ff1e3c8d83b" category="inline-link-macro-rx"></block> Astra Trident 的</block>
  <block id="eb7a4fa3d9aff7ec5b23abb8b82d516b" category="paragraph">Trident 提供一個套件檔案、可讓您用來安裝運算子、並為 Kubernetes 版本建立相關的物件。</block>
  <block id="0832423fdef6d1073376febeafb11832" category="list-text">對於執行 Kubernetes 1.24 或更早版本的叢集、請使用 <block ref="8b8083e47d4f32cbe1da275ad704ec28" category="inline-link-macro-rx"></block>。</block>
  <block id="4ac6364736606467ebc3be7abadfb0ef" category="list-text">對於執行 Kubernetes 1.25 或更新版本的叢集、請使用 <block ref="44d1f465bf50a20fa85c56cfe0e1804f" category="inline-link-macro-rx"></block>。</block>
  <block id="0af6b3e2ec6d581f66df3a49e97c5c55" category="list-text">刪除用來安裝目前Astra Trident執行個體的Trident運算子。例如、如果您是從 23.04 升級、請執行下列命令：</block>
  <block id="300b059e0bac5cb2864932371a494a8a" category="list-text">使用適用於您環境的正確套裝組合Yaml檔案和Astra Trident版本來安裝Astra Trident。例如、如果您要為 Kubernetes 1.27 安裝 Astra Trident 23.07 、請執行下列命令：</block>
  <block id="3ae662c67d403e6230b019a96e787b63" category="paragraph">您可以升級 Astra Trident Helm 安裝。</block>
  <block id="613909529798c8a2543da8e954e5d742" category="section-title">從升級<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> 安裝至 Trident 操作員</block>
  <block id="9142b40107d9c5a0b86ef0ce8c25a88b" category="paragraph">您可以從升級至最新版的Trident運算子<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> 安裝：現有的後端和 PVC 將會自動提供使用。</block>
  <block id="89b46b05bfce8415b6a6373a93a0b04e" category="admonition">在安裝方法之間切換之前、請參閱 <block ref="d7d87809bc6e1001ccd94c7433d28fd5" category="inline-link-macro-rx"></block></block>
  <block id="a14a78392cb7980f1ecc5ee325c25d37" category="paragraph">NetApp 以多種方式支援 Astra Trident 。我們全年無休提供豐富的免費自助支援選項、例如知識庫（KB）文章和不和管道。</block>
  <block id="8327052a054aaa112ecf4f19369899c9" category="inline-link-macro">NetApp 軟體版本支援定義</block>
  <block id="3042651f925f3e8415fae909364e667c" category="paragraph">Astra Trident 根據您的版本提供三個層級的支援。請參閱 <block ref="1b35655e5fe9e8bdc0fd2a18d7e5a06c" category="inline-link-macro-rx"></block>。</block>
  <block id="34678ee868eeabce720fc4a0fd60c17a" category="list-text">完全支援</block>
  <block id="e3ecfbc1273c567e1d485c5a67ea7b2a" category="list-text">Astra Trident 自發行日期起 12 個月內提供完整支援。</block>
  <block id="d397c85f7e5c9820b73839b4255bab4e" category="list-text">有限支援</block>
  <block id="09be36d73ff7ca920196ef5ddc6b1cc3" category="list-text">Astra Trident 自發行日期起 13 至 24 個月內提供有限支援。</block>
  <block id="57b81b24dfc6e0b0f8ce342d0f7250d3" category="list-text">自我支援</block>
  <block id="a880ae57450a3d9e2d8dd4c89d54126f" category="list-text">Astra Trident 文件自發行日起 25 至 36 個月內可供使用。</block>
  <block id="34b6cd75171affba6957e308dcbd92be" category="cell">版本</block>
  <block id="217af7d1776d22530d98be04d104fd49" category="inline-link-macro">23.07</block>
  <block id="45c5d0a80197b87cde19915df9356724" category="paragraph"><block ref="45c5d0a80197b87cde19915df9356724" category="inline-link-macro-rx"></block></block>
  <block id="f66bc2df80ac37f354b591907be92e18" category="cell">2024 年 7 月</block>
  <block id="928f12ce7e1197fe962e09f979b98d0d" category="cell">2025 年 7 月</block>
  <block id="a257f7f4b2f6e07845ce567df142ad00" category="cell">2026 年 7 月</block>
  <block id="1a3a2b5e6c52142797bb5c00594e2a3c" category="inline-link-macro">23.04</block>
  <block id="4f00a05b361ef580687832a6a48984db" category="paragraph"><block ref="4f00a05b361ef580687832a6a48984db" category="inline-link-macro-rx"></block></block>
  <block id="3b3d7bce734c0832c20ba464b1f2d199" category="cell">2024 年 4 月</block>
  <block id="42ce83dc3f5ef22d986311b267a5ac20" category="cell">2025 年 4 月</block>
  <block id="fc7d05f9009e90b92a15aad926bca249" category="cell">2026 年 4 月</block>
  <block id="8dfda84fc7f59655e20a770603bf9231" category="inline-link-macro">23.01</block>
  <block id="e0ed61e44672f0b6193055dd0719d240" category="paragraph"><block ref="e0ed61e44672f0b6193055dd0719d240" category="inline-link-macro-rx"></block></block>
  <block id="efe846805e5476fec607bbf54e45dc44" category="cell">2024 年 1 月</block>
  <block id="9dd6e3f1271bf8cdcd9a0becace5f06f" category="cell">2025 年 1 月</block>
  <block id="7022ed6df71cc12fbd0576cef4df23fd" category="cell">2026 年 1 月</block>
  <block id="775d4bb28d257a6aa23992563a82c458" category="inline-link-macro">22.10.</block>
  <block id="1d064e71d708bc66779c604db1339850" category="paragraph"><block ref="1d064e71d708bc66779c604db1339850" category="inline-link-macro-rx"></block></block>
  <block id="b0ec3d3ab3b33bd69418a7bd9e4d8f9e" category="cell">2023 年 10 月</block>
  <block id="09ea156cd1da2f7e3fda8aefab96074a" category="cell">2024 年 10 月</block>
  <block id="99dfa28920a40a7be0858c50f989a3e5" category="cell">2025 年 10 月</block>
  <block id="b321f6c1ada34a3fa850996d673e01ca" category="inline-link-macro">22.07</block>
  <block id="295e1f077ca9f1e68f56c558741bad74" category="paragraph"><block ref="295e1f077ca9f1e68f56c558741bad74" category="inline-link-macro-rx"></block></block>
  <block id="cfab1ba8c67c7c838db98d666f02a132" category="cell">--</block>
  <block id="e764fe6b8f8825a307a87cedbef45678" category="inline-link-macro">22.04</block>
  <block id="865d5fc74524e198b7d4edc0b0f93cd6" category="paragraph"><block ref="865d5fc74524e198b7d4edc0b0f93cd6" category="inline-link-macro-rx"></block></block>
  <block id="955ddf0f7e289ee80cdea4b5324b620d" category="inline-link-macro">22.01</block>
  <block id="1d6d13ec4b4db5f5d3487f7624ba2730" category="paragraph"><block ref="1d6d13ec4b4db5f5d3487f7624ba2730" category="inline-link-macro-rx"></block></block>
  <block id="ecdd0ca053bad0e4dd13561a556a27a2" category="inline-link-macro">21.10.</block>
  <block id="26868cf4e34a30cd32082fe3a81f7a5b" category="paragraph"><block ref="26868cf4e34a30cd32082fe3a81f7a5b" category="inline-link-macro-rx"></block></block>
  <block id="b327964aef72f8262abc54b607c5acf2" category="inline-link-macro">21.07</block>
  <block id="989e34685c65cba24936de4972bf6714" category="paragraph"><block ref="989e34685c65cba24936de4972bf6714" category="inline-link-macro-rx"></block></block>
  <block id="af08b45fa44807ac1852671e6fc59d44" category="inline-link-macro">21.04</block>
  <block id="b5f347c5a644b0177640eb424de5985e" category="paragraph"><block ref="b5f347c5a644b0177640eb424de5985e" category="inline-link-macro-rx"></block></block>
  <block id="d029b605d0129cdb050642645b32b1db" category="inline-link-macro">21.01</block>
  <block id="1e3346636960647557d3c482eddcce3b" category="paragraph"><block ref="1e3346636960647557d3c482eddcce3b" category="inline-link-macro-rx"></block></block>
  <block id="a84024ce06ef98519b3b51300b2c8fbf" category="inline-link-macro">20.10.</block>
  <block id="f5cb139594df07b13c6c08d1e87ca5ab" category="paragraph"><block ref="f5cb139594df07b13c6c08d1e87ca5ab" category="inline-link-macro-rx"></block></block>
  <block id="1cf7168782187634fbc408c66b895dbc" category="section-title">社群支援</block>
  <block id="314c5cdde6da009a7b0571d60c8422ae" category="paragraph">我們的 Astra 上有一個充滿活力的公共容器使用者社群（包括 Astra Trident 開發人員） <block ref="6130664377fa14615bb1abd5257e9714" category="inline-link-macro-rx"></block>。這是您提出專案相關一般問題、並與志同道合的同儕討論相關主題的好地方。</block>
  <block id="965b11d07d6acceebc9efec23e5e74a9" category="section-title">NetApp 技術支援</block>
  <block id="44c86da066b2aa1cdbeb7ae4dcc42baf" category="list-text"><block ref="44c86da066b2aa1cdbeb7ae4dcc42baf" category="inline-link-macro-rx"></block></block>
  <block id="a7266bb27e7415b120f5e25460dc32fe" category="list-text"><block ref="a7266bb27e7415b120f5e25460dc32fe" category="inline-link-macro-rx"></block></block>
  <block id="8f4c1b75985ff2903107b7115115ea58" category="list-text"><block ref="8f4c1b75985ff2903107b7115115ea58" category="inline-link-macro-rx"></block></block>
  <block id="b86b16f39688f208b4a554adb7958c46" category="list-text"><block ref="b86b16f39688f208b4a554adb7958c46" category="inline-link-macro-rx"></block></block>
  <block id="0adc03eac86772ad2c75c8f140be417e" category="sidebar">知識與支援</block>
  <block id="fabfc25ef8996fd90836e58a4c0b26b6" category="sidebar">取得協助</block>
  <block id="5248a0897439d95866d14416e307c927" category="sidebar">設定及管理後端</block>
  <block id="af5d3eba040f5bcf3d3f037b574766c8" category="sidebar">管理後端</block>
  <block id="bcca457a84376733a80b2dfad749e939" category="sidebar">使用 kubectl 管理後端</block>
  <block id="e9e5f94eb04c1889f891ad75fd929b4b" category="sidebar">使用 tridentctl 管理後端</block>
  <block id="95408f23568d6e604d1f49a1bf3ff238" category="sidebar">建立及管理儲存類別</block>
  <block id="76114b40ddbaf2bf18e9aee694563b40" category="sidebar">資源配置與管理磁碟區</block>
  <block id="62486fa65fc31c383ace8989549632ad" category="sidebar">使用快照</block>
  <block id="143c9ea21ac76ba425aa94411fbba07b" category="sidebar">Astra Trident總覽</block>
  <block id="ab09b43d2faaea1b49257d5a973eae0e" category="sidebar">管理和監控 Astra Trident</block>
  <block id="ee4c63201b5c5c6c9da139c0a39bcb7b" category="summary">Astra Trident for Docker 可直接整合 NetApp 儲存平台的 Docker 生態系統。它支援從儲存平台到Docker主機的儲存資源資源配置與管理、並提供架構、可在未來新增更多平台。</block>
  <block id="5d22e3d2d8e7ef4a3b8d79728779c6d8" category="paragraph">1.22 - 1.27</block>
  <block id="3e0f4d44c9c86926852e66ee127c5d3d" category="paragraph">Astra Trident 支援使用匯入 Volume<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> 驅動程式：不支援使用匯入 Volume<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> 驅動程式：</block>
  <block id="475fb21c20bb54ea8ac6cb1756aba565" category="inline-link-macro">KB ：無法在替代後端建立 Trident PVC Snapshot 的 PVC</block>
  <block id="18051638f30f342b517379b11f0442f9" category="admonition">將在來源 Volume 所在的同一個後端建立 PVC 。請參閱 <block ref="0d4d7e7a69b413699039bc9b916a37d5" category="inline-link-macro-rx"></block>。</block>
  <block id="70d565ceadd7e1d5d1d6a3f98c198443" category="cell">篩選 Kubernetes 節點 IP 的 CIDR 清單、以對抗時間<block ref="323e871cfe2e70ead9c713e8f3164f8f" prefix=" " category="inline-code"></block> 已啟用。

使用<block ref="323e871cfe2e70ead9c713e8f3164f8f" prefix=" " category="inline-code"></block> 和<block ref="b9c40fbe9daa81e40e06509d5bbd5a6c" prefix=" " category="inline-code"></block> 選項：Astra Trident可自動管理匯出原則。</block>
  <block id="fb1aab16c373fd5690bac00425c48d1c" category="list-text">與<block ref="7d1aaf47144f9eb2fc66e328ddd3bad7" prefix=" " category="inline-code"></block> 設定為<block ref="43f6615bbb2c40a5306ff804094420b1" prefix=" " category="inline-code"></block>Astra Trident在沒有任何拓撲感知的情況下建立磁碟區。建立永久虛擬磁碟時、即會處理磁碟區繫結和動態資源配置。這是預設值<block ref="7d1aaf47144f9eb2fc66e328ddd3bad7" prefix=" " category="inline-code"></block> 適用於未強制拓撲限制的叢集。持續磁碟區的建立不需依賴要求的 Pod 排程需求。</block>
  <block id="cd9179614936afe6f50612f0cf8c5615" category="inline-link">RedHat文件</block>
  <block id="288360859a486281aca1cda278bc5bb5" category="list-text">使用執行RHEL/RedHat CoreOS搭配iSCSI PV的工作節點時、請指定<block ref="70f68bb2f748b85de6526bfe236ea1e9" prefix=" " category="inline-code"></block> StorageClass中的掛載選項、以執行即時空間回收。請參閱<block ref="cef8948c7b8e90d5be591e67d93555a7" category="inline-link-rx"></block>。</block>
  <block id="f0c578e8a253ac755fdd55b5aa06eba6" category="paragraph">您應該定義Prometheus目標、以收集指標並取得有關後端Astra Trident管理的資訊、以及其建立的磁碟區等資訊。這<block ref="dc7964965bf1b3af43b28caf6231e550" category="inline-link-rx"></block> 說明如何使用Prometheus和Grafana搭配Astra Trident來擷取指標。部落格說明如何在 Kubernetes 叢集中以運算符的形式執行 Prometheus 、以及如何建立 ServiceMonitor 來取得 Astra Trident 指標。</block>
  <block id="624ca91b001f11479001750d7a084dd0" category="paragraph">如果您在建立 PVC 時收到「找不到容量集區」錯誤、您的應用程式註冊可能沒有相關的必要權限和資源（子網路、虛擬網路、容量集區）。如果啟用偵錯、Astra Trident會記錄在建立後端時探索到的Azure資源。確認使用的角色是否適當。</block>
  <block id="7ba8d326bd3ffe1308f04d8ab5bf3d1a" category="paragraph">建立包含後端存取認證的秘密。這是每個儲存服務/平台所獨有的功能。範例如下：</block>
  <block id="afad9414d1bc420e58e3a72442b8f495" category="list-text"><block ref="685d1f2146dd079015e81918414e8971" prefix="" category="inline-code"></block>：<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR與後端相關聯、且後端包含<block ref="217026e5af08bfde5815657113dbfc82" prefix=" " category="inline-code"></block> 設定為<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR 的 uid 。</block>
  <block id="5008913e7135c645ebbfbd67112d3184" category="list-text"><block ref="ffbb410a55bb31f801dea6387e2745ac" prefix="" category="inline-code"></block>：<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR 的<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block> 已設定為刪除。當<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> 系統會刪除CR、並轉換為「刪除」狀態。</block>
  <block id="9f104f262a04570e0cca4e57cdff0f85" category="list-text"><block ref="88183b946cc5f0e8c96b2e66e1c74a7e" prefix="" category="inline-code"></block>：Astra Trident無法判斷與相關聯的後端狀態或存在<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR.例如、如果API伺服器沒有回應或是<block ref="5f829d3562952527064a5c553cd09189" prefix=" " category="inline-code"></block> CRD遺失。這可能需要介入。</block>
  <block id="a12734327c1f79f44d176f7c6f6f7841" category="paragraph">對於先前現有的後端、請使用更新後端<block ref="defd1e55f93269ac9278afc086951ba8" prefix=" " category="inline-code"></block> 將確保Astra Trident自動管理匯出原則。如此將會建立以後端 UUID 命名的新匯出原則、並在重新掛載後端上的磁碟區時、使用新建立的匯出原則。</block>
  <block id="88512325ffcc13fbee60f3ca0669f67e" category="list-text">沒有的既有後端<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> 因為它們是使用建立的<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>。</block>
  <block id="4cfeb5a9099082a66a720c90a50036af" category="paragraph">從輸出中可以看出這一點<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> 已成功建立並繫結至後端 [ 觀察後端的 UUID ] 。</block>
  <block id="83167df2bbc65626ea3925b7abea9e48" category="paragraph">Astra Trident可以使用雙向CHAP驗證iSCSI工作階段<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> 和<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> 驅動程式：這需要啟用<block ref="099cb468880f266cba40b49391fa46bc" prefix=" " category="inline-code"></block> 選項。設定為時<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>， Astra Trident 將 SVM 的預設啟動器安全性設定為雙向 CHAP ，並從後端檔案設定使用者名稱和密碼。NetApp建議使用雙向CHAP來驗證連線。請參閱下列組態範例：</block>
  <block id="7b4fb3a852b49d46b743b188c7bc25a1" category="list-text">如果 SVM 的預設啟動器安全性類型為無（預設為「無」） * 且 * 磁碟區中沒有預先存在的 LUN 、 Astra Trident 將預設安全性類型設為<block ref="9ef2bbb12ff72558472202561a25058d" prefix=" " category="inline-code"></block> 並繼續設定CHAP啟動器和目標使用者名稱和機密。</block>
  <block id="8f5fd7cb8eae048fe5b83025fe95feff" category="list-text">如果SVM包含LUN、Astra Trident將不會在SVM上啟用CHAP。這可確保不限制對 SVM 上已存在的 LUN 的存取。</block>
  <block id="cb462a22682d8f02b65abeb6ce8bda89" category="paragraph"><block ref="35a6b548833df39b8bbc748563b1938b" category="inline-link-rx"></block> 讓企業更輕鬆地管理、保護及搬移在公有雲內部及內部部署的Kubernetes上執行的資料豐富的容器化工作負載。Astra 使用公有雲和內部部署中備受肯定且廣泛的 NetApp 儲存產品組合中的 Trident 、提供永續的容器儲存設備。此外、它還提供一組豐富的進階應用程式感知資料管理功能、例如Snapshot、備份與還原、活動記錄、以及資料保護、災難/資料恢復、資料稽核、以及Kubernetes工作負載的移轉使用案例的主動複製。</block>
  <block id="54ad97548183fc7d802b6db88573701f" category="paragraph">ONTAP 是 NetApp 多重傳輸協定、統一化的儲存作業系統、可為任何應用程式提供進階的資料管理功能。支援所有Flash、混合式或全硬碟組態的系統、可提供多種不同的部署模式、包括工程設計硬體（英文版）、白箱（英文版）和僅雲端（英文版）ONTAP FAS AFF ONTAP Select Cloud Volumes ONTAP 。</block>
  <block id="f8869dc9dbb397ea76e820ae99f70217" category="paragraph"><block ref="6a2736fcbb5755dd03d114a5153506eb" category="inline-link-rx"></block> 是一項完全託管的 AWS 服務、可讓您啟動及執行 NetApp ONTAP 儲存作業系統所支援的檔案系統。適用於 ONTAP 的 FSX 可讓您運用熟悉的 NetApp 功能、效能和管理功能、同時充分利用在 AWS 上儲存資料的簡易性、敏捷度、安全性和擴充性。適用於 ONTAP 的 FSX 支援許多 ONTAP 檔案系統功能和管理 API 。</block>
  <block id="7458188f037f23dc14a7396825f28eca" category="summary">Astra Trident的資源配置有兩個主要階段。第一階段會將儲存類別與一組適當的後端儲存資源池建立關聯、並在進行資源配置之前做好必要準備。第二階段包括磁碟區建立本身、需要從與擱置磁碟區的儲存類別相關的儲存池中選擇儲存池。</block>
  <block id="fdd92355bcecae670f43576c4c4951c5" category="list-text">適用於<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>、<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>、<block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block>和<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block> 驅動程式、每個持續Volume（PV）都會對應FlexVol 至一個功能區。因此、磁碟區快照會建立為NetApp快照。相較於競爭的快照技術、 NetApp Snapshot 快照技術可提供更高的穩定性、擴充性、可恢復性和效能。這些Snapshot複本無論在建立所需的時間、還是在儲存空間中、都能發揮極高的效率。</block>
  <block id="5d4b9bc562ebe88c39d0e521b90fc54b" category="list-text">適用於<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> 驅動程式、每個持續Volume（PV）都會對應FlexGroup 至一個功能區。因此、磁碟區快照會建立為NetApp FlexGroup 的「資訊快照」。相較於競爭的快照技術、 NetApp Snapshot 快照技術可提供更高的穩定性、擴充性、可恢復性和效能。這些Snapshot複本無論在建立所需的時間、還是在儲存空間中、都能發揮極高的效率。</block>
  <block id="f85752654c0e718ddc1911dc26c4bf0a" category="list-text">適用於<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> 驅動程式、PV對應至在共享FlexVols上建立的LUN。PV的Volume Snapshot是透過執行相關LUN的FlexClones來達成的。ONTAP FlexClone 技術讓您幾乎可以立即建立最大資料集的複本。複本會與其父實體共用資料區塊、除了中繼資料所需的儲存空間外、不需要使用任何儲存設備。</block>
  <block id="4d6bd66a7857ea48a856f389fbea7d9d" category="paragraph">有了Astra Trident、您可以使用Volume Snapshot來建立新的PV。使用FlexClone技術建立這些快照的PV、以支援ONTAP 支援的支援的支援功能和CVS後端。從快照建立 PV 時、備份磁碟區是快照父磁碟區的 FlexClone 。。<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> 驅動程式使用Element軟體磁碟區複製、從快照建立PV。在此、它會從元素快照建立複本。</block>
  <block id="14b63ea5b97502ca2d75e85bee96b8b4" category="paragraph">當複製Volume時、ONTAP 這會導致停止實體複本、立即將其從父複本分割開來。預設值為<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>。部分複製磁碟區的使用案例、最好是在建立時立即將複本從父複本分割出來、因為不太可能有提高儲存效率的機會。例如、複製空資料庫可節省大量時間、但儲存成本卻很少、因此最好立即分割複本。</block>
  <block id="6d70e81198809f9c160f10b05a430ab1" category="paragraph">設定為<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block> 將會製作<block ref="a15da8cecb1f1192c4d913b8ba676121" prefix=" " category="inline-code"></block> 存取磁碟區的用戶端可看到的目錄。預設值為<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>、表示的可見度<block ref="a15da8cecb1f1192c4d913b8ba676121" prefix=" " category="inline-code"></block> 目錄預設為停用。有些影像、例如正式的 MySQL 影像、無法如預期般運作<block ref="a15da8cecb1f1192c4d913b8ba676121" prefix=" " category="inline-code"></block> 目錄可見。</block>
  <block id="284899fef89b0b2e358229a40cbaa53e" category="cell">設定為<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block> 將關閉 LUN 的空間分配功能。預設值為<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>、表示ONTAP 當磁碟區空間不足、且磁碟區中的LUN無法接受寫入作業時、此功能會通知主機。此選項也可讓ONTAP 支援功能在主機刪除資料時自動回收空間。</block>
  <block id="40c7465c2468fd6e890691f6cb612731" category="paragraph">升級版Trident安裝的首碼。如果您使用 1.3.2 之前的 Trident 版本、並使用現有的 Volume 執行升級、則必須設定此值、才能存取透過 Volume 名稱方法對應的舊 Volume 。</block>
  <block id="7f86daacf34c67c042470fa9d926ba49" category="paragraph">標準記錄層級應可讓您診斷大多數問題。如果您覺得還不夠、可以啟用偵錯記錄。</block>
  <block id="6bdfdbfc466bb6d93222dbf7b3a374fe" category="list-text">如果您在主機上執行二進位檔本身、則主機的記錄檔中會有可用的記錄檔<block ref="849fc2421f236e9c9b49a9d3fed2c404" prefix=" " category="inline-code"></block> 目錄。若要啟用偵錯記錄、請指定<block ref="9b945915b0cddbee22047fd529d642f6" prefix=" " category="inline-code"></block> 當您執行外掛程式時。</block>
  <block id="856df87d418b99d5e88b1e337987cad3" category="paragraph">Trident 安裝程式會建立 Kubernetes ClusterRole 、該程式可存取叢集的 PersistentVolume 、 PersistentVolumVolume Claim 、 StorageClass 和 Kubernetes 叢集的 Secret 資源。請參閱 <block ref="7a68296d6f600eac17d317743bea0050" category="inline-link-macro-rx"></block>。</block>
  <block id="1a4c36220ae60b6a6a4c2285be05a43a" category="section-title">我的儲存系統密碼已變更、 Astra Trident 不再運作、我該如何恢復？</block>
  <block id="a988578d4c176cf950a2211099db7d92" category="paragraph">使用更新後端的密碼<block ref="00a81aa9b1d406861879017de885e0fb" prefix=" " category="inline-code"></block>。更換<block ref="3d9fd17a5232cc24eeeaec2b07af5417" prefix=" " category="inline-code"></block> 在範例中、使用您的後端名稱、和<block ref="27ab7e8dbd45daf638f3144d4891ef3b" prefix=" " category="inline-code"></block> 並將路徑移至正確位置<block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block> 檔案：</block>
  <block id="8cb93d7a514e5569b46cba45dedc7daf" category="paragraph">如果Trident Pod遭到破壞、資料將不會遺失。Trident 中繼資料儲存在 CRD 物件中。所有由Trident提供的PV均可正常運作。</block>
  <block id="7844c41fb05be5427418dbab3d0bdc49" category="paragraph">Amazon FSX for NetApp ONTAP 可讓您運用熟悉的 NetApp 功能、效能和管理功能、同時充分利用在 AWS 上儲存資料的簡易性、敏捷度、安全性和擴充性。適用於 ONTAP 的 FSX 支援許多 ONTAP 檔案系統功能和管理 API 。Cloud Volume ONTAP 的相容驅動程式就是<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>、<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>、<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>、<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> 和<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>。</block>
  <block id="7439c9a99660382e94c16c5272b9bfb0" category="paragraph">持續磁碟區除了兩個例外、都是Kubernetes中不可變的物件。建立後、即可修改回收原則和大小。不過、這並不會妨礙磁碟區的某些層面在 Kubernetes 之外進行修改。這可能是理想的做法、以便針對特定應用程式自訂磁碟區、確保容量不會意外耗用、或是單純地將磁碟區移至不同的儲存控制器。</block>
  <block id="fe253a0cf40d6b5d49846202cdeaff7b" category="paragraph">執行上述命令時、Astra Trident會在後端找到磁碟區並讀取其大小。它會自動新增（並在必要時覆寫）已設定的 PVC Volume Size 。Astra Trident接著會建立新的PV、Kubernetes則會將PVc繫結至PV。</block>
  <block id="3e01fdf7f18117c92347492814d988ee" category="admonition">從Red Hat OpenShift版本3.9起、官方文件建議您不要使用NFS來執行記錄服務、因為您擔心資料毀損。這是以Red Hat測試其產品為基礎。ONTAP NFS 伺服器沒有這些問題、而且可以輕鬆地備份記錄部署。最後、記錄服務的通訊協定選擇取決於您、只要知道兩者在使用NetApp平台時都能順利運作、而且如果您偏好NFS、就沒有理由不使用NFS。</block>
  <block id="643f15e2581a728cb2a6d66953a357d7" category="paragraph">根據部署方法設定 Ansible 變數非常重要、如此才能確保基礎服務使用正確的儲存設備。讓我們來看看每種部署方法的選項。</block>
  <block id="00b454d2ba2e8d34f65f8a714304a598" category="admonition">下表僅包含與記錄服務相關的儲存組態變數。您可以在中找到其他選項 <block ref="e81826ec3b15492352776daada114990" category="inline-link-macro-rx"></block> 應根據您的部署情況來審查、設定及使用。</block>
  <block id="b8e4ea2ed30f2f3a9f05ef8e1cc243db" category="paragraph">如同記錄服務和OpenShift整體、Ansible可用於部署度量服務。此外、與記錄服務一樣、度量服務也可以在叢集初始設定期間或使用元件安裝方法在其運作後進行部署。下表包含在設定度量服務的持續儲存時、重要的變數。</block>
  <block id="db7ae7f1cfb23bf788607032d443c26c" category="paragraph">在您的主機/庫存檔案中定義適當的可Ansible變數後、使用Ansible部署服務。如果您是在OpenShift安裝時間進行部署、則會自動建立及使用PV。如果您使用元件教戰手冊進行部署、則在安裝 OpenShift 之後、 Ansible 會建立任何需要的 PVCS 、並在 Astra Trident 為其配置儲存設備之後、部署服務。</block>
  <block id="8198f2a0f41303e214bcb5ab7d9e9ef4" category="section-title">ONTAP NAS 驅動程式詳細資料</block>
  <block id="147be9e86dbd052c1f2b490f1e9b9897" category="paragraph">Astra Trident 提供下列 NAS 儲存驅動程式、可與 ONTAP 叢集通訊。支援的存取模式包括： _ReadWriteOnce_ （ rwo ）、 _ReadOnlyMany （ ROX ）、 _ReadWriteMany （ rwx ）、 _ReadWriteOncePod （ RWOP_ ）。</block>
  <block id="2b5fc47d5a68b6070472f3a239fc77f3" category="paragraph">" 、<block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix=" " category="inline-code"></block>、<block ref="79e0f325804dafbdaef73b3b17c0fd8d" prefix=" " category="inline-code"></block></block>
  <block id="f353c2f2ba62c120d68a9fde333ef59f" category="summary">瞭解 Azure NetApp Files 的 NFS 和 SMB 後端組態選項、並檢閱組態範例。</block>
  <block id="19b571f96ec7d28e6329f9c52fab7424" category="paragraph">Astra Trident 使用您的後端組態（子網路、虛擬網路、服務層級和位置）、在所要求位置的可用容量集區上建立 Azure NetApp Files Volume 、並符合所要求的服務層級和子網路。</block>
  <block id="b9acebca540d60eef74f6ffc3e4aa2e7" category="paragraph">Azure NetApp Files 後端提供這些組態選項。</block>
  <block id="5cda3f51d6458740b40a6f4c0aab02f0" category="paragraph">這是絕對最低的後端組態。有了這項組態、 Astra Trident 會探索您在設定位置中委派給 Azure NetApp Files 的所有 NetApp 帳戶、容量集區和子網路、並隨機將新磁碟區放在其中一個集區和子網路上。因為<block ref="296026821ada2ab8aebcf13547a63df5" prefix=" " category="inline-code"></block> 省略<block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix=" " category="inline-code"></block> 預設會套用、後端會為NFS磁碟區進行資源配置。</block>
  <block id="639aa44ce5a6709a5719b427993c9657" category="paragraph">當您剛開始使用 Azure NetApp Files 並試用時、這項組態是理想的選擇、但實際上您會想要為您所配置的磁碟區提供額外的範圍。</block>
  <block id="62679c3777af7cf9f6af4e6aa0e7cfc4" category="paragraph">此後端組態可將Volume置於Azure中<block ref="6356111305f5daab178fa6051b7a8ae7" prefix=" " category="inline-code"></block> 位置<block ref="7057376a419b3334cc7b8b7a9f064abb" prefix=" " category="inline-code"></block> 容量資源池：Astra Trident 會自動探索該位置中委派給 Azure NetApp Files 的所有子網路、並隨機在其中一個子網路上放置新的磁碟區。</block>
  <block id="a493eb50acc1b5a276034b914c4ce10d" category="section-title">ONTAP SAN 驅動程式詳細資料</block>
  <block id="7fd570aee3c81c5db028704e5fdf5b52" category="paragraph">Astra Trident 提供下列 SAN 儲存驅動程式、可與 ONTAP 叢集通訊。支援的存取模式包括： _ReadWriteOnce_ （ rwo ）、 _ReadOnlyMany （ ROX ）、 _ReadWriteMany （ rwx ）、 _ReadWriteOncePod （ RWOP_ ）。</block>
  <block id="fcd147679464b9eda6367f4e90e16ff8" category="paragraph">RWO 、 RWOP</block>
  <block id="94188b3f68e7baf5ef4a1f721857e77c" category="paragraph">檔案系統磁碟區模式中無法使用 Rox 和 rwx 。</block>
  <block id="2acadf30bbdf69b0408eadef287eb346" category="summary">您可以將 Azure NetApp Files 設定為 Astra Trident 的後端。您可以使用 Azure NetApp Files 後端連接 NAS 和 SMB 磁碟區。</block>
  <block id="8094785ba6188e7e62aca54731d06963" category="paragraph">您可以將 Azure NetApp Files 設定為 Astra Trident 的後端。您可以使用 Azure NetApp Files 後端連接 NFS 和 SMB 磁碟區。</block>
  <block id="2f73efb41160e66d2e4f5b500c984de8" category="section-title">Azure NetApp Files 驅動程式詳細資料</block>
  <block id="4ba3000579192de0298587f58861a12e" category="paragraph">Astra Trident 提供下列 Azure NetApp Files 儲存驅動程式來與叢集通訊。支援的存取模式包括： _ReadWriteOnce_ （ rwo ）、 _ReadOnlyMany （ ROX ）、 _ReadWriteMany （ rwx ）、 _ReadWriteOncePod （ RWOP_ ）。</block>
  <block id="7e7d2470a40e817070cd42bd81713c7b" category="paragraph"><block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix="" category="inline-code"></block>、<block ref="79e0f325804dafbdaef73b3b17c0fd8d" prefix=" " category="inline-code"></block></block>
  <block id="62233a6f2ba54c1dcede120348a6f595" category="paragraph">瞭解如何在 Astra Trident 安裝中建立和使用元素後端。</block>
  <block id="4e7d6286f837d54a4e4154d4b21b0659" category="section-title">元素驅動程式詳細資料</block>
  <block id="9fc6992cc8e273b3f7d317fc2a54e18c" category="paragraph">Astra Trident 提供<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> 用於與叢集通訊的儲存驅動程式。支援的存取模式包括： _ReadWriteOnce_ （ rwo ）、 _ReadOnlyMany （ ROX ）、 _ReadWriteMany （ rwx ）、 _ReadWriteOncePod （ RWOP_ ）。</block>
  <block id="2d5e7b30bb6eb1bd6091005422150b91" category="paragraph">。<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> 儲存驅動程式支援 _file_ 和 _block_ 磁碟區模式。適用於<block ref="ac52cf637478f3656a1fdee5c02324fd" prefix=" " category="inline-code"></block> 磁碟區代碼、Astra Trident會建立磁碟區並建立檔案系統。檔案系統類型由StorageClass指定。</block>
  <block id="f5aa1832e32f2b8d7a7f22d8e36a4617" category="inline-link-macro">NAS 驅動程式</block>
  <block id="de9e7e8f2c463ef15bebdbf8d2d1aa6d" category="inline-link-macro">SAN 驅動程式</block>
  <block id="8126e96f64b1a5de24d4cf6e4b09b986" category="section-title">Google Cloud 驅動程式詳細資料</block>
  <block id="9393948ed1be0af0cfb3d99e3248301a" category="paragraph">Astra Trident 提供<block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block> 與叢集通訊的驅動程式。支援的存取模式包括： _ReadWriteOnce_ （ rwo ）、 _ReadOnlyMany （ ROX ）、 _ReadWriteMany （ rwx ）、 _ReadWriteOncePod （ RWOP_ ）。</block>
  <block id="9aa82da0cffe247b84587c1cc8e32746" category="cell">"預設"</block>
  <block id="dfb6135042da6e8fbf367d9cf13431ef" category="paragraph">Volume大小的選擇性限制。預設： "" （未強制執行）</block>
  <block id="4846d107d8ddb5051591d14dcbddba8c" category="admonition">除非指定、否則 Volume 驅動程式的預設名稱為「 NetApp 」。</block>
  <block id="5ab207578468b7bbc201024492654253" category="list-text">新增對 Azure NetApp Files 驅動程式網路功能的支援。（<block ref="e0e89f8bd936a5eb3adce74cac88eab0" category="inline-link-macro-rx"></block>）</block>
  <block id="302e5f91d375f03821f8fd6340563539" category="list-text">修正 Azure NetApp Files 驅動程式無法複製具有多個匯出規則的磁碟區的問題。</block>
  <block id="1d61f4e1411b6940bc918fb56346f64d" category="list-text">固定式 Azure NetApp Files 驅動程式可允許重複的資源名稱、並將作業限制在單一位置。</block>
  <block id="409ee85d2342bf416b29a45a7b9c4e59" category="list-text">新增對 Azure NetApp Files Volume 的「 unixPermissions 」選項支援。（<block ref="b2ee1a79cce917ad1d60b3bec442914a" category="inline-link-macro-rx"></block>）</block>
  <block id="9f65455ce006fe56e7588e4e14f1edb8" category="paragraph">您可以設計虛擬集區來模擬服務類別。使用適用於Azure NetApp Files 支援功能的Cloud Volume Service for效益的虛擬資源池實作、讓我們來看看如何設定不同的服務類別。使用代表不同效能層級的多個標籤來設定 Azure NetApp Files 後端。設定<block ref="28277e44c5db61612accdf326d137e96" prefix=" " category="inline-code"></block> 並在每個標籤下新增其他必要的層面。現在請建立不同的Kubernetes儲存類別、以便對應至不同的虛擬資源池。使用<block ref="bed471c4a88e25ac9a7e4a7b980700a8" prefix=" " category="inline-code"></block> 欄位中、每個StorageClass會呼叫哪些虛擬資源池可用於裝載Volume。</block>
  <block id="42f3b65b98b18c792b7b5534e40d2646" category="section-title">適用於 ONTAP 驅動程式詳細資料的 FSX</block>
  <block id="9b82ca4e89dcaf4cecf50467b6126909" category="paragraph">如需驅動程式詳細資料、請參閱 <block ref="4093b6d0ce8cf414637a02002d2b0376" category="inline-link-macro-rx"></block> 和 <block ref="276422a40a581e9842304216329765d5" category="inline-link-macro-rx"></block>。</block>
  <block id="02882f6e58d1a3adffd9c9e4d0b2cc15" category="cell">叢集或SVM管理LIF的IP位址

您可以指定完整網域名稱（FQDN）。

如果使用安裝Astra Trident、則可設定使用IPv6位址<block ref="4a4ef9f92e69acc000120379678aadcf" prefix=" " category="inline-code"></block> 旗標。IPv6位址必須以方括弧來定義、例如[28e8：d9fb：a825：b7bf：69a8：d02f：9e7b：3555]。</block>
  <block id="629ac35dda697ad18f8fef7094213871" category="list-text">如果您想要降級至舊版的 Trident 、請先執行<block ref="ac8650577d1b744589a6a11b60ac38c7" prefix=" " category="inline-code"></block> 移除Trident的命令。下載所需的<block ref="f3d78353f8dac3e49bbefeb5f6a2383b" category="inline-link-rx"></block> 並使用安裝<block ref="430bf77bee6c59d385d4194f84c21b16" prefix=" " category="inline-code"></block> 命令。</block>
  <block id="2a1db8dc71dec3264e9155d610575785" category="section-title">完全移除 Astra Trident 和 CRD</block>
  <block id="de752588132c292a8a12ad2441fbf43c" category="paragraph">您可以完全移除 Astra Trident 和所有建立的客戶需求日、以及相關的自訂資源。</block>
  <block id="90dc0d986558510d55c898cb62f4f2d5" category="admonition">此動作無法復原。除非您想要全新安裝 Astra Trident 、否則請勿這麼做。若要在不移除客戶需求日的情況下解除安裝 Astra Trident 、請參閱 <block ref="6b2eb9a0745ceac90657a4978cb010ca" category="inline-link-macro-rx"></block>。</block>
  <block id="4f5dbc74e3448e08fe0e7bfd62876fc8" category="open-title">Trident運算子</block>
  <block id="f4508049a2ac2bdb5cb9fde92120497a" category="paragraph">若要解除安裝 Astra Trident 、並使用 Trident 運算子完全移除 CRD ：</block>
  <block id="152090ff5e9a05ea7e1cf0c248449638" category="open-title">掌舵</block>
  <block id="96ce7a69bf578e9c3915fb876cad6dd9" category="paragraph">若要解除安裝 Astra Trident 、並使用 Helm 完全移除 CRD ：</block>
  <block id="fed6290ac938ca603cf5f4f680802954" category="open-title">&lt;code&gt;tridentctl&lt;/code&gt;</block>
  <block id="cc40bbe559f5f0b7306a8ae2941647b5" category="paragraph">若要在使用解除安裝 Astra Trident 之後完全移除 CRD<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block></block>
  <block id="660807cada2c8061fb92638cfe0568d0" category="list-text">為了方便升級和重新安裝、解除安裝 Astra Trident 並不會移除 Astra Trident 所建立的 CRD 或相關物件。如果您需要完全移除 Astra Trident 及其所有資料、請參閱 <block ref="9d95a644de0932ac2f909a32a488bd14" category="inline-link-macro-rx"></block>。</block>
  <block id="88251b113e3f1da4ba88b0d4283d23ed" category="paragraph">瞭解如何在 Astra Trident 安裝中建立及使用 ONTAP SAN 驅動程式。本節提供後端組態範例及將後端對應至 StorageClasses 的詳細資料。</block>
  <block id="00100eed0a9df5b2142497897b426d44" category="cell">叢集或 SVM 管理 LIF 的 IP 位址。

您可以指定完整網域名稱（FQDN）。

如果使用安裝Astra Trident、則可設定使用IPv6位址<block ref="4a4ef9f92e69acc000120379678aadcf" prefix=" " category="inline-code"></block> 旗標。IPv6 位址必須以方括弧定義、例如<block ref="33e9328e92e3ef05629093b4693b3925" prefix=" " category="inline-code"></block>。

如需無縫 MetroCluster 之間的互通性、請參閱 <block ref="41195e18a4a81a05f5c5a6be365a5602" category="inline-xref-macro-rx"></block>。</block>
  <block id="53f89913149599078aa2763e20f64db1" category="cell">傳輸協定LIF的IP位址。

*請勿指定iSCSI。* Astra Trident的用途 <block ref="2de2f329c45219df280af5a70ed7a17c" category="inline-link-macro-rx"></block> 探索建立多重路徑工作階段所需的iSCI LIF。如果發生此情況、將會產生警告<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block> 已明確定義。

* MetroCluster 請省略。 * 請參閱 <block ref="41195e18a4a81a05f5c5a6be365a5602" category="inline-xref-macro-rx"></block>。</block>
  <block id="19611c32e434019e356af9e0da999936" category="cell">要使用的儲存虛擬機器

* MetroCluster 請省略。 * 請參閱 <block ref="41195e18a4a81a05f5c5a6be365a5602" category="inline-xref-macro-rx"></block>。</block>
  <block id="16d35233bf6aa04a2ff7b9ec19d64661" category="example-title">MetroCluster 範例</block>
  <block id="fd9313829353096dad83775c55ce66f8" category="paragraph">您可以設定後端、避免在切換和切換期間手動更新後端定義 <block ref="6ffda35fd03109cc0d7cf7a1f79d2c30" category="inline-link-macro-rx"></block>。</block>
  <block id="abc765e949697f25e96670a5cab132f3" category="paragraph">若要無縫切換和切換、請使用指定 SVM<block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix=" " category="inline-code"></block> 並省略<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block> 和<block ref="924ff83ff1e671bacfb07ff12b845703" prefix=" " category="inline-code"></block> 參數。例如：</block>
  <block id="d1cc287cede970a7472833938f39b940" category="list-text">需要ONTAP 更新參數（例如使用的SVM名稱）。</block>
  <block id="bb5c9e20ecc2d96bd9d91107161bf89b" category="list-text">您可以更新<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> 使用下列命令直接透過 Kubernetes 執行物件：</block>
  <block id="ccec41e7609b17a7fe58691b5cbf68ea" category="list-text">或者、您也可以變更現有的<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> 使用下列命令的 CR ：</block>
  <block id="9c12c9edc9fbb4ee2f0331555cd8de1b" category="paragraph">瞭解如何在 Astra Trident 安裝中建立及使用 ONTAP NAS 驅動程式。本節提供後端組態範例及將後端對應至 StorageClasses 的詳細資料。</block>
  <block id="630864bd1af028bd4049fce933eeed43" category="cell">叢集或SVM管理LIF的IP位址

您可以指定完整網域名稱（FQDN）。

如果使用安裝Astra Trident、則可設定使用IPv6位址<block ref="4a4ef9f92e69acc000120379678aadcf" prefix=" " category="inline-code"></block> 旗標。IPv6 位址必須以方括弧定義、例如<block ref="33e9328e92e3ef05629093b4693b3925" prefix=" " category="inline-code"></block>。

如需無縫 MetroCluster 之間的互通性、請參閱 <block ref="41195e18a4a81a05f5c5a6be365a5602" category="inline-xref-macro-rx"></block>。</block>
  <block id="55ef3b8d4908e1b161b74799585d5b2b" category="cell">傳輸協定LIF的IP位址。

我們建議具體說明<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block>。如果未提供、Astra Trident會從SVM擷取資料lifs。您可以指定要用於NFS掛載作業的完整網域名稱（FQDN）、讓您建立循環配置資源DNS、以便在多個資料生命期之間達到負載平衡。

可在初始設定之後變更。請參閱 <block ref="b2c939cb81e81d99a25f4be74f517f2f" category="inline-xref-macro-rx"></block>。

如果使用安裝Astra Trident、則可設定使用IPv6位址<block ref="4a4ef9f92e69acc000120379678aadcf" prefix=" " category="inline-code"></block> 旗標。IPv6 位址必須以方括弧定義、例如<block ref="33e9328e92e3ef05629093b4693b3925" prefix=" " category="inline-code"></block>。

* MetroCluster 請省略。 * 請參閱 <block ref="41195e18a4a81a05f5c5a6be365a5602" category="inline-xref-macro-rx"></block>。</block>
  <block id="d24ddd1da817847ede47979e6e68c60e" category="example-title">ONTAP NAS FlexGroup 範例</block>
  <block id="8788fe54575b03d9b62dbb1a38a7a277" category="example-title">SMB Volume 範例</block>
  <block id="1ce00ab507a065e4febc57b244e25d18" category="example-title">自動匯出原則範例</block>
  <block id="5ef13a507a243e20eb0469a9d7670527" category="example-title">IPv6 位址範例</block>
  <block id="ee8af8063e9ea3725931d232730b8a8e" category="example-title">Amazon FSX for ONTAP 使用 SMB Volume 範例</block>
  <block id="4c7a5aa32bd20cc1e93c16706345fc24" category="list-text">Docker 。 IO/NetApp/Trident ： 23.07.1</block>
  <block id="8f4c6bec9339a74c71de885862e0c35a" category="list-text">Docker 。 IO/NetApp/Trident 營運商： 23.07.1 （選用）</block>
  <block id="af35b81563dca040d2036ccc5fdf5cbf" category="summary">在使用 Trident 運算子升級 Astra Trident 之前、您應該先瞭解升級期間發生的背景程序。其中包括 Trident 控制器、控制器 Pod 和節點 Pod 的變更、以及啟用循環更新的節點示範集。</block>
  <block id="99c73e527698ab76b32674b7e9dd4708" category="inline-link-macro">滾動更新 _</block>
  <block id="bec1352836ad67ce44ee000c83d4dae1" category="paragraph">其中一項 <block ref="1294f86abdf2591159d9dd04918b1092" category="inline-link-macro-rx"></block> 安裝和升級 Astra Trident 是自動處理 Astra Trident 和 Kubernetes 物件、而不會中斷現有的掛載磁碟區。如此一來、 Astra Trident 就能支援零停機的升級、或 <block ref="c0fb6b6f12bb8ae805a97690328ec023" category="inline-link-macro-rx"></block>。尤其是 Trident 運算子會與 Kubernetes 叢集通訊、以便：</block>
  <block id="cf2f4ee3dd2f4847e4871244b9ac51df" category="list-text">使用<block ref="cd01e1bae83933b9c59c914bc71332ac" prefix=" " category="inline-code"></block> 命令位置<block ref="d6a197586cce49153cfbfb94bb2e9941" prefix=" " category="inline-code"></block> 反映您要升級的版本。</block>
  <block id="c8f1fdceb105d8331cbfc9721c6bc44f" category="list-text">使用<block ref="0562418e6d9a76d0dd22b2f186a2203d" prefix=" " category="inline-code"></block> 並指定部署和映像登錄位置的名稱。您的 <block ref="57de9a35aeedde82408b1e047030d221" category="inline-link-macro-rx"></block> 可以位於一個登錄或不同的登錄中、但所有的SCSI映像都必須位於同一個登錄中。在範例中、<block ref="87b2b8072e7d5f7e6e968a7c49bdc4a2" prefix=" " category="inline-code"></block> 是您要安裝的Astra Trident版本。</block>
  <block id="d466de3460bd819fa8eb16bf42b1db7e" category="paragraph">例如、變更的預設值<block ref="ad42f6697b035b7580e4fef93be20b4d" prefix=" " category="inline-code"></block>請執行下列步驟<block ref="8b5806248570dbb13e7d3bc5e6c0ee37" prefix=" " category="inline-code"></block> 命令位置<block ref="87b2b8072e7d5f7e6e968a7c49bdc4a2" prefix=" " category="inline-code"></block> 您要安裝的Astra Trident版本：</block>
  <block id="780123b705b81f6d4b816faff5e82117" category="section-title">Astra Trident 23.07.1 的重要資訊</block>
  <block id="b2527de2557e527d4be043e1c86bc69c" category="list-text">使用<block ref="0562418e6d9a76d0dd22b2f186a2203d" prefix=" " category="inline-code"></block> 並指定部署名稱、如下例所示<block ref="87b2b8072e7d5f7e6e968a7c49bdc4a2" prefix=" " category="inline-code"></block> 是您要安裝的Astra Trident版本。</block>
  <block id="6e0b20191589c60f116864ba4a9f6450" category="paragraph">在中<block ref="02f3115b006f7541a477d52ea8c0f861" prefix=" " category="inline-code"></block>、更新<block ref="948b8261d6bd10eba9190981601c0915" prefix=" " category="inline-code"></block> 以反映映像登錄的位置。您的 <block ref="57de9a35aeedde82408b1e047030d221" category="inline-link-macro-rx"></block> 可以位於一個登錄或不同的登錄中、但所有的SCSI映像都必須位於同一個登錄中。例如：</block>
  <block id="d265ac83a999c5664002082de4a65e05" category="list-text"><block ref="40ecbfec412666aee449608e50f67b87" prefix="" category="inline-code"></block> 如果您的映像都位於單一登錄中。</block>
  <block id="183ccfb0be6f36dfc545d9bf582a1180" category="list-text"><block ref="d3a400126b30a5fb9f887818fc7e1f04" prefix="" category="inline-code"></block> 如果Trident映像與您的csi映像位於不同的登錄中。</block>
  <block id="d06187756592965157c9f1bc4fc51a9c" category="cell">"NetApp/trident 自動支援： 23.07"</block>
  <block id="06918a8f55f386d79e64a70ca217b501" category="paragraph">* Kubernetes ： * 修正刪除程式集的問題、以支援零停機升級（<block ref="6f993c83118cc4a1dd5351c8501e26c9" category="inline-link-macro-rx"></block>）。</block>
  <block id="ca6a658f1db1af30f178530c90cbe8fc" category="section-title">2007 年 23 月 23 日的變更</block>
  <block id="57154d2dcf591aaa3d4dcbfbba196075" category="inline-link-macro">支援的 ONTAP Volume 限制</block>
  <block id="7fe76f1189ac93d41118f7ba3e36e3ab" category="list-text">使用<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> 只有持續磁碟區使用量計數預期會高於 <block ref="e5997a58d747f862af8a862cd1b54e31" category="inline-link-macro-rx"></block>。</block>
  <block id="a6b18abf4de4d534121b0cca3b164d74" category="list-text">使用<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> 只有持續磁碟區使用量計數預期會高於 <block ref="e5997a58d747f862af8a862cd1b54e31" category="inline-link-macro-rx"></block> 和<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> 無法使用驅動程式。</block>
  <block id="aa33f1094363f0d5dc3ca342e19ec6e0" category="paragraph">您可以從叢集範圍的 Trident 運算子安裝升級到另一個叢集範圍的 Trident 運算子安裝。所有Astra Trident版本21.01及更新版本均使用叢集範圍的運算子。</block>
  <block id="2dd987ed7fd9d4bf9fb445cc7738223b" category="paragraph">Astra Trident 支援 <block ref="a3174ff04e144786ca73f65ec9b76f58" category="inline-link-macro-rx"></block> 可讓叢集管理員建立<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block> 在 Astra Trident 外部建立的物件和匯入快照。</block>
  <block id="44028ad7f17b2bd495c04edf7e9e6b36" category="paragraph">Astra Trident 必須已建立或匯入快照的父磁碟區。</block>
  <block id="60f1523169568857649514e4ad6e4f40" category="list-text">* 叢集管理： * 建立<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block> 參照後端快照的物件。這會啟動 Astra Trident 中的快照工作流程。</block>
  <block id="44ce6c838becb17913e38bbe2b0096fe" category="list-text">在中指定後端快照的名稱<block ref="4ab6864fc58ecd8b598ee10dfe2ac311" prefix=" " category="inline-code"></block> 做為<block ref="d42b3f1355513faa92e8e6b438dffc73" prefix=" " category="inline-code"></block>。</block>
  <block id="4f45cf3342acaba38e45ce6b09a79e04" category="list-text">指定<block ref="62c99546614b1610927a47ea682b6d63" prefix=" " category="inline-code"></block> 在中<block ref="39133e4ee9648ecb1a2dae934a22788a" prefix=" " category="inline-code"></block>。這是中外部快照機提供給 Astra Trident 的唯一資訊<block ref="b4dfa9524f461a609ad4726f69b847e9" prefix=" " category="inline-code"></block> 致電：</block>
  <block id="e0668acdd6b1e131a130998184f4f7fc" category="admonition">。<block ref="8773ea16ee304585aa1da2afd8f25434" prefix=" " category="inline-code"></block> 由於 CR 命名限制、無法永遠符合後端快照名稱。</block>
  <block id="90a9b62f2d9107ff002b3ffcff75c334" category="paragraph">下列範例建立<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block> 參照後端快照的物件<block ref="82645407d5a235bd775551b0a8455cd1" prefix=" " category="inline-code"></block>。</block>
  <block id="b385a638aafc60dc851702d7207b1460" category="list-text">* 叢集管理： * 建立<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block> 參照的 CR<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block> 物件：這會要求存取權以使用<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block> 在指定的命名空間中。</block>
  <block id="4fd027fecd2883c25a41ecd68536b1d6" category="paragraph">下列範例建立<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block> CR 命名<block ref="117b36cc8905f43e1ffd580e8b17723b" prefix=" " category="inline-code"></block> 這是參考的<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block> 已命名<block ref="ae79a6ea6405531b451963557819c96a" prefix=" " category="inline-code"></block>。</block>
  <block id="b44a9af30767857be583043a573285f8" category="list-text">* 內部處理（不需採取任何行動）： * 外部快照機可辨識新建立的<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block> 並執行<block ref="b4dfa9524f461a609ad4726f69b847e9" prefix=" " category="inline-code"></block> 致電：Astra Trident 會建立<block ref="9a303ae09fee10afe60e5fd9e00e5e45" prefix=" " category="inline-code"></block>。</block>
  <block id="92aa04a2cf75f40187ef422ef48baa9f" category="list-text">外部快照器會設定<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block> 至<block ref="bdc3aa73b1bbfc0b0212a8f6a8bb2077" prefix=" " category="inline-code"></block> 和<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block> 至<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>。</block>
  <block id="5581736d9cc57d1f1193e52f799c03b2" category="paragraph">下列範例建立一個 PVC 參照<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block> 已命名<block ref="117b36cc8905f43e1ffd580e8b17723b" prefix=" " category="inline-code"></block>。</block>
  <block id="a288b0971f8f6c63f5e6510bcebf421b" category="cell">驅動程式名稱 + "_" + dataLIF</block>
  <block id="280a6a6866847c57b1a98bbcdc929268" category="cell">"" （預設不會強制執行）</block>
  <block id="3eeb940d8060411516e1578a9fd70a15" category="cell">疑難排解時要使用的偵錯旗標。例如、 ｛ "api" ： false 、 "method" ： true}

除非您正在進行疑難排解並需要詳細的記錄傾印、否則請勿使用。</block>
  <block id="ebc576222020c2a2ae2fc769169f1d2a" category="cell">" 對 "</block>
  <block id="c41b872c22969c2098a0056121589349" category="cell">空間保留模式；「無」（精簡）或「 Volume 」（粗）</block>
  <block id="f6d62a8e69201d3806ac1ef24ec64c4d" category="cell">" 無 "</block>
  <block id="6b3e1a8dae111668b3e4e13c5949a7c0" category="cell">「 0 」如果<block ref="0a236e7685e50a59df980d0a30929d6c" prefix=" " category="inline-code"></block> 為「無」、否則為「」</block>
  <block id="7639141e9ab9cd89ef8bc0b16fd34e6a" category="cell">分層原則以使用「無」</block>
  <block id="07b6e78dbb76bc803c585f0e0579de56" category="cell">「僅限快照」適用於 ONTAP 9.5 之前的 SVM-DR 組態</block>
  <block id="472f537653935d084b34d91ce4119f17" category="paragraph">Astra Trident 會在「意見」欄位中設定資源配置標籤。請在FlexVol The過程中提出意見。Astra Trident會在資源配置時、將虛擬資源池上的所有標籤複製到儲存磁碟區。為了方便起見、儲存管理員可以針對每個虛擬資源池定義標籤、並依標籤將磁碟區分組。</block>
  <block id="a486595fa1d9f349d9f9385ef2cb39f0" category="cell">「 ONTAP - NAS 」、「 ONTAP - NAS - 經濟」、「 ONTAP - NAS - Flexgroup 」、「 ONTAP - SAN 」、「 ONTAP - SAN 經濟」</block>
  <block id="e50e8adc0d4818a8ed496eb95b3aea51" category="cell">["0.0.0/0" 、 ":/0"]`</block>
  <block id="86780ad6247dfbcd90ca1455ee592852" category="cell">" Trident "</block>
  <block id="e70237f69c6dce25fd2312b8d7f00b1e" category="cell">"100"</block>
  <block id="7e6a32bd8074b1aa2c8c0d2529140ae4" category="cell">疑難排解時要使用的偵錯旗標。例如、 ｛ "api" ： false 、 "method" ： true}

請勿使用<block ref="effa2d809c72dcb6cce15a1e0b040e63" prefix=" " category="inline-code"></block> 除非您正在疑難排解並需要詳細的記錄傾印。</block>
  <block id="89ffa293e05655bd6be9d422345be38a" category="cell">"200"</block>
  <block id="3eda001907760c018e29ddf4cb7aa3c8" category="cell">"777" 表示 NFS 磁碟區； SMB 磁碟區為空的（不適用）</block>
  <block id="7e8aabb1dc00b7d4aac6d0876f6507f4" category="cell">控制對的存取<block ref="a15da8cecb1f1192c4d913b8ba676121" prefix=" " category="inline-code"></block> 目錄</block>
  <block id="5f04fbb334c6fb8030146ad8f76a953a" category="paragraph">Astra Trident 會在「意見」欄位中設定資源配置標籤。註解是在的 FlexVol 上設定<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> 或FlexGroup 支援<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>。Astra Trident會在資源配置時、將虛擬資源池上的所有標籤複製到儲存磁碟區。為了方便起見、儲存管理員可以針對每個虛擬資源池定義標籤、並依標籤將磁碟區分組。</block>
  <block id="aea10b5a282698ad4477a7113234ae65" category="inline-link-macro">匯入 Volume 快照</block>
  <block id="4999635328ae714b8eb5f24934a24943" category="admonition">一般而言、您不需要管理<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block> 物件：這是您想要的例外情況 <block ref="0b4cdf17ac3e4123330cb8e51ec533a2" category="inline-link-macro-rx"></block> 在 Astra Trident 外部建立。</block>
  <block id="4aa76d97b44b3ff21dced31974f437dc" category="paragraph">如果您使用運算子安裝 Astra Trident 、您可以執行下列其中一項動作來解除安裝：</block>
  <block id="6418f8ccde0bb975a1ad82cf1d5250c6" category="list-text">編輯<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> CR 並設定解除安裝旗標 ** ：</block>
  <block id="30abd17d4913fab8af9d1efd63c15f9c" category="paragraph">當<block ref="fe98497efedbe156ecc4b953aea77e07" prefix=" " category="inline-code"></block> 旗標設定為<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>、Trident運算子會卸載Trident、但不會移除TridentOrchestrator本身。如果您想要再次安裝Trident、請清理TridentOrchestrator並建立新的Trident。</block>
  <block id="0b5b18e58101a5fdc2d3618c85a04814" category="list-text">刪除<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>** ：移除<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> 用來部署Astra Trident的CR、您可以指示操作員解除安裝Trident。操作員會處理的移除作業<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> 然後繼續移除Astra Trident部署和取消安裝、刪除它在安裝過程中建立的Trident Pod。</block>
  <block id="566ef0ea3e228b1c501652e83def2c9d" category="paragraph">使用<block ref="fe98497efedbe156ecc4b953aea77e07" prefix=" " category="inline-code"></block> 命令輸入<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> 若要移除與 Astra Trident 相關的所有資源、但 CRD 和相關物件除外：</block>
  <block id="3d11c687c20c6a6a9fec2b3d07f861f0" category="section-title">23.07.1 的新功能</block>
  <block id="f3f30d479f6e3b393d917a3b2f88c770" category="cell"><block ref="89801e9e98979062e84647433a8ed3e9" prefix="" category="inline-code"></block></block>
  <block id="c9db68ea6cff44f42ac5acbbfccec399" category="cell">用於安裝Astra Trident的命名空間</block>
  <block id="fbbd7b4b14060c4fdb02f92c4c08e702" category="cell">設定為<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block> 可在Windows工作節點上安裝。</block>
  <block id="16e20a5ba5cd6442f3cdd49b16e8a5f3" category="cell"><block ref="8bd1aa960638ccc5869583e34d702ce6" prefix="" category="inline-code"></block></block>
  <block id="3dd791c4864e77ae6cf11572e2d7b374" category="cell">透過IPv6安裝Astra Trident</block>
  <block id="077e99fe42ced522b462656cffffe09c" category="cell"><block ref="d5276bb17ae062102e883a18454c2f1b" prefix="" category="inline-code"></block></block>
  <block id="4448b73eac083e33b7142f0e5790fac5" category="cell">Kubernetes作業逾時</block>
  <block id="e4d71bf2abad047425f4463e27bb83b0" category="cell">30秒</block>
  <block id="42cf123e93ecc5c0297652edbc547fc0" category="cell"><block ref="2fac1659431903a30e063d49b3effb9d" prefix="" category="inline-code"></block></block>
  <block id="4a213b7c3b997ffb0794b25909381d16" category="cell">請勿將 AutoSupport 套裝組合傳送至 NetApp
自動</block>
  <block id="7f54ca385f028308d19e228ce0534a47" category="cell">用於傳送 AutoSupport 的 Proxy 位址 / 連接埠
遙測</block>
  <block id="076bc379a24183ce77834bac007ca852" category="cell">用來解除安裝Astra Trident的旗標</block>
  <block id="cad060d2f14dbf08315c20014ed31daa" category="cell"><block ref="0b19d236934f609fe765b504a36b637e" prefix="" category="inline-code"></block></block>
  <block id="acfc4a8e6d53bad27d4e2d393bfff61e" category="cell">要使用的Astra Trident記錄格式[text、json]</block>
  <block id="20cd815523e5806aec29a57282b0d49f" category="cell">"文字"</block>
  <block id="20f408a3276af1f7f1bf02ba374786ca" category="cell">要安裝的Astra Trident映像</block>
  <block id="0498ee65f9f6b76f08a28e7b6715c963" category="cell">「 NetApp/Trident ： 23.07 」</block>
  <block id="4f25f4cca5c1939f4a728d2678e719f7" category="cell">內部登錄的路徑、格式<block ref="d2ce1f53a5f0e84f4f1b5e28836eb05b" prefix=" " category="inline-code"></block></block>
  <block id="fb4feec526f3a24c097c73a5f36af4bd" category="cell">"k8s.gcr.io/sig-storage （ k8s 1.19+ ）
或「 quay.io/k8scsi 」</block>
  <block id="31aad37dce0c28e12908582a0d63736a" category="cell">主機上的kubelet目錄路徑</block>
  <block id="df8f3af91e96fe841267201ed450cd6b" category="cell">"/var/lib/kubelet"</block>
  <block id="b6e0e2c4168573f0ed61c842470342ba" category="cell"><block ref="c13a52521693f799a16fd56a35c77a04" prefix="" category="inline-code"></block></block>
  <block id="4e33345575b5a443dec89767624a1ee8" category="cell">要刪除以執行完整移除的資源清單
Astra Trident</block>
  <block id="f73bb4a0bc9913e7fc6db5f9e5f2afeb" category="cell">從內部登錄擷取映像的機密</block>
  <block id="d64d0e5bb5a552ae4986a713f41c8fc3" category="cell">用於 Pod 的其他節點選取器。	格式與相同<block ref="6ae8be3433bfc36ced79a1271e6ebf11" prefix=" " category="inline-code"></block>。</block>
  <block id="875ce721843c20d7f9aae240673ed68b" category="cell">覆寫 Pod 的 Kubernetes 公差。遵循與相同的格式<block ref="f1fa64fcf5077601cb803e995a51fa4f" prefix=" " category="inline-code"></block>。</block>
  <block id="00e8e1706119ce5300bdc9141ececc37" category="cell">用於 Pod 的其他節點選取器。格式與相同<block ref="6ae8be3433bfc36ced79a1271e6ebf11" prefix=" " category="inline-code"></block>。</block>
  <block id="7786076739da628161f45de338cd6e69" category="inline-link-macro">解除安裝 Astra Trident</block>
  <block id="bc2d347a4b0e30ef46f4d91b07267ca7" category="paragraph">如果您需要修正在升級、相依性問題或升級失敗或不完整之後發現的錯誤、您應該這樣做 <block ref="b6be8ee390417a446f993452ffee9585" category="inline-link-macro-rx"></block> 並依照該版本的特定指示重新安裝舊版。這是降級至舊版的唯一建議方法。</block>
  <block id="5d935b9f26b929d94ae4b4f04c74ee28" category="paragraph">Astra Trident 支援使用匯入 Volume<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block> 驅動程式：</block>
  <block id="0ff441b997c776ccd29f05b449a5f4fb" category="paragraph">您可以安裝 Astra Trident 、只需幾個步驟就能開始管理儲存資源。開始之前、請先檢閱 <block ref="a7c0f3baef818cf2a5323d10b9f5ac94" category="inline-link-macro-rx"></block>。</block>
  <block id="d055d4dfcb35cd1eea7b3d52e42a8924" category="paragraph">然後、您可以使用將復原的磁碟區匯入 Astra Trident <block ref="b0a81d9cb6f9ea994a428f959b11d3c6" category="inline-link-macro-rx"></block>。</block>
  <block id="4227c1b28cc9c04bf3552b7aae57fc3c" category="paragraph"><block ref="4227c1b28cc9c04bf3552b7aae57fc3c" category="inline-link-macro-rx"></block></block>
</blocks>